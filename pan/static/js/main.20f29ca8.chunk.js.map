{"version":3,"sources":["redux/explorer/action.ts","utils/page.js","redux/explorer/reducer.ts","middleware/Auth.ts","component/Dial/AutoHidden.js","component/Placeholder/TextLoading.js","utils/index.js","component/Navbar/DarkModeSwitcher.js","component/FileManager/Navigator/SubActions.js","component/Modals/Report.js","component/Modals/PurchaseShare.js","component/Dial/Save.js","component/Modals/Loading.js","component/Modals/Copy.js","component/Modals/CreateShare.js","component/Modals/Decompress.js","component/Modals/Compress.js","component/Modals/Relocate.js","component/FileManager/Modals.js","component/Viewer/Text.js","component/Viewer/Code.js","actions/explorer.js","actions/index.js","config.js","component/Common/Snackbar.js","component/Navbar/UserAvatarPopover.js","component/Navbar/PolicySwitcher.js","component/Navbar/UserAvatar.js","component/Navbar/Navbar.js","component/Navbar/SearchBar.js","component/Navbar/StorageBar.js","component/Navbar/UserInfo.js","component/Navbar/FileTags.js","utils/datetime.js","component/FileManager/ImgPreview.js","component/FileManager/TypeIcon.js","loader/utils.js","loader/index.js","component/Upload/FileList.js","component/Dial/Create.js","component/Upload/Uploader.js","serviceWorker.js","middleware/AuthRoute.js","component/Placeholder/PageLoading.js","component/Share/NotFound.js","middleware/Init.js","component/Common/ICPFooter.js","component/Placeholder/Captcha.js","hooks/normal.js","component/Login/ReCaptchaWrapper.js","component/Login/ReCaptcha.js","hooks/recaptcha.js","hooks/tcaptcha.js","hooks/useCaptcha.js","component/Login/LoginForm.js","redux/explorer/index.ts","component/FileManager/Navigator/PathButton.js","component/FileManager/Navigator/DropDownItem.js","component/FileManager/Navigator/DropDown.js","component/FileManager/Navigator/Navigator.js","component/FileManager/SmallIcon.js","component/FileManager/FileIcon.js","component/FileManager/Folder.js","component/FileManager/DnD/Preview.js","component/FileManager/DnD/DragLayer.js","component/FileManager/TableRow.js","component/FileManager/DnD/DropWarpper.js","component/FileManager/ObjectIcon.js","component/FileManager/ContextMenu.js","component/FileManager/Explorer.js","component/Placeholder/ListLoading.js","component/FileManager/Sidebar/SideDrawer.js","component/FileManager/FileManager.js","component/Viewer/Video.js","component/Share/SearchResult.js","component/Share/MyShare.js","component/Modals/SelectFile.js","component/Download/DownloadingCard.js","component/Download/FinishedCard.js","component/Dial/Aria2.js","component/Download/Download.js","component/Share/LockedFile.js","component/Share/Creator.js","component/Share/SharedFile.js","component/Share/SharedFolder.js","component/Share/SharePreload.js","component/Viewer/Doc.js","component/VAS/Quota.js","component/VAS/PackSelect.js","component/VAS/BuyQuota.js","component/Modals/CreateWebDAVAccount.js","component/Modals/CreateWebDAVMount.js","component/Setting/WebDAV.js","component/Setting/Tasks.js","component/Setting/Ifm.js","component/Setting/Profile.js","component/Setting/Authn.js","component/Modals/TimeZone.js","component/Setting/UserSetting.js","component/Login/QQ.js","component/Login/Register.js","component/Login/Apps.js","component/Login/Activication.js","component/Login/ResetForm.js","component/Login/Reset.js","component/Modals/SiteNotice.js","component/FileManager/MusicPlayer.js","App.js","redux/viewUpdate/reducer.ts","reducers/index.js","component/Placeholder/ErrorBoundary.js","index.js","redux/combineReducers.ts","component/FileManager/PathSelector.js","redux/viewUpdate/action.ts","middleware/Api.js"],"names":["setFileList","list","type","setDirList","setSortMethod","method","setSideBar","open","sortMethodFuncs","sizePos","a","b","size","sizeRes","namePos","name","localeCompare","navigator","languages","language","numeric","ignorePunctuation","nameRev","timePos","Date","parse","date","timeRev","updateFileList","dispatch","getState","sortMethod","viewUpdate","dirList","filter","x","fileList","sortFunc","sort","changeSortMethod","explorer","toggleObjectInfoSidebar","closeContextMenu","statusHelper","isHomePage","path","isSharePage","startsWith","isAdminPage","isLoginPage","isMobile","window","innerWidth","initState","dndSignal","dndTarget","dndSource","selected","selectProps","isMultiple","withFolder","withFile","lastSelect","file","id","index","shiftSelectedIds","imgPreview","first","other","audioPreview","playingName","paused","isOpen","keywords","fileSave","sideBarOpen","checkSelectedProps","length","forEach","value","state","action","Object","assign","target","source","addedSelected","targets","newSelected","fileIds","filteredSelected","includes","Auth","isAuthenticated","authenticate","cb","SetUser","GetUser","JSON","localStorage","getItem","newUser","setItem","stringify","Check","anonymous","signout","oldUser","SetPreference","key","preference","GetPreference","AutoHidden","children","enable","useState","hidden","setHidden","prev","scrollY","lastUpdate","useEffect","addEventListener","e","currentTarget","handleNavigation","in","useStyles","makeStyles","theme","loader","width","padding","breakpoints","down","MyLoader","props","backgroundColor","dark","foregroundColor","className","TextLoading","useTheme","classes","palette","sizeToString","bytes","i","Math","floor","log","pow","toFixed","setCookie","days","setTime","getTime","document","cookie","setGetParameter","paramName","paramValue","url","location","href","indexOf","prefix","substring","suffix","history","pushState","allowSharePreview","shareInfo","allowPreview","userInfo","uid","checkGetParameters","field","changeThemeColor","color","querySelector","setAttribute","bufferDecode","Uint8Array","from","atob","c","charCodeAt","bufferEncode","btoa","String","fromCharCode","apply","replace","pathBack","folders","substr","split","this","slice","join","filePath","hex2bin","hex","parseInt","toString","padStart","pathJoin","parts","sep","separator","map","part","RegExp","basename","pathList","pop","filename","randomStr","result","characters","charactersLength","charAt","random","getNumber","base","conditions","v","isMac","platform","toUpperCase","vhCheck","vh","innerHeight","documentElement","style","setProperty","icon","opacity","DarkModeSwitcher","position","ThemeType","useSelector","siteConfig","useDispatch","ToggleThemeMode","useCallback","toggleDaylightMode","isDayLight","isDark","title","placement","classNames","onClick","sideButton","marginRight","sortOptions","SubActions","isSmall","share","inherit","viewMethod","explorerViewMethod","OpenLoadingDialog","changeViewMethod","ChangeSortMethod","OpenResaveDialog","openResaveDialog","SetShareUserPopover","setShareUserPopover","anchorSort","setAnchorSort","selectedIndex","setSelectedIndex","openReport","setOpenReport","toggleViewMethod","newMethod","toggleSnackbars","vertical","horizontal","msg","toggleSnackbar","opensendgift","fontSize","anchorEl","Boolean","onClose","option","event","0","1","2","3","4","5","handleMenuItemClick","creator","nick","height","src","widthAnimation","shareUrl","minWidth","wrapper","margin","spacing","buttonProgress","secondary","light","top","left","flexCenter","alignItems","noFlex","display","scoreCalc","marginTop","Report","reason","setReason","des","setDes","loading","setLoading","ToggleSnackbar","setTimeout","aria-labelledby","maxWidth","fullWidth","component","aria-label","onChange","reportReasons","k","control","label","multiline","variant","rows","API","post","then","catch","error","message","disabled","PurchaseShareDialog","callback","score","autoFocus","fab","right","bottom","zIndex","badge","fabProgress","green","buttonSuccess","SaveButton","buttonClassname","clsx","status","avatar","blue","loadingContainer","marginLeft","LoadingDialog","modals","text","loadingText","Dialog","DialogContent","DialogContentText","CircularProgress","contentFix","CopyDialog","selectedPath","setSelectedPath","selectedPathName","setSelectedPathName","SetModalsLoading","setModalsLoading","RefreshFileList","refreshFileList","DialogTitle","PathSelector","presentPath","onSelect","folder","DialogActions","Button","preventDefault","dirs","items","push","src_dir","dst","modalsLoading","ExpansionPanel","withStyles","root","border","boxShadow","borderBottom","expanded","MuiExpansionPanel","ExpansionPanelSummary","content","MuiExpansionPanelSummary","ExpansionPanelDetails","background","default","MuiExpansionPanelDetails","CreatShare","scoreEnabled","score_enabled","scoreRate","share_score_rate","React","setExpanded","shareURL","setShareURL","password","downloads","expires","showPassword","values","setValues","expire","preview","shareOption","setShareOption","handleChange","prop","handleExpand","panel","isExpanded","handleCheck","Divider","List","aria-controls","ListItem","button","ListItemIcon","ListItemText","primary","ListItemSecondaryAction","Checkbox","checked","FormControl","InputLabel","htmlFor","OutlinedInput","endAdornment","InputAdornment","Tooltip","IconButton","edge","onMouseDown","on","onIcon","Visibility","offIcon","VisibilityOff","labelWidth","Select","labelId","MenuItem","Typography","inputProps","min","ceil","TextField","onFocus","select","readonly","submitFormBody","is_dir","response","data","DecompressDialog","CompressDialog","fileName","setFileName","input","RelocateDialog","selectedPolicy","setSelectedPolicy","policies","setPolicies","get","options","current","dst_policy_id","ModalsCompoment","newFolderName","newFileName","newName","secretShare","sharePwd","downloadURL","remoteDownloadPathSelect","purchaseCallback","handleInputChange","setState","newNameSuffix","downloaded","UNSAFE_componentWillReceiveProps","nextProps","dndSignale","modalsStatus","rename","getSource","pathHelper","pathname","scoreHandler","archiveDownload","Download","dragMove","group","shareFree","reqURL","downloadPath","encodeURIComponent","put","postBody","rawData","code","refreshStorage","submitRemove","delete","submitResave","shareKey","submitMove","patch","DragSelectedPath","closeAllModals","doMove","openLoadingDialog","submitRename","findIndex","new_name","submitCreateNewFolder","submitCreateNewFile","submitTorrentDownload","submitDownload","setMoveTarget","remoteDownloadNext","PurchaseShare","onSubmit","createNewFolder","createNewFile","copy","move","resave","remove","music","controls","baseURL","remoteDownload","placeholder","torrentDownload","decompress","compress","relocate","Component","Modals","connect","withRouter","layout","up","player","borderRadius","overflowX","TextViewer","setContent","setStatus","math","useRouteMatch","$vm","createRef","useLocation","query","URLSearchParams","search","useParams","SetSubTitle","changeSubTitle","params","requestURL","responseType","textdata","Buffer","toBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","save","addImg","$file","$img2Url","console","elevation","ref","onSave","toolbar","h1","h2","h3","h4","img","link","expand","undo","redo","subfield","MonacoEditor","lazy","editor","formControl","toobar","textAlign","CodeViewer","setSuffix","extension","codePreviewSuffix","Array","Set","keys","fallback","readOnly","extraEditorClassName","removeSelectedTargets","addSelectedTargets","setSelectedTarget","openPreview","router","isShare","changeContextMenu","user","shareDownload","previewPath","isPreviewable","showImgPreivew","showAudioPreview","selectFile","fileIndex","ctrlKey","metaKey","shiftKey","isMacbook","begin","end","max","newShiftSelected","setLastSelect","setShiftSelectedIds","setNavigator","navigatorLoading","navigateTo","navigateUp","pathSplit","newPath","drawerToggleAction","dragAndDrop","menuType","setNavigatorLoadingStatus","setNavigatorError","openCreateFolderDialog","openCreateFileDialog","setUserPopover","anchor","openRenameDialog","openMoveDialog","openRemoveDialog","openShareDialog","applyThemes","setSessionStatus","openMusicDialog","openRemoteDownloadDialog","openTorrentDownloadDialog","openDecompressDialog","openCompressDialog","openRelocateDialog","openGetSourceDialog","openCopyDialog","enableLoadUploader","searchMyFile","audioPreviewSetIsOpen","audioPreviewSetPlaying","saveFile","setSiteConfig","config","imgPreviewSuffix","msDocPreviewSuffix","audioPreviewSuffix","videoPreviewSuffix","pdfPreviewSuffix","editSuffix","json","php","py","bat","cpp","h","cs","css","dockerfile","go","html","ini","java","js","jsx","less","lua","sh","sql","xml","yaml","mediaType","audio","video","image","pdf","word","ppt","excel","torrent","zip","excute","android","python","policyTypeMap","local","remote","qiniu","upyun","oss","cos","onedrive","s3","toLowerCase","isTorrent","isCompressFile","taskStatus","taskType","taskProgress","getTaskStatus","getTaskType","getTaskProgress","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","main","iconVariant","Icon","aria-describedby","close","SnackbarCompoment","snackbar","toggle","handleClose","anchorOrigin","autoHideDuration","AlertBar","UserAvatarPopoverCompoment","openURL","sigOut","reload","Popover","transformOrigin","visitorMenu","header","largeAvatarContainer","Avatar","largeAvatar","noWrap","nickname","user_name","Chip","UserAvatarPopover","userPopoverAnchorEl","uploadFromFile","policySelected","PolicySwitcher","setAnchorEl","undefined","switchTo","ListItemAvatar","UserAvatarCompoment","showUserInfo","returnHome","loginCheck","isLogin","mobileHidden","Grow","Home","UserAvatar","NavbarCompoment","componentDidMount","handleDrawerToggle","mobileOpen","loadUploader","openDownload","signOut","finally","UploaderRef","unlisten","listen","getCookie","arrcookie","arr","unescape","drawer","upDrawer","minStickDrawer","iconFix","webdav","_MEIQIA","iOS","process","browser","test","userAgent","appBar","menuButton","handleDesktopToggle","desktopOpen","menuButtonDesktop","menuIcon","subTitle","grow","sectionForFile","allowArchiveDownload","audioPreviewPlayingName","audioPreviewOpen","smUp","implementation","container","paper","drawerPaper","onOpen","disableDiscovery","ModalProps","keepMounted","xsDown","drawerPaperDesktop","drawerOpen","drawerClose","Navbar","audioPreviewIsOpen","withTheme","flexShrink","drawerDesktop","mixins","transition","transitions","create","easing","sharp","duration","enteringScreen","leavingScreen","flexGrow","nested","paddingLeft","extendedIcon","addButton","marginBottom","fabButton","badgeFix","dividerFix","folderShareIcon","verticalAlign","shareInfoContainer","textDecoration","shareAvatar","stickFooter","ownerInfo","overflowY","minHeight","configure","ignoreTags","keyMap","SEARCH","SearchBarCompoment","handlers","searchShare","blur","cancelSuggest","searchIcon","inputRoot","inputInput","onBlur","suggestBox","TransitionProps","timeout","square","SearchBar","shape","fade","common","white","pointerEvents","justifyContent","paddingTop","paddingRight","paddingBottom","StorageBarCompoment","percent","used","total","showExpand","firstLoad","updateStatus","refresh","onMouseEnter","onMouseLeave","storageContainer","detail","bar","StorageBar","storageRefresh","textFix","overflow","textOverflow","UserInfoCompoment","userNav","flexAvatar","avatarImg","storageCircle","nickName","groupName","UserInfo","backgroundImage","backgroundSize","transform","hiddenButton","subMenu","overFlow","whiteSpace","icons","Circle","CircleOutline","Heart","HeartOutline","Hexagon","HexagonOutline","Hexagram","HexagramOutline","Rhombus","RhombusOutline","Square","SquareOutline","Triangle","TriangleOutline","FolderHeartOutline","AddTag","FileTag","useHistory","tagOpen","setTagOpen","addTagModal","setAddTagModal","tagHover","setTagHover","tags","setTags","SearchMyFile","NavigateTo","onSuccess","tag","newTags","iconVideo","iconImg","iconAudio","iconDoc","expression","IconComponent","getIcon","dayjs","extend","utc","timezone","preferTimeZone","timeZone","refreshTimeZone","formatLocalTime","time","format","tz","validateTimeZone","ImagPreviewComponent","photoIndex","firstOne","newImg","intro","fileType","images","visible","onIndexChange","n","ImgPreivew","AudioIcon","VideoIcon","ImageIcon","PdfIcon","FileWordBox","FilePowerpointBox","FileExcelBox","ScriptText","MagnetOn","ZipBox","WindowRestore","Android","FileShowIcon","LanguagePhp","LanguageGo","LanguagePython","LanguageC","LanguageCpp","LanguageJavascript","TypeIcon","fileSuffix","lighten","getColor","getColorValue","isUpload","iconClassName","isFunction","val","noop","newScript","scriptElem","createElement","prototype","hasOwnProperty","call","body","appendChild","keyIterator","cols","next","parallel","tasks","each","hasError","successed","ret","task","err","args","series","thunk","nextKey","nextThunk","isArray","iterator","loadedScript","pendingScripts","failedScript","addCache","entry","removeFailedScript","script","node","parentNode","removeChild","uploaderLoader","WrappedComponent","ScriptLoader","context","isScriptLoaded","isScriptLoadSucceed","_isMounted","scripts","onComplete","loadNewScript","taskComplete","callbacks","startLoadingScripts","policyType","onScriptLoaded","refs","wrappedInstance","defaultProps","hoistStatics","FileList","files","openFileList","cancelUpload","deQueue","reQueue","addNewFile","getElementsByClassName","click","getProgressBackground","darken","filesNow","fileID","f","splice","errMsg","ignoreMsg","Slide","direction","inRef","bind","enQueue","setComplete","setError","fullScreen","isWidthDown","TransitionComponent","Transition","AppBar","Toolbar","flex","dialogContent","minHight","item","progressContainer","progress","progressContent","listAction","plupload","formatSize","speed","loaded","errorStatus","successStatus","progressBar","wordBreak","withWidth","UploadButton","setOpen","queued","setQueued","OpenNewFolderDialog","OpenNewFileDialog","Queued","openUpload","uploadButton","contains","uploadClicked","Badge","badgeContent","invisible","Backdrop","SpeedDial","ariaLabel","tooltipTitle","SpeedDialIcon","openIcon","FabProps","SpeedDialAction","tooltipOpen","UploaderComponent","uploader","addFile","fileAdd","currntPath","enqueFiles","isDsStore","removeFile","relativePath","pathCache","Qiniu","runtimes","browse_button","drop_element","max_file_size","policy","maxSize","dragdrop","chunk_size","getChunkSize","saveType","filters","mime_types","allowedType","extensions","multi_selection","uptoken_url","uptoken","domain","max_retries","get_new_uptoken","auto_start","log_level","init","FilesAdded","BeforeUpload","QueueChanged","UploadProgress","UploadComplete","Fresh","FileUploaded","Error","errTip","FilesRemoved","onError","setRef","Uploader","forwardRef","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","isLocalhost","hostname","match","AuthRoute","rest","render","to","PageLoading","emptyContainer","emptyInfoBig","ads","maxHeight","Notice","rel","initUserConfig","themes","enableUploaderLoad","uploadConfig","store","defaultTheme","preferListMethod","share_view_method","home_view_method","icp","ICPFooter","siteICPId","show","setShow","pageHelper","Link","primaryColor","secondaryColor","y","rx","ry","captchaPlacholder","NormalCaptcha","captchaRef","useStyle","captcha","setCaptcha","captchaData","setCaptchaData","refreshCaptcha","captchaCode","captchaContainer","required","Input","autoComplete","captchaPlaceholder","alt","ReCAPTCHA","handleExpired","handleErrored","handleRecaptchaRef","grecaptcha","_widgetId","getResponse","execute","_executeRequested","reset","onExpired","onErrored","token","sitekey","tabindex","stoken","hl","explicitRender","delayOfCaptchaIframeRemoving","temporaryNode","firstChild","elem","childProps","displayName","makeAsyncScriptLoader","callbackName","globalName","Recaptcha","reCaptchaKey","captcha_ReCaptchaKey","ReCaptcha","TCaptcha","isValidateRef","submitRef","appid","tcaptcha_captcha_app_id","onLoad","TencentCaptcha","res","ticket","randstr","isValidate","submit","defaultValidate","useCaptcha","captchaType","captcha_type","captchaLoading","setCaptchaLoading","captchaRefreshRef","useRef","normal","captchaParamsRef","CaptchaRender","validate","useNormalCaptcha","recaptcha","useRecaptcha","tcaptcha","useTCaptcha","flexDirection","form","buttonContainer","authnLink","LoginForm","email","setEmail","pwd","setPwd","useAuthn","setUseAuthn","twoFA","setTwoFA","faCode","setFACode","loginCaptcha","QQLogin","authn","ApplyThemes","SetSessionStatus","GetQueryString","reg","r","afterLogin","backurl","decodeURIComponent","removeItem","_QQLogin","Paper","login","userName","Password","credentials","credentialRequestOptions","publicKey","challenge","allowCredentials","listItem","assertion","authData","authenticatorData","clientDataJSON","rawId","sig","signature","userHandle","Fingerprint","VpnKey","actions","reducers","expandMore","active","textTransform","PathButton","inputRef","useDrop","accept","drop","more","collect","monitor","isOver","canDrop","isActive","last","DropDownItem","setActiveStatus","DropDown","timer","clearTimeout","shouldClose","element","NavigatorComponent","currentID","hiddenFolders","hiddenMode","anchorHidden","renderPath","onpopstate","navigateToPath","apiURL","parent","objects","pathTemp","checkOverFlow","redresh","componentDidUpdate","prevProps","prevStates","ms","drawerDesktopOpen","force","overflowInitLock","hasOverflowingChildren","offsetHeight","scrollHeight","offsetWidth","scrollWidth","showHiddenPath","performAction","newTarget","presentFolderMenu","Menu","disableAutoFocusItem","Archive","roundBorder","navigatorContainer","nav","rightIcon","optionContainer","Navigator","SmallIconCompoment","isSelected","ButtonBase","focusRipple","notSelected","onIconClick","iconSelected","iconNotSelected","isFolder","checkIcon","folderName","folderNameSelected","folderNameNotSelected","SmallIcon","divider","boxSizing","fontWeight","FileIconCompoment","showPicIcon","pic","hide","picPreview","afterLoad","beforeLoad","loadingAnimation","previewIcon","iconBig","fileInfo","shareFix","FileIcon","objectFit","Folder","dragging","cardDragged","diliverIcon","object","Preview","card","layerStyles","getItemStyles","initialOffset","currentOffset","pointerOffset","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","getInitialClientOffset","isDragging","renderItem","TableRowCompoment","tableIcon","TableRow","pref","onContextMenu","contextMenu","handleClick","onDoubleClick","handleDoubleClick","selectedShared","TableCell","dref","scope","tableRow","hideAuto","TableItem","userSelect","FolderDropWarpper","isListView","fixFlex","ObjectIcon","navigatorPath","ContextMenu","SetSelectedTarget","NavitateTo","DragAndDrop","OpenPreview","selectFileAction","enterFolder","handleIconClick","stopPropagation","useDrag","dropResult","getDropResult","canDrag","drag","getEmptyImage","captureDraggingState","StyledListItemIcon","ContextMenuCompoment","X","Y","setPoint","clientY","clientX","openArchiveDownload","clickUpload","renderMenuItems","visibleCount","condition","dense","allowRemoteDownload","menuOpen","anchorReference","anchorPosition","Unarchive","InfoOutlined","propover","contextType","contextOpen","ExplorerCompoment","ClickAway","dataset","clickaway","DELETE_FILE","SELECT_ALL","away","showView","listView","Table","table","TableHead","TableSortLabel","changeSort","visuallyHidden","TableBody","normalView","flexFix","data-clickAway","typeHeader","Grid","xs","md","sm","lg","view","rootTable","rootShare","navigatorError","errorBox","errorMsg","navigatorErrorMsg","emptyIcon","emptyInfoSmall","Explorer","hint","upButton","clickAway","clip","ListLoading","drawerContainer","placeContent","fileIcon","fileIconSVG","folderIcon","closeIcon","placeSelf","propsContainer","propsLabel","propsTime","propsValue","SideDrawer","SetSideBar","setTarget","details","setDetails","propsItem","d","t","toLocaleString","child_folder_num","child_file_num","updated_at","created_at","datetime","query_date","locale","Hidden","Clear","Drawer","gutterBottom","FileManager","DndProvider","backend","HTML5Backend","DragLayer","VideoViewer","getBaseURL","Google","client","slot","cardContainer","shareTitle","avatarFile","avatarFolder","gird","loadMore","orderSelect","SearchResult","page","setPage","setTotal","shareList","setShareList","orderBy","setOrderBy","order","Card","CardHeader","subheader","create_date","Pagination","count","MyShareCompoment","showPwd","loadList","removeShare","oldList","changePermission","newPwd","shareIndex","changePreviewOption","handlePageChange","handleOrderChange","isExpired","remain_downloads","CardActions","disableActionSpacing","MyShare","SelectFileDialog","setFiles","dividers","FormGroup","row","FormControlLabel","filesCopy","iconContainer","borderInlineStart","contentSide","iconMultiple","subFileName","subFileIcon","scroll","actionButton","infoTitle","infoValue","bitmap","DownloadingCard","canvasRef","setTask","selectDialogOpen","setSelectDialogOpen","selectFileOption","setSelectFileOption","bitfield","str","canvas","getContext","clearRect","strokeStyle","bit","round","numPieces","beginPath","moveTo","lineTo","stroke","getPercent","completed","activeFiles","getDownloadName","bittorrent","mode","gid","indexes","newExpanded","CardContent","LinearProgress","completedLength","newIndex","newFiles","deleteFile","HighlightOff","update","uploadLength","uploadSpeed","infoHash","numSeeders","seeder","pieceLength","FinishedCard","task_status","getTaskError","task_error","RemoteDownloadButton","OpenRemoteDownloadDialog","Fab","Add","DownloadComponent","interval","downloading","finishedList","continue","loadDownloading","LockedFileCompoment","setPassowrd","LockedFile","marginRottom","boxHeader","cursor","shareDes","Creator","userProfile","views","ImgPreview","SharedFileCompoment","scoreHandle","download","rewards","box","boxContent","fileSize","boxFooter","actionLeft","openResave","downloadButton","SharedFile","fileCotainer","buttonCotainer","ReadMe","SharedFolderComponent","handleClickAway","readmeShowed","ClickAwayListener","onClickAway","managerContainer","SharedFolder","shareUserPopoverAnchorEl","SharePreload","setShare","setPassword","locked","withPassword","DocViewer","setURL","QuotaCompoment","basic","pack","r1","r2","r3","packs","usedR","baseR","packR","proBar","r1_block","note_block","r2_block","r3_block","align","activate_date","expiration","expiration_date","Quota","lineHeight","float","PackSelect","boxHead","packName","price","priceWithScore","boxBottom","BuyQuotaCompoment","IntervalId","confirmRedeem","redeemCode","dialog","doRedeem","redeemInfo","buyPack","packType","selectedPack","packPayMethod","groups","selectedGroup","num","scoreNum","times","payment","qr_code","setInterval","querryLoop","clearInterval","handleChangeIndex","handleTexyChange","selectPack","selectGroup","selectPackPayMethod","scorePrice","alipay","payjs","wechat","score_price","methodSelect","FormLabel","RadioGroup","Radio","textField","step","Tabs","Tab","AccountBalanceWallet","payMethod","priceShow","tier","highlight","titleTypographyProps","subheaderTypographyProps","cardHeader","cardPricing","line","cardActions","redeemContainer","codeContainer","BuyQuota","grey","formGroup","formIcon","CreateWebDAVAccount","setValue","pathSelectDialog","setPathSelectDialog","formContainer","LabelOutlined","FolderOpenOutlined","CreateWebDAVMount","Storage","cardContent","tableContainer","WebDAV","tab","setTab","setCreate","mount","setMount","accounts","setAccounts","setFolders","account","ID","CreatedAt","Name","Root","mountInfo","indicatorColor","textColor","newValue","Alert","severity","origin","TableContainer","clipboard","writeText","accountCopy","deleteAccount","policy_name","folderCopy","deleteMount","footer","Tasks","setTasks","nowrap","getError","Ifm","iFrameHeight","iframe","clientHeight","frameBorder","scrolling","ProfileCompoment","listType","loadNext","loadPrev","avatarContainer","centered","infoContainer","infoItem","mobileHide","th","tableLink","Profile","backgroundPosition","borderRaidus","pageInfo","sectionTitle","desenList","flexContainer","Authn","setSelected","confirm","setConfirm","deleteCredential","fingerprint","credentialCreationOptions","excludeCredentials","credential","attestationObject","add","TimeZoneDialog","timeZoneValue","setTimeZoneValue","UserSettingCompoment","avatarModal","nickModal","changePassword","oldPwd","webdavPwd","newPwdRepeat","twoFactor","authCode","changeTheme","chosenTheme","showWebDavUrl","showWebDavUserName","changeWebDavPwd","groupBackModal","changePolicy","changeTimeZone","settings","group_expires","qq","homepage","two_factor","two_fa_secret","prefer_theme","changeView","loadSetting","doChangeGroup","useGravatar","changeNick","bindQQ","uploadAvatar","formData","FormData","append","fileInput","headers","handleToggle","changhePwd","old","new","changheWebdavPwd","axios","init2FA","handleAlignment","toggleThemeMode","infoTextWithIcon","rightIconWithText","infoText","ConfirmationNumber","Switch","firstColor","secondColor","Brightness3","ListAlt","Schedule","userGravatar","paddingText","flexContainerResponse","qrcode","desText","ToggleButtonGroup","exclusive","ToggleButton","themeBlock","UserSetting","yellow","QQCallback","setMsg","avatarSuccess","Register","password_repeat","setInput","emailActive","setEmailActive","regCaptcha","Apps","exp","Days","toGMTString","JumpUrl","Activation","setSuccess","ResetForm","secret","Reset","forgetCaptcha","overflowWrap","SiteNotice","site_notice","newNotice","dangerouslySetInnerHTML","__html","MusicPlayerComponent","currentIndex","currentTime","progressText","looptype","myAudioRef","newItem","handleItemClick","pause","backgroundPlay","bindEvents","ele","readyPlay","loopnext","timeUpdate","unbindEvents","removeEventListener","play","formatTime","s","isNaN","minute","second","playOrPaues","isPlay","changeLoopType","lt","handleProgress","idx","Slider","slider_root","justify","Repeat","RepeatOne","Shuffle","MusicPlayer","PDFViewer","App","themeConfig","prefersDarkMode","useMediaQuery","useMemo","prefer","createMuiTheme","Fragment","ThemeProvider","CssBaseline","exact","Text","Code","doNavigate","defaultStatus","rawStore","configCache","InitSiteConfig","black","contrastText","bgSelected","ErrorBoundary","errorInfo","componentStack","Admin","hash","URL","fetch","contentType","ready","unregister","checkValidServiceWorker","createBrowserHistory","reduxEnhance","applyMiddleware","routerMiddleware","createStore","viewUpdateState","explorerState","appState","cloudreveApp","combinedState","combinedReducer","combine","namespace","reducer","invariant","combineReducers","connectRouter","UpdateSiteConfig","ReactDOM","getElementById","PathSelectorCompoment","selectedTarget","toBeLoad","back","paths","api","unshift","handleSelect","selector","primaryTypographyProps","buttonIcon","iconWhite","setSubtitle","instance","withCredentials","crossDomain","AppError","stack","constructor","interceptors","use"],"mappings":"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","file":"static/js/main.20f29ca8.chunk.js","sourcesContent":["import { AnyAction } from \"redux\";\nimport { ThunkAction } from \"redux-thunk\";\nimport { CloudreveFile, SortMethod } from \"./../../types/index\";\nimport { closeContextMenu } from \"../viewUpdate/action\";\n\nexport interface ActionSetFileList extends AnyAction {\n    type: \"SET_FILE_LIST\";\n    list: CloudreveFile[];\n}\nexport const setFileList = (list: CloudreveFile[]): ActionSetFileList => {\n    return {\n        type: \"SET_FILE_LIST\",\n        list,\n    };\n};\n\nexport interface ActionSetDirList extends AnyAction {\n    type: \"SET_DIR_LIST\";\n    list: CloudreveFile[];\n}\nexport const setDirList = (list: CloudreveFile[]): ActionSetDirList => {\n    return {\n        type: \"SET_DIR_LIST\",\n        list,\n    };\n};\n\nexport interface ActionSetSortMethod extends AnyAction {\n    type: \"SET_SORT_METHOD\";\n    method: SortMethod;\n}\nexport const setSortMethod = (method: SortMethod): ActionSetSortMethod => {\n    return {\n        type: \"SET_SORT_METHOD\",\n        method,\n    };\n};\n\nexport const setSideBar = (open: boolean) => {\n    return {\n        type: \"SET_SIDE_BAR\",\n        open,\n    };\n};\n\ntype SortFunc = (a: CloudreveFile, b: CloudreveFile) => number;\nconst sortMethodFuncs: Record<SortMethod, SortFunc> = {\n    sizePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return a.size - b.size;\n    },\n    sizeRes: (a: CloudreveFile, b: CloudreveFile) => {\n        return b.size - a.size;\n    },\n    namePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return a.name.localeCompare(\n            b.name,\n            navigator.languages[0] || navigator.language,\n            { numeric: true, ignorePunctuation: true }\n        );\n    },\n    nameRev: (a: CloudreveFile, b: CloudreveFile) => {\n        return b.name.localeCompare(\n            a.name,\n            navigator.languages[0] || navigator.language,\n            { numeric: true, ignorePunctuation: true }\n        );\n    },\n    timePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return Date.parse(a.date) - Date.parse(b.date);\n    },\n    timeRev: (a: CloudreveFile, b: CloudreveFile) => {\n        return Date.parse(b.date) - Date.parse(a.date);\n    },\n};\n\nexport const updateFileList = (\n    list: CloudreveFile[]\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        // TODO: define state type\n        const { sortMethod } = state.viewUpdate;\n        const dirList = list.filter((x) => {\n            return x.type === \"dir\";\n        });\n        const fileList = list.filter((x) => {\n            return x.type === \"file\";\n        });\n        const sortFunc = sortMethodFuncs[sortMethod as SortMethod];\n        dispatch(setDirList(dirList.sort(sortFunc)));\n        dispatch(setFileList(fileList.sort(sortFunc)));\n    };\n};\n\nexport const changeSortMethod = (\n    method: SortMethod\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        const { fileList, dirList } = state.explorer;\n        const sortFunc = sortMethodFuncs[method];\n        dispatch(setSortMethod(method));\n        dispatch(setDirList(dirList.sort(sortFunc)));\n        dispatch(setFileList(fileList.sort(sortFunc)));\n    };\n};\n\nexport const toggleObjectInfoSidebar = (\n    open: boolean\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        if (open) {\n            dispatch(closeContextMenu());\n        }\n        dispatch(setSideBar(true));\n    };\n};\n","const statusHelper = {\n    isHomePage(path) {\n        return path === \"/home\";\n    },\n    isSharePage(path) {\n        return path && path.startsWith(\"/s/\");\n    },\n    isAdminPage(path) {\n        return path && path.startsWith(\"/admin\");\n    },\n    isLoginPage(path) {\n        return path && path.startsWith(\"/login\");\n    },\n    isMobile() {\n        return window.innerWidth < 600;\n    },\n};\nexport default statusHelper;\n","/* eslint-disable no-case-declarations */\nimport { AnyAction } from \"redux\";\nimport { CloudreveFile } from \"../../types\";\n\ninterface SelectProps {\n    isMultiple: boolean;\n    withFolder: boolean;\n    withFile: boolean;\n}\n\nexport interface ExplorerState {\n    dndSignal: boolean;\n    dndTarget: any;\n    dndSource: any;\n    fileList: CloudreveFile[];\n    dirList: CloudreveFile[];\n    selected: CloudreveFile[];\n    selectProps: SelectProps;\n    lastSelect: {\n        file: CloudreveFile;\n        index: number;\n    };\n    shiftSelectedIds: string[];\n    imgPreview: {\n        first: CloudreveFile;\n        other: [];\n    };\n    audioPreview: {\n        first: CloudreveFile;\n        other: [];\n        playingName: any;\n        paused: boolean;\n        isOpen: boolean;\n    };\n    keywords: string;\n    fileSave: boolean;\n    sideBarOpen: boolean;\n}\n\nexport const initState: ExplorerState = {\n    dndSignal: false,\n    dndTarget: null,\n    dndSource: null,\n    fileList: [],\n    dirList: [],\n    selected: [],\n    selectProps: {\n        isMultiple: false,\n        withFolder: false,\n        withFile: false,\n    },\n    lastSelect: {\n        file: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        index: -1,\n    },\n    shiftSelectedIds: [],\n    imgPreview: {\n        first: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        other: [],\n    },\n    audioPreview: {\n        first: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        other: [],\n        playingName: null,\n        paused: false,\n        isOpen: false,\n    },\n    keywords: \"\",\n    fileSave: false,\n    sideBarOpen: false,\n};\n\nconst checkSelectedProps = (selected: CloudreveFile[]): SelectProps => {\n    const isMultiple = selected.length > 1;\n    let withFolder = false;\n    let withFile = false;\n    selected.forEach((value) => {\n        if (value.type === \"dir\") {\n            withFolder = true;\n        } else if (value.type === \"file\") {\n            withFile = true;\n        }\n    });\n    return {\n        isMultiple,\n        withFolder,\n        withFile,\n    };\n};\n\nconst explorer = (\n    state: ExplorerState = initState,\n    action: AnyAction\n): ExplorerState => {\n    switch (action.type) {\n        case \"DRAG_AND_DROP\":\n            return Object.assign({}, state, {\n                dndSignal: !state.dndSignal,\n                dndTarget: action.target,\n                dndSource: action.source,\n            });\n        case \"SET_FILE_LIST\":\n            return Object.assign({}, state, {\n                fileList: action.list,\n            });\n        case \"SET_DIR_LIST\":\n            return Object.assign({}, state, {\n                dirList: action.list,\n            });\n        case \"ADD_SELECTED_TARGETS\":\n            const addedSelected = [...state.selected, ...action.targets];\n            return Object.assign({}, state, {\n                selected: addedSelected,\n                selectProps: checkSelectedProps(addedSelected),\n            });\n        case \"SET_SELECTED_TARGET\":\n            const newSelected = action.targets;\n            return Object.assign({}, state, {\n                selected: newSelected,\n                selectProps: checkSelectedProps(newSelected),\n            });\n        case \"RMOVE_SELECTED_TARGETS\":\n            const { fileIds } = action;\n            const filteredSelected = state.selected.filter((file) => {\n                return !fileIds.includes(file.id);\n            });\n            return Object.assign({}, state, {\n                selected: filteredSelected,\n                selectProps: checkSelectedProps(filteredSelected),\n            });\n        case \"REFRESH_FILE_LIST\":\n            return Object.assign({}, state, {\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n                keywords: action.keywords,\n            });\n        case \"SHOW_IMG_PREIVEW\":\n            return Object.assign({}, state, {\n                imgPreview: {\n                    first: action.first,\n                    other: state.fileList,\n                },\n            });\n        case \"SHOW_AUDIO_PREVIEW\":\n            return Object.assign({}, state, {\n                audioPreview: {\n                    ...state.audioPreview,\n                    first: action.first,\n                    other: state.fileList,\n                },\n            });\n        case \"AUDIO_PREVIEW_SET_IS_OPEN\":            \n            return Object.assign({}, state, {\n                audioPreview: {\n                    ...state.audioPreview,\n                    isOpen: action.isOpen,\n                },\n            });\n        case \"AUDIO_PREVIEW_SET_PLAYING\":\n            return Object.assign({}, state, {\n                audioPreview: {\n                    ...state.audioPreview,\n                    playingName: action.playingName,\n                    paused: action.paused,\n                },\n            });\n        case \"SAVE_FILE\":\n            return {\n                ...state,\n                fileSave: !state.fileSave,\n            };\n        case \"SET_LAST_SELECT\":\n            const { file, index } = action;\n            return {\n                ...state,\n                lastSelect: {\n                    file,\n                    index,\n                },\n            };\n        case \"SET_SHIFT_SELECTED_IDS\":\n            const { shiftSelectedIds } = action;\n            return {\n                ...state,\n                shiftSelectedIds,\n            };\n        case \"SET_NAVIGATOR\":\n            return {\n                ...state,\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n                keywords: \"\",\n            };\n        case \"SET_SIDE_BAR\":\n            return {\n                ...state,\n                sideBarOpen: action.open,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default explorer;\n","const Auth = {\n    isAuthenticated: false,\n    authenticate(cb: any) {\n        Auth.SetUser(cb);\n        Auth.isAuthenticated = true;\n    },\n    GetUser() {\n        return JSON.parse(localStorage.getItem(\"user\") || \"null\");\n    },\n    SetUser(newUser: any) {\n        localStorage.setItem(\"user\", JSON.stringify(newUser));\n    },\n    Check(): boolean {\n        if (Auth.isAuthenticated) {\n            return true;\n        }\n        if (localStorage.getItem(\"user\") !== null) {\n            return !Auth.GetUser().anonymous;\n        }\n        return false;\n    },\n    signout() {\n        Auth.isAuthenticated = false;\n        const oldUser = Auth.GetUser();\n        oldUser.id = 0;\n        localStorage.setItem(\"user\", JSON.stringify(oldUser));\n    },\n    SetPreference(key: string, value: any) {\n        let preference = JSON.parse(\n            localStorage.getItem(\"user_preference\") || \"{}\"\n        );\n        preference = preference == null ? {} : preference;\n        preference[key] = value;\n        localStorage.setItem(\"user_preference\", JSON.stringify(preference));\n    },\n    GetPreference(key: string): any | null {\n        const preference = JSON.parse(\n            localStorage.getItem(\"user_preference\") || \"{}\"\n        );\n        if (preference && preference[key]) {\n            return preference[key];\n        }\n        return null;\n    },\n};\n\nexport default Auth;\n","import React, { useState, useEffect } from \"react\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nfunction AutoHidden({ children, enable }) {\n    const [hidden, setHidden] = useState(false);\n\n    let prev = window.scrollY;\n    let lastUpdate = window.scrollY;\n    const show = 50;\n\n    useEffect(() => {\n        const handleNavigation = (e) => {\n            const window = e.currentTarget;\n\n            if (prev > window.scrollY) {\n                if (lastUpdate - window.scrollY > show) {\n                    lastUpdate = window.scrollY;\n                    setHidden(false);\n                }\n            } else if (prev < window.scrollY) {\n                if (window.scrollY - lastUpdate > show) {\n                    lastUpdate = window.scrollY;\n                    setHidden(true);\n                }\n            }\n            prev = window.scrollY;\n        };\n        if (enable) {\n            window.addEventListener(\"scroll\", (e) => handleNavigation(e));\n        }\n        // eslint-disable-next-line\n    }, [enable]);\n\n    return <Zoom in={!hidden}>{children}</Zoom>;\n}\n\nexport default AutoHidden;\n","import React from \"react\";\nimport { Code } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"70%\",\n        padding: 40,\n        [theme.breakpoints.down(\"md\")]: {\n            width: \"100%\",\n            padding: 10,\n        },\n    },\n}));\n\nconst MyLoader = (props) => (\n    <Code\n        backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n        foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n        className={props.className}\n    />\n);\n\nfunction TextLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div>\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default TextLoading;\n","export const sizeToString = (bytes) => {\n    if (bytes === 0 || bytes === \"0\") return \"0 B\";\n    const k = 1024;\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toFixed(1) + \" \" + sizes[i];\n};\n\nexport const fixUrlHash = (path) => {\n    return path;\n};\n\nexport const setCookie = (name, value, days) => {\n    if (days) {\n        const date = new Date();\n        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    }\n    document.cookie = name + \"=\" + (value || \"\") + \"; path=/\";\n};\n\nexport const setGetParameter = (paramName, paramValue) => {\n    let url = window.location.href;\n\n    if (url.indexOf(paramName + \"=\") >= 0) {\n        const prefix = url.substring(0, url.indexOf(paramName));\n        let suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix =\n            suffix.indexOf(\"&\") >= 0\n                ? suffix.substring(suffix.indexOf(\"&\"))\n                : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    } else {\n        if (url.indexOf(\"?\") < 0) url += \"?\" + paramName + \"=\" + paramValue;\n        else url += \"&\" + paramName + \"=\" + paramValue;\n    }\n    if (url === window.location.href) {\n        return;\n    }\n    window.history.pushState(null, null, url);\n};\n\nexport const allowSharePreview = () => {\n    if (!window.isSharePage) {\n        return true;\n    }\n    if (window.isSharePage) {\n        if (window.shareInfo.allowPreview) {\n            return true;\n        }\n        if (window.userInfo.uid === -1) {\n            return false;\n        }\n        return true;\n    }\n};\n\nexport const checkGetParameters = (field) => {\n    const url = window.location.href;\n    if (url.indexOf(\"?\" + field + \"=\") !== -1) return true;\n    else if (url.indexOf(\"&\" + field + \"=\") !== -1) return true;\n    return false;\n};\n\nexport const changeThemeColor = (color) => {\n    const metaThemeColor = window.document.querySelector(\n        \"meta[name=theme-color]\"\n    );\n    metaThemeColor.setAttribute(\"content\", color);\n};\n\nexport function bufferDecode(value) {\n    return Uint8Array.from(atob(value), (c) => c.charCodeAt(0));\n}\n\n// ArrayBuffer to URLBase64\nexport function bufferEncode(value) {\n    return btoa(String.fromCharCode.apply(null, new Uint8Array(value)))\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\")\n        .replace(/=/g, \"\");\n}\n\nexport function pathBack(path) {\n    const folders =\n        path !== null\n            ? path.substr(1).split(\"/\")\n            : this.props.path.substr(1).split(\"/\");\n    return \"/\" + folders.slice(0, folders.length - 1).join(\"/\");\n}\n\nexport function filePath(file) {\n    return file.path === \"/\"\n        ? file.path + file.name\n        : file.path + \"/\" + file.name;\n}\n\nexport function hex2bin(hex) {\n    return parseInt(hex, 16).toString(2).padStart(8, \"0\");\n}\n\nexport function pathJoin(parts, sep) {\n    const separator = sep || \"/\";\n    parts = parts.map((part, index) => {\n        if (index) {\n            part = part.replace(new RegExp(\"^\" + separator), \"\");\n        }\n        if (index !== parts.length - 1) {\n            part = part.replace(new RegExp(separator + \"$\"), \"\");\n        }\n        return part;\n    });\n    return parts.join(separator);\n}\n\nexport function basename(path) {\n    const pathList = path.split(\"/\");\n    pathList.pop();\n    return pathList.join(\"/\") === \"\" ? \"/\" : pathList.join(\"/\");\n}\n\nexport function filename(path) {\n    const pathList = path.split(\"/\");\n    return pathList.pop();\n}\n\nexport function randomStr(length) {\n    let result = \"\";\n    const characters =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(\n            Math.floor(Math.random() * charactersLength)\n        );\n    }\n    return result;\n}\n\nexport function getNumber(base, conditions) {\n    conditions.forEach((v) => {\n        if (v) {\n            base++;\n        }\n    });\n    return base;\n}\n\nexport const isMac = () => {\n    return navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0;\n};\n\nexport function vhCheck() {\n    const vh = window.innerHeight;\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n}\n","import React, { useCallback } from \"react\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport DayIcon from \"@material-ui/icons/Brightness7\";\nimport NightIcon from \"@material-ui/icons/Brightness4\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toggleDaylightMode } from \"../../actions\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Auth from \"../../middleware/Auth\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles(() => ({\n    icon: {\n        color: \"rgb(255, 255, 255)\",\n        opacity: \"0.54\",\n    },\n}));\n\nconst DarkModeSwitcher = ({ position }) => {\n    const ThemeType = useSelector(\n        (state) => state.siteConfig.theme.palette.type\n    );\n    const dispatch = useDispatch();\n    const ToggleThemeMode = useCallback(() => dispatch(toggleDaylightMode()), [\n        dispatch,\n    ]);\n    const isDayLight = (ThemeType && ThemeType === \"light\") || !ThemeType;\n    const isDark = ThemeType && ThemeType === \"dark\";\n    const toggleMode = () => {\n        Auth.SetPreference(\"theme_mode\", isDayLight ? \"dark\" : \"light\");\n        ToggleThemeMode();\n    };\n    const classes = useStyles();\n    return (\n        <Tooltip\n            title={isDayLight ? \"切换到深色模式\" : \"切换到浅色模式\"}\n            placement=\"bottom\"\n        >\n            <IconButton\n                className={classNames({\n                    [classes.icon]: \"left\" === position,\n                })}\n                onClick={toggleMode}\n                color=\"inherit\"\n            >\n                {isDayLight && <NightIcon />}\n                {isDark && <DayIcon />}\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default DarkModeSwitcher;\n","import React, { useCallback, useState } from \"react\";\nimport { IconButton, makeStyles, Menu, MenuItem } from \"@material-ui/core\";\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\nimport ViewSmallIcon from \"@material-ui/icons/ViewComfy\";\nimport ViewModuleIcon from \"@material-ui/icons/ViewModule\";\nimport TextTotateVerticalIcon from \"@material-ui/icons/TextRotateVertical\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { Report as ReportIcon } from \"@material-ui/icons\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport Report from \"../../Modals/Report\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Auth from \"../../../middleware/Auth\";\nimport {\n    changeViewMethod,\n    openResaveDialog,\n    setShareUserPopover,\n    toggleSnackbar,\n} from \"../../../actions\";\nimport { changeSortMethod } from \"../../../redux/explorer/action\";\n\nconst useStyles = makeStyles((theme) => ({\n    sideButton: {\n        padding: \"8px\",\n        marginRight: \"5px\",\n    },\n}));\n\nconst sortOptions = [\"A-Z\", \"Z-A\", \"最早\", \"最新\", \"最小\", \"最大\"];\n\nexport default function SubActions({ isSmall, share, inherit }) {\n    const dispatch = useDispatch();\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const OpenLoadingDialog = useCallback(\n        (method) => dispatch(changeViewMethod(method)),\n        [dispatch]\n    );\n    const ChangeSortMethod = useCallback(\n        (method) => dispatch(changeSortMethod(method)),\n        [dispatch]\n    );\n    const OpenResaveDialog = useCallback(\n        (key) => dispatch(openResaveDialog(key)),\n        [dispatch]\n    );\n    const SetShareUserPopover = useCallback(\n        (e) => dispatch(setShareUserPopover(e)),\n        [dispatch]\n    );\n    const [anchorSort, setAnchorSort] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const [openReport, setOpenReport] = useState(false);\n    const showSortOptions = (e) => {\n        setAnchorSort(e.currentTarget);\n    };\n    const handleMenuItemClick = (e, index) => {\n        setSelectedIndex(index);\n        const optionsTable = {\n            0: \"namePos\",\n            1: \"nameRev\",\n            2: \"timePos\",\n            3: \"timeRev\",\n            4: \"sizePos\",\n            5: \"sizeRes\",\n        };\n        ChangeSortMethod(optionsTable[index]);\n        setAnchorSort(null);\n    };\n\n    const toggleViewMethod = () => {\n        const newMethod =\n            viewMethod === \"icon\"\n                ? \"list\"\n                : viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        OpenLoadingDialog(newMethod);\n    };\n\n    const toggleSnackbars = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const rewards = () => {\n        if (!Auth.Check()) {\n            toggleSnackbars(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            return;\n        }\n        window.opensendgift(share.key);\n    };\n\n    const classes = useStyles();\n    return (\n        <>  \n            {share && (\n            <IconButton title=\"打赏\" className={classes.sideButton} onClick={rewards}>\n              <MonetizationOnIcon fontSize=\"small\"/>\n            </IconButton>\n            )}\n            {viewMethod === \"icon\" && (\n                <IconButton\n                    title=\"列表展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewListIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n            {viewMethod === \"list\" && (\n                <IconButton\n                    title=\"小图标展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewSmallIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n\n            {viewMethod === \"smallIcon\" && (\n                <IconButton\n                    title=\"大图标展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewModuleIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n\n            <IconButton\n                title=\"排序方式\"\n                className={classes.sideButton}\n                onClick={showSortOptions}\n                color={inherit ? \"inherit\" : \"default\"}\n            >\n                <TextTotateVerticalIcon\n                    fontSize={isSmall ? \"small\" : \"default\"}\n                />\n            </IconButton>\n            <Menu\n                id=\"sort-menu\"\n                anchorEl={anchorSort}\n                open={Boolean(anchorSort)}\n                onClose={() => setAnchorSort(null)}\n            >\n                {sortOptions.map((option, index) => (\n                    <MenuItem\n                        key={option}\n                        selected={index === selectedIndex}\n                        onClick={(event) => handleMenuItemClick(event, index)}\n                    >\n                        {option}\n                    </MenuItem>\n                ))}\n            </Menu>\n            {share && (\n                <>\n                    <IconButton\n                        title={\"保存到我的文件\"}\n                        className={classes.sideButton}\n                        onClick={() => OpenResaveDialog(share.key)}\n                    >\n                        <SaveIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                    </IconButton>\n                    <IconButton\n                        title={\"举报\"}\n                        className={classes.sideButton}\n                        onClick={() => setOpenReport(true)}\n                    >\n                        <ReportIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                    </IconButton>\n                    <Report\n                        open={openReport}\n                        share={share}\n                        onClose={() => setOpenReport(false)}\n                    />\n                </>\n            )}\n            {share && (\n                <IconButton\n                    title={\"由 \" + share.creator.nick + \" 创建\"}\n                    className={classes.sideButton}\n                    onClick={(e) => SetShareUserPopover(e.currentTarget)}\n                    style={{ padding: 5 }}\n                >\n                    <Avatar\n                        style={{ height: 23, width: 23 }}\n                        src={\"/api/v3/user/avatar/\" + share.creator.key + \"/s\"}\n                    />\n                </IconButton>\n            )}\n        </>\n    );\n}\n","import React, { useCallback, useState } from \"react\";\nimport { FormControl, makeStyles, TextField } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { reportReasons } from \"../../config\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n    },\n    flexCenter: {\n        alignItems: \"center\",\n    },\n    noFlex: {\n        display: \"block\",\n    },\n    scoreCalc: {\n        marginTop: 10,\n    },\n}));\n\nexport default function Report(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n    const [reason, setReason] = useState(\"0\");\n    const [des, setDes] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(() => {\n            setDes(\"\");\n            setReason(\"0\");\n        }, 500);\n    };\n\n    const submitReport = () => {\n        setLoading(true);\n        API.post(\"/share/report/\" + props.share.key, {\n            des: des,\n            reason: parseInt(reason),\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"举报成功\", \"success\");\n                setLoading(false);\n                onClose();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">举报</DialogTitle>\n            <DialogContent>\n                <FormControl component=\"fieldset\">\n                    <RadioGroup\n                        aria-label=\"gender\"\n                        name=\"gender1\"\n                        value={reason}\n                        onChange={(e) => setReason(e.target.value)}\n                    >\n                        {reportReasons.map((v, k) => (\n                            <FormControlLabel\n                                key={k}\n                                value={k.toString()}\n                                control={<Radio />}\n                                label={v}\n                            />\n                        ))}\n                    </RadioGroup>\n                </FormControl>\n                <TextField\n                    fullWidth\n                    id=\"standard-multiline-static\"\n                    label=\"补充描述\"\n                    multiline\n                    value={des}\n                    onChange={(e) => setDes(e.target.value)}\n                    variant=\"filled\"\n                    rows={4}\n                />\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n                <Button\n                    onClick={submitReport}\n                    color=\"secondary\"\n                    disabled={loading}\n                >\n                    提交\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\n\nexport default function PurchaseShareDialog(props) {\n    return (\n        <Dialog\n            open={props.callback}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                确定要支付 {props.score}积分 购买此分享？\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    购买后，您可以自由预览、下载此分享的所有内容，一定期限内不会重复扣费。\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    onClick={() => props.callback()}\n                    color=\"primary\"\n                    autoFocus\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7,\n    },\n    fabProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: -6,\n        left: -6,\n        zIndex: 1,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonSuccess: {\n        backgroundColor: green[500],\n        \"&:hover\": {\n            backgroundColor: green[700],\n        },\n    },\n}));\n\nexport default function SaveButton(props) {\n    const classes = useStyles();\n    const buttonClassname = clsx({\n        [classes.buttonSuccess]: props.status === \"success\",\n    });\n\n    return (\n        <AutoHidden enable={statusHelper.isMobile()}>\n            <div className={classes.fab}>\n                <div className={classes.wrapper}>\n                    <Tooltip title={\"保存\"} placement={\"left\"}>\n                        <Fab\n                            onClick={props.onClick}\n                            color=\"primary\"\n                            className={buttonClassname}\n                            disabled={props.status === \"loading\"}\n                            aria-label=\"add\"\n                        >\n                            {props.status === \"success\" ? (\n                                <CheckIcon />\n                            ) : (\n                                <SaveIcon />\n                            )}\n                        </Fab>\n                    </Tooltip>\n                    {props.status === \"loading\" && (\n                        <CircularProgress\n                            size={68}\n                            className={classes.fabProgress}\n                        />\n                    )}\n                </div>\n            </div>\n        </AutoHidden>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { blue } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\n\nconst useStyles = makeStyles({\n    avatar: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    loadingContainer: {\n        display: \"flex\",\n    },\n    loading: {\n        marginTop: 10,\n        marginLeft: 20,\n    },\n});\n\nexport default function LoadingDialog() {\n    const classes = useStyles();\n    const open = useSelector((state) => state.viewUpdate.modals.loading);\n    const text = useSelector((state) => state.viewUpdate.modals.loadingText);\n\n    return (\n        <Dialog aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogContent>\n                <DialogContentText className={classes.loadingContainer}>\n                    <CircularProgress color=\"secondary\" />\n                    <div className={classes.loading}>{text}</div>\n                </DialogContentText>\n            </DialogContent>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n} from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CopyDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n    const RefreshFileList = useCallback(() => {\n        dispatch(refreshFileList());\n    }, [dispatch]);\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n\n        if (props.selected[0].type === \"dir\") {\n            dirs.push(props.selected[0].id);\n        } else {\n            items.push(props.selected[0].id);\n        }\n\n        API.post(\"/object/copy\", {\n            src_dir: props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                RefreshFileList();\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">复制到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        复制到 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Checkbox,\n    FormControl,\n    makeStyles,\n    TextField,\n} from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport TimerIcon from \"@material-ui/icons/Timer\";\nimport CasinoIcon from \"@material-ui/icons/Casino\";\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Divider from \"@material-ui/core/Divider\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport EyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport ToggleIcon from \"material-ui-toggle-icon\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n    },\n    flexCenter: {\n        alignItems: \"center\",\n    },\n    noFlex: {\n        display: \"block\",\n    },\n    scoreCalc: {\n        marginTop: 10,\n    },\n}));\n\nconst ExpansionPanel = withStyles({\n    root: {\n        border: \"0px solid rgba(0, 0, 0, .125)\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {\n            margin: \"auto\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        padding: 0,\n        \"&$expanded\": {},\n    },\n    content: {\n        margin: 0,\n        display: \"initial\",\n        \"&$expanded\": {\n            margin: \"0 0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        padding: 24,\n        backgroundColor: theme.palette.background.default,\n    },\n}))(MuiExpansionPanelDetails);\n\nexport default function CreatShare(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const scoreEnabled = useSelector((state) => state.siteConfig.score_enabled);\n    const scoreRate = useSelector((state) => state.siteConfig.share_score_rate);\n\n    const [expanded, setExpanded] = React.useState(false);\n    const [shareURL, setShareURL] = React.useState(\"\");\n    const [values, setValues] = React.useState({\n        password: \"\",\n        downloads: 1,\n        expires: 24 * 3600,\n        showPassword: false,\n        score: 0,\n    });\n    const [shareOption, setShareOption] = React.useState({\n        password: false,\n        expire: false,\n        score: false,\n        preview: true,\n    });\n\n    const handleChange = (prop) => (event) => {\n        // 输入密码\n        if (prop === \"password\") {\n            if (event.target.value === \"\") {\n                setShareOption({ ...shareOption, password: false });\n            } else {\n                setShareOption({ ...shareOption, password: true });\n            }\n        }\n\n        // 输入积分\n        if (prop === \"score\") {\n            if (event.target.value == \"0\") {\n                setShareOption({ ...shareOption, score: false });\n            } else {\n                setShareOption({ ...shareOption, score: true });\n            }\n        }\n\n        setValues({ ...values, [prop]: event.target.value });\n    };\n\n    const handleClickShowPassword = () => {\n        setValues({ ...values, showPassword: !values.showPassword });\n    };\n\n    const handleMouseDownPassword = (event) => {\n        event.preventDefault();\n    };\n\n    const randomPassword = () => {\n        setShareOption({ ...shareOption, password: true });\n        setValues({\n            ...values,\n            password: Math.random().toString(36).substr(2).slice(2, 8),\n            showPassword: true,\n        });\n    };\n\n    const handleExpand = (panel) => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    const handleCheck = (prop) => () => {\n        if (!shareOption[prop]) {\n            handleExpand(prop)(null, true);\n        }\n        if (prop === \"password\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                password: \"\",\n            });\n        }\n        if (prop === \"score\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                score: 0,\n            });\n        }\n        setShareOption({ ...shareOption, [prop]: !shareOption[prop] });\n    };\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(() => {\n            setShareURL(\"\");\n        }, 500);\n    };\n\n    const submitShare = (e) => {\n        e.preventDefault();\n        props.setModalsLoading(true);\n        const submitFormBody = {\n            id: props.selected[0].id,\n            is_dir: props.selected[0].type === \"dir\",\n            password: values.password,\n            downloads: shareOption.expire ? values.downloads : -1,\n            expire: values.expires,\n            score: parseInt(values.score),\n            preview: shareOption.preview,\n        };\n\n        API.post(\"/share\", submitFormBody)\n            .then((response) => {\n                setShareURL(response.data);\n                setValues({\n                    password: \"\",\n                    downloads: 1,\n                    expires: 24 * 3600,\n                    showPassword: false,\n                    score: 0,\n                });\n                setShareOption({\n                    password: false,\n                    expire: false,\n                    score: false,\n                });\n                props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                props.setModalsLoading(false);\n            });\n    };\n\n    const handleFocus = (event) => event.target.select();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">创建分享链接</DialogTitle>\n\n            {shareURL === \"\" && (\n                <>\n                    <Divider />\n                    <List>\n                        <ExpansionPanel\n                            expanded={expanded === \"password\"}\n                            onChange={handleExpand(\"password\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"使用密码保护\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.password}\n                                            onChange={handleCheck(\"password\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    fullWidth\n                                >\n                                    <InputLabel htmlFor=\"filled-adornment-password\">\n                                        分享密码\n                                    </InputLabel>\n                                    <OutlinedInput\n                                        fullWidth\n                                        id=\"outlined-adornment-password\"\n                                        type={\n                                            values.showPassword\n                                                ? \"text\"\n                                                : \"password\"\n                                        }\n                                        value={values.password}\n                                        onChange={handleChange(\"password\")}\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <Tooltip title=\"随机生成\">\n                                                    <IconButton\n                                                        aria-label=\"toggle password visibility\"\n                                                        onClick={randomPassword}\n                                                        edge=\"end\"\n                                                    >\n                                                        <CasinoIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                                <IconButton\n                                                    aria-label=\"toggle password visibility\"\n                                                    onClick={\n                                                        handleClickShowPassword\n                                                    }\n                                                    onMouseDown={\n                                                        handleMouseDownPassword\n                                                    }\n                                                    edge=\"end\"\n                                                >\n                                                    <ToggleIcon\n                                                        on={values.showPassword}\n                                                        onIcon={<Visibility />}\n                                                        offIcon={\n                                                            <VisibilityOff />\n                                                        }\n                                                    />\n                                                </IconButton>\n                                            </InputAdornment>\n                                        }\n                                        labelWidth={70}\n                                    />\n                                </FormControl>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        <ExpansionPanel\n                            expanded={expanded === \"expire\"}\n                            onChange={handleExpand(\"expire\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <TimerIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"自动过期\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.expire}\n                                            onChange={handleCheck(\"expire\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails\n                                className={classes.flexCenter}\n                            >\n                                <FormControl\n                                    style={{\n                                        marginRight: 10,\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.downloads}\n                                        onChange={handleChange(\"downloads\")}\n                                    >\n                                        <MenuItem value={1}>1 次下载</MenuItem>\n                                        <MenuItem value={2}>2 次下载</MenuItem>\n                                        <MenuItem value={3}>3 次下载</MenuItem>\n                                        <MenuItem value={4}>4 次下载</MenuItem>\n                                        <MenuItem value={5}>5 次下载</MenuItem>\n                                        <MenuItem value={20}>\n                                            20 次下载\n                                        </MenuItem>\n                                        <MenuItem value={50}>\n                                            50 次下载\n                                        </MenuItem>\n                                        <MenuItem value={100}>\n                                            100 次下载\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>或者</Typography>\n                                <FormControl\n                                    style={{\n                                        marginRight: 10,\n                                        marginLeft: 10,\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.expires}\n                                        onChange={handleChange(\"expires\")}\n                                    >\n                                        <MenuItem value={300}>5 分钟</MenuItem>\n                                        <MenuItem value={3600}>1 小时</MenuItem>\n                                        <MenuItem value={24 * 3600}>\n                                            1 天\n                                        </MenuItem>\n                                        <MenuItem value={7 * 24 * 3600}>\n                                            7 天\n                                        </MenuItem>\n                                        <MenuItem value={30 * 24 * 3600}>\n                                            30 天\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>后过期</Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        {scoreEnabled && (\n                            <ExpansionPanel\n                                expanded={expanded === \"score\"}\n                                onChange={handleExpand(\"score\")}\n                            >\n                                <ExpansionPanelSummary\n                                    aria-controls=\"panel1a-content\"\n                                    id=\"panel1a-header\"\n                                >\n                                    <ListItem button>\n                                        <ListItemIcon>\n                                            <AccountBalanceWalletIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"付积分下载\" />\n                                        <ListItemSecondaryAction>\n                                            <Checkbox\n                                                checked={shareOption.score}\n                                                onChange={handleCheck(\"score\")}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </ExpansionPanelSummary>\n\n                                <ExpansionPanelDetails\n                                    className={classes.noFlex}\n                                >\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        fullWidth\n                                    >\n                                        <InputLabel htmlFor=\"filled-adornment-password\">\n                                            每人次下载需支付的积分\n                                        </InputLabel>\n                                        <OutlinedInput\n                                            fullWidth\n                                            id=\"outlined-adornment-password\"\n                                            type=\"number\"\n                                            inputProps={{ min: 0 }}\n                                            value={values.score}\n                                            onChange={handleChange(\"score\")}\n                                            labelWidth={180}\n                                        />\n                                    </FormControl>\n                                    {values.score !== 0 && scoreRate !== \"100\" && (\n                                        <Typography\n                                            variant=\"body2\"\n                                            className={classes.scoreCalc}\n                                        >\n                                            {\"预计每人次下载可到账 \" +\n                                                Math.ceil(\n                                                    (values.score * scoreRate) /\n                                                        100\n                                                ) +\n                                                \" 积分\"}\n                                        </Typography>\n                                    )}\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        )}\n                        <ExpansionPanel\n                            expanded={expanded === \"preview\"}\n                            onChange={handleExpand(\"preview\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"允许预览\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.preview}\n                                            onChange={handleCheck(\"preview\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <Typography>\n                                    是否允许在分享页面预览文件内容\n                                </Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </List>\n                    <Divider />\n                </>\n            )}\n            {shareURL !== \"\" && (\n                <DialogContent>\n                    <TextField\n                        onFocus={handleFocus}\n                        autoFocus\n                        inputProps={{ readonly: true }}\n                        label=\"分享链接\"\n                        value={shareURL}\n                        variant=\"outlined\"\n                        fullWidth\n                    />\n                </DialogContent>\n            )}\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n\n                {shareURL === \"\" && (\n                    <div className={classes.wrapper}>\n                        <Button\n                            onClick={submitShare}\n                            color=\"secondary\"\n                            disabled={props.modalsLoading}\n                        >\n                            创建分享链接\n                            {props.modalsLoading && (\n                                <CircularProgress\n                                    size={24}\n                                    className={classes.buttonProgress}\n                                />\n                            )}\n                        </Button>\n                    </div>\n                )}\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport { filePath } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function DecompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        API.post(\"/file/decompress\", {\n            src: filePath(props.selected[0]),\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"解压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">解压送至</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        解压送至 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n        backgroundColor: theme.palette.background.default,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [fileName, setFileName] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n\n        API.post(\"/file/compress\", {\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            name: fileName,\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">存放到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        <TextField\n                            onChange={(e) => setFileName(e.target.value)}\n                            value={fileName}\n                            fullWidth\n                            autoFocus\n                            id=\"standard-basic\"\n                            label=\"压缩文件名\"\n                        />\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={\n                            selectedPath === \"\" ||\n                            fileName === \"\" ||\n                            props.modalsLoading\n                        }\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    input: {\n        width: 250,\n    },\n}));\n\nexport default function RelocateDialog(props) {\n    const [selectedPolicy, setSelectedPolicy] = useState(\"\");\n    const [policies, setPolicies] = useState([]);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const submitRelocate = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n\n        API.post(\"/file/relocate\", {\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst_policy_id: selectedPolicy,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"转移任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    useEffect(() => {\n        if (props.open) {\n            API.get(\"/user/setting/policies\")\n                .then((response) => {\n                    setPolicies(response.data.options);\n                    setSelectedPolicy(response.data.current.id);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n\n        // eslint-disable-next-line\n    }, [props.open]);\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">转移到存储策略</DialogTitle>\n\n            <DialogContent className={classes.contentFix}>\n                <Select\n                    className={classes.input}\n                    labelId=\"demo-simple-select-label\"\n                    value={selectedPolicy}\n                    onChange={(e) => setSelectedPolicy(e.target.value)}\n                >\n                    {policies.map((v, k) => (\n                        <MenuItem key={k} value={v.id}>\n                            {v.name}\n                        </MenuItem>\n                    ))}\n                </Select>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitRelocate}\n                        color=\"primary\"\n                        disabled={selectedPolicy === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    closeAllModals,\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n    refreshStorage,\n    openLoadingDialog,\n} from \"../../actions/index\";\nimport PathSelector from \"./PathSelector\";\nimport API, { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    Button,\n    TextField,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport Loading from \"../Modals/Loading\";\nimport CopyDialog from \"../Modals/Copy\";\nimport CreatShare from \"../Modals/CreateShare\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport Auth from \"../../middleware/Auth\";\nimport DecompressDialog from \"../Modals/Decompress\";\nimport CompressDialog from \"../Modals/Compress\";\nimport RelocateDialog from \"../Modals/Relocate\";\n\nconst styles = (theme) => ({\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        modalsStatus: state.viewUpdate.modals,\n        modalsLoading: state.viewUpdate.modalsLoading,\n        dirList: state.explorer.dirList,\n        fileList: state.explorer.fileList,\n        dndSignale: state.explorer.dndSignal,\n        dndTarget: state.explorer.dndTarget,\n        dndSource: state.explorer.dndSource,\n        loading: state.viewUpdate.modals.loading,\n        loadingText: state.viewUpdate.modals.loadingText,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setModalsLoading: (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n    };\n};\n\nclass ModalsCompoment extends Component {\n    state = {\n        newFolderName: \"\",\n        newFileName: \"\",\n        newName: \"\",\n        selectedPath: \"\",\n        selectedPathName: \"\",\n        secretShare: false,\n        sharePwd: \"\",\n        shareUrl: \"\",\n        downloadURL: \"\",\n        remoteDownloadPathSelect: false,\n        source: \"\",\n        purchaseCallback: null,\n    };\n\n    handleInputChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value,\n        });\n    };\n\n    newNameSuffix = \"\";\n    downloaded = false;\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (this.props.dndSignale !== nextProps.dndSignale) {\n            this.dragMove(nextProps.dndSource, nextProps.dndTarget);\n            return;\n        }\n        if (this.props.loading !== nextProps.loading) {\n            // 打包下载\n            if (nextProps.loading === true) {\n                if (nextProps.loadingText === \"打包中...\") {\n                    if (\n                        pathHelper.isSharePage(this.props.location.pathname) &&\n                        this.props.share &&\n                        this.props.share.score > 0\n                    ) {\n                        this.scoreHandler(this.archiveDownload);\n                        return;\n                    }\n                    this.archiveDownload();\n                } else if (nextProps.loadingText === \"获取下载地址...\") {\n                    if (\n                        pathHelper.isSharePage(this.props.location.pathname) &&\n                        this.props.share &&\n                        this.props.share.score > 0\n                    ) {\n                        this.scoreHandler(this.Download);\n                        return;\n                    }\n                    this.Download();\n                }\n            }\n            return;\n        }\n        if (this.props.modalsStatus.rename !== nextProps.modalsStatus.rename) {\n            const name = nextProps.selected[0].name;\n            this.setState({\n                newName: name,\n            });\n            return;\n        }\n        if (\n            this.props.modalsStatus.getSource !==\n                nextProps.modalsStatus.getSource &&\n            nextProps.modalsStatus.getSource === true\n        ) {\n            API.get(\"/file/source/\" + this.props.selected[0].id)\n                .then((response) => {\n                    this.setState({\n                        source: response.data.url,\n                    });\n                })\n                .catch((error) => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n    };\n\n    scoreHandler = (callback) => {\n        // 分享页面需要积分下载\n        if (!Auth.Check()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            this.onClose();\n            return;\n        }\n        if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n            this.setState({\n                purchaseCallback: () => {\n                    this.setState({\n                        purchaseCallback: null,\n                    });\n                    callback();\n                },\n            });\n        } else {\n            callback();\n        }\n    };\n\n    Download = () => {\n        let reqURL = \"\";\n        if (this.props.selected[0].key) {\n            const downloadPath =\n                this.props.selected[0].path === \"/\"\n                    ? this.props.selected[0].path + this.props.selected[0].name\n                    : this.props.selected[0].path +\n                      \"/\" +\n                      this.props.selected[0].name;\n            reqURL =\n                \"/share/download/\" +\n                this.props.selected[0].key +\n                \"?path=\" +\n                encodeURIComponent(downloadPath);\n        } else {\n            reqURL = \"/file/download/\" + this.props.selected[0].id;\n        }\n\n        API.put(reqURL)\n            .then((response) => {\n                window.location.assign(response.data);\n                this.onClose();\n                this.downloaded = true;\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    archiveDownload = () => {\n        const dirs = [],\n            items = [];\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n            return null;\n        });\n\n        let reqURL = \"/file/archive\";\n        const postBody = {\n            items: items,\n            dirs: dirs,\n        };\n        if (pathHelper.isSharePage(this.props.location.pathname)) {\n            reqURL = \"/share/archive/\" + window.shareInfo.key;\n            postBody[\"path\"] = this.props.selected[0].path;\n        }\n\n        API.post(reqURL, postBody)\n            .then((response) => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    window.location.assign(response.data);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.onClose();\n                this.props.refreshStorage();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    submitRemove = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.delete(\"/object\", {\n            data: {\n                items: items,\n                dirs: dirs,\n            },\n        })\n            .then((response) => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    setTimeout(this.props.refreshFileList, 500);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.props.setModalsLoading(false);\n                this.props.refreshStorage();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitResave = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/share/save/\" + window.shareKey, {\n            path:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.onClose();\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"文件已保存\",\n                    \"success\"\n                );\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.patch(\"/object\", {\n            action: \"move\",\n            src_dir: this.props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst: this.DragSelectedPath\n                ? this.DragSelectedPath\n                : this.state.selectedPath === \"//\"\n                ? \"/\"\n                : this.state.selectedPath,\n        })\n            .then(() => {\n                this.onClose();\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            })\n            .then(() => {\n                this.props.closeAllModals();\n            });\n    };\n\n    dragMove = (source, target) => {\n        if (this.props.selected.length === 0) {\n            this.props.selected[0] = source;\n        }\n        let doMove = true;\n\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            // 根据ID过滤\n            if (value.id === target.id && value.type === target.type) {\n                doMove = false;\n                // eslint-disable-next-line\n                return;\n            }\n            // 根据路径过滤\n            if (\n                value.path ===\n                target.path + (target.path === \"/\" ? \"\" : \"/\") + target.name\n            ) {\n                doMove = false;\n            }\n        });\n        if (doMove) {\n            this.DragSelectedPath =\n                target.path === \"/\"\n                    ? target.path + target.name\n                    : target.path + \"/\" + target.name;\n            this.props.openLoadingDialog(\"处理中...\");\n            this.submitMove();\n        }\n    };\n\n    submitRename = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const newName = this.state.newName;\n\n        const src = {\n            dirs: [],\n            items: [],\n        };\n\n        if (this.props.selected[0].type === \"dir\") {\n            src.dirs[0] = this.props.selected[0].id;\n        } else {\n            src.items[0] = this.props.selected[0].id;\n        }\n\n        // 检查重名\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1 ||\n            this.props.fileList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"新名称与已有文件重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/object/rename\", {\n                action: \"rename\",\n                src: src,\n                new_name: newName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                    this.props.setModalsLoading(false);\n                });\n        }\n    };\n\n    submitCreateNewFolder = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFolderName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件夹名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.put(\"/directory\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFolderName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitCreateNewFile = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFileName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/file/create\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFileName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitTorrentDownload = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/aria2/torrent/\" + this.props.selected[0].id, {\n            dst:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已创建\",\n                    \"success\"\n                );\n                this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitDownload = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/aria2/url\", {\n            url: this.state.downloadURL,\n            dst:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已创建\",\n                    \"success\"\n                );\n                this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        this.setState({\n            selectedPath: path,\n            selectedPathName: folder.name,\n        });\n    };\n\n    remoteDownloadNext = () => {\n        this.props.closeAllModals();\n        this.setState({\n            remoteDownloadPathSelect: true,\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            newFolderName: \"\",\n            newFileName: \"\",\n            newName: \"\",\n            selectedPath: \"\",\n            selectedPathName: \"\",\n            secretShare: false,\n            sharePwd: \"\",\n            downloadURL: \"\",\n            shareUrl: \"\",\n            remoteDownloadPathSelect: false,\n            source: \"\",\n        });\n        this.newNameSuffix = \"\";\n        this.props.closeAllModals();\n    };\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.checked });\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div>\n                <Loading />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share ? this.props.share.score : 0}\n                    onClose={() => {\n                        this.setState({ purchaseCallback: null });\n                        this.onClose();\n                    }}\n                />\n                <Dialog\n                    open={this.props.modalsStatus.getSource}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        获取文件外链\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"外链地址\"\n                                type=\"text\"\n                                value={this.state.source}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.createNewFolder}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件夹</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"文件夹名称\"\n                                type=\"text\"\n                                value={this.state.newFolderName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFolder}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFolderName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.createNewFile}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFile}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFileName\"\n                                label=\"文件名称\"\n                                type=\"text\"\n                                value={this.state.newFileName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFile}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFileName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.rename}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    maxWidth=\"sm\"\n                    fullWidth={true}\n                >\n                    <DialogTitle id=\"form-dialog-title\">重命名</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText>\n                            输入{\" \"}\n                            <strong>\n                                {this.props.selected.length === 1\n                                    ? this.props.selected[0].name\n                                    : \"\"}\n                            </strong>{\" \"}\n                            的新名称：\n                        </DialogContentText>\n                        <form onSubmit={this.submitRename}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newName\"\n                                label=\"新名称\"\n                                type=\"text\"\n                                value={this.state.newName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRename}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <CopyDialog\n                    open={this.props.modalsStatus.copy}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.move}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">移动至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                移动至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitMove}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.resave}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">保存至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                保存至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitResave}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remove}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">删除对象</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            确定要删除\n                            {this.props.selected.length === 1 && (\n                                <strong> {this.props.selected[0].name} </strong>\n                            )}\n                            {this.props.selected.length > 1 && (\n                                <span>\n                                    这{this.props.selected.length}个对象\n                                </span>\n                            )}\n                            吗？\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRemove}\n                                color=\"primary\"\n                                disabled={this.props.modalsLoading}\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <CreatShare\n                    open={this.props.modalsStatus.share}\n                    onClose={this.onClose}\n                    modalsLoading={this.props.modalsLoading}\n                    setModalsLoading={this.props.setModalsLoading}\n                    selected={this.props.selected}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.music}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">音频播放</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            {this.props.selected.length !== 0 && (\n                                <audio\n                                    controls\n                                    src={\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )\n                                            ? baseURL +\n                                              \"/share/preview/\" +\n                                              this.props.selected[0].key +\n                                              (this.props.selected[0].key\n                                                  ? \"?path=\" +\n                                                    encodeURIComponent(\n                                                        this.props.selected[0]\n                                                            .path === \"/\"\n                                                            ? this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                            : this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  \"/\" +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                    )\n                                                  : \"\")\n                                            : baseURL +\n                                              \"/file/preview/\" +\n                                              this.props.selected[0].id\n                                    }\n                                />\n                            )}\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remoteDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    fullWidth\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        新建离线下载任务\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            <TextField\n                                label=\"文件地址\"\n                                autoFocus\n                                fullWidth\n                                id=\"downloadURL\"\n                                onChange={this.handleInputChange}\n                                placeholder=\"输入文件下载地址，支持 HTTP(s)/FTP/磁力链\"\n                            />\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                        <Button\n                            onClick={this.remoteDownloadNext}\n                            color=\"primary\"\n                            disabled={\n                                this.props.modalsLoading ||\n                                this.state.downloadURL === \"\"\n                            }\n                        >\n                            下一步\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.remoteDownloadPathSelect}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.torrentDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitTorrentDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <DecompressDialog\n                    open={this.props.modalsStatus.decompress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n                <CompressDialog\n                    open={this.props.modalsStatus.compress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n                <RelocateDialog\n                    open={this.props.modalsStatus.relocate}\n                    onClose={this.onClose}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n            </div>\n        );\n    }\n}\n\nModalsCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst Modals = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ModalsCompoment)));\n\nexport default Modals;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport Editor from \"for-editor\";\nimport SaveButton from \"../Dial/Save\";\nimport pathHelper from \"../../utils/page\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    player: {\n        borderRadius: \"4px\",\n    },\n    root: {\n        backgroundColor: \"white\",\n        borderRadius: \"8px\",\n    },\n    \"@global\": {\n        \".for-toolbar\": {\n            overflowX: \"auto!important\",\n        },\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function TextViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const math = useRouteMatch();\n    const $vm = React.createRef();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/content/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: \"arraybuffer\" })\n            .then((response) => {\n                const buffer = new Buffer(response.rawData, \"binary\");\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                setLoading(false);\n            });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const toBase64 = (file) =>\n        new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = () => resolve(reader.result);\n            reader.onerror = (error) => reject(error);\n        });\n\n    const save = () => {\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"), content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(() => setStatus(\"\"), 2000);\n            })\n            .catch((error) => {\n                setStatus(\"\");\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addImg = async ($file) => {\n        $vm.current.$img2Url($file.name, await toBase64($file));\n        console.log($file);\n    };\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                {loading && <TextLoading />}\n                {!loading && (\n                    <Editor\n                        ref={$vm}\n                        value={content}\n                        onSave={() => save()}\n                        addImg={($file) => addImg($file)}\n                        onChange={(value) => setContent(value)}\n                        toolbar={{\n                            h1: true, // h1\n                            h2: true, // h2\n                            h3: true, // h3\n                            h4: true, // h4\n                            img: true, // 图片\n                            link: true, // 链接\n                            code: true, // 代码块\n                            preview: true, // 预览\n                            expand: true, // 全屏\n                            /* v0.0.9 */\n                            undo: true, // 撤销\n                            redo: true, // 重做\n                            save: false, // 保存\n                            /* v0.2.3 */\n                            subfield: true, // 单双栏模式\n                        }}\n                    />\n                )}\n            </Paper>\n            {!pathHelper.isSharePage(location.pathname) && (\n                <SaveButton onClick={save} status={status} />\n            )}\n        </div>\n    );\n}\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { Paper, useTheme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\nimport SaveButton from \"../Dial/Save\";\nimport { codePreviewSuffix } from \"../../config\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Divider from \"@material-ui/core/Divider\";\nconst MonacoEditor = React.lazy(() =>\n    import(/* webpackChunkName: \"codeEditor\" */ \"react-monaco-editor\")\n);\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    editor: {\n        borderRadius: \"4px\",\n    },\n    \"@global\": {\n        \".overflow-guard\": {\n            borderRadius: \"4px!important\",\n        },\n    },\n    formControl: {\n        margin: \"8px 16px 8px 16px\",\n    },\n    toobar: {\n        textAlign: \"right\",\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function CodeViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const [suffix, setSuffix] = useState(\"javascript\");\n\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const theme = useTheme();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            const extension = query.get(\"p\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            const extension = query.get(\"name\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/content/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: \"arraybuffer\" })\n            .then((response) => {\n                const buffer = new Buffer(response.rawData, \"binary\");\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                setLoading(false);\n            });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const save = () => {\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"), content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(() => setStatus(\"\"), 2000);\n            })\n            .catch((error) => {\n                setStatus(\"\");\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const isSharePage = pathHelper.isSharePage(location.pathname);\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <div className={classes.toobar}>\n                    <FormControl className={classes.formControl}>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={suffix}\n                            onChange={(e) => setSuffix(e.target.value)}\n                        >\n                            {Array.from(\n                                new Set(\n                                    Object.keys(codePreviewSuffix).map((k) => {\n                                        return codePreviewSuffix[k];\n                                    })\n                                )\n                            ).map((extension) => (\n                                // eslint-disable-next-line react/jsx-key\n                                <MenuItem value={extension}>\n                                    {extension}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </div>\n                <Divider />\n                {loading && <TextLoading />}\n                {!loading && (\n                    <Suspense fallback={<TextLoading />}>\n                        <MonacoEditor\n                            height=\"600\"\n                            language={suffix}\n                            theme={\n                                theme.palette.type === \"dark\" ? \"vs-dark\" : \"vs\"\n                            }\n                            value={content}\n                            options={{\n                                readOnly: isSharePage,\n                                extraEditorClassName: classes.editor,\n                            }}\n                            onChange={(value) => setContent(value)}\n                        />\n                    </Suspense>\n                )}\n            </Paper>\n            {!isSharePage && <SaveButton onClick={save} status={status} />}\n        </div>\n    );\n}\n","import { isMac } from \"../utils\";\nimport pathHelper from \"../utils/page\";\nimport Auth from \"../middleware/Auth\";\nimport {\n    changeContextMenu,\n    openLoadingDialog,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    showAudioPreview,\n} from \"./index\";\nimport { isPreviewable } from \"../config\";\nimport { push } from \"connected-react-router\";\n\nexport const removeSelectedTargets = (fileIds) => {\n    return {\n        type: \"RMOVE_SELECTED_TARGETS\",\n        fileIds,\n    };\n};\n\nexport const addSelectedTargets = (targets) => {\n    return {\n        type: \"ADD_SELECTED_TARGETS\",\n        targets,\n    };\n};\n\nexport const setSelectedTarget = (targets) => {\n    return {\n        type: \"SET_SELECTED_TARGET\",\n        targets,\n    };\n};\n\nexport const setLastSelect = (file, index) => {\n    return {\n        type: \"SET_LAST_SELECT\",\n        file,\n        index,\n    };\n};\n\nexport const setShiftSelectedIds = (shiftSelectedIds) => {\n    return {\n        type: \"SET_SHIFT_SELECTED_IDS\",\n        shiftSelectedIds,\n    };\n};\n\nexport const openPreview = () => {\n    return (dispatch, getState) => {\n        const {\n            explorer: { selected },\n            router: {\n                location: { pathname },\n            },\n        } = getState();\n        const isShare = pathHelper.isSharePage(pathname);\n        if (isShare) {\n            if (!Auth.Check()) {\n                dispatch(toggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\"));\n                dispatch(changeContextMenu(\"file\", false));\n                return;\n            }\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                dispatch(toggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\"));\n                dispatch(changeContextMenu(\"file\", false));\n                return;\n            }\n        }\n\n        dispatch(changeContextMenu(\"file\", false));\n        const previewPath =\n            selected[0].path === \"/\"\n                ? selected[0].path + selected[0].name\n                : selected[0].path + \"/\" + selected[0].name;\n        switch (isPreviewable(selected[0].name)) {\n            case \"img\":\n                dispatch(showImgPreivew(selected[0]));\n                return;\n            case \"msDoc\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/doc?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/doc?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"audio\":\n                //if (isShare) {\n                //    dispatch(openMusicDialog());\n                //}else{\n                    dispatch(showAudioPreview(selected[0]));\n                //}\n                return;\n            case \"video\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/video?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/video?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"pdf\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/pdf?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/pdf?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"edit\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/text?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/text?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"code\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/code?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/code?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            default:\n                dispatch(openLoadingDialog(\"获取下载地址...\"));\n                return;\n        }\n    };\n};\n\nexport const selectFile = (file, event, fileIndex) => {\n    const { ctrlKey, metaKey, shiftKey } = event;\n    return (dispatch, getState) => {\n        // 多种组合操作忽略\n        if ([ctrlKey, metaKey, shiftKey].filter(Boolean).length > 1) {\n            return;\n        }\n        const isMacbook = isMac();\n        const { explorer } = getState();\n        const {\n            selected,\n            lastSelect,\n            dirList,\n            fileList,\n            shiftSelectedIds,\n        } = explorer;\n        if (\n            shiftKey &&\n            !ctrlKey &&\n            !metaKey &&\n            selected.length !== 0 &&\n            // 点击类型一样\n            file.type === lastSelect.file.type\n        ) {\n            // shift 多选\n            // 取消原有选择\n            dispatch(removeSelectedTargets(selected.map((v) => v.id)));\n            // 添加新选择\n            const begin = Math.min(lastSelect.index, fileIndex);\n            const end = Math.max(lastSelect.index, fileIndex);\n            const list = file.type === \"dir\" ? dirList : fileList;\n            const newShiftSelected = list.slice(begin, end + 1);\n            return dispatch(addSelectedTargets(newShiftSelected));\n        }\n        dispatch(setLastSelect(file, fileIndex));\n        dispatch(setShiftSelectedIds([]));\n        if ((ctrlKey && !isMacbook) || (metaKey && isMacbook)) {\n            // Ctrl/Command 单击添加/删除\n            const presentIndex = selected.findIndex((value) => {\n                return value.id === file.id;\n            });\n            if (presentIndex !== -1) {\n                return dispatch(removeSelectedTargets([file.id]));\n            }\n            return dispatch(addSelectedTargets([file]));\n        }\n        // 单选\n        return dispatch(setSelectedTarget([file]));\n    };\n};\n","export * from \"./explorer\";\n\nexport const setNavigator = (path, navigatorLoading) => {\n    return {\n        type: \"SET_NAVIGATOR\",\n        path,\n        navigatorLoading,\n    };\n};\n\nexport const navigateTo = (path) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const navigatorLoading = path !== state.navigator.path;\n        dispatch(setNavigator(path, navigatorLoading));\n    };\n};\n\nexport const navigateUp = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const pathSplit = state.navigator.path.split(\"/\");\n        pathSplit.pop();\n        const newPath = pathSplit.length === 1 ? \"/\" : pathSplit.join(\"/\");\n        const navigatorLoading = newPath !== state.navigator.path;\n        dispatch(setNavigator(newPath, navigatorLoading));\n    };\n};\n\nexport const drawerToggleAction = (open) => {\n    return {\n        type: \"DRAWER_TOGGLE\",\n        open: open,\n    };\n};\n\nexport const dragAndDrop = (source, target) => {\n    return {\n        type: \"DRAG_AND_DROP\",\n        source: source,\n        target: target,\n    };\n};\n\nexport const changeViewMethod = (method) => {\n    return {\n        type: \"CHANGE_VIEW_METHOD\",\n        method: method,\n    };\n};\n\nexport const toggleDaylightMode = () => {\n    return {\n        type: \"TOGGLE_DAYLIGHT_MODE\",\n    };\n};\n\nexport const changeContextMenu = (type, open) => {\n    return {\n        type: \"CHANGE_CONTEXT_MENU\",\n        menuType: type,\n        open: open,\n    };\n};\n\nexport const setNavigatorLoadingStatus = (status) => {\n    return {\n        type: \"SET_NAVIGATOR_LOADING_STATUE\",\n        status: status,\n    };\n};\n\nexport const setNavigatorError = (status, msg) => {\n    return {\n        type: \"SET_NAVIGATOR_ERROR\",\n        status: status,\n        msg: msg,\n    };\n};\n\nexport const openCreateFolderDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FOLDER_DIALOG\",\n    };\n};\n\nexport const openCreateFileDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FILE_DIALOG\",\n    };\n};\n\nexport const setUserPopover = (anchor) => {\n    return {\n        type: \"SET_USER_POPOVER\",\n        anchor: anchor,\n    };\n};\n\nexport const setShareUserPopover = (anchor) => {\n    return {\n        type: \"SET_SHARE_USER_POPOVER\",\n        anchor: anchor,\n    };\n};\n\nexport const openRenameDialog = () => {\n    return {\n        type: \"OPEN_RENAME_DIALOG\",\n    };\n};\n\nexport const openResaveDialog = (key) => {\n    return {\n        type: \"OPEN_RESAVE_DIALOG\",\n        key: key,\n    };\n};\n\nexport const openMoveDialog = () => {\n    return {\n        type: \"OPEN_MOVE_DIALOG\",\n    };\n};\n\nexport const openRemoveDialog = () => {\n    return {\n        type: \"OPEN_REMOVE_DIALOG\",\n    };\n};\n\nexport const openShareDialog = () => {\n    return {\n        type: \"OPEN_SHARE_DIALOG\",\n    };\n};\n\nexport const applyThemes = (theme) => {\n    return {\n        type: \"APPLY_THEME\",\n        theme: theme,\n    };\n};\n\nexport const setSessionStatus = (status) => {\n    return {\n        type: \"SET_SESSION_STATUS\",\n        status: status,\n    };\n};\n\nexport const openMusicDialog = () => {\n    return {\n        type: \"OPEN_MUSIC_DIALOG\",\n    };\n};\n\nexport const openRemoteDownloadDialog = () => {\n    return {\n        type: \"OPEN_REMOTE_DOWNLOAD_DIALOG\",\n    };\n};\n\nexport const openTorrentDownloadDialog = () => {\n    return {\n        type: \"OPEN_TORRENT_DOWNLOAD_DIALOG\",\n    };\n};\n\nexport const openDecompressDialog = () => {\n    return {\n        type: \"OPEN_DECOMPRESS_DIALOG\",\n    };\n};\n\nexport const openCompressDialog = () => {\n    return {\n        type: \"OPEN_COMPRESS_DIALOG\",\n    };\n};\n\nexport const openRelocateDialog = () => {\n    return {\n        type: \"OPEN_RELOCATE_DIALOG\",\n    };\n};\n\nexport const openGetSourceDialog = () => {\n    return {\n        type: \"OPEN_GET_SOURCE_DIALOG\",\n    };\n};\n\nexport const openCopyDialog = () => {\n    return {\n        type: \"OPEN_COPY_DIALOG\",\n    };\n};\n\nexport const openLoadingDialog = (text) => {\n    return {\n        type: \"OPEN_LOADING_DIALOG\",\n        text: text,\n    };\n};\n\nexport const closeAllModals = () => {\n    return {\n        type: \"CLOSE_ALL_MODALS\",\n    };\n};\n\nexport const toggleSnackbar = (vertical, horizontal, msg, color) => {\n    return {\n        type: \"TOGGLE_SNACKBAR\",\n        vertical: vertical,\n        horizontal: horizontal,\n        msg: msg,\n        color: color,\n    };\n};\n\nexport const enableLoadUploader = () => {\n    return {\n        type: \"ENABLE_LOAD_UPLOADER\",\n    };\n};\n\nexport const setModalsLoading = (status) => {\n    return {\n        type: \"SET_MODALS_LOADING\",\n        status: status,\n    };\n};\n\nexport const refreshFileList = () => {\n    return {\n        type: \"REFRESH_FILE_LIST\",\n    };\n};\n\nexport const searchMyFile = (keywords) => {\n    return {\n        type: \"SEARCH_MY_FILE\",\n        keywords: keywords,\n    };\n};\n\nexport const showImgPreivew = (first) => {\n    return {\n        type: \"SHOW_IMG_PREIVEW\",\n        first: first,\n    };\n};\n\nexport const showAudioPreview = (first) => {\n    return {\n        type: \"SHOW_AUDIO_PREVIEW\",\n        first: first,\n    };\n};\n\nexport const audioPreviewSetIsOpen = (isOpen) => {\n    return {\n        type: \"AUDIO_PREVIEW_SET_IS_OPEN\",\n        isOpen,\n    };\n};\n\nexport const audioPreviewSetPlaying = (playingName,paused) => {\n    return {\n        type: \"AUDIO_PREVIEW_SET_PLAYING\",\n        playingName,//the playing content name\n        paused,\n    };\n};\n\n\nexport const refreshStorage = () => {\n    return {\n        type: \"REFRESH_STORAGE\",\n    };\n};\n\nexport const saveFile = () => {\n    return {\n        type: \"SAVE_FILE\",\n    };\n};\n\nexport const setSiteConfig = (config) => {\n    return {\n        type: \"SET_SITE_CONFIG\",\n        config: config,\n    };\n};\n","export const imgPreviewSuffix = [\n    \"bmp\",\n    \"png\",\n    \"gif\",\n    \"jpg\",\n    \"jpeg\",\n    \"svg\",\n    \"webp\",\n];\nexport const msDocPreviewSuffix = [\n    \"ppt\",\n    \"pptx\",\n    \"pps\",\n    \"doc\",\n    \"docx\",\n    \"xlsx\",\n    \"xls\",\n];\nexport const audioPreviewSuffix = [\"mp3\", \"ogg\",\"flac\"];\nexport const videoPreviewSuffix = [\"mp4\", \"mkv\", \"webm\"];\nexport const pdfPreviewSuffix = [\"pdf\"];\nexport const editSuffix = [\"md\", \"txt\"];\nexport const codePreviewSuffix = {\n    json: \"json\",\n    php: \"php\",\n    py: \"python\",\n    bat: \"bat\",\n    cpp: \"cpp\",\n    c: \"cpp\",\n    h: \"cpp\",\n    cs: \"csharp\",\n    css: \"css\",\n    dockerfile: \"dockerfile\",\n    go: \"go\",\n    html: \"html\",\n    ini: \"ini\",\n    java: \"java\",\n    js: \"javascript\",\n    jsx: \"javascript\",\n    less: \"less\",\n    lua: \"lua\",\n    sh: \"shell\",\n    sql: \"sql\",\n    xml: \"xml\",\n    yaml: \"yaml\",\n};\nexport const mediaType = {\n    audio: [\"mp3\", \"flac\", \"ape\", \"wav\", \"acc\", \"ogg\"],\n    video: [\"mp4\", \"flv\", \"avi\", \"wmv\", \"mkv\", \"rm\", \"rmvb\", \"mov\", \"ogv\"],\n    image: [\"bmp\", \"iff\", \"png\", \"gif\", \"jpg\", \"jpeg\", \"psd\", \"svg\", \"webp\"],\n    pdf: [\"pdf\"],\n    word: [\"doc\", \"docx\"],\n    ppt: [\"ppt\", \"pptx\"],\n    excel: [\"xls\", \"xlsx\", \"csv\"],\n    text: [\"txt\", \"md\", \"html\"],\n    torrent: [\"torrent\"],\n    zip: [\"zip\", \"gz\", \"tar\", \"rar\", \"7z\"],\n    excute: [\"exe\"],\n    android: [\"apk\"],\n    php: [\"php\"],\n    go: [\"go\"],\n    python: [\"py\"],\n    cpp: [\"cpp\"],\n    c: [\"c\"],\n    js: [\"js\", \"jsx\"],\n};\nexport const policyTypeMap = {\n    local: \"本机\",\n    remote: \"从机\",\n    qiniu: \"七牛\",\n    upyun: \"又拍云\",\n    oss: \"阿里云 OSS\",\n    cos: \"腾讯云\",\n    onedrive: \"OneDrive\",\n    s3: \"Amazon S3\",\n};\nexport const isPreviewable = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if (imgPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"img\";\n    } else if (msDocPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"msDoc\";\n    } else if (audioPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"audio\";\n    } else if (videoPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"video\";\n    } else if (editSuffix.indexOf(suffix) !== -1) {\n        return \"edit\";\n    } else if (pdfPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"pdf\";\n    } else if (Object.keys(codePreviewSuffix).indexOf(suffix) !== -1) {\n        return \"code\";\n    }\n    return false;\n};\nexport const isTorrent = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if (mediaType.torrent.indexOf(suffix) !== -1) {\n        return true;\n    }\n    return false;\n};\n\nexport const isCompressFile = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    return suffix === \"zip\";\n};\n\nconst taskStatus = [\"排队中\", \"处理中\", \"失败\", \"取消\", \"已完成\"];\nconst taskType = [\"压缩\", \"解压缩\", \"文件中转\", \"导入外部目录\", \"存储策略转移\"];\nconst taskProgress = [\n    \"等待中\",\n    \"压缩中\",\n    \"解压缩中\",\n    \"下载中\",\n    \"转存中\",\n    \"索引中\",\n    \"插入中\",\n];\n\nexport const getTaskStatus = (status) => {\n    return taskStatus[status];\n};\n\nexport const getTaskType = (status) => {\n    return taskType[status];\n};\n\nexport const getTaskProgress = (type, status) => {\n    if (type === 2) {\n        return \"已完成 \" + (status + 1) + \" 个文件\";\n    }\n    return taskProgress[status];\n};\n\nexport const reportReasons = [\n    \"色情信息\",\n    \"包含病毒\",\n    \"侵权\",\n    \"不恰当的言论\",\n    \"其他\",\n];\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {} from \"../../actions\";\nimport classNames from \"classnames\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\n\nimport { green, amber } from \"@material-ui/core/colors\";\n\nimport {\n    withStyles,\n    SnackbarContent,\n    Snackbar,\n    IconButton,\n} from \"@material-ui/core\";\n\nconst mapStateToProps = (state) => {\n    return {\n        snackbar: state.viewUpdate.snackbar,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n};\n\nconst styles1 = (theme) => ({\n    success: {\n        backgroundColor: theme.palette.success.main,\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n    },\n    info: {\n        backgroundColor: theme.palette.info.main,\n    },\n    warning: {\n        backgroundColor: theme.palette.warning.main,\n    },\n    icon: {\n        fontSize: 20,\n    },\n    iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing(1),\n    },\n    message: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n});\n\nfunction MySnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n\n    return (\n        <SnackbarContent\n            className={classNames(classes[variant], className)}\n            aria-describedby=\"client-snackbar\"\n            message={\n                <span id=\"client-snackbar\" className={classes.message}>\n                    <Icon\n                        className={classNames(\n                            classes.icon,\n                            classes.iconVariant\n                        )}\n                    />\n                    {message}\n                </span>\n            }\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"Close\"\n                    color=\"inherit\"\n                    className={classes.close}\n                    onClick={onClose}\n                >\n                    <CloseIcon className={classes.icon} />\n                </IconButton>,\n            ]}\n            {...other}\n        />\n    );\n}\nMySnackbarContent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf([\"alert\", \"success\", \"warning\", \"error\", \"info\"])\n        .isRequired,\n};\n\nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);\nconst styles = (theme) => ({\n    margin: {\n        margin: theme.spacing(1),\n    },\n});\nclass SnackbarCompoment extends Component {\n    state = {\n        open: false,\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (nextProps.snackbar.toggle !== this.props.snackbar.toggle) {\n            this.setState({ open: true });\n        }\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <Snackbar\n                anchorOrigin={{\n                    vertical: this.props.snackbar.vertical,\n                    horizontal: this.props.snackbar.horizontal,\n                }}\n                open={this.state.open}\n                autoHideDuration={6000}\n                onClose={this.handleClose}\n            >\n                <MySnackbarContentWrapper\n                    onClose={this.handleClose}\n                    variant={this.props.snackbar.color}\n                    message={this.props.snackbar.msg}\n                />\n            </Snackbar>\n        );\n    }\n}\n\nconst AlertBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(SnackbarCompoment));\n\nexport default AlertBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    LogoutVariant,\n    HomeAccount,\n    DesktopMacDashboard,\n    AccountArrowRight,\n    AccountPlus,\n} from \"mdi-material-ui\";\nimport {\n    setSessionStatus,\n    setUserPopover,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Avatar,\n    Popover,\n    Typography,\n    Chip,\n    ListItemIcon,\n    MenuItem,\n    Divider,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport pathHelper from \"../../utils/page\";\n\nconst mapStateToProps = (state) => {\n    return {\n        anchorEl: state.viewUpdate.userPopoverAnchorEl,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setSessionStatus: (status) => {\n            dispatch(setSessionStatus(status));\n        },\n    };\n};\nconst styles = () => ({\n    avatar: {\n        width: \"30px\",\n        height: \"30px\",\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\",\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge: {\n        marginTop: \"10px\",\n    },\n    visitorMenu: {\n        width: 200,\n    },\n});\n\nclass UserAvatarPopoverCompoment extends Component {\n    handleClose = () => {\n        this.props.setUserPopover(null);\n    };\n\n    openURL = (url) => {\n        window.location.href = url;\n    };\n\n    sigOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .then(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isAdminPage = pathHelper.isAdminPage(\n            this.props.location.pathname\n        );\n\n        return (\n            <Popover\n                open={this.props.anchorEl !== null}\n                onClose={this.handleClose}\n                anchorEl={this.props.anchorEl}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n            >\n                {!Auth.Check() && (\n                    <div className={classes.visitorMenu}>\n                        <Divider />\n                        <MenuItem\n                            onClick={() => this.props.history.push(\"/login\")}\n                        >\n                            <ListItemIcon>\n                                <AccountArrowRight />\n                            </ListItemIcon>\n                            登录\n                        </MenuItem>\n                        <MenuItem\n                            onClick={() => this.props.history.push(\"/signup\")}\n                        >\n                            <ListItemIcon>\n                                <AccountPlus />\n                            </ListItemIcon>\n                            注册\n                        </MenuItem>\n                    </div>\n                )}\n                {Auth.Check() && (\n                    <div>\n                        <div className={classes.header}>\n                            <div className={classes.largeAvatarContainer}>\n                                <Avatar\n                                    className={classes.largeAvatar}\n                                    src={\n                                        \"/api/v3/user/avatar/\" + user.id + \"/l\"\n                                    }\n                                />\n                            </div>\n                            <div className={classes.info}>\n                                <Typography noWrap>{user.nickname}</Typography>\n                                <Typography\n                                    color=\"textSecondary\"\n                                    style={{\n                                        fontSize: \"0.875rem\",\n                                    }}\n                                    noWrap\n                                >\n                                    {user.user_name}\n                                </Typography>\n                                <Chip\n                                    className={classes.badge}\n                                    color={\n                                        user.group.id === 1\n                                            ? \"secondary\"\n                                            : \"default\"\n                                    }\n                                    label={user.group.name}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <Divider />\n                            {!isAdminPage && (\n                                <MenuItem\n                                    style={{\n                                        padding: \" 11px 16px 11px 16px\",\n                                    }}\n                                    onClick={() => {\n                                        this.handleClose();\n                                        this.props.history.push(\n                                            \"/profile/\" + user.id\n                                        );\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <HomeAccount />\n                                    </ListItemIcon>\n                                    个人主页\n                                </MenuItem>\n                            )}\n                            {user.group.id === 1 && (\n                                <MenuItem\n                                    style={{\n                                        padding: \" 11px 16px 11px 16px\",\n                                    }}\n                                    onClick={() => {\n                                        this.handleClose();\n                                        this.props.history.push(\"/admin/home\");\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <DesktopMacDashboard />\n                                    </ListItemIcon>\n                                    管理面板\n                                </MenuItem>\n                            )}\n\n                            <MenuItem\n                                style={{\n                                    padding: \" 11px 16px 11px 16px\",\n                                }}\n                                onClick={this.sigOut}\n                            >\n                                <ListItemIcon>\n                                    <LogoutVariant />\n                                </ListItemIcon>\n                                退出登录\n                            </MenuItem>\n                        </div>\n                    </div>\n                )}\n            </Popover>\n        );\n    }\n}\n\nUserAvatarPopoverCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatarPopover = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarPopoverCompoment)));\n\nexport default UserAvatarPopover;\n","import React, { useCallback } from \"react\";\nimport {\n    Avatar,\n    IconButton,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n} from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Nas } from \"mdi-material-ui\";\nimport Popover from \"@material-ui/core/Popover\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { Check } from \"@material-ui/icons\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport { blue, green } from \"@material-ui/core/colors\";\nimport List from \"@material-ui/core/List\";\n\nconst useStyles = makeStyles(() => ({\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800],\n    },\n}));\n\nconst PolicySwitcher = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [policies, setPolicies] = React.useState({\n        current: { id: \"\", name: \"\" },\n        options: [],\n    });\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleClick = (event) => {\n        if (policies.current.id === \"\") {\n            API.get(\"/user/setting/policies\", {})\n                .then((response) => {\n                    setPolicies(response.data);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const switchTo = (id) => {\n        if (id === policies.current.id) {\n            handleClose();\n            return;\n        }\n        API.patch(\"/user/setting/policy\", {\n            id: id,\n        })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? \"simple-popover\" : undefined;\n\n    const classes = useStyles();\n    return (\n        <>\n            <Tooltip title={\"存储策略\"} placement=\"bottom\">\n                <IconButton onClick={handleClick} color=\"inherit\">\n                    <Nas />\n                </IconButton>\n            </Tooltip>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"center\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }}\n            >\n                <List>\n                    {policies.options.map((value, index) => (\n                        <ListItem\n                            button\n                            component=\"label\"\n                            key={index}\n                            onClick={() => switchTo(value.id)}\n                        >\n                            <ListItemAvatar>\n                                {value.id === policies.current.id && (\n                                    <Avatar className={classes.policySelected}>\n                                        <Check />\n                                    </Avatar>\n                                )}\n                                {value.id !== policies.current.id && (\n                                    <Avatar className={classes.uploadFromFile}>\n                                        <Backup />\n                                    </Avatar>\n                                )}\n                            </ListItemAvatar>\n                            <ListItemText primary={value.name} />\n                        </ListItem>\n                    ))}\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default PolicySwitcher;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport SettingIcon from \"@material-ui/icons/Settings\";\nimport UserAvatarPopover from \"./UserAvatarPopover\";\nimport { AccountCircle } from \"mdi-material-ui\";\nimport { setUserPopover } from \"../../actions\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Grow,\n    Avatar,\n    IconButton,\n    Tooltip,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\";\nimport PolicySwitcher from \"./PolicySwitcher\";\nimport { Home } from \"@material-ui/icons\";\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    mobileHidden: {\n        [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\",\n        },\n        whiteSpace: \"nowrap\",\n    },\n    avatar: {\n        width: \"30px\",\n        height: \"30px\",\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\",\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge: {\n        marginTop: \"10px\",\n    },\n    visitorMenu: {\n        width: 200,\n    },\n});\n\nclass UserAvatarCompoment extends Component {\n    state = {\n        anchorEl: null,\n    };\n\n    showUserInfo = (e) => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    handleClose = () => {\n        this.setState({\n            anchorEl: null,\n        });\n    };\n\n    openURL = (url) => {\n        window.location.href = url;\n    };\n\n    returnHome = () => {\n        window.location.href = \"/home\";\n    };\n\n    render() {\n        const { classes } = this.props;\n        const loginCheck = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n        const isAdminPage = pathHelper.isAdminPage(\n            this.props.location.pathname\n        );\n\n        return (\n            <div className={classes.mobileHidden}>\n                <Grow\n                    in={\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                    }\n                >\n                    <div>\n                        {!isAdminPage && (\n                            <>\n                                <DarkModeSwitcher position=\"top\" />\n                                {loginCheck && (\n                                    <>\n                                        <PolicySwitcher />\n                                        <Tooltip\n                                            title={\"设置\"}\n                                            placement=\"bottom\"\n                                        >\n                                            <IconButton\n                                                onClick={() =>\n                                                    this.props.history.push(\n                                                        \"/setting?\"\n                                                    )\n                                                }\n                                                color=\"inherit\"\n                                            >\n                                                <SettingIcon />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </>\n                                )}\n                            </>\n                        )}\n                        {isAdminPage && (\n                            <Tooltip title={\"返回主页\"} placement=\"bottom\">\n                                <IconButton\n                                    color=\"inherit\"\n                                    onClick={this.returnHome}\n                                >\n                                    <Home />\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        <IconButton color=\"inherit\" onClick={this.showUserInfo}>\n                            {!loginCheck && <AccountCircle />}\n                            {loginCheck && (\n                                <Avatar\n                                    src={\n                                        \"/api/v3/user/avatar/\" + user.id + \"/s\"\n                                    }\n                                    className={classes.avatar}\n                                />\n                            )}\n                        </IconButton>{\" \"}\n                    </div>\n                </Grow>\n                <UserAvatarPopover />\n            </div>\n        );\n    }\n}\n\nUserAvatarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarCompoment)));\n\nexport default UserAvatar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport MusicNote from \"@material-ui/icons/MusicNote\";\nimport BackIcon from \"@material-ui/icons/ArrowBack\";\nimport Pageview from \"@material-ui/icons/Pageview\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AccountBalanceWallet from \"@material-ui/icons/AccountBalanceWallet\";\nimport ChatIcon from '@material-ui/icons/Chat';\nimport WebIcon from '@material-ui/icons/Web';\nimport LinkIcon from \"@material-ui/icons/InsertLink\";\nimport { isPreviewable } from \"../../config\";\nimport {\n    drawerToggleAction,\n    setSelectedTarget,\n    navigateTo,\n    openCreateFolderDialog,\n    openGetSourceDialog,\n    changeContextMenu,\n    searchMyFile,\n    saveFile,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    openRenameDialog,\n    openLoadingDialog,\n    setSessionStatus,\n    openPreview,\n    audioPreviewSetIsOpen,\n} from \"../../actions\";\nimport {\n    allowSharePreview,\n    checkGetParameters,\n    changeThemeColor,\n} from \"../../utils\";\nimport Uploader from \"../Upload/Uploader.js\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport pathHelper from \"../../utils/page\";\nimport SezrchBar from \"./SearchBar\";\nimport StorageBar from \"./StorageBar\";\nimport UserAvatar from \"./UserAvatar\";\nimport UserInfo from \"./UserInfo\";\nimport { AccountArrowRight, AccountPlus, LogoutVariant } from \"mdi-material-ui\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n    AppBar,\n    Toolbar,\n    Typography,\n    withStyles,\n    withTheme,\n    Drawer,\n    SwipeableDrawer,\n    IconButton,\n    Hidden,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    List,\n    Grow,\n    Tooltip,\n} from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport FileTag from \"./FileTags\";\nimport { Assignment, Devices, MoreHoriz, Settings } from \"@material-ui/icons\";\nimport Divider from \"@material-ui/core/Divider\";\nimport SubActions from \"../FileManager/Navigator/SubActions\";\n\nvhCheck();\nconst drawerWidth = 240;\nconst drawerWidthMobile = 270;\n\nconst mapStateToProps = (state) => {\n    return {\n        desktopOpen: state.viewUpdate.open,\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        keywords: state.explorer.keywords,\n        title: state.siteConfig.title,\n        subTitle: state.viewUpdate.subTitle,\n        loadUploader: state.viewUpdate.loadUploader,\n        isLogin: state.viewUpdate.isLogin,\n        audioPreviewPlayingName:state.explorer.audioPreview.playingName,\n        audioPreviewIsOpen:state.explorer.audioPreview.isOpen,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        handleDesktopToggle: (open) => {\n            dispatch(drawerToggleAction(open));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openGetSourceDialog: () => {\n            dispatch(openGetSourceDialog());\n        },\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        searchMyFile: (keywords) => {\n            dispatch(searchMyFile(keywords));\n        },\n        saveFile: () => {\n            dispatch(saveFile());\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n        setSessionStatus: () => {\n            dispatch(setSessionStatus());\n        },\n        openPreview: () => {\n            dispatch(openPreview());\n        },\n        audioPreviewOpen: () => {\n            dispatch(audioPreviewSetIsOpen(true));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    appBar: {\n        marginLeft: drawerWidth,\n        [theme.breakpoints.down(\"xs\")]: {\n            marginLeft: drawerWidthMobile,\n        },\n        zIndex: theme.zIndex.drawer + 1,\n        transition: \" background-color 250ms\",\n    },\n\n    drawer: {\n        width: 0,\n        flexShrink: 0,\n    },\n    drawerDesktop: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    icon: {\n        marginRight: theme.spacing(2),\n    },\n    menuButton: {\n        marginRight: 20,\n        [theme.breakpoints.up(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    menuButtonDesktop: {\n        marginRight: 20,\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    menuIcon: {\n        marginRight: 20,\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: drawerWidthMobile,\n    },\n    drawerPaperDesktop: {\n        width: drawerWidth,\n    },\n    upDrawer: {\n        overflowX: \"hidden\",\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerClose: {\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: \"hidden\",\n        width: 0,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    badge: {\n        top: 1,\n        right: -15,\n    },\n    nested: {\n        paddingLeft: theme.spacing(4),\n    },\n    sectionForFile: {\n        display: \"flex\",\n    },\n    extendedIcon: {\n        marginRight: theme.spacing(1),\n    },\n    addButton: {\n        marginLeft: \"40px\",\n        marginTop: \"25px\",\n        marginBottom: \"15px\",\n    },\n    fabButton: {\n        borderRadius: \"100px\",\n    },\n    badgeFix: {\n        right: \"10px\",\n    },\n    iconFix: {\n        marginLeft: \"16px\",\n    },\n    dividerFix: {\n        marginTop: \"8px\",\n    },\n    folderShareIcon: {\n        verticalAlign: \"sub\",\n        marginRight: \"5px\",\n    },\n    shareInfoContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        marginBottom: \"20px\",\n        marginLeft: \"28px\",\n        textDecoration: \"none\",\n    },\n    shareAvatar: {\n        width: \"40px\",\n        height: \"40px\",\n    },\n    stickFooter: {\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.paper,\n        width: \"100%\",\n    },\n    ownerInfo: {\n        marginLeft: \"10px\",\n        width: \"150px\",\n    },\n    minStickDrawer: {\n        overflowY: \"auto\",\n        [theme.breakpoints.up(\"sm\")]: {\n            height: \"calc(var(--vh, 100vh) - 145px)\",\n        },\n\n        [theme.breakpoints.down(\"sm\")]: {\n            minHeight: \"calc(var(--vh, 100vh) - 360px)\",\n        },\n    },\n});\nclass NavbarCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false,\n        };\n        this.UploaderRef = React.createRef();\n    }\n\n    UNSAFE_componentWillMount() {\n        this.unlisten = this.props.history.listen(() => {\n            this.setState(() => ({ mobileOpen: false }));\n        });\n    }\n    componentWillUnmount() {\n        this.unlisten();\n    }\n\n    componentDidMount = () => {\n        changeThemeColor(\n            this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)\n                ? this.props.theme.palette.primary.main\n                : this.props.theme.palette.background.default\n        );\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (\n            (this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)) !==\n            (nextProps.selected.length <= 1 &&\n                !(!nextProps.isMultiple && nextProps.withFile))\n        ) {\n            changeThemeColor(\n                !(\n                    this.props.selected.length <= 1 &&\n                    !(!this.props.isMultiple && this.props.withFile)\n                )\n                    ? this.props.theme.palette.type === \"dark\"\n                        ? this.props.theme.palette.background.default\n                        : this.props.theme.palette.primary.main\n                    : this.props.theme.palette.background.default\n            );\n        }\n    };\n\n    handleDrawerToggle = () => {\n        this.setState((state) => ({ mobileOpen: !state.mobileOpen }));\n    };\n\n    loadUploader = () => {\n        if (pathHelper.isHomePage(this.props.location.pathname)) {\n            return (\n                <>\n                    {this.props.loadUploader && this.props.isLogin && (\n                        <Uploader />\n                    )}\n                </>\n            );\n        }\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            return;\n        }\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    archiveDownload = () => {\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    signOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .finally(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser(this.props.isLogin);\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n        const getCookie =(name)=> {\n            const strcookie = document.cookie;//获取cookie字符串\n                const arrcookie = strcookie.split(\"; \");//分割\n                //遍历匹配\n                for ( let i = 0; i < arrcookie.length; i++) {\n                    const arr = arrcookie[i].split(\"=\");\n                    if (arr[0] == name){\n                        return unescape(arr[1]);\n                    }\n                }\n            return null;\n        }\n\n        const drawer = (\n            <div id=\"container\" className={classes.upDrawer}>\n                {pathHelper.isMobile() && <UserInfo />}\n\n                {Auth.Check(this.props.isLogin) && (\n                    <>\n                        <div className={classes.minStickDrawer}>\n                            <FileTag />\n                            <List>\n                                <ListItem\n                                    button\n                                    key=\"我的分享\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/shares?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <ShareIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"我的分享\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"离线下载\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/aria2?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <DownloadIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"离线下载\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"寻求资源\"\n                                    onClick={() => window.open('https://ask.bilnn.com/api/user/panlogin?token='+getCookie(\"token\"))}\n                                >\n                                    <ListItemIcon>\n                                        <Pageview\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"寻求资源\" />\n                                </ListItem>\n                                {user.group.webdav && (\n                                    <ListItem\n                                        button\n                                        key=\"WebDAV\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Devices\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"WebDAV\" />\n                                    </ListItem>\n                                )}\n\n                                <ListItem\n                                    button\n                                    key=\"任务队列\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/tasks?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <Assignment\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"任务队列\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"财务管理\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/ifm/c=user&a=account\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <AccountBalanceWallet\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"财务管理\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"在线客服\"\n                                    onClick={() => window._MEIQIA('showPanel')}\n                                >\n                                    <ListItemIcon>\n                                        <ChatIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"在线客服\" />\n                                </ListItem>\n                            </List>\n                        </div>\n\n                        {pathHelper.isMobile() && (\n                            <>\n                                <Divider />\n                                <List>\n                                    <ListItem\n                                        button\n                                        key=\"个人设置\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/setting?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Settings\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"个人设置\" />\n                                    </ListItem>\n\n                                    <ListItem\n                                        button\n                                        key=\"退出登录\"\n                                        onClick={this.signOut}\n                                    >\n                                        <ListItemIcon>\n                                            <LogoutVariant\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"退出登录\" />\n                                    </ListItem>\n                                </List>\n                            </>\n                        )}\n                        <div>\n                            <StorageBar></StorageBar>\n                        </div>\n                    </>\n                )}\n\n                {!Auth.Check(this.props.isLogin) && (\n                    <div>\n                        <ListItem\n                            button\n                            key=\"登录\"\n                            onClick={() => this.props.history.push(\"/login\")}\n                        >\n                            <ListItemIcon>\n                                <AccountArrowRight\n                                    className={classes.iconFix}\n                                />\n                            </ListItemIcon>\n                            <ListItemText primary=\"登录\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            key=\"注册\"\n                            onClick={() => this.props.history.push(\"/signup\")}\n                        >\n                            <ListItemIcon>\n                                <AccountPlus className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary=\"注册\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            key=\"官网首页\"\n                            onClick={() => window.location.href='https://www.bilnn.com/'}\n                        >\n                            <ListItemIcon>\n                                <WebIcon className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary=\"官网首页\" />\n                        </ListItem>\n                    </div>\n                )}\n            </div>\n        );\n        const iOS =\n            process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n        return (\n            <div>\n                <AppBar\n                    position=\"fixed\"\n                    className={classes.appBar}\n                    color={\n                        this.props.theme.palette.type !== \"dark\" &&\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                            ? \"primary\"\n                            : \"default\"\n                    }\n                >\n                    <Toolbar>\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={this.handleDrawerToggle}\n                                    className={classes.menuButton}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={() =>\n                                        this.props.handleDesktopToggle(\n                                            !this.props.desktopOpen\n                                        )\n                                    }\n                                    className={classes.menuButtonDesktop}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage ||\n                                pathHelper.isSharePage(\n                                    this.props.location.pathname\n                                )) && (\n                                <Grow\n                                    in={\n                                        this.props.selected.length > 1 ||\n                                        (!this.props.isMultiple &&\n                                            this.props.withFile)\n                                    }\n                                >\n                                    <IconButton\n                                        color=\"inherit\"\n                                        className={classes.menuIcon}\n                                        onClick={() =>\n                                            this.props.setSelectedTarget([])\n                                        }\n                                    >\n                                        <BackIcon />\n                                    </IconButton>\n                                </Grow>\n                            )}\n                        {getCookie(\"thisapp\")!=\"ok\" && !Auth.Check(this.props.isLogin) && this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap\n                                            onClick={() => {window.location.href='https://www.bilnn.com/'}}\n                                >\n                                    {this.props.subTitle\n                                        ? this.props.subTitle\n                                        : this.props.title}\n                                </Typography>\n                            )}\n                        {getCookie(\"thisapp\")==\"ok\" && !Auth.Check(this.props.isLogin) && this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap\n                                            onClick={() => {this.props.history.push(\"/\")}}\n                                >\n                                    {this.props.subTitle\n                                        ? this.props.subTitle\n                                        : this.props.title}\n                                </Typography>\n                            )}\n\n                        {!this.props.isMultiple &&\n                            this.props.withFile &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected[0].name}{\" \"}\n                                    {(isHomePage ||\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )) &&\n                                        \"(\" +\n                                            sizeToString(\n                                                this.props.selected[0].size\n                                            ) +\n                                            \")\"}\n                                </Typography>\n                            )}\n\n                        {this.props.selected.length > 1 &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected.length}个对象\n                                </Typography>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <SezrchBar />}\n                        <div className={classes.grow} />\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            !isHomePage &&\n                            !pathHelper.isSharePage(\n                                this.props.location.pathname\n                            ) &&\n                            Auth.Check(this.props.isLogin) &&\n                            !checkGetParameters(\"share\") && (\n                                <div className={classes.sectionForFile}>\n                                    <Tooltip title=\"保存\">\n                                        <IconButton\n                                            color=\"inherit\"\n                                            onClick={() =>\n                                                this.props.saveFile()\n                                            }\n                                        >\n                                            <SaveIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </div>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage || isSharePage) && (\n                                <div className={classes.sectionForFile}>\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile &&\n                                        isPreviewable(\n                                            this.props.selected[0].name\n                                        ) && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile &&\n                                                    isPreviewable(\n                                                        this.props.selected[0]\n                                                            .name\n                                                    )\n                                                }\n                                            >\n                                                <Tooltip title=\"打开\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openPreview()\n                                                        }\n                                                    >\n                                                        <OpenIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile\n                                                }\n                                            >\n                                                <Tooltip title=\"下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.openDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {(this.props.isMultiple ||\n                                        this.props.withFolder) &&\n                                        user.group.allowArchiveDownload && (\n                                            <Grow\n                                                in={\n                                                    (this.props.isMultiple ||\n                                                        this.props\n                                                            .withFolder) &&\n                                                    user.group\n                                                        .allowArchiveDownload\n                                                }\n                                            >\n                                                <Tooltip title=\"打包下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.archiveDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n\n                                    {!this.props.isMultiple &&\n                                        this.props.withFolder && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFolder\n                                                }\n                                            >\n                                                <Tooltip title=\"进入目录\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.navigateTo(\n                                                                this.props\n                                                                    .path ===\n                                                                    \"/\"\n                                                                    ? this.props\n                                                                          .path +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                                    : this.props\n                                                                          .path +\n                                                                          \"/\" +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                            )\n                                                        }\n                                                    >\n                                                        <OpenFolderIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"外链\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openGetSourceDialog()\n                                                    }\n                                                >\n                                                    <LinkIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!this.props.isMultiple &&\n                                        !pathHelper.isMobile() &&\n                                        !isSharePage && (\n                                            <Grow in={!this.props.isMultiple}>\n                                                <Tooltip title=\"分享\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openShareDialog()\n                                                        }\n                                                    >\n                                                        <ShareIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"重命名\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openRenameDialog()\n                                                    }\n                                                >\n                                                    <RenameIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!isSharePage && (\n                                        <div style={{ display: \"flex\" }}>\n                                            {!pathHelper.isMobile() && (\n                                                <Grow\n                                                    in={\n                                                        this.props.selected\n                                                            .length !== 0 &&\n                                                        !pathHelper.isMobile()\n                                                    }\n                                                >\n                                                    <Tooltip title=\"移动\">\n                                                        <IconButton\n                                                            color=\"inherit\"\n                                                            onClick={() =>\n                                                                this.props.openMoveDialog()\n                                                            }\n                                                        >\n                                                            <MoveIcon />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </Grow>\n                                            )}\n\n                                            <Grow\n                                                in={\n                                                    this.props.selected\n                                                        .length !== 0\n                                                }\n                                            >\n                                                <Tooltip title=\"删除\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openRemoveDialog()\n                                                        }\n                                                    >\n                                                        <DeleteIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n\n                                            {pathHelper.isMobile() && (\n                                                <Grow\n                                                    in={\n                                                        this.props.selected\n                                                            .length !== 0 &&\n                                                        pathHelper.isMobile()\n                                                    }\n                                                >\n                                                    <Tooltip title=\"更多操作\">\n                                                        <IconButton\n                                                            color=\"inherit\"\n                                                            onClick={() =>\n                                                                this.props.changeContextMenu(\n                                                                    \"file\",\n                                                                    true\n                                                                )\n                                                            }\n                                                        >\n                                                            <MoreHoriz />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </Grow>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && this.props.audioPreviewPlayingName!=null && (\n                            <IconButton\n                                title=\"音乐\"\n                                className={classes.sideButton}\n                                onClick={this.props.audioPreviewOpen}\n                                color={\"inherit\"}\n                            >\n                                <MusicNote fontSize={ \"default\"} />\n                            </IconButton>\n                        )}\n\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <UserAvatar />}\n                        {this.props.selected.length <= 1 &&\n                            !(!this.props.isMultiple && this.props.withFile) &&\n                            isHomePage &&\n                            pathHelper.isMobile() && <SubActions inherit />}\n                    </Toolbar>\n                </AppBar>\n                {this.loadUploader()}\n\n                <Hidden smUp implementation=\"css\">\n                    <SwipeableDrawer\n                        container={this.props.container}\n                        variant=\"temporary\"\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        anchor=\"left\"\n                        open={this.state.mobileOpen}\n                        onClose={this.handleDrawerToggle}\n                        onOpen={() =>\n                            this.setState(() => ({ mobileOpen: true }))\n                        }\n                        disableDiscovery={iOS}\n                        ModalProps={{\n                            keepMounted: true, // Better open performance on mobile.\n                        }}\n                    >\n                        {drawer}\n                    </SwipeableDrawer>\n                </Hidden>\n                <Hidden xsDown implementation=\"css\">\n                    <Drawer\n                        classes={{\n                            paper: classes.drawerPaperDesktop,\n                        }}\n                        className={classNames(classes.drawer, {\n                            [classes.drawerOpen]: this.props.desktopOpen,\n                            [classes.drawerClose]: !this.props.desktopOpen,\n                        })}\n                        variant=\"persistent\"\n                        anchor=\"left\"\n                        open={this.props.desktopOpen}\n                    >\n                        <div className={classes.toolbar} />\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </div>\n        );\n    }\n}\nNavbarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n};\n\nconst Navbar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTheme(withStyles(styles)(withRouter(NavbarCompoment))));\n\nexport default Navbar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport { connect } from \"react-redux\";\nimport { searchMyFile } from \"../../actions\";\n\nimport {\n    withStyles,\n    InputBase,\n    Popper,\n    Fade,\n    Paper,\n    MenuItem,\n    ListItemIcon,\n    ListItemText,\n    Typography,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport { HotKeys, configure } from \"react-hotkeys\";\n\nconfigure({\n    ignoreTags: [],\n});\n\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        searchMyFile: (keywords) => {\n            dispatch(searchMyFile(keywords));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    search: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n        position: \"relative\",\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        \"&:hover\": {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: \"100%\",\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: theme.spacing(7.2),\n            width: \"auto\",\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(9),\n        height: \"100%\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    inputRoot: {\n        color: \"inherit\",\n        width: \"100%\",\n    },\n    inputInput: {\n        paddingTop: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        paddingLeft: theme.spacing(7),\n        transition: theme.transitions.create(\"width\"),\n        width: \"100%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: 200,\n            \"&:focus\": {\n                width: 300,\n            },\n        },\n    },\n    suggestBox: {\n        zIndex: \"9999\",\n        width: 364,\n    },\n});\n\nconst keyMap = {\n    SEARCH: \"enter\",\n};\n\nclass SearchBarCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            input: \"\",\n        };\n    }\n\n    handlers = {\n        SEARCH: (e) => {\n            if (pathHelper.isHomePage(this.props.location.pathname)) {\n                this.searchMyFile();\n            } else {\n                this.searchShare();\n            }\n            e.target.blur();\n        },\n    };\n\n    handleChange = (event) => {\n        const { currentTarget } = event;\n        this.input = event.target.value;\n        this.setState({\n            anchorEl: currentTarget,\n            input: event.target.value,\n        });\n    };\n\n    cancelSuggest = () => {\n        this.setState({\n            input: \"\",\n        });\n    };\n\n    searchMyFile = () => {\n        this.props.searchMyFile(\"keywords/\" + this.input);\n    };\n\n    searchShare = () => {\n        this.props.history.push(\n            \"/search?keywords=\" + encodeURIComponent(this.input)\n        );\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { anchorEl } = this.state;\n        const id = this.state.input !== \"\" ? \"simple-popper\" : null;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        return (\n            <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                    <SearchIcon />\n                </div>\n                <HotKeys keyMap={keyMap} handlers={this.handlers}>\n                    <InputBase\n                        placeholder=\"搜索...\"\n                        classes={{\n                            root: classes.inputRoot,\n                            input: classes.inputInput,\n                        }}\n                        onChange={this.handleChange}\n                        onBlur={this.cancelSuggest}\n                        value={this.state.input}\n                    />\n                </HotKeys>\n                <Popper\n                    id={id}\n                    open={this.state.input !== \"\"}\n                    anchorEl={anchorEl}\n                    className={classes.suggestBox}\n                    transition\n                >\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper square={true}>\n                                {isHomePage && (\n                                    <MenuItem onClick={this.searchMyFile}>\n                                        <ListItemIcon className={classes.icon}>\n                                            <FileIcon />\n                                        </ListItemIcon>\n                                        <ListItemText\n                                            classes={{\n                                                primary: classes.primary,\n                                            }}\n                                            primary={\n                                                <Typography noWrap>\n                                                    在我的文件中搜索{\" \"}\n                                                    <strong>\n                                                        {this.state.input}\n                                                    </strong>\n                                                </Typography>\n                                            }\n                                        />\n                                    </MenuItem>\n                                )}\n\n                                <MenuItem onClick={this.searchShare}>\n                                    <ListItemIcon className={classes.icon}>\n                                        <ShareIcon />\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        classes={{ primary: classes.primary }}\n                                        primary={\n                                            <Typography noWrap>\n                                                在全站分享中搜索{\" \"}\n                                                <strong>\n                                                    {this.state.input}\n                                                </strong>\n                                            </Typography>\n                                        }\n                                    />\n                                </MenuItem>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n            </div>\n        );\n    }\n}\n\nSearchBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst SearchBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SearchBarCompoment)));\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport { connect } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport { sizeToString } from \"../../utils\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    LinearProgress,\n    Typography,\n    Divider,\n    Tooltip,\n} from \"@material-ui/core\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport Link from \"@material-ui/core/Link\";\nimport { withRouter } from \"react-router\";\n\nconst mapStateToProps = (state) => {\n    return {\n        refresh: state.viewUpdate.storageRefresh,\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    iconFix: {\n        marginLeft: \"32px\",\n        marginRight: \"17px\",\n        color: theme.palette.text.secondary,\n        marginTop: \"2px\",\n    },\n    textFix: {\n        padding: \" 0 0 0 16px\",\n    },\n    storageContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        textAlign: \"left\",\n        marginBottom: \"11px\",\n    },\n    detail: {\n        width: \"100%\",\n        marginRight: \"35px\",\n    },\n    info: {\n        width: \"131px\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"162px\",\n        },\n        marginTop: \"5px\",\n    },\n    bar: {\n        marginTop: \"5px\",\n    },\n    stickFooter: {\n        backgroundColor: theme.palette.background.paper,\n    },\n});\n\nclass StorageBarCompoment extends Component {\n    state = {\n        percent: 0,\n        used: null,\n        total: null,\n        showExpand: false,\n    };\n\n    firstLoad = true;\n\n    componentDidMount = () => {\n        if (this.firstLoad && this.props.isLogin) {\n            this.firstLoad = !this.firstLoad;\n            this.updateStatus();\n        }\n    };\n\n    componentWillUnmount() {\n        this.firstLoad = false;\n    }\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (\n            (this.props.isLogin && this.props.refresh !== nextProps.refresh) ||\n            (this.props.isLogin !== nextProps.isLogin && nextProps.isLogin)\n        ) {\n            this.updateStatus();\n        }\n    };\n\n    updateStatus = () => {\n        let percent = 0;\n        API.get(\"/user/storage\")\n            .then((response) => {\n                if (response.data.used / response.data.total >= 1) {\n                    percent = 100;\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"您的已用容量已超过容量配额，请尽快删除多余文件或购买容量\",\n                        \"warning\"\n                    );\n                } else {\n                    percent = (response.data.used / response.data.total) * 100;\n                }\n                this.setState({\n                    percent: percent,\n                    used: sizeToString(response.data.used),\n                    total: sizeToString(response.data.total),\n                });\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .catch(() => {});\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div\n                onMouseEnter={() => this.setState({ showExpand: true })}\n                onMouseLeave={() => this.setState({ showExpand: false })}\n                className={classes.stickFooter}\n            >\n                <Divider />\n                <ButtonBase onClick={() => this.props.history.push(\"/quota\")}>\n                    <div className={classes.storageContainer}>\n                        <StorageIcon className={classes.iconFix} />\n                        <div className={classes.detail}>\n                            存储空间{\"   \"}\n                            {this.state.showExpand && (\n                                <Link href={\"/buy\"} color={\"secondary\"}>\n                                    扩容\n                                </Link>\n                            )}\n                            <LinearProgress\n                                className={classes.bar}\n                                color=\"secondary\"\n                                variant=\"determinate\"\n                                value={this.state.percent}\n                            />\n                            <div className={classes.info}>\n                                <Tooltip\n                                    title={\n                                        \"已使用 \" +\n                                        (this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used) +\n                                        \", 共 \" +\n                                        (this.state.total === null\n                                            ? \" -- \"\n                                            : this.state.total)\n                                    }\n                                    placement=\"top\"\n                                >\n                                    <Typography\n                                        variant=\"caption\"\n                                        noWrap\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used}\n                                        {\" / \"}\n                                        {this.state.total === null\n                                            ? \" -- \"\n                                            : this.state.total}\n                                    </Typography>\n                                </Tooltip>\n                            </div>\n                        </div>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nStorageBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst StorageBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(StorageBarCompoment)));\n\nexport default StorageBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { setUserPopover } from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst mapStateToProps = (state) => {\n    return {\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    userNav: {\n        height: \"170px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n    },\n    avatar: {\n        display: \"block\",\n        width: \"70px\",\n        height: \"70px\",\n        border: \" 2px solid #fff\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        boxShadow:\n            \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n    },\n    avatarImg: {\n        width: \"66px\",\n        height: \"66px\",\n    },\n    nickName: {\n        color: \"#fff\",\n        marginLeft: \"10px\",\n        marginTop: \"15px\",\n        fontSize: \"17px\",\n    },\n    flexAvatar: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"end\",\n    },\n    groupName: {\n        marginLeft: \"10px\",\n        color: \"#ffffff\",\n        opacity: \"0.54\",\n    },\n    storageCircle: {\n        width: \"200px\",\n    },\n});\n\nclass UserInfoCompoment extends Component {\n    showUserInfo = (e) => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isLogin = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n\n        return (\n            <div className={classes.userNav}>\n                <div className={classes.flexAvatar}>\n                    {/* eslint-disable-next-line */}\n                    <a onClick={this.showUserInfo} className={classes.avatar}>\n                        {isLogin && (\n                            <Avatar\n                                src={\"/api/v3/user/avatar/\" + user.id + \"/l\"}\n                                className={classes.avatarImg}\n                            />\n                        )}\n                        {!isLogin && (\n                            <Avatar\n                                src={\"/api/v3/user/avatar/0/l\"}\n                                className={classes.avatarImg}\n                            />\n                        )}\n                    </a>\n                    <DarkModeSwitcher position=\"left\" />\n                </div>\n                <div className={classes.storageCircle}>\n                    <Typography\n                        className={classes.nickName}\n                        component=\"h2\"\n                        noWrap\n                    >\n                        {isLogin ? user.nickname : \"未登录\"}\n                    </Typography>\n                    <Typography\n                        className={classes.groupName}\n                        component=\"h2\"\n                        color=\"textSecondary\"\n                        noWrap\n                    >\n                        {isLogin ? user.group.name : \"游客\"}\n                    </Typography>\n                </div>\n            </div>\n        );\n    }\n}\n\nUserInfoCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserInfo = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(UserInfoCompoment));\n\nexport default UserInfo;\n","import React, { useCallback, useState, Suspense } from \"react\";\nimport {\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    withStyles,\n} from \"@material-ui/core\";\nimport { Clear, KeyboardArrowRight } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport FolderShared from \"@material-ui/icons/FolderShared\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport VideoIcon from \"@material-ui/icons/VideoLibraryOutlined\";\nimport ImageIcon from \"@material-ui/icons/CollectionsOutlined\";\nimport MusicIcon from \"@material-ui/icons/LibraryMusicOutlined\";\nimport DocIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport { useHistory, useLocation } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport { navigateTo, searchMyFile, toggleSnackbar } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    Circle,\n    CircleOutline,\n    Heart,\n    HeartOutline,\n    Hexagon,\n    HexagonOutline,\n    Hexagram,\n    HexagramOutline,\n    Rhombus,\n    RhombusOutline,\n    Square,\n    SquareOutline,\n    Triangle,\n    TriangleOutline,\n    FolderHeartOutline,\n    TagPlus,\n} from \"mdi-material-ui\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport API from \"../../middleware/Api\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": { margin: 0 },\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 0,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"block\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    expand: {\n        display: \"none\",\n        transition: \".15s all ease-in-out\",\n    },\n    expanded: {\n        display: \"block\",\n        transform: \"rotate(90deg)\",\n    },\n    iconFix: {\n        marginLeft: \"16px\",\n    },\n    hiddenButton: {\n        display: \"none\",\n    },\n    subMenu: {\n        marginLeft: theme.spacing(2),\n    },\n    overFlow: {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n    },\n}));\n\nconst icons = {\n    Circle: Circle,\n    CircleOutline: CircleOutline,\n    Heart: Heart,\n    HeartOutline: HeartOutline,\n    Hexagon: Hexagon,\n    HexagonOutline: HexagonOutline,\n    Hexagram: Hexagram,\n    HexagramOutline: HexagramOutline,\n    Rhombus: Rhombus,\n    RhombusOutline: RhombusOutline,\n    Square: Square,\n    SquareOutline: SquareOutline,\n    Triangle: Triangle,\n    TriangleOutline: TriangleOutline,\n    FolderHeartOutline: FolderHeartOutline,\n};\n\nconst AddTag = React.lazy(() => import(\"../Modals/AddTag\"));\n\nexport default function FileTag() {\n    const classes = useStyles();\n\n    const location = useLocation();\n    const history = useHistory();\n\n    const isHomePage = pathHelper.isHomePage(location.pathname);\n\n    const [tagOpen, setTagOpen] = useState(true);\n    const [addTagModal, setAddTagModal] = useState(false);\n    const [tagHover, setTagHover] = useState(null);\n    const [tags, setTags] = useState(\n        Auth.GetUser().tags ? Auth.GetUser().tags : []\n    );\n\n    const dispatch = useDispatch();\n    const SearchMyFile = useCallback((k) => dispatch(searchMyFile(k)), [\n        dispatch,\n    ]);\n    const NavigateTo = useCallback((k) => dispatch(navigateTo(k)), [dispatch]);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const getIcon = (icon, color) => {\n        if (icons[icon]) {\n            const IconComponent = icons[icon];\n            return (\n                <IconComponent\n                    className={[classes.iconFix]}\n                    style={\n                        color\n                            ? {\n                                  color: color,\n                              }\n                            : {}\n                    }\n                />\n            );\n        }\n        return <Circle className={[classes.iconFix]} />;\n    };\n\n    const submitSuccess = (tag) => {\n        const newTags = [...tags, tag];\n        setTags(newTags);\n        const user = Auth.GetUser();\n        user.tags = newTags;\n        Auth.SetUser(user);\n    };\n\n    const submitDelete = (id) => {\n        API.delete(\"/tag/\" + id)\n            .then(() => {\n                const newTags = tags.filter((v) => {\n                    return v.id !== id;\n                });\n                setTags(newTags);\n                const user = Auth.GetUser();\n                user.tags = newTags;\n                Auth.SetUser(user);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <>\n            <Suspense fallback={\"\"}>\n                <AddTag\n                    onSuccess={submitSuccess}\n                    open={addTagModal}\n                    onClose={() => setAddTagModal(false)}\n                />\n            </Suspense>\n            <ExpansionPanel\n                square\n                expanded={tagOpen && isHomePage}\n                onChange={() => isHomePage && setTagOpen(!tagOpen)}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <ListItem\n                        button\n                        key=\"我的文件\"\n                        onClick={() =>\n                            !isHomePage && history.push(\"/home?path=%2F\")\n                        }\n                    >\n                        <ListItemIcon>\n                            <KeyboardArrowRight\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            tagOpen && isHomePage,\n                                        [classes.iconFix]: true,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                            {!(tagOpen && isHomePage) && (\n                                <FolderShared className={classes.iconFix} />\n                            )}\n                        </ListItemIcon>\n                        <ListItemText primary=\"我的文件\" />\n                    </ListItem>\n                    <Divider />\n                </ExpansionPanelSummary>\n\n                <ExpansionPanelDetails>\n                    <List onMouseLeave={() => setTagHover(null)}>\n                        <ListItem\n                            button\n                            id=\"pickfiles\"\n                            className={classes.hiddenButton}\n                        >\n                            <ListItemIcon>\n                                <UploadIcon />\n                            </ListItemIcon>\n                            <ListItemText />\n                        </ListItem>\n                        <ListItem\n                            button\n                            id=\"pickfolder\"\n                            className={classes.hiddenButton}\n                        >\n                            <ListItemIcon>\n                                <UploadIcon />\n                            </ListItemIcon>\n                            <ListItemText />\n                        </ListItem>\n                        {[\n                            {\n                                key: \"视频\",\n                                id: \"video\",\n                                icon: (\n                                    <VideoIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconVideo,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"图片\",\n                                id: \"image\",\n                                icon: (\n                                    <ImageIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconImg,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"音频\",\n                                id: \"audio\",\n                                icon: (\n                                    <MusicIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconAudio,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"文档\",\n                                id: \"doc\",\n                                icon: (\n                                    <DocIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconDoc,\n                                        ]}\n                                    />\n                                ),\n                            },\n                        ].map((v) => (\n                            <ListItem\n                                button\n                                key={v.key}\n                                onClick={() => SearchMyFile(v.id + \"/internal\")}\n                            >\n                                <ListItemIcon className={classes.subMenu}>\n                                    {v.icon}\n                                </ListItemIcon>\n                                <ListItemText primary={v.key} />\n                            </ListItem>\n                        ))}\n                        {tags.map((v) => (\n                            <ListItem\n                                button\n                                key={v.id}\n                                onMouseEnter={() => setTagHover(v.id)}\n                                onClick={() => {\n                                    if (v.type === 0) {\n                                        SearchMyFile(\"tag/\" + v.id);\n                                    } else {\n                                        NavigateTo(v.expression);\n                                    }\n                                }}\n                            >\n                                <ListItemIcon className={classes.subMenu}>\n                                    {getIcon(\n                                        v.type === 0\n                                            ? v.icon\n                                            : \"FolderHeartOutline\",\n                                        v.type === 0 ? v.color : null\n                                    )}\n                                </ListItemIcon>\n                                <ListItemText\n                                    className={classes.overFlow}\n                                    primary={v.name}\n                                />\n\n                                {tagHover === v.id && (\n                                    <ListItemSecondaryAction\n                                        onClick={() => submitDelete(v.id)}\n                                    >\n                                        <IconButton\n                                            size={\"small\"}\n                                            edge=\"end\"\n                                            aria-label=\"delete\"\n                                        >\n                                            <Clear />\n                                        </IconButton>\n                                    </ListItemSecondaryAction>\n                                )}\n                            </ListItem>\n                        ))}\n\n                        <ListItem button onClick={() => setAddTagModal(true)}>\n                            <ListItemIcon className={classes.subMenu}>\n                                <TagPlus className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary={\"添加标签...\"} />\n                        </ListItem>\n                    </List>{\" \"}\n                    <Divider />\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </>\n    );\n}\n","import dayjs from \"dayjs\";\nimport timezone from \"dayjs/plugin/timezone\";\nimport utc from \"dayjs/plugin/utc\";\nimport Auth from \"../middleware/Auth\";\ndayjs.extend(utc);\ndayjs.extend(timezone);\n\nconst defaultTimeZone = \"Asia/Shanghai\";\nconst preferTimeZone = Auth.GetPreference(\"timeZone\");\nexport let timeZone = preferTimeZone ? preferTimeZone : defaultTimeZone;\n\nexport function refreshTimeZone() {\n    timeZone = Auth.GetPreference(\"timeZone\");\n    timeZone = timeZone ? timeZone : defaultTimeZone;\n}\n\nexport function formatLocalTime(time, format) {\n    return dayjs(time).tz(timeZone).format(format);\n}\n\nexport function validateTimeZone(name) {\n    try {\n        dayjs().tz(name).format();\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { baseURL } from \"../../middleware/Api\";\nimport { showImgPreivew } from \"../../actions/index\";\nimport { imgPreviewSuffix } from \"../../config\";\nimport { withStyles } from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\nimport { PhotoSlider } from \"react-photo-view\";\nimport \"react-photo-view/dist/index.css\";\nimport * as explorer from \"../../redux/explorer/reducer\";\n\nconst styles = () => ({});\n\nconst mapStateToProps = (state) => {\n    return {\n        first: state.explorer.imgPreview.first,\n        other: state.explorer.imgPreview.other,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n    };\n};\n\nclass ImagPreviewComponent extends Component {\n    state = {\n        items: [],\n        photoIndex: 0,\n        isOpen: false,\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        const items = [];\n        let firstOne = 0;\n        if (nextProps.first.id !== \"\") {\n            if (\n                pathHelper.isSharePage(this.props.location.pathname) &&\n                !nextProps.first.path\n            ) {\n                const newImg = {\n                    intro: nextProps.first.name,\n                    src: baseURL + \"/share/preview/\" + nextProps.first.key,\n                };\n                firstOne = 0;\n                items.push(newImg);\n                this.setState({\n                    photoIndex: firstOne,\n                    items: items,\n                    isOpen: true,\n                });\n                return;\n            }\n            // eslint-disable-next-line\n            nextProps.other.map((value) => {\n                const fileType = value.name.split(\".\").pop().toLowerCase();\n                if (imgPreviewSuffix.indexOf(fileType) !== -1) {\n                    let src = \"\";\n                    if (pathHelper.isSharePage(this.props.location.pathname)) {\n                        src = baseURL + \"/share/preview/\" + value.key;\n                        src =\n                            src +\n                            \"?path=\" +\n                            encodeURIComponent(\n                                value.path === \"/\"\n                                    ? value.path + value.name\n                                    : value.path + \"/\" + value.name\n                            );\n                    } else {\n                        src = baseURL + \"/file/preview/\" + value.id;\n                    }\n                    const newImg = {\n                        intro: value.name,\n                        src: src,\n                    };\n                    if (\n                        value.path === nextProps.first.path &&\n                        value.name === nextProps.first.name\n                    ) {\n                        firstOne = items.length;\n                    }\n                    items.push(newImg);\n                }\n            });\n            this.setState({\n                photoIndex: firstOne,\n                items: items,\n                isOpen: true,\n            });\n        }\n    };\n\n    handleClose = () => {\n        this.props.showImgPreivew(explorer.initState.imgPreview.first);\n        this.setState({\n            isOpen: false,\n        });\n    };\n\n    render() {\n        const { photoIndex, isOpen, items } = this.state;\n\n        return (\n            <div>\n                {isOpen && (\n                    <PhotoSlider\n                        images={items}\n                        visible={isOpen}\n                        onClose={() => this.handleClose()}\n                        index={photoIndex}\n                        onIndexChange={(n) =>\n                            this.setState({\n                                photoIndex: n,\n                            })\n                        }\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nImagPreviewComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst ImgPreivew = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ImagPreviewComponent)));\n\nexport default ImgPreivew;\n","import React from \"react\";\nimport { mediaType } from \"../../config\";\nimport ImageIcon from \"@material-ui/icons/PhotoSizeSelectActual\";\nimport VideoIcon from \"@material-ui/icons/Videocam\";\nimport AudioIcon from \"@material-ui/icons/Audiotrack\";\nimport PdfIcon from \"@material-ui/icons/PictureAsPdf\";\nimport {\n    Android,\n    FileExcelBox,\n    FilePowerpointBox,\n    FileWordBox,\n    LanguageC,\n    LanguageCpp,\n    LanguageGo,\n    LanguageJavascript,\n    LanguagePhp,\n    LanguagePython,\n    MagnetOn,\n    ScriptText,\n    WindowRestore,\n    ZipBox,\n} from \"mdi-material-ui\";\nimport FileShowIcon from \"@material-ui/icons/InsertDriveFile\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport { Avatar } from \"@material-ui/core\";\n\nconst icons = {\n    audio: {\n        color: \"#651fff\",\n        icon: AudioIcon,\n    },\n    video: {\n        color: \"#d50000\",\n        icon: VideoIcon,\n    },\n    image: {\n        color: \"#d32f2f\",\n        icon: ImageIcon,\n    },\n    pdf: {\n        color: \"#f44336\",\n        icon: PdfIcon,\n    },\n    word: {\n        color: \"#538ce5\",\n        icon: FileWordBox,\n    },\n    ppt: {\n        color: \"rgb(239, 99, 63)\",\n        icon: FilePowerpointBox,\n    },\n    excel: {\n        color: \"#4caf50\",\n        icon: FileExcelBox,\n    },\n    text: {\n        color: \"#607d8b\",\n        icon: ScriptText,\n    },\n    torrent: {\n        color: \"#5c6bc0\",\n        icon: MagnetOn,\n    },\n    zip: {\n        color: \"#f9a825\",\n        icon: ZipBox,\n    },\n    excute: {\n        color: \"#1a237e\",\n        icon: WindowRestore,\n    },\n    android: {\n        color: \"#8bc34a\",\n        icon: Android,\n    },\n    file: {\n        color: \"#607d8b\",\n        icon: FileShowIcon,\n    },\n    php: {\n        color: \"#777bb3\",\n        icon: LanguagePhp,\n    },\n    go: {\n        color: \"#16b3da\",\n        icon: LanguageGo,\n    },\n    python: {\n        color: \"#3776ab\",\n        icon: LanguagePython,\n    },\n    c: {\n        color: \"#a8b9cc\",\n        icon: LanguageC,\n    },\n    cpp: {\n        color: \"#004482\",\n        icon: LanguageCpp,\n    },\n    js: {\n        color: \"#f4d003\",\n        icon: LanguageJavascript,\n    },\n};\n\nconst getColor = (theme, color) =>\n    theme.palette.type === \"light\" ? color : lighten(color, 0.2);\n\nlet color;\n\nconst TypeIcon = (props) => {\n    const theme = useTheme();\n\n    const fileSuffix = props.fileName.split(\".\").pop().toLowerCase();\n    let fileType = \"file\";\n    Object.keys(mediaType).forEach((k) => {\n        if (mediaType[k].indexOf(fileSuffix) !== -1) {\n            fileType = k;\n        }\n    });\n    const IconComponent = icons[fileType].icon;\n    color = getColor(theme, icons[fileType].color);\n    if (props.getColorValue) {\n        props.getColorValue(color);\n    }\n\n    return (\n        <>\n            {props.isUpload && (\n                <Avatar\n                    className={props.className}\n                    style={{\n                        backgroundColor: color,\n                    }}\n                >\n                    <IconComponent\n                        className={props.iconClassName}\n                        style={{\n                            color: theme.palette.background.paper,\n                        }}\n                    />\n                </Avatar>\n            )}\n            {!props.isUpload && (\n                <IconComponent\n                    className={props.className}\n                    style={{\n                        color: color,\n                    }}\n                />\n            )}\n        </>\n    );\n};\n\nexport default TypeIcon;\n","export const isDefined = (val) => val != null;\nexport const isFunction = (val) => typeof val === \"function\";\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noop = () => {};\n\nexport const newScript = (src) => (cb) => {\n    const scriptElem = document.createElement(\"script\");\n    if (typeof src === \"object\") {\n        // copy every property to the element\n        for (const key in src) {\n            if (Object.prototype.hasOwnProperty.call(src, key)) {\n                scriptElem[key] = src[key];\n            }\n        }\n        src = src.src;\n    } else {\n        scriptElem.src = src;\n    }\n    scriptElem.addEventListener(\"load\", () => cb(null, src));\n    scriptElem.addEventListener(\"error\", () => cb(true, src));\n    document.body.appendChild(scriptElem);\n    return scriptElem;\n};\n\nconst keyIterator = (cols) => {\n    const keys = Object.keys(cols);\n    let i = -1;\n    return {\n        next() {\n            i++; // inc\n            if (i >= keys.length) return null;\n            else return keys[i];\n        },\n    };\n};\n\n// tasks should be a collection of thunk\nexport const parallel = (...tasks) => (each) => (cb) => {\n    let hasError = false;\n    let successed = 0;\n    const ret = [];\n    tasks = tasks.filter(isFunction);\n\n    if (tasks.length <= 0) cb(null);\n    else {\n        tasks.forEach((task, i) => {\n            const thunk = task;\n            thunk((err, ...args) => {\n                if (err) hasError = true;\n                else {\n                    // collect result\n                    if (args.length <= 1) args = args[0];\n\n                    ret[i] = args;\n                    successed++;\n                }\n\n                if (isFunction(each)) each.call(null, err, args, i);\n\n                if (hasError) cb(true);\n                else if (tasks.length === successed) {\n                    cb(null, ret);\n                }\n            });\n        });\n    }\n};\n\n// tasks should be a collection of thunk\nexport const series = (...tasks) => (each) => (cb) => {\n    tasks = tasks.filter((val) => val != null);\n    const nextKey = keyIterator(tasks);\n    const nextThunk = () => {\n        const key = nextKey.next();\n        let thunk = tasks[key];\n        // eslint-disable-next-line prefer-spread\n        if (Array.isArray(thunk))\n            // eslint-disable-next-line prefer-spread\n            thunk = parallel.apply(null, thunk).call(null, each);\n        return [+key, thunk]; // convert `key` to number\n    };\n    let key, thunk;\n    let next = nextThunk();\n    key = next[0];\n    thunk = next[1];\n    if (thunk == null) return cb(null);\n\n    const ret = [];\n    const iterator = () => {\n        thunk((err, ...args) => {\n            if (args.length <= 1) args = args[0];\n            if (isFunction(each)) each.call(null, err, args, key);\n\n            if (err) cb(err);\n            else {\n                // collect result\n                ret.push(args);\n\n                next = nextThunk();\n                key = next[0];\n                thunk = next[1];\n                if (thunk == null) return cb(null, ret);\n                // finished\n                else iterator();\n            }\n        });\n    };\n    iterator();\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nimport { newScript, series, noop } from \"./utils\";\n\nconst loadedScript = [];\nconst pendingScripts = {};\nlet failedScript = [];\n\nconst addCache = (entry) => {\n    if (loadedScript.indexOf(entry) < 0) {\n        loadedScript.push(entry);\n    }\n};\n\nconst removeFailedScript = () => {\n    if (failedScript.length > 0) {\n        failedScript.forEach((script) => {\n            const node = document.querySelector(`script[src='${script}']`);\n            if (node != null) {\n                node.parentNode.removeChild(node);\n            }\n        });\n\n        failedScript = [];\n    }\n};\n\nexport function startLoadingScripts(scripts, onComplete = noop) {\n    // sequence load\n    const loadNewScript = (script) => {\n        const src = typeof script === \"object\" ? script.src : script;\n        if (loadedScript.indexOf(src) < 0) {\n            return (taskComplete) => {\n                const callbacks = pendingScripts[src] || [];\n                callbacks.push(taskComplete);\n                pendingScripts[src] = callbacks;\n                if (callbacks.length === 1) {\n                    return newScript(script)((err) => {\n                        pendingScripts[src].forEach((cb) => cb(err, src));\n                        delete pendingScripts[src];\n                    });\n                }\n            };\n        }\n    };\n    const tasks = scripts.map((src) => {\n        if (Array.isArray(src)) {\n            return src.map(loadNewScript);\n        } else return loadNewScript(src);\n    });\n\n    series(...tasks)((err, src) => {\n        if (err) {\n            failedScript.push(src);\n        } else {\n            if (Array.isArray(src)) {\n                src.forEach(addCache);\n            } else addCache(src);\n        }\n    })((err) => {\n        removeFailedScript();\n        onComplete(err);\n    });\n}\n\nconst uploaderLoader = () => (WrappedComponent) => {\n    class ScriptLoader extends Component {\n        static propTypes = {\n            onScriptLoaded: PropTypes.func,\n        };\n\n        static defaultProps = {\n            onScriptLoaded: noop,\n        };\n\n        constructor(props, context) {\n            super(props, context);\n\n            this.state = {\n                isScriptLoaded: false,\n                isScriptLoadSucceed: false,\n            };\n\n            this._isMounted = false;\n        }\n\n        componentDidMount() {\n            this._isMounted = true;\n            const scripts = [\n                [\"/static/js/uploader/moxie.js\"],\n                [\"/static/js/uploader/plupload.dev.js\"],\n                [\"/static/js/uploader/i18n/zh_CN.js\"],\n                [\"/static/js/uploader/ui.js\"],\n                [\"/static/js/uploader/uploader_\" + window.policyType + \".js\"],\n            ];\n            startLoadingScripts(scripts, (err) => {\n                if (this._isMounted) {\n                    this.setState(\n                        {\n                            isScriptLoaded: true,\n                            isScriptLoadSucceed: !err,\n                        },\n                        () => {\n                            if (!err) {\n                                this.props.onScriptLoaded();\n                            }\n                        }\n                    );\n                }\n            });\n        }\n\n        componentWillUnmount() {\n            this._isMounted = false;\n        }\n\n        getWrappedInstance() {\n            // eslint-disable-next-line react/no-string-refs\n            return this.refs.wrappedInstance;\n        }\n\n        render() {\n            const props = {\n                ...this.props,\n                ...this.state,\n                ref: \"wrappedInstance\",\n            };\n\n            return <WrappedComponent {...props} />;\n        }\n    }\n\n    return hoistStatics(ScriptLoader, WrappedComponent);\n};\n\nexport default uploaderLoader;\n","import React, { Component } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AddIcon from \"@material-ui/icons/AddCircleOutline\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { darken, lighten } from \"@material-ui/core/styles/colorManipulator\";\nimport {\n    withStyles,\n    Dialog,\n    ListItemText,\n    ListItem,\n    List,\n    Divider,\n    AppBar,\n    Toolbar,\n    IconButton,\n    Typography,\n    Slide,\n    ListItemSecondaryAction,\n    withWidth,\n    DialogContent,\n    Tooltip,\n} from \"@material-ui/core\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport { withTheme } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n    appBar: {\n        position: \"relative\",\n    },\n    flex: {\n        flex: 1,\n    },\n    progressBar: {\n        marginTop: 5,\n    },\n    minHight: {\n        [theme.breakpoints.up(\"sm\")]: {\n            minWidth: 500,\n        },\n        padding: 0,\n    },\n    dialogContent: {\n        padding: 0,\n    },\n    successStatus: {\n        color: \"#4caf50\",\n    },\n    errorStatus: {\n        color: \"#ff5722\",\n        wordBreak: \"break-all\",\n    },\n    listAction: {\n        marginLeft: 20,\n        marginRight: 20,\n    },\n    delete: {\n        zIndex: 9,\n    },\n    progressContainer: {\n        position: \"relative\",\n    },\n    progressContent: {\n        position: \"relative\",\n        zIndex: 9,\n    },\n    progress: {\n        transition: \"width .4s linear\",\n        zIndex: 1,\n        height: \"100%\",\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n    },\n    fileName: {\n        wordBreak: \"break-all\",\n    },\n});\nclass FileList extends Component {\n    state = {\n        open: false,\n        files: [],\n    };\n\n    //入队\n    enQueue(files) {\n        this.setState({\n            files: [...this.state.files, ...files],\n        });\n    }\n\n    deQueue(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow.splice(fileID, 1);\n            this.setState({\n                files: filesNow,\n                open: filesNow.length !== 0,\n            });\n        }\n    }\n\n    updateStatus(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (!file.errMsg || file.ignoreMsg) {\n            if (filesNow[fileID] && !filesNow[fileID].errMsg) {\n                filesNow[fileID] = file;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n        } else {\n            file.ignoreMsg = true;\n        }\n    }\n\n    setComplete(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            if (filesNow[fileID].status !== 4) {\n                filesNow[fileID].status = 5;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n        }\n    }\n\n    setError(file, errMsg) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow[fileID].status = 4;\n            filesNow[fileID].errMsg = errMsg;\n        } else {\n            file.status = 4;\n            file.errMsg = errMsg;\n            filesNow.push(file);\n        }\n        this.setState({\n            files: filesNow,\n        });\n    }\n\n    Transition(props) {\n        return <Slide direction=\"up\" {...props} />;\n    }\n    openFileList = () => {\n        if (!this.state.open) {\n            this.setState({ open: true });\n        }\n    };\n\n    cancelUpload = (file) => {\n        this.props.cancelUpload(file);\n        this.deQueue(file);\n    };\n\n    reQueue = (file) => {\n        this.props.reQueue(file);\n        this.deQueue(file);\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    addNewFile = () => {\n        document.getElementsByClassName(\"uploadFileForm\")[0].click();\n    };\n\n    getProgressBackground = () => {\n        return this.props.theme.palette.type === \"light\"\n            ? lighten(this.props.theme.palette.primary.main, 0.8)\n            : darken(this.props.theme.palette.background.paper, 0.2);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { width } = this.props;\n\n        this.props.inRef({\n            openFileList: this.openFileList.bind(this),\n            enQueue: this.enQueue.bind(this),\n            updateStatus: this.updateStatus.bind(this),\n            setComplete: this.setComplete.bind(this),\n            setError: this.setError.bind(this),\n        });\n\n        return (\n            <Dialog\n                fullScreen={isWidthDown(\"sm\", width)}\n                open={this.state.open}\n                onClose={this.handleClose}\n                TransitionComponent={this.Transition}\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton\n                            color=\"inherit\"\n                            onClick={this.handleClose}\n                            aria-label=\"Close\"\n                        >\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography\n                            variant=\"h6\"\n                            color=\"inherit\"\n                            className={classes.flex}\n                        >\n                            上传队列\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={this.addNewFile}>\n                            <AddIcon />\n                        </IconButton>\n                    </Toolbar>\n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                    <List className={classes.minHight}>\n                        {this.state.files.map((item, i) => (\n                            <div key={i} className={classes.progressContainer}>\n                                {item.status === 2 && (\n                                    <div\n                                        style={{\n                                            backgroundColor: this.getProgressBackground(),\n                                            width: item.percent + \"%\",\n                                        }}\n                                        className={classes.progress}\n                                    />\n                                )}\n                                <ListItem\n                                    className={classes.progressContent}\n                                    button\n                                >\n                                    <TypeIcon fileName={item.name} isUpload />\n                                    {item.status === 1 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={<div>排队中...</div>}\n                                        />\n                                    )}\n                                    {item.status === 2 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div>\n                                                    {item.percent <= 99 && (\n                                                        <>\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.speed\n                                                                )\n                                                                .toUpperCase()}\n                                                            /s 已上传{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.loaded\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            , 共{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.size\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            - {item.percent}%{\" \"}\n                                                        </>\n                                                    )}\n                                                    {item.percent > 99 && (\n                                                        <div>处理中...</div>\n                                                    )}\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 3 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={item.status}\n                                        />\n                                    )}\n                                    {item.status === 4 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.errorStatus\n                                                    }\n                                                >\n                                                    {item.errMsg}\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 5 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.successStatus\n                                                    }\n                                                >\n                                                    已完成\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    <ListItemSecondaryAction\n                                        className={classes.delete}\n                                    >\n                                        {item.status !== 4 && (\n                                            <IconButton\n                                                aria-label=\"Delete\"\n                                                onClick={() =>\n                                                    this.cancelUpload(item)\n                                                }\n                                            >\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        )}\n                                        {item.status === 4 && (\n                                            <Tooltip title={\"重试\"}>\n                                                <IconButton\n                                                    aria-label=\"Delete\"\n                                                    onClick={() =>\n                                                        this.reQueue(item)\n                                                    }\n                                                >\n                                                    <RefreshIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        )}\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                                <Divider />\n                            </div>\n                        ))}\n                    </List>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\nFileList.propTypes = {};\n\nexport default withStyles(styles)(withWidth()(withTheme(FileList)));\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { makeStyles, Badge } from \"@material-ui/core\";\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport PublishIcon from \"@material-ui/icons/Publish\";\nimport {\n    openCreateFileDialog,\n    openCreateFolderDialog,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport { FolderUpload, FilePlus } from \"mdi-material-ui\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7,\n    },\n    \"@global\": {\n        \".MuiSpeedDialAction-staticTooltipLabel\": {\n            width: 100,\n        },\n    },\n}));\n\nexport default function UploadButton(props) {\n    const [open, setOpen] = useState(false);\n    const [queued, setQueued] = useState(5);\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const OpenNewFolderDialog = useCallback(\n        () => dispatch(openCreateFolderDialog()),\n        [dispatch]\n    );\n    const OpenNewFileDialog = useCallback(\n        () => dispatch(openCreateFileDialog()),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setQueued(props.Queued);\n    }, [props.Queued]);\n\n    const openUpload = (id) => {\n        const uploadButton = document.getElementsByClassName(id)[0];\n        if (document.body.contains(uploadButton)) {\n            uploadButton.click();\n        } else {\n            ToggleSnackbar(\"top\", \"right\", \"上传组件还未加载完成\", \"warning\");\n        }\n    };\n    const uploadClicked = () => {\n        if (open) {\n            if (queued !== 0) {\n                props.openFileList();\n            } else {\n                openUpload(\"uploadFileForm\");\n            }\n        }\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <AutoHidden enable>\n            <Badge\n                badgeContent={queued}\n                classes={{\n                    badge: classes.badge, // class name, e.g. `root-x`\n                }}\n                className={classes.fab}\n                invisible={queued === 0}\n                color=\"primary\"\n            >\n                <Backdrop open={open && statusHelper.isMobile()} />\n                <SpeedDial\n                    ariaLabel=\"SpeedDial openIcon example\"\n                    hidden={false}\n                    tooltipTitle=\"上传文件\"\n                    icon={\n                        <SpeedDialIcon\n                            openIcon={\n                                !statusHelper.isMobile() && <PublishIcon />\n                            }\n                        />\n                    }\n                    onClose={handleClose}\n                    FabProps={{\n                        onClick: () =>\n                            !statusHelper.isMobile() && uploadClicked(),\n                        color: \"secondary\",\n                    }}\n                    onOpen={handleOpen}\n                    open={open}\n                >\n                    {statusHelper.isMobile() && (\n                        <SpeedDialAction\n                            key=\"UploadFile\"\n                            icon={<PublishIcon />}\n                            tooltipOpen\n                            tooltipTitle=\"上传文件\"\n                            onClick={() => uploadClicked()}\n                            title={\"上传文件\"}\n                        />\n                    )}\n                    {!statusHelper.isMobile() && (\n                        <SpeedDialAction\n                            key=\"UploadFolder\"\n                            icon={<FolderUpload />}\n                            tooltipOpen\n                            tooltipTitle=\"上传目录\"\n                            onClick={() => openUpload(\"uploadFolderForm\")}\n                            title={\"上传目录\"}\n                        />\n                    )}\n                    <SpeedDialAction\n                        key=\"NewFolder\"\n                        icon={<CreateNewFolderIcon />}\n                        tooltipOpen\n                        tooltipTitle=\"新建目录\"\n                        onClick={() => OpenNewFolderDialog()}\n                        title={\"新建目录\"}\n                    />\n                    <SpeedDialAction\n                        key=\"NewFile\"\n                        icon={<FilePlus />}\n                        tooltipOpen\n                        tooltipTitle=\"新建文件\"\n                        onClick={() => OpenNewFileDialog()}\n                        title={\"新建文件\"}\n                    />\n                </SpeedDial>\n            </Badge>\n        </AutoHidden>\n    );\n}\n","import React, { Component } from \"react\";\nimport uploaderLoader from \"../../loader\";\nimport { connect } from \"react-redux\";\nimport { refreshFileList, refreshStorage, toggleSnackbar } from \"../../actions\";\nimport FileList from \"./FileList.js\";\nimport Auth from \"../../middleware/Auth\";\nimport UploadButton from \"../Dial/Create.js\";\nimport { basename, pathJoin } from \"../../utils\";\n\nlet loaded = false;\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass UploaderComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            queued: 0,\n        };\n    }\n\n    setRef(val) {\n        window.fileList = val;\n    }\n\n    cancelUpload(file) {\n        this.uploader.removeFile(file);\n    }\n\n    reQueue = (file) => {\n        this.uploader.addFile(file.getSource());\n        this.props.toggleSnackbar(\n            \"top\",\n            \"right\",\n            \"文件已经重新加入上传队列\",\n            \"info\"\n        );\n    };\n\n    getChunkSize(policyType) {\n        if (policyType === \"qiniu\") {\n            return 4 * 1024 * 1024;\n        }\n        if (policyType === \"onedrive\") {\n            return 100 * 1024 * 1024;\n        }\n        return 0;\n    }\n\n    fileAdd = (up, files) => {\n        const path = window.currntPath ? window.currntPath : this.props.path;\n        if (\n            this.props.keywords === \"\" &&\n            window.location.pathname.toLowerCase().startsWith(\"/home\")\n        ) {\n            window.fileList[\"openFileList\"]();\n            const enqueFiles = files\n                // 不上传Mac下的布局文件 .DS_Store\n                .filter((file) => {\n                    const isDsStore = file.name.toLowerCase() === \".ds_store\";\n                    if (isDsStore) {\n                        up.removeFile(file);\n                    }\n                    return !isDsStore;\n                })\n                .map((file) => {\n                    const source = file.getSource();\n                    if (source.relativePath && source.relativePath !== \"\") {\n                        file.path = basename(\n                            pathJoin([path, source.relativePath])\n                        );\n                        window.pathCache[file.id] = basename(\n                            pathJoin([path, source.relativePath])\n                        );\n                    } else {\n                        window.pathCache[file.id] = path;\n                        file.path = path;\n                    }\n                    return file;\n                });\n            window.fileList[\"enQueue\"](enqueFiles);\n        } else {\n            window.plupload.each(files, (files) => {\n                up.removeFile(files);\n            });\n        }\n    };\n\n    UNSAFE_componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) {\n            // load finished\n            if (isScriptLoadSucceed) {\n                if (loaded) {\n                    return;\n                }\n                loaded = true;\n                const user = Auth.GetUser();\n                this.uploader = window.Qiniu.uploader({\n                    runtimes: \"html5\",\n                    browse_button: [\"pickfiles\", \"pickfolder\"],\n                    container: \"container\",\n                    drop_element: \"container\",\n                    max_file_size:\n                        user.policy.maxSize === \"0.00mb\"\n                            ? 0\n                            : user.policy.maxSize,\n                    dragdrop: true,\n                    chunk_size: this.getChunkSize(user.policy.saveType),\n                    filters: {\n                        mime_types:\n                            user.policy.allowedType === null ||\n                            user.policy.allowedType.length === 0\n                                ? []\n                                : [\n                                      {\n                                          title: \"files\",\n                                          extensions: user.policy.allowedType.join(\n                                              \",\"\n                                          ),\n                                      },\n                                  ],\n                    },\n                    // iOS不能多选？\n                    multi_selection: true,\n                    uptoken_url: \"/api/v3/file/upload/credential\",\n                    uptoken: user.policy.saveType === \"local\" ? \"token\" : null,\n                    domain: \"s\",\n                    max_retries: 0,\n                    get_new_uptoken: true,\n                    auto_start: true,\n                    log_level: 5,\n                    init: {\n                        FilesAdded: this.fileAdd,\n\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        BeforeUpload: function () {},\n                        QueueChanged: (up) => {\n                            this.setState({ queued: up.total.queued });\n                        },\n                        UploadProgress: (up, file) => {\n                            window.fileList[\"updateStatus\"](file);\n                        },\n                        UploadComplete: (up, file) => {\n                            if (file.length === 0) {\n                                return;\n                            }\n                            console.log(\n                                \"UploadComplete\",\n                                file[0].status,\n                                file[0]\n                            );\n                            for (let i = 0; i < file.length; i++) {\n                                if (file[i].status === 5) {\n                                    window.fileList[\"setComplete\"](file[i]);\n                                }\n                            }\n                            // 无异步操作的策略，直接刷新\n                            if (\n                                user.policy.saveType !== \"onedrive\" &&\n                                user.policy.saveType !== \"cos\"\n                            ) {\n                                this.props.refreshFileList();\n                                this.props.refreshStorage();\n                            }\n                        },\n                        Fresh: () => {\n                            this.props.refreshFileList();\n                            this.props.refreshStorage();\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FileUploaded: function () {},\n                        Error: (up, err, errTip) => {\n                            window.fileList[\"openFileList\"]();\n                            window.fileList[\"setError\"](err.file, errTip);\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FilesRemoved: () => {},\n                    },\n                });\n                // this.fileList[\"openFileList\"]();\n            } else this.onError();\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onError() {}\n\n    openFileList = () => {\n        window.fileList[\"openFileList\"]();\n    };\n\n    render() {\n        return (\n            <div>\n                <FileList\n                    inRef={this.setRef.bind(this)}\n                    cancelUpload={this.cancelUpload.bind(this)}\n                    reQueue={this.reQueue.bind(this)}\n                />\n                {this.props.keywords === \"\" && (\n                    <UploadButton\n                        Queued={this.state.queued}\n                        openFileList={this.openFileList}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nconst Uploader = connect(mapStateToProps, mapDispatchToProps, null, {\n    forwardRef: true,\n})(uploaderLoader()(UploaderComponent));\n\nexport default Uploader;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister();\n        });\n    }\n}\n","import React from \"react\";\nimport Auth from \"./Auth\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction AuthRoute({ children, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                Auth.Check(rest.isLogin) ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: location },\n                        }}\n                    />\n                )\n            }\n        />\n    );\n}\n\nexport default AuthRoute;\n","import React from \"react\";\nimport { Facebook } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"80%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: \" 50%\",\n        },\n\n        marginTop: 30,\n    },\n}));\n\nconst MyLoader = (props) => {\n    return (\n        <Facebook\n            backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n            foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n            className={props.className}\n        />\n    );\n};\n\nfunction PageLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div\n            style={{\n                textAlign: \"center\",\n            }}\n        >\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default PageLoading;\n","import React from \"react\";\nimport SentimentVeryDissatisfiedIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    icon: {\n        fontSize: \"160px\",\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: lighten(theme.palette.text.disabled, 0.4),\n        textAlign: \"center\",\n        paddingTop: \"20px\",\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: lighten(theme.palette.text.disabled, 0.4),\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n}));\n\nexport default function Notice(props) {\n    const classes = useStyles();\n    return (\n        <div className={classes.emptyContainer}>\n            <SentimentVeryDissatisfiedIcon className={classes.icon} />\n            <div className={classes.emptyInfoBig}>{props.msg}</div>\n            <div className={classes.ads}>\n                <a href={\"https://ask.bilnn.com/\"} target=\"_blank\" rel=\"noopener noreferrer\"><img src={\"https://img30.360buyimg.com/ddfilesass/jfs/t1/200482/12/2151/21063/6110957aEdce92772/60486672694033de.jpg\"} /></a>\n            </div>\n        </div>\n    );\n}\n","import {\n    setSiteConfig,\n    toggleSnackbar,\n    enableLoadUploader,\n    changeViewMethod,\n} from \"../actions/index\";\nimport { fixUrlHash } from \"../utils/index\";\nimport API from \"./Api\";\nimport Auth from \"./Auth\";\nimport pathHelper from \"../utils/page\";\n\nconst initUserConfig = (siteConfig) => {\n    if (siteConfig.user !== undefined && !siteConfig.user.anonymous) {\n        const themes = JSON.parse(siteConfig.themes);\n        const user = siteConfig.user;\n        delete siteConfig.user;\n\n        //更换用户自定配色\n        if (\n            user[\"preferred_theme\"] !== \"\" &&\n            themes[user[\"preferred_theme\"]] !== undefined\n        ) {\n            siteConfig.theme = themes[user[\"preferred_theme\"]];\n        }\n\n        // 更新登录态\n        Auth.authenticate(user);\n    }\n    if (siteConfig.user !== undefined && siteConfig.user.anonymous) {\n        Auth.SetUser(siteConfig.user);\n    }\n    return siteConfig;\n};\n\nexport const InitSiteConfig = (rawStore) => {\n    // 从缓存获取默认配置\n    const configCache = JSON.parse(localStorage.getItem(\"siteConfigCache\"));\n    if (configCache != null) {\n        rawStore.siteConfig = configCache;\n    }\n    // 检查是否有path参数\n    //const url = new URL(window.location.href);\n\n    const reg = new RegExp(\"(^|&)\" + \"path\" + \"=([^&]*)(&|$)\",\"i\"); \n    const r = window.location.search.substr(1).match(reg); \n    const c = r!=null ? decodeURIComponent(r[2]) : null; \n\n    rawStore.navigator.path = c === null ? \"/\" : c;\n    // 初始化用户个性配置\n    rawStore.siteConfig = initUserConfig(rawStore.siteConfig);\n\n    // 更改站点标题\n    document.title = rawStore.siteConfig.title;\n    return rawStore;\n};\n\nexport function enableUploaderLoad() {\n    // 开启上传组件加载\n    const user = Auth.GetUser();\n    window.policyType = user !== null ? user.policy.saveType : \"local\";\n    window.uploadConfig = user !== null ? user.policy : {};\n    window.pathCache = [];\n}\n\nexport async function UpdateSiteConfig(store) {\n    API.get(\"/site/config\")\n        .then(function (response) {\n            const themes = JSON.parse(response.data.themes);\n            response.data.theme = themes[response.data.defaultTheme];\n            response.data = initUserConfig(response.data);\n            store.dispatch(setSiteConfig(response.data));\n            localStorage.setItem(\n                \"siteConfigCache\",\n                JSON.stringify(response.data)\n            );\n\n            // 偏爱的列表样式\n            const preferListMethod = Auth.GetPreference(\"view_method\");\n            if (preferListMethod) {\n                store.dispatch(changeViewMethod(preferListMethod));\n            } else {\n                if (pathHelper.isSharePage(window.location.pathname)) {\n                    store.dispatch(\n                        changeViewMethod(response.data.share_view_method)\n                    );\n                } else {\n                    store.dispatch(\n                        changeViewMethod(response.data.home_view_method)\n                    );\n                }\n            }\n        })\n        .catch(function (error) {\n            store.dispatch(\n                toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载站点配置：\" + error.message,\n                    \"error\"\n                )\n            );\n        })\n        .then(function () {\n            enableUploaderLoad(store);\n            store.dispatch(enableLoadUploader());\n        });\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { makeStyles, Link } from \"@material-ui/core\";\nimport pageHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(() => ({\n    icp: {\n        padding: \"8px 24px\",\n        position: \"absolute\",\n        bottom: 0,\n    },\n}));\n\nexport const ICPFooter = () => {\n    const siteICPId = useSelector((state) => state.siteConfig.siteICPId);\n    const classes = useStyles();\n    const location = useLocation();\n    const [show, setShow] = useState(true);\n\n    useEffect(() => {\n        // 只在分享和登录界面显示\n        const isSharePage = pageHelper.isSharePage(location.pathname);\n        const isLoginPage = pageHelper.isLoginPage(location.pathname);\n        setShow(siteICPId && (isSharePage || isLoginPage));\n    }, [siteICPId, location]);\n\n    if (!show) {\n        return <></>;\n    }\n    return (\n        <div className={classes.icp}>\n            {`备案号: `}\n            <Link\n                href=\"https://beian.miit.gov.cn/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n            >\n                {siteICPId}\n            </Link>\n        </div>\n    );\n};\n","import React from \"react\";\nimport ContentLoader from \"react-content-loader\";\n\nconst MyLoader = () => (\n    <ContentLoader\n        height={80}\n        width={200}\n        speed={2}\n        primaryColor=\"#f3f3f3\"\n        secondaryColor=\"#e4e4e4\"\n    >\n        <rect x=\"4\" y=\"4\" rx=\"7\" ry=\"7\" width=\"392\" height=\"116\" />\n    </ContentLoader>\n);\n\nfunction captchaPlacholder() {\n    return <MyLoader />;\n}\n\nexport default captchaPlacholder;\n","import React, {\n    forwardRef,\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../actions\";\nimport API from \"../middleware/Api\";\nimport { FormControl, Input, InputLabel } from \"@material-ui/core\";\nimport Placeholder from \"../component/Placeholder/Captcha\";\nimport { defaultValidate, useStyle } from \"./useCaptcha\";\n\nconst NormalCaptcha = forwardRef(function NormalCaptcha(\n    { captchaRef, setLoading },\n    ref\n) {\n    const classes = useStyle();\n\n    const [captcha, setCaptcha] = useState(\"\");\n    const [captchaData, setCaptchaData] = useState(null);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const refreshCaptcha = () => {\n        API.get(\"/site/captcha\")\n            .then((response) => {\n                setCaptchaData(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载验证码：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useEffect(() => {\n        ref.current = refreshCaptcha;\n        refreshCaptcha();\n    }, []);\n\n    useEffect(() => {\n        captchaRef.current.captchaCode = captcha;\n    }, [captcha]);\n\n    return (\n        <div className={classes.captchaContainer}>\n            <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"captcha\">验证码</InputLabel>\n                <Input\n                    name=\"captcha\"\n                    onChange={(e) => setCaptcha(e.target.value)}\n                    type=\"text\"\n                    id=\"captcha\"\n                    value={captcha}\n                    autoComplete\n                />\n            </FormControl>{\" \"}\n            <div>\n                {captchaData === null && (\n                    <div className={classes.captchaPlaceholder}>\n                        <Placeholder />\n                    </div>\n                )}\n                {captchaData !== null && (\n                    <img\n                        src={captchaData}\n                        alt=\"captcha\"\n                        onClick={refreshCaptcha}\n                    />\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default function useNormalCaptcha(captchaRefreshRef, setLoading) {\n    const isValidate = useRef({\n        isValidate: true,\n    });\n\n    const captchaParamsRef = useRef({\n        captchaCode: \"\",\n    });\n\n    const CaptchaRender = useCallback(\n        function Normal() {\n            return (\n                <NormalCaptcha\n                    captchaRef={captchaParamsRef}\n                    ref={captchaRefreshRef}\n                    setLoading={setLoading}\n                />\n            );\n        },\n        [captchaParamsRef, captchaRefreshRef, setLoading]\n    );\n\n    return {\n        isValidate,\n        validate: defaultValidate,\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class ReCAPTCHA extends React.Component {\n    constructor() {\n        super();\n        this.handleExpired = this.handleExpired.bind(this);\n        this.handleErrored = this.handleErrored.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleRecaptchaRef = this.handleRecaptchaRef.bind(this);\n    }\n\n    getValue() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this.props.grecaptcha.getResponse(this._widgetId);\n        }\n        return null;\n    }\n\n    getWidgetId() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this._widgetId;\n        }\n        return null;\n    }\n\n    execute() {\n        const { grecaptcha } = this.props;\n\n        if (grecaptcha && this._widgetId !== undefined) {\n            return grecaptcha.execute(this._widgetId);\n        } else {\n            this._executeRequested = true;\n        }\n    }\n\n    reset() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            this.props.grecaptcha.reset(this._widgetId);\n        }\n    }\n\n    handleExpired() {\n        if (this.props.onExpired) {\n            this.props.onExpired();\n        } else {\n            this.handleChange(null);\n        }\n    }\n\n    handleErrored() {\n        if (this.props.onErrored) this.props.onErrored();\n    }\n\n    handleChange(token) {\n        if (this.props.onChange) this.props.onChange(token);\n    }\n\n    explicitRender() {\n        if (\n            this.props.grecaptcha &&\n            this.props.grecaptcha.render &&\n            this._widgetId === undefined\n        ) {\n            const wrapper = document.createElement(\"div\");\n            this._widgetId = this.props.grecaptcha.render(wrapper, {\n                sitekey: this.props.sitekey,\n                callback: this.handleChange,\n                theme: this.props.theme,\n                type: this.props.type,\n                tabindex: this.props.tabindex,\n                \"expired-callback\": this.handleExpired,\n                \"error-callback\": this.handleErrored,\n                size: this.props.size,\n                stoken: this.props.stoken,\n                hl: this.props.hl,\n                badge: this.props.badge,\n            });\n            this.captcha.appendChild(wrapper);\n        }\n        if (\n            this._executeRequested &&\n            this.props.grecaptcha &&\n            this._widgetId !== undefined\n        ) {\n            this._executeRequested = false;\n            this.execute();\n        }\n    }\n\n    componentDidMount() {\n        this.explicitRender();\n    }\n\n    componentDidUpdate() {\n        this.explicitRender();\n    }\n\n    componentWillUnmount() {\n        if (this._widgetId !== undefined) {\n            this.delayOfCaptchaIframeRemoving();\n            this.reset();\n        }\n    }\n\n    delayOfCaptchaIframeRemoving() {\n        const temporaryNode = document.createElement(\"div\");\n        document.body.appendChild(temporaryNode);\n        temporaryNode.style.display = \"none\";\n\n        // move of the recaptcha to a temporary node\n        while (this.captcha.firstChild) {\n            temporaryNode.appendChild(this.captcha.firstChild);\n        }\n\n        // delete the temporary node after reset will be done\n        setTimeout(() => {\n            document.body.removeChild(temporaryNode);\n        }, 5000);\n    }\n\n    handleRecaptchaRef(elem) {\n        this.captcha = elem;\n    }\n\n    render() {\n        // consume properties owned by the reCATPCHA, pass the rest to the div so the user can style it.\n        /* eslint-disable no-unused-vars */\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const {\n            sitekey,\n            onChange,\n            theme,\n            type,\n            tabindex,\n            onExpired,\n            onErrored,\n            size,\n            stoken,\n            grecaptcha,\n            badge,\n            hl,\n            ...childProps\n        } = this.props;\n        /* eslint-enable no-unused-vars */\n        return <div {...childProps} ref={this.handleRecaptchaRef} />;\n    }\n}\n\nReCAPTCHA.displayName = \"ReCAPTCHA\";\nReCAPTCHA.propTypes = {\n    sitekey: PropTypes.string.isRequired,\n    onChange: PropTypes.func,\n    grecaptcha: PropTypes.object,\n    theme: PropTypes.oneOf([\"dark\", \"light\"]),\n    type: PropTypes.oneOf([\"image\", \"audio\"]),\n    tabindex: PropTypes.number,\n    onExpired: PropTypes.func,\n    onErrored: PropTypes.func,\n    size: PropTypes.oneOf([\"compact\", \"normal\", \"invisible\"]),\n    stoken: PropTypes.string,\n    hl: PropTypes.string,\n    badge: PropTypes.oneOf([\"bottomright\", \"bottomleft\", \"inline\"]),\n};\nReCAPTCHA.defaultProps = {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onChange: () => {},\n    theme: \"light\",\n    type: \"image\",\n    tabindex: 0,\n    size: \"normal\",\n    badge: \"bottomright\",\n};\n","import ReCAPTCHA from \"./ReCaptchaWrapper\";\nimport makeAsyncScriptLoader from \"react-async-script\";\n\nconst callbackName = \"onloadcallback\";\nconst globalName = \"grecaptcha\";\n\nfunction getURL() {\n    const hostname = \"recaptcha.net\";\n    return `https://${hostname}/recaptcha/api.js?onload=${callbackName}&render=explicit`;\n}\n\nexport default makeAsyncScriptLoader(getURL, {\n    callbackName,\n    globalName,\n})(ReCAPTCHA);\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FormControl } from \"@material-ui/core\";\nimport ReCaptcha from \"../component/Login/ReCaptcha\";\nimport { defaultValidate, useStyle } from \"./useCaptcha\";\n\nconst Recaptcha = ({ captchaRef, setLoading }) => {\n    const classes = useStyle();\n\n    const [captcha, setCaptcha] = useState(\"\");\n\n    const reCaptchaKey = useSelector(\n        (state) => state.siteConfig.captcha_ReCaptchaKey\n    );\n\n    useEffect(() => {\n        captchaRef.current.captchaCode = captcha;\n    }, [captcha]);\n\n    useEffect(() => setLoading(false), []);\n\n    return (\n        <div className={classes.captchaContainer}>\n            <FormControl margin=\"normal\" required fullWidth>\n                <div>\n                    <ReCaptcha\n                        style={{\n                            display: \"inline-block\",\n                        }}\n                        sitekey={reCaptchaKey}\n                        onChange={(value) => setCaptcha(value)}\n                        id=\"captcha\"\n                        name=\"captcha\"\n                    />\n                </div>\n            </FormControl>{\" \"}\n        </div>\n    );\n};\n\nexport default function useRecaptcha(setLoading) {\n    const isValidate = useRef({\n        isValidate: true,\n    });\n\n    const captchaParamsRef = useRef({\n        captchaCode: \"\",\n    });\n\n    const CaptchaRender = useCallback(\n        function RecaptchaRender() {\n            return (\n                <Recaptcha\n                    captchaRef={captchaParamsRef}\n                    setLoading={setLoading}\n                />\n            );\n        },\n        [captchaParamsRef, setLoading]\n    );\n\n    return {\n        isValidate,\n        validate: defaultValidate,\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import React, { forwardRef, useCallback, useRef } from \"react\";\nimport Script from \"react-load-script\";\nimport { useSelector } from \"react-redux\";\n\nconst TCaptcha = forwardRef(function TCaptcha(\n    { captchaRef, setLoading, isValidateRef, submitRef },\n    ref\n) {\n    const appid = useSelector(\n        (state) => state.siteConfig.tcaptcha_captcha_app_id\n    );\n    const onLoad = () => {\n        try {\n            ref.current = new window.TencentCaptcha(appid, function (res) {\n                if (res.ret === 0) {\n                    captchaRef.current.ticket = res.ticket;\n                    captchaRef.current.randstr = res.randstr;\n\n                    isValidateRef.current.isValidate = true;\n                    submitRef.current.submit();\n                    console.log(submitRef);\n                } else {\n                    submitRef.current.setLoading(false);\n                }\n            });\n        } catch (e) {\n            console.error(e);\n        }\n        setLoading(false);\n    };\n    return (\n        <Script\n            url={\"https://ssl.captcha.qq.com/TCaptcha.js\"}\n            onLoad={onLoad}\n        />\n    );\n});\n\nexport default function useTCaptcha(setLoading) {\n    const isValidate = useRef({\n        isValidate: false,\n    });\n    const captchaParamsRef = useRef({\n        ticket: \"\",\n        randstr: \"\",\n    });\n    const submitRef = useRef({\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        submit: () => {},\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        setLoading: () => {},\n    });\n\n    const captchaRef = useRef();\n\n    const CaptchaRender = useCallback(\n        function TCaptchaRender() {\n            return (\n                <TCaptcha\n                    captchaRef={captchaParamsRef}\n                    setLoading={setLoading}\n                    isValidateRef={isValidate}\n                    submitRef={submitRef}\n                    ref={captchaRef}\n                />\n            );\n        },\n        [captchaParamsRef, setLoading, isValidate, submitRef, captchaRef]\n    );\n\n    return {\n        isValidate: isValidate,\n        validate: (submit, setLoading) => {\n            submitRef.current.submit = submit;\n            submitRef.current.setLoading = setLoading;\n            captchaRef.current.show();\n        },\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import { useSelector } from \"react-redux\";\nimport { useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport useNormalCaptcha from \"./normal\";\nimport useRecaptcha from \"./recaptcha\";\nimport useTCaptcha from \"./tcaptcha\";\n\nexport const useStyle = makeStyles((theme) => ({\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n}));\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars,@typescript-eslint/no-empty-function\nexport const defaultValidate = (submit, setLoading) => {};\n\nexport const useCaptcha = () => {\n    const captchaType = useSelector((state) => state.siteConfig.captcha_type);\n\n    const [captchaLoading, setCaptchaLoading] = useState(true);\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    const captchaRefreshRef = useRef(() => {});\n\n    const normal = useNormalCaptcha(captchaRefreshRef, setCaptchaLoading);\n    const recaptcha = useRecaptcha(setCaptchaLoading);\n    const tcaptcha = useTCaptcha(setCaptchaLoading);\n\n    switch (captchaType) {\n        case \"normal\":\n            return { ...normal, captchaRefreshRef, captchaLoading };\n        case \"recaptcha\":\n            return { ...recaptcha, captchaRefreshRef, captchaLoading };\n        case \"tcaptcha\":\n            return { ...tcaptcha, captchaRefreshRef, captchaLoading };\n        default:\n            return { ...normal, captchaRefreshRef, captchaLoading };\n    }\n};\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport {\n    applyThemes,\n    setSessionStatus,\n    toggleSnackbar,\n} from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { bufferDecode, bufferEncode } from \"../../utils/index\";\nimport { enableUploaderLoad } from \"../../middleware/Init\";\nimport { Fingerprint, VpnKey } from \"@material-ui/icons\";\nimport VpnIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport { useLocation } from \"react-router\";\nimport { ICPFooter } from \"../Common/ICPFooter\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    buttonContainer: {\n        display: \"flex\",\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction LoginForm() {\n    const [email, setEmail] = useState(\"\");\n    const [pwd, setPwd] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [useAuthn, setUseAuthn] = useState(false);\n    const [twoFA, setTwoFA] = useState(false);\n    const [faCode, setFACode] = useState(\"\");\n\n    const loginCaptcha = useSelector((state) => state.siteConfig.loginCaptcha);\n    const title = useSelector((state) => state.siteConfig.title);\n    const QQLogin = useSelector((state) => state.siteConfig.QQLogin);\n    const authn = useSelector((state) => state.siteConfig.authn);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback((theme) => dispatch(applyThemes(theme)), [\n        dispatch,\n    ]);\n    const SetSessionStatus = useCallback(\n        (status) => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const history = useHistory();\n    const location = useLocation();\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n    const query = useQuery();\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        setEmail(query.get(\"username\"));\n    }, [location]);\n\n    const getCookie =(name)=> {\n        const strcookie = document.cookie;//获取cookie字符串\n            const arrcookie = strcookie.split(\"; \");//分割\n            //遍历匹配\n            for ( let i = 0; i < arrcookie.length; i++) {\n                const arr = arrcookie[i].split(\"=\");\n                if (arr[0] == name){\n                    return unescape(arr[1]);\n                }\n            }\n        return null;\n    }\n\n    const GetQueryString =(name)=> {\n        const reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\",\"i\"); \n        const r = window.location.search.substr(1).match(reg); \n        if (r!=null) return (r[2]); return \"\"; \n    }\n\n    const afterLogin = (data) => {\n        Auth.authenticate(data);\n\n        // 设置用户主题色\n        if (data[\"preferred_theme\"] !== \"\") {\n            ApplyThemes(data[\"preferred_theme\"]);\n        }\n        enableUploaderLoad();\n\n        // 设置登录状态\n        SetSessionStatus(true);\n        const backurl = GetQueryString(\"backurl\");\n        if (backurl==\"\"){\n            history.push(\"/home\");\n        }else{\n            const backurl_path = backurl.split(\".\");\n            if (backurl_path[1]!=\"bilnn\"){\n                history.push(\"/home\");\n            }else{\n                window.location.href = decodeURIComponent(backurl)+\"?token=\"+getCookie(\"token\");\n            } \n        }\n        ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n        localStorage.removeItem(\"siteConfigCache\");\n    };\n\n    const authnLogin = (e) => {\n        e.preventDefault();\n        if (!navigator.credentials) {\n            ToggleSnackbar(\"top\", \"right\", \"当前浏览器或环境不支持\", \"warning\");\n\n            return;\n        }\n\n        setLoading(true);\n\n        API.get(\"/user/authn/\" + email)\n            .then((response) => {\n                const credentialRequestOptions = response.data;\n                console.log(credentialRequestOptions);\n                credentialRequestOptions.publicKey.challenge = bufferDecode(\n                    credentialRequestOptions.publicKey.challenge\n                );\n                credentialRequestOptions.publicKey.allowCredentials.forEach(\n                    function (listItem) {\n                        listItem.id = bufferDecode(listItem.id);\n                    }\n                );\n\n                return navigator.credentials.get({\n                    publicKey: credentialRequestOptions.publicKey,\n                });\n            })\n            .then((assertion) => {\n                const authData = assertion.response.authenticatorData;\n                const clientDataJSON = assertion.response.clientDataJSON;\n                const rawId = assertion.rawId;\n                const sig = assertion.response.signature;\n                const userHandle = assertion.response.userHandle;\n\n                return API.post(\n                    \"/user/authn/finish/\" + email,\n                    JSON.stringify({\n                        id: assertion.id,\n                        rawId: bufferEncode(rawId),\n                        type: assertion.type,\n                        response: {\n                            authenticatorData: bufferEncode(authData),\n                            clientDataJSON: bufferEncode(clientDataJSON),\n                            signature: bufferEncode(sig),\n                            userHandle: bufferEncode(userHandle),\n                        },\n                    })\n                );\n            })\n            .then((response) => {\n                afterLogin(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const login = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        if (!isValidate.current.isValidate && loginCaptcha) {\n            validate(() => login(e), setLoading);\n            return;\n        }\n        API.post(\"/user/session\", {\n            userName: email,\n            Password: pwd,\n            ...captchaParamsRef.current,\n        })\n            .then((response) => {\n                setLoading(false);\n                if (response.rawData.code === 203) {\n                    setTwoFA(true);\n                } else {\n                    afterLogin(response.data);\n                }\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    const initQQLogin = () => {\n        setLoading(true);\n        const backurl = GetQueryString(\"backurl\");\n        API.post(\"/user/qq?backurl=\"+backurl)\n            .then((response) => {\n                window.location.href = response.data;\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const twoFALogin = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        API.post(\"/user/2fa\", {\n            code: faCode,\n        })\n            .then((response) => {\n                setLoading(false);\n                afterLogin(response.data);\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    let _QQLogin = QQLogin;\n    if(getCookie(\"thisapp\")==\"ok\"){\n        _QQLogin = false;\n    }\n\n    return (\n        <div className={classes.layout}>\n            {!twoFA && (\n                <>\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatar}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            登录 {title}\n                        </Typography>\n                        {!useAuthn && (\n                            <form className={classes.form} onSubmit={login}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"email\">\n                                        电子邮箱\n                                    </InputLabel>\n                                    <Input\n                                        id=\"email\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        onChange={(e) =>\n                                            setEmail(e.target.value)\n                                        }\n                                        autoComplete\n                                        value={email}\n                                        autoFocus\n                                    />\n                                </FormControl>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"password\">\n                                        密码\n                                    </InputLabel>\n                                    <Input\n                                        name=\"password\"\n                                        onChange={(e) => setPwd(e.target.value)}\n                                        type=\"password\"\n                                        id=\"password\"\n                                        value={pwd}\n                                        autoComplete\n                                    />\n                                </FormControl>\n                                {loginCaptcha && <CaptchaRender />}\n                                {_QQLogin && (\n                                    <div className={classes.buttonContainer}>\n                                        <Button\n                                            type=\"submit\"\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            disabled={loading}\n                                            className={classes.submit}\n                                        >\n                                            登录\n                                        </Button>\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            style={{ marginLeft: \"10px\" }}\n                                            disabled={loading}\n                                            className={classes.submit}\n                                            onClick={initQQLogin}\n                                        >\n                                            使用QQ登录\n                                        </Button>\n                                    </div>\n                                )}\n                                {!_QQLogin && (\n                                    <Button\n                                        type=\"submit\"\n                                        fullWidth\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        disabled={loading}\n                                        className={classes.submit}\n                                    >\n                                        登录\n                                    </Button>\n                                )}\n                            </form>\n                        )}\n                        {useAuthn && (\n                            <form className={classes.form}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"email\">\n                                        电子邮箱\n                                    </InputLabel>\n                                    <Input\n                                        id=\"email\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        onChange={(e) =>\n                                            setEmail(e.target.value)\n                                        }\n                                        autoComplete\n                                        value={email}\n                                        autoFocus\n                                    />\n                                </FormControl>\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disabled={\n                                        loading ||\n                                        (loginCaptcha ? captchaLoading : false)\n                                    }\n                                    onClick={authnLogin}\n                                    className={classes.submit}\n                                >\n                                    下一步\n                                </Button>\n                            </form>\n                        )}\n                        <Divider />\n                        <div className={classes.link}>\n                            <div>\n                                <Link href={\"/forget\"}>忘记密码</Link>\n                            </div>\n                            <div>\n                                <Link href={\"/signup\"}>注册账号</Link>\n                            </div>\n                        </div>\n\n                        <ICPFooter />\n                    </Paper>\n\n                    {authn && (\n                        <div className={classes.authnLink}>\n                            <Button\n                                color=\"primary\"\n                                onClick={() => setUseAuthn(!useAuthn)}\n                            >\n                                {!useAuthn && (\n                                    <>\n                                        <Fingerprint\n                                            style={{\n                                                marginRight: 8,\n                                            }}\n                                        />\n                                        使用外部验证器登录\n                                    </>\n                                )}\n                                {useAuthn && (\n                                    <>\n                                        <VpnKey\n                                            style={{\n                                                marginRight: 8,\n                                            }}\n                                        />\n                                        使用密码登录\n                                    </>\n                                )}\n                            </Button>\n                        </div>\n                    )}\n                </>\n            )}\n            {twoFA && (\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <VpnIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        二步验证\n                    </Typography>\n                    <form className={classes.form} onSubmit={twoFALogin}>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"code\">\n                                请输入六位二步验证代码\n                            </InputLabel>\n                            <Input\n                                id=\"code\"\n                                type=\"number\"\n                                name=\"code\"\n                                onChange={(event) =>\n                                    setFACode(event.target.value)\n                                }\n                                autoComplete\n                                value={faCode}\n                                autoFocus\n                            />\n                        </FormControl>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={loading}\n                            className={classes.submit}\n                        >\n                            继续登录\n                        </Button>{\" \"}\n                    </form>{\" \"}\n                    <Divider />\n                </Paper>\n            )}\n        </div>\n    );\n}\n\nexport default LoginForm;\n","import * as actions from \"./action\";\nimport * as reducers from \"./reducer\";\n\nexport default {\n    actions,\n    reducers,\n};\n","import React, { useEffect } from \"react\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\nimport MoreIcon from \"@material-ui/icons/MoreHoriz\";\n\nconst useStyles = makeStyles((theme) => ({\n    expandMore: {\n        color: \"#8d8d8d\",\n    },\n    active: {\n        boxShadow: \"0 0 0 2px \" + theme.palette.primary.light,\n    },\n    button: {\n        textTransform: \"none\",\n    },\n}));\n\nexport default function PathButton(props) {\n    const inputRef = React.useRef(null);\n\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            if (props.more) {\n                inputRef.current.click();\n            } else {\n                return {\n                    folder: {\n                        id: -1,\n                        path: props.path,\n                        name: props.folder === \"/\" ? \"\" : props.folder,\n                    },\n                };\n            }\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        if (props.more && isActive) {\n            inputRef.current.click();\n        }\n        // eslint-disable-next-line\n    }, [isActive]);\n\n    const classes = useStyles();\n    return (\n        <span onClick={props.onClick} ref={inputRef}>\n            <Button\n                ref={drop}\n                className={classNames(\n                    {\n                        [classes.active]: isActive,\n                    },\n                    classes.button\n                )}\n                component=\"span\"\n                title={props.title}\n            >\n                {props.more && <MoreIcon />}\n                {!props.more && (\n                    <>\n                        {props.folder}\n                        {props.last && (\n                            <ExpandMore className={classes.expandMore} />\n                        )}\n                    </>\n                )}\n            </Button>\n        </span>\n    );\n}\n","import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport { MenuItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles((theme) => ({\n    active: {\n        border: \"2px solid \" + theme.palette.primary.light,\n    },\n}));\n\nexport default function DropDownItem(props) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            console.log({\n                folder: {\n                    id: -1,\n                    path: props.path,\n                    name: props.folder === \"/\" ? \"\" : props.folder,\n                },\n            });\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        props.setActiveStatus(props.id, isActive);\n        // eslint-disable-next-line\n    }, [isActive]);\n\n    const classes = useStyles();\n    return (\n        <MenuItem\n            ref={drop}\n            className={classNames({\n                [classes.active]: isActive,\n            })}\n            onClick={(e) => props.navigateTo(e, props.id)}\n        >\n            <ListItemIcon>\n                <FolderIcon />\n            </ListItemIcon>\n            <ListItemText primary={props.folder} />\n        </MenuItem>\n    );\n}\n","import React from \"react\";\nimport DropDownItem from \"./DropDownItem\";\n\nexport default function DropDown(props) {\n    let timer;\n    let first = props.folders.length;\n    const status = [];\n    for (let index = 0; index < props.folders.length; index++) {\n        status[index] = false;\n    }\n\n    const setActiveStatus = (id, value) => {\n        status[id] = value;\n        if (value) {\n            clearTimeout(timer);\n        } else {\n            let shouldClose = true;\n            status.forEach((element) => {\n                if (element) {\n                    shouldClose = false;\n                }\n            });\n            if (shouldClose) {\n                if (first <= 0) {\n                    timer = setTimeout(() => {\n                        props.onClose();\n                    }, 100);\n                } else {\n                    first--;\n                }\n            }\n        }\n        console.log(status);\n    };\n\n    return (\n        <>\n            {props.folders.map((folder, id) => (\n                // eslint-disable-next-line react/jsx-key\n                <DropDownItem\n                    path={\"/\" + props.folders.slice(0, id).join(\"/\")}\n                    navigateTo={props.navigateTo}\n                    id={id}\n                    setActiveStatus={setActiveStatus}\n                    folder={folder}\n                />\n            ))}\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {\n    navigateTo,\n    navigateUp,\n    setNavigatorError,\n    setNavigatorLoadingStatus,\n    refreshFileList,\n    setSelectedTarget,\n    openCreateFolderDialog,\n    openShareDialog,\n    drawerToggleAction,\n    openCompressDialog,\n} from \"../../../actions/index\";\nimport explorer from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { setCookie, setGetParameter, fixUrlHash } from \"../../../utils/index\";\nimport {\n    withStyles,\n    Divider,\n    Menu,\n    MenuItem,\n    ListItemIcon,\n} from \"@material-ui/core\";\nimport PathButton from \"./PathButton\";\nimport DropDown from \"./DropDown\";\nimport pathHelper from \"../../../utils/page\";\nimport classNames from \"classnames\";\nimport Auth from \"../../../middleware/Auth\";\nimport { Archive } from \"@material-ui/icons\";\nimport { FilePlus } from \"mdi-material-ui\";\nimport { openCreateFileDialog } from \"../../../actions\";\nimport SubActions from \"./SubActions\";\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        refresh: state.navigator.refresh,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        keywords: state.explorer.keywords,\n        sortMethod: state.viewUpdate.sortMethod,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        navigateToPath: (path) => {\n            dispatch(navigateTo(path));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        setNavigatorError: (status, msg) => {\n            dispatch(setNavigatorError(status, msg));\n        },\n        updateFileList: (list) => {\n            dispatch(explorer.actions.updateFileList(list));\n        },\n        setNavigatorLoadingStatus: (status) => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        setSelectedTarget: (target) => {\n            dispatch(setSelectedTarget(target));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        handleDesktopToggle: (open) => {\n            dispatch(drawerToggleAction(open));\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        },\n    };\n};\n\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nconst styles = (theme) => ({\n    container: {\n       /* [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\",\n        },*/\n        height: \"49px\",\n        overflow: \"hidden\",\n        backgroundColor: theme.palette.background.paper,\n    },\n    navigatorContainer: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    nav: {\n        height: \"48px\",\n        padding: \"5px 15px\",\n        display: \"flex\",\n    },\n    optionContainer: {\n        paddingTop: \"6px\",\n        marginRight: \"10px\",\n    },\n    rightIcon: {\n        marginTop: \"6px\",\n        verticalAlign: \"top\",\n        color: \"#868686\",\n    },\n    expandMore: {\n        color: \"#8d8d8d\",\n    },\n    roundBorder: {\n        borderRadius: \"4px 4px 0 0\",\n    },\n});\n\nclass NavigatorComponent extends Component {\n    keywords = \"\";\n    currentID = 0;\n\n    state = {\n        hidden: false,\n        hiddenFolders: [],\n        folders: [],\n        anchorEl: null,\n        hiddenMode: false,\n        anchorHidden: null,\n    };\n\n    constructor(props) {\n        super(props);\n        this.element = React.createRef();\n    }\n\n    componentDidMount = () => {\n        //const url = new URL(fixUrlHash(window.location.href));\n        const reg = new RegExp(\"(^|&)\" + \"path\" + \"=([^&]*)(&|$)\",\"i\"); \n        const r = window.location.search.substr(1).match(reg); \n        const c = r!=null ? decodeURIComponent(r[2]) : null; \n        this.renderPath(c === null ? \"/\" : c);\n\n        if (!this.props.isShare) {\n            // 如果是在个人文件管理页，首次加载时打开侧边栏\n            this.props.handleDesktopToggle(true);\n        }\n\n        // 后退操作时重新导航\n        window.onpopstate = () => {\n            //const url = new URL(fixUrlHash(window.location.href));\n            const reg = new RegExp(\"(^|&)\" + \"path\" + \"=([^&]*)(&|$)\",\"i\"); \n            const r = window.location.search.substr(1).match(reg); \n            const c = r!=null ? decodeURIComponent(r[2]) : null; \n            if (c !== null) {\n                this.props.navigateToPath(c);\n            }\n        };\n    };\n\n    renderPath = (path = null) => {\n        this.props.setNavigatorError(false, null);\n        this.setState({\n            folders:\n                path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\"),\n        });\n        let newPath = path !== null ? path : this.props.path;\n        const apiURL = this.props.share\n            ? \"/share/list/\" + this.props.share.key\n            : this.keywords === \"\"\n            ? \"/directory\"\n            : \"/file/search/\";\n        newPath = this.keywords === \"\" ? newPath : this.keywords;\n\n        API.get(apiURL + encodeURIComponent(newPath))\n            .then((response) => {\n                this.currentID = response.data.parent;\n                this.props.updateFileList(response.data.objects);\n                this.props.setNavigatorLoadingStatus(false);\n                const pathTemp = (path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\")\n                ).join(\",\");\n                setCookie(\"path_tmp\", encodeURIComponent(pathTemp), 1);\n                if (this.keywords === \"\") {\n                    setGetParameter(\"path\", encodeURIComponent(newPath));\n                }\n            })\n            .catch((error) => {\n                this.props.setNavigatorError(true, error);\n            });\n\n        this.checkOverFlow(true);\n    };\n\n    redresh = (path) => {\n        this.props.setNavigatorLoadingStatus(true);\n        this.props.setNavigatorError(false, \"error\");\n        this.renderPath(path);\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (this.props.keywords !== nextProps.keywords) {\n            this.keywords = nextProps.keywords;\n        }\n        if (this.props.path !== nextProps.path) {\n            this.renderPath(nextProps.path);\n        }\n        if (this.props.refresh !== nextProps.refresh) {\n            this.redresh(nextProps.path);\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.updateFileList([]);\n    }\n\n    componentDidUpdate = (prevProps, prevStates) => {\n        if (this.state.folders !== prevStates.folders) {\n            this.checkOverFlow(true);\n        }\n        if (this.props.drawerDesktopOpen !== prevProps.drawerDesktopOpen) {\n            delay(500).then(() => this.checkOverFlow());\n        }\n    };\n\n    checkOverFlow = (force) => {\n        if (this.overflowInitLock && !force) {\n            return;\n        }\n        if (this.element.current !== null) {\n            const hasOverflowingChildren =\n                this.element.current.offsetHeight <\n                    this.element.current.scrollHeight ||\n                this.element.current.offsetWidth <\n                    this.element.current.scrollWidth;\n            if (hasOverflowingChildren) {\n                this.overflowInitLock = true;\n                this.setState({ hiddenMode: true });\n            }\n            if (!hasOverflowingChildren && this.state.hiddenMode) {\n                this.setState({ hiddenMode: false });\n            }\n        }\n    };\n\n    navigateTo = (event, id) => {\n        if (id === this.state.folders.length - 1) {\n            //最后一个路径\n            this.setState({ anchorEl: event.currentTarget });\n        } else if (\n            id === -1 &&\n            this.state.folders.length === 1 &&\n            this.state.folders[0] === \"\"\n        ) {\n            this.props.refreshFileList();\n            this.handleClose();\n        } else if (id === -1) {\n            this.props.navigateToPath(\"/\");\n            this.handleClose();\n        } else {\n            this.props.navigateToPath(\n                \"/\" + this.state.folders.slice(0, id + 1).join(\"/\")\n            );\n            this.handleClose();\n        }\n    };\n\n    handleClose = () => {\n        this.setState({ anchorEl: null, anchorHidden: null, anchorSort: null });\n    };\n\n    showHiddenPath = (e) => {\n        this.setState({ anchorHidden: e.currentTarget });\n    };\n\n    performAction = (e) => {\n        this.handleClose();\n        if (e === \"refresh\") {\n            this.redresh();\n            return;\n        }\n        const presentPath = this.props.path.split(\"/\");\n        const newTarget = [\n            {\n                id: this.currentID,\n                type: \"dir\",\n                name: presentPath.pop(),\n                path: presentPath.length === 1 ? \"/\" : presentPath.join(\"/\"),\n            },\n        ];\n        //this.props.navitateUp();\n        switch (e) {\n            case \"share\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openShareDialog();\n                break;\n            case \"newfolder\":\n                this.props.openCreateFolderDialog();\n                break;\n            case \"compress\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openCompressDialog();\n                break;\n            case \"newFile\":\n                this.props.openCreateFileDialog();\n                break;\n            default:\n                break;\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const user = Auth.GetUser();\n\n        const presentFolderMenu = (\n            <Menu\n                id=\"presentFolderMenu\"\n                anchorEl={this.state.anchorEl}\n                open={Boolean(this.state.anchorEl)}\n                onClose={this.handleClose}\n                disableAutoFocusItem={true}\n            >\n                <MenuItem onClick={() => this.performAction(\"refresh\")}>\n                    <ListItemIcon>\n                        <RefreshIcon />\n                    </ListItemIcon>\n                    刷新\n                </MenuItem>\n                {this.props.keywords === \"\" && isHomePage && (\n                    <div>\n                        <Divider />\n                        <MenuItem onClick={() => this.performAction(\"share\")}>\n                            <ListItemIcon>\n                                <ShareIcon />\n                            </ListItemIcon>\n                            分享\n                        </MenuItem>\n                        {user.group.compress && (\n                            <MenuItem\n                                onClick={() => this.performAction(\"compress\")}\n                            >\n                                <ListItemIcon>\n                                    <Archive />\n                                </ListItemIcon>\n                                压缩\n                            </MenuItem>\n                        )}\n                        <Divider />\n                        <MenuItem\n                            onClick={() => this.performAction(\"newfolder\")}\n                        >\n                            <ListItemIcon>\n                                <NewFolderIcon />\n                            </ListItemIcon>\n                            创建文件夹\n                        </MenuItem>\n\n                        <MenuItem onClick={() => this.performAction(\"newFile\")}>\n                            <ListItemIcon>\n                                <FilePlus />\n                            </ListItemIcon>\n                            创建文件\n                        </MenuItem>\n                    </div>\n                )}\n            </Menu>\n        );\n\n        return (\n            <div\n                className={classNames(\n                    {\n                        [classes.roundBorder]: this.props.isShare,\n                    },\n                    classes.container\n                )}\n            >\n                <div className={classes.navigatorContainer}>\n                    <div className={classes.nav} ref={this.element}>\n                        <span>\n                            <PathButton\n                                folder=\"/\"\n                                path=\"/\"\n                                onClick={(e) => this.navigateTo(e, -1)}\n                            />\n                            <RightIcon className={classes.rightIcon} />\n                        </span>\n                        {this.state.hiddenMode && (\n                            <span>\n                                <PathButton\n                                    more\n                                    title=\"显示路径\"\n                                    onClick={this.showHiddenPath}\n                                />\n                                <Menu\n                                    id=\"hiddenPathMenu\"\n                                    anchorEl={this.state.anchorHidden}\n                                    open={Boolean(this.state.anchorHidden)}\n                                    onClose={this.handleClose}\n                                    disableAutoFocusItem={true}\n                                >\n                                    <DropDown\n                                        onClose={this.handleClose}\n                                        folders={this.state.folders.slice(\n                                            0,\n                                            -1\n                                        )}\n                                        navigateTo={this.navigateTo}\n                                    />\n                                </Menu>\n                                <RightIcon className={classes.rightIcon} />\n                                {/* <Button component=\"span\" onClick={(e)=>this.navigateTo(e,this.state.folders.length-1)}>\n                                    {this.state.folders.slice(-1)}  \n                                    <ExpandMore className={classes.expandMore}/>\n                                </Button> */}\n                                <PathButton\n                                    folder={this.state.folders.slice(-1)}\n                                    path={\n                                        \"/\" +\n                                        this.state.folders\n                                            .slice(0, -1)\n                                            .join(\"/\")\n                                    }\n                                    last={true}\n                                    onClick={(e) =>\n                                        this.navigateTo(\n                                            e,\n                                            this.state.folders.length - 1\n                                        )\n                                    }\n                                />\n                                {presentFolderMenu}\n                            </span>\n                        )}\n                        {!this.state.hiddenMode &&\n                            this.state.folders.map((folder, id, folders) => (\n                                <span key={id}>\n                                    {folder !== \"\" && (\n                                        <span>\n                                            <PathButton\n                                                folder={folder}\n                                                path={\n                                                    \"/\" +\n                                                    folders\n                                                        .slice(0, id)\n                                                        .join(\"/\")\n                                                }\n                                                last={id === folders.length - 1}\n                                                onClick={(e) =>\n                                                    this.navigateTo(e, id)\n                                                }\n                                            />\n                                            {id === folders.length - 1 &&\n                                                presentFolderMenu}\n                                            {id !== folders.length - 1 && (\n                                                <RightIcon\n                                                    className={\n                                                        classes.rightIcon\n                                                    }\n                                                />\n                                            )}\n                                        </span>\n                                    )}\n                                </span>\n                            ))}\n                    </div>\n                    <div className={classes.optionContainer}>\n                        <SubActions isSmall share={this.props.share} />\n                    </div>\n                </div>\n                <Divider />\n            </div>\n        );\n    }\n}\n\nNavigatorComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired,\n};\n\nconst Navigator = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(NavigatorComponent)));\n\nexport default Navigator;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport {\n    withStyles,\n    ButtonBase,\n    Typography,\n    Tooltip,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\nimport { Folder } from \"@material-ui/icons\";\n\nconst styles = (theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass SmallIconCompoment extends Component {\n    state = {};\n\n    render() {\n        const { classes } = this.props;\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <ButtonBase\n                focusRipple\n                className={classNames(\n                    {\n                        [classes.selected]: isSelected,\n                        [classes.notSelected]: !isSelected,\n                    },\n                    classes.button\n                )}\n            >\n                <div\n                    onClick={this.props.onIconClick}\n                    className={classNames(classes.icon, {\n                        [classes.iconSelected]: isSelected,\n                        [classes.iconNotSelected]: !isSelected,\n                    })}\n                >\n                    {(!isSelected || !isMobile) && (\n                        <>\n                            {this.props.isFolder && <Folder />}\n                            {!this.props.isFolder && (\n                                <TypeIcon fileName={this.props.file.name} />\n                            )}\n                        </>\n                    )}\n                    {isSelected && isMobile && (\n                        <Grow in={isSelected && isMobile}>\n                            <CheckCircleRoundedIcon\n                                className={classes.checkIcon}\n                            />\n                        </Grow>\n                    )}\n                </div>\n                <Tooltip\n                    title={this.props.file.name}\n                    aria-label={this.props.file.name}\n                >\n                    <Typography\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                        variant=\"body2\"\n                    >\n                        {this.props.file.name}\n                    </Typography>\n                </Tooltip>\n            </ButtonBase>\n        );\n    }\n}\n\nSmallIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst SmallIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(SmallIconCompoment));\n\nexport default SmallIcon;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport ContentLoader from \"react-content-loader\";\nimport { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    ButtonBase,\n    Typography,\n    Divider,\n    Tooltip,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport { withRouter } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\n\nconst styles = (theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        alignItems: \"initial\",\n        display: \"initial\",\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    preview: {\n        overflow: \"hidden\",\n        height: \"150px\",\n        width: \"100%\",\n        borderRadius: \"6px 6px 0 0\",\n        backgroundColor: theme.palette.background.default,\n    },\n    previewIcon: {\n        overflow: \"hidden\",\n        height: \"149px\",\n        width: \"100%\",\n        borderRadius: \"5px 5px 0 0\",\n        backgroundColor: theme.palette.background.paper,\n        paddingTop: \"50px\",\n    },\n    iconBig: {\n        fontSize: 50,\n    },\n    picPreview: {\n        objectFit: \"cover\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    fileInfo: {\n        height: \"50px\",\n        display: \"flex\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    hide: {\n        display: \"none\",\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\",\n        height: \"100%\",\n        width: \"100%\",\n    },\n    shareFix: {\n        marginLeft: \"20px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass FileIconCompoment extends Component {\n    static defaultProps = {\n        share: false,\n    };\n\n    state = {\n        loading: false,\n        showPicIcon: false,\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <div className={classes.container}>\n                <ButtonBase\n                    focusRipple\n                    className={classNames(\n                        {\n                            [classes.selected]: isSelected,\n                            [classes.notSelected]: !isSelected,\n                        },\n                        classes.button\n                    )}\n                >\n                    {this.props.file.pic !== \"\" &&\n                        !this.state.showPicIcon &&\n                        this.props.file.pic !== \" \" &&\n                        this.props.file.pic !== \"null,null\" && (\n                            <div className={classes.preview}>\n                                <LazyLoadImage\n                                    className={classNames({\n                                        [classes.hide]: this.state.loading,\n                                        [classes.picPreview]: !this.state\n                                            .loading,\n                                    })}\n                                    src={\n                                        baseURL +\n                                        (isSharePage\n                                            ? \"/share/thumb/\" +\n                                              window.shareInfo.key +\n                                              \"/\" +\n                                              this.props.file.id +\n                                              \"?path=\" +\n                                              encodeURIComponent(\n                                                  this.props.file.path\n                                              )\n                                            : \"/file/thumb/\" +\n                                              this.props.file.id)\n                                    }\n                                    afterLoad={() =>\n                                        this.setState({ loading: false })\n                                    }\n                                    beforeLoad={() =>\n                                        this.setState({ loading: true })\n                                    }\n                                    onError={() =>\n                                        this.setState({ showPicIcon: true })\n                                    }\n                                />\n                                <ContentLoader\n                                    height={150}\n                                    width={170}\n                                    className={classNames(\n                                        {\n                                            [classes.hide]: !this.state.loading,\n                                        },\n                                        classes.loadingAnimation\n                                    )}\n                                >\n                                    <rect\n                                        x=\"0\"\n                                        y=\"0\"\n                                        width=\"100%\"\n                                        height=\"150\"\n                                    />\n                                </ContentLoader>\n                            </div>\n                        )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && (\n                        <div className={classes.previewIcon}>\n                            <TypeIcon\n                                className={classes.iconBig}\n                                fileName={this.props.file.name}\n                            />\n                        </div>\n                    )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && <Divider />}\n                    <div className={classes.fileInfo}>\n                        {!this.props.share && (\n                            <div\n                                onClick={this.props.onIconClick}\n                                className={classNames(classes.icon, {\n                                    [classes.iconSelected]: isSelected,\n                                    [classes.iconNotSelected]: !isSelected,\n                                })}\n                            >\n                                {(!isSelected || !isMobile) && (\n                                    <TypeIcon fileName={this.props.file.name} />\n                                )}\n                                {isSelected && isMobile && (\n                                    <Grow in={isSelected && isMobile}>\n                                        <CheckCircleRoundedIcon\n                                            className={classes.checkIcon}\n                                        />\n                                    </Grow>\n                                )}\n                            </div>\n                        )}\n                        <Tooltip\n                            title={this.props.file.name}\n                            aria-label={this.props.file.name}\n                        >\n                            <Typography\n                                variant=\"body2\"\n                                className={classNames(classes.folderName, {\n                                    [classes.folderNameSelected]: isSelected,\n                                    [classes.folderNameNotSelected]: !isSelected,\n                                    [classes.shareFix]: this.props.share,\n                                })}\n                            >\n                                {this.props.file.name}\n                            </Typography>\n                        </Tooltip>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nFileIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst FileIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileIconCompoment)));\n\nexport default FileIcon;\n","import React from \"react\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport {\n    ButtonBase,\n    Typography,\n    Tooltip,\n    makeStyles,\n    fade,\n} from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport statusHelper from \"../../utils/page\";\nimport TypeIcon from \"./TypeIcon\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    active: {\n        boxShadow: \"0 0 0 2px \" + theme.palette.primary.light,\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default function Folder({ folder, isActive, onIconClick }) {\n    const selected = useSelector((state) => state.explorer.selected);\n    const classes = useStyles();\n    const isMobile = statusHelper.isMobile();\n    const isSelected =\n        selected.findIndex((value) => {\n            return value === folder;\n        }) !== -1;\n\n    return (\n        <ButtonBase\n            focusRipple\n            className={classNames(\n                {\n                    [classes.selected]: isSelected,\n                    [classes.notSelected]: !isSelected,\n                    [classes.active]: isActive,\n                },\n                classes.button\n            )}\n        >\n            <div\n                onClick={onIconClick}\n                className={classNames(classes.icon, {\n                    [classes.iconSelected]: isSelected,\n                    [classes.iconNotSelected]: !isSelected,\n                })}\n            >\n                {(!isSelected || !isMobile) && <FolderIcon />}\n                {isSelected && isMobile && (\n                    <CheckCircleRoundedIcon className={classes.checkIcon} />\n                )}\n            </div>\n            <Tooltip title={folder.name} aria-label={folder.name}>\n                <Typography\n                    variant=\"body2\"\n                    className={classNames(classes.folderName, {\n                        [classes.folderNameSelected]: isSelected,\n                        [classes.folderNameNotSelected]: !isSelected,\n                    })}\n                >\n                    {folder.name}\n                </Typography>\n            </Tooltip>\n        </ButtonBase>\n    );\n}\n","import React from \"react\";\nimport SmallIcon from \"../SmallIcon\";\nimport FileIcon from \"../FileIcon\";\nimport { useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Folder from \"../Folder\";\n\nconst useStyles = makeStyles(() => ({\n    dragging: {\n        width: \"200px\",\n    },\n    cardDragged: {\n        position: \"absolute\",\n        \"transform-origin\": \"bottom left\",\n    },\n}));\n\nconst diliverIcon = (object, viewMethod, classes) => {\n    if (object.type === \"dir\") {\n        return (\n            <div className={classes.dragging}>\n                <SmallIcon file={object} isFolder />\n            </div>\n        );\n    }\n    if (object.type === \"file\" && viewMethod === \"icon\") {\n        return (\n            <div className={classes.dragging}>\n                <FileIcon file={object} />\n            </div>\n        );\n    }\n    if (\n        (object.type === \"file\" && viewMethod === \"smallIcon\") ||\n        viewMethod === \"list\"\n    ) {\n        return (\n            <div className={classes.dragging}>\n                <SmallIcon file={object} />\n            </div>\n        );\n    }\n};\n\nconst Preview = (props) => {\n    const selected = useSelector((state) => state.explorer.selected);\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const classes = useStyles();\n    return (\n        <>\n            {selected.length === 0 &&\n                diliverIcon(props.object, viewMethod, classes)}\n            {selected.length > 0 && (\n                <>\n                    {selected.slice(0, 3).map((card, i) => (\n                        <div\n                            key={card.id}\n                            className={classes.cardDragged}\n                            style={{\n                                zIndex: selected.length - i,\n                                transform: `rotateZ(${-i * 2.5}deg)`,\n                            }}\n                        >\n                            {diliverIcon(card, viewMethod, classes)}\n                        </div>\n                    ))}\n                </>\n            )}\n        </>\n    );\n};\nexport default Preview;\n","import React from \"react\";\nimport { useDragLayer } from \"react-dnd\";\nimport Preview from \"./Preview\";\nimport { useSelector } from \"react-redux\";\nconst layerStyles = {\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\",\n};\n\nfunction getItemStyles(\n    initialOffset,\n    currentOffset,\n    pointerOffset,\n    viewMethod\n) {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: \"none\",\n        };\n    }\n    let { x, y } = currentOffset;\n    if (viewMethod === \"list\") {\n        x += pointerOffset.x - initialOffset.x;\n        y += pointerOffset.y - initialOffset.y;\n    }\n\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        opacity: 0.5,\n        transform,\n        WebkitTransform: transform,\n    };\n}\nconst CustomDragLayer = (props) => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        pointerOffset,\n    } = useDragLayer((monitor) => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        pointerOffset: monitor.getInitialClientOffset(),\n        isDragging: monitor.isDragging(),\n    }));\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    function renderItem() {\n        switch (itemType) {\n            case \"object\":\n                return <Preview object={item.object} />;\n            default:\n                return null;\n        }\n    }\n    if (!isDragging) {\n        return null;\n    }\n    return (\n        <div style={layerStyles}>\n            <div\n                style={getItemStyles(\n                    initialOffset,\n                    currentOffset,\n                    pointerOffset,\n                    viewMethod\n                )}\n            >\n                {renderItem()}\n            </div>\n        </div>\n    );\n};\nexport default CustomDragLayer;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport { sizeToString } from \"../../utils/index\";\nimport {\n    withStyles,\n    TableCell,\n    TableRow,\n    Typography,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\nimport KeyboardReturnIcon from \"@material-ui/icons/KeyboardReturn\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\nimport dayjs from \"dayjs\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    selected: {\n        \"&:hover\": {},\n        backgroundColor: fade(theme.palette.primary.main, 0.18),\n    },\n\n    selectedShared: {\n        \"&:hover\": {},\n        backgroundColor: fade(theme.palette.primary.main, 0.18),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    icon: {\n        verticalAlign: \"middle\",\n        marginRight: \"20px\",\n        color: theme.palette.text.secondary,\n    },\n    tableIcon: {\n        marginRight: \"20px\",\n        verticalAlign: \"middle\",\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n        userSelect: \"none\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n        userSelect: \"none\",\n    },\n    folderName: {\n        marginRight: \"20px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    tableRow: {\n        padding: \"10px 16px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n    active: {\n        backgroundColor: fade(theme.palette.primary.main, 0.1),\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass TableRowCompoment extends Component {\n    state = {};\n\n    render() {\n        const { classes } = this.props;\n        const isShare = pathHelper.isSharePage(this.props.location.pathname);\n\n        let icon;\n        if (this.props.file.type === \"dir\") {\n            icon = <FolderIcon className={classes.icon} />;\n        } else if (this.props.file.type === \"up\") {\n            icon = <KeyboardReturnIcon className={classes.icon} />;\n        } else {\n            icon = (\n                <TypeIcon\n                    className={classes.tableIcon}\n                    fileName={this.props.file.name}\n                />\n            );\n        }\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <TableRow\n                ref={this.props.pref}\n                onContextMenu={this.props.contextMenu}\n                onClick={this.props.handleClick}\n                onDoubleClick={this.props.handleDoubleClick.bind(this)}\n                className={classNames({\n                    [classes.selected]: isSelected && !isShare,\n                    [classes.selectedShared]: isSelected && isShare,\n                    [classes.notSelected]: !isSelected,\n                    [classes.active]: this.props.isActive,\n                })}\n            >\n                <TableCell\n                    ref={this.props.dref}\n                    component=\"th\"\n                    scope=\"row\"\n                    className={classes.tableRow}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        <div\n                            onClick={\n                                this.props.file.type !== \"up\"\n                                    ? this.props.onIconClick\n                                    : null\n                            }\n                        >\n                            {(!isSelected || !isMobile) && icon}\n                            {isSelected && isMobile && (\n                                <Grow in={isSelected && isMobile}>\n                                    <CheckCircleRoundedIcon\n                                        className={classNames(\n                                            classes.checkIcon,\n                                            classes.icon\n                                        )}\n                                    />\n                                </Grow>\n                            )}\n                        </div>\n                        {this.props.file.name}\n                    </Typography>\n                </TableCell>\n                <TableCell\n                    className={classNames(classes.hideAuto, classes.tableRow)}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        {\" \"}\n                        {this.props.file.type !== \"dir\" &&\n                            this.props.file.type !== \"up\" &&\n                            sizeToString(this.props.file.size)}\n                    </Typography>\n                </TableCell>\n                <TableCell\n                    className={classNames(classes.hideAuto, classes.tableRow)}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        {\" \"}\n                        {formatLocalTime(\n                            this.props.file.date,\n                            \"YYYY-MM-DD H:mm:ss\"\n                        )}\n                    </Typography>\n                </TableCell>\n            </TableRow>\n        );\n    }\n}\n\nTableRowCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst TableItem = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(TableRowCompoment)));\n\nexport default TableItem;\n","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport Folder from \"../Folder\";\nimport classNames from \"classnames\";\nimport TableItem from \"../TableRow\";\nexport default function FolderDropWarpper({\n    isListView,\n    folder,\n    onIconClick,\n    contextMenu,\n    handleClick,\n    handleDoubleClick,\n    className,\n    pref,\n}) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => ({ folder }),\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n    const isActive = canDrop && isOver;\n    if (!isListView) {\n        return (\n            <div ref={drop}>\n                <Folder\n                    folder={folder}\n                    onIconClick={onIconClick}\n                    isActive={isActive}\n                />\n            </div>\n        );\n    }\n    return (\n        <TableItem\n            pref={pref}\n            dref={drop}\n            className={className}\n            onIconClick={onIconClick}\n            contextMenu={contextMenu}\n            handleClick={handleClick}\n            handleDoubleClick={handleDoubleClick}\n            file={folder}\n            isActive={isActive}\n        />\n    );\n}\n","import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setSelectedTarget,\n    selectFile as selectFileAction,\n    navigateTo,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    dragAndDrop,\n    openLoadingDialog,\n} from \"../../actions/index\";\nimport statusHelper from \"../../utils/page\";\nimport FileIcon from \"./FileIcon\";\nimport SmallIcon from \"./SmallIcon\";\nimport TableItem from \"./TableRow\";\nimport classNames from \"classnames\";\nimport { isPreviewable } from \"../../config\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport DropWarpper from \"./DnD/DropWarpper\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { pathBack } from \"../../utils\";\nimport { openPreview } from \"../../actions\";\n\nconst useStyles = makeStyles(() => ({\n    container: {\n        padding: \"7px\",\n    },\n    fixFlex: {\n        minWidth: 0,\n    },\n    dragging: {\n        opacity: 0.4,\n    },\n}));\n\nexport default function ObjectIcon(props) {\n    const path = useSelector((state) => state.navigator.path);\n    const selected = useSelector((state) => state.explorer.selected);\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const navigatorPath = useSelector((state) => state.navigator.path);\n    const location = useLocation();\n\n    const dispatch = useDispatch();\n    const ContextMenu = useCallback(\n        (type, open) => dispatch(changeContextMenu(type, open)),\n        [dispatch]\n    );\n    const SetSelectedTarget = useCallback(\n        (targets) => dispatch(setSelectedTarget(targets)),\n        [dispatch]\n    );\n\n    const NavitateTo = useCallback((targets) => dispatch(navigateTo(targets)), [\n        dispatch,\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const DragAndDrop = useCallback(\n        (source, target) => dispatch(dragAndDrop(source, target)),\n        [dispatch]\n    );\n    const OpenLoadingDialog = useCallback(\n        (text) => dispatch(openLoadingDialog(text)),\n        [dispatch]\n    );\n    const OpenPreview = useCallback(() => dispatch(openPreview()), [dispatch]);\n\n    const classes = useStyles();\n\n    const contextMenu = (e) => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        e.preventDefault();\n        if (\n            selected.findIndex((value) => {\n                return value === props.file;\n            }) === -1\n        ) {\n            SetSelectedTarget([props.file]);\n        }\n        ContextMenu(\"file\", true);\n    };\n\n    const selectFile = (e) => {\n        dispatch(selectFileAction(props.file, e, props.index));\n    };\n    const enterFolder = () => {\n        NavitateTo(\n            path === \"/\" ? path + props.file.name : path + \"/\" + props.file.name\n        );\n    };\n    const handleClick = (e) => {\n        if (props.file.type === \"up\") {\n            NavitateTo(pathBack(navigatorPath));\n        }\n        if (\n            statusHelper.isMobile() ||\n            statusHelper.isSharePage(location.pathname)\n        ) {\n            selectFile(e);\n            if (props.file.type === \"dir\" && !e.ctrlKey) {\n                enterFolder();\n                return;\n            }\n        } else {\n            selectFile(e);\n        }\n    };\n\n    const handleDoubleClick = () => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        if (props.file.type === \"dir\") {\n            enterFolder();\n            return;\n        }\n        const isShare = statusHelper.isSharePage(location.pathname);\n        if (isShare) {\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                ToggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\");\n                return;\n            }\n        }\n        if (window.shareInfo && !window.shareInfo.preview) {\n            OpenLoadingDialog(\"获取下载地址...\");\n            return;\n        }\n\n        OpenPreview();\n    };\n\n    const handleIconClick = (e) => {\n        if (statusHelper.isMobile()) {\n            e.stopPropagation();\n            e.ctrlKey = true;\n            selectFile(e);\n            return false;\n        }\n    };\n\n    const [{ isDragging }, drag, preview] = useDrag({\n        item: {\n            object: props.file,\n            type: \"object\",\n            selected: [...selected],\n            viewMethod: viewMethod,\n        },\n        end: (item, monitor) => {\n            const dropResult = monitor.getDropResult();\n            if (item && dropResult) {\n                if (dropResult.folder) {\n                    if (\n                        item.object.id !== dropResult.folder.id ||\n                        item.object.type !== dropResult.folder.type\n                    ) {\n                        DragAndDrop(item.object, dropResult.folder);\n                    }\n                }\n            }\n        },\n        canDrag: () => {\n            return (\n                !statusHelper.isMobile() &&\n                statusHelper.isHomePage(location.pathname)\n            );\n        },\n        collect: (monitor) => ({\n            isDragging: monitor.isDragging(),\n        }),\n    });\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line\n    }, []);\n\n    if (viewMethod === \"list\") {\n        return (\n            <>\n                {props.file.type === \"dir\" && (\n                    <DropWarpper\n                        isListView={true}\n                        pref={drag}\n                        className={classNames(classes.container, {\n                            [classes.dragging]: isDragging,\n                        })}\n                        onIconClick={handleIconClick}\n                        contextMenu={contextMenu}\n                        handleClick={handleClick}\n                        handleDoubleClick={handleDoubleClick.bind(this)}\n                        folder={props.file}\n                    />\n                )}\n                {props.file.type !== \"dir\" && (\n                    <TableItem\n                        pref={drag}\n                        className={classNames(classes.container, {\n                            [classes.dragging]: isDragging,\n                        })}\n                        onIconClick={handleIconClick}\n                        contextMenu={contextMenu}\n                        handleClick={handleClick}\n                        handleDoubleClick={handleDoubleClick.bind(this)}\n                        file={props.file}\n                    />\n                )}\n            </>\n        );\n    }\n\n    return (\n        <div\n            ref={drag}\n            className={classNames({\n                [classes.container]: viewMethod !== \"list\",\n                [classes.dragging]: isDragging,\n            })}\n        >\n            <div\n                className={classes.fixFlex}\n                onContextMenu={contextMenu}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick.bind(this)}\n            >\n                {props.file.type === \"dir\" && viewMethod !== \"list\" && (\n                    <DropWarpper\n                        isListView={false}\n                        onIconClick={handleIconClick}\n                        folder={props.file}\n                    />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"icon\" && (\n                    <FileIcon\n                        onIconClick={handleIconClick}\n                        ref={drag}\n                        file={props.file}\n                    />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"smallIcon\" && (\n                    <SmallIcon\n                        onIconClick={handleIconClick}\n                        file={props.file}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setNavigatorLoadingStatus,\n    navigateTo,\n    openCreateFolderDialog,\n    openRenameDialog,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    openRemoteDownloadDialog,\n    openTorrentDownloadDialog,\n    openGetSourceDialog,\n    openCopyDialog,\n    openLoadingDialog,\n    setSelectedTarget,\n    openDecompressDialog,\n    refreshFileList,\n    openCompressDialog,\n    openCreateFileDialog,\n    openRelocateDialog,\n} from \"../../actions/index\";\nimport { isCompressFile, isPreviewable, isTorrent } from \"../../config\";\nimport { allowSharePreview } from \"../../utils/index\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport LinkIcon from \"@material-ui/icons/InsertLink\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport { FilePlus, MagnetOn, Transfer } from \"mdi-material-ui\";\nimport {\n    withStyles,\n    Typography,\n    MenuItem,\n    Divider,\n    ListItemIcon,\n} from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { Archive, InfoOutlined, Unarchive } from \"@material-ui/icons\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { FolderUpload } from \"mdi-material-ui\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { openPreview } from \"../../actions\";\nimport {\n    setSideBar,\n    toggleObjectInfoSidebar,\n} from \"../../redux/explorer/action\";\n\nconst styles = () => ({\n    propover: {},\n    divider: {\n        marginTop: 4,\n        marginBottom: 4,\n    },\n});\n\nconst StyledListItemIcon = withStyles({\n    root: {\n        minWidth: 38,\n    },\n})(ListItemIcon);\n\nconst mapStateToProps = (state) => {\n    return {\n        menuType: state.viewUpdate.contextType,\n        menuOpen: state.viewUpdate.contextOpen,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        setNavigatorLoadingStatus: (status) => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRemoteDownloadDialog: () => {\n            dispatch(openRemoteDownloadDialog());\n        },\n        openTorrentDownloadDialog: () => {\n            dispatch(openTorrentDownloadDialog());\n        },\n        openGetSourceDialog: () => {\n            dispatch(openGetSourceDialog());\n        },\n        openCopyDialog: () => {\n            dispatch(openCopyDialog());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n        openDecompressDialog: () => {\n            dispatch(openDecompressDialog());\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        openRelocateDialog: () => {\n            dispatch(openRelocateDialog());\n        },\n        openPreview: () => {\n            dispatch(openPreview());\n        },\n        toggleObjectInfoSidebar: (open) => {\n            dispatch(toggleObjectInfoSidebar(open));\n        },\n    };\n};\n\nclass ContextMenuCompoment extends Component {\n    X = 0;\n    Y = 0;\n\n    state = {};\n\n    componentDidMount = () => {\n        window.document.addEventListener(\"mousemove\", this.setPoint);\n    };\n\n    setPoint = (e) => {\n        this.Y = e.clientY;\n        this.X = e.clientX;\n    };\n\n    openArchiveDownload = () => {\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            this.props.changeContextMenu(\"file\", false);\n            return;\n        }\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    enterFolder = () => {\n        this.props.navigateTo(\n            this.props.path === \"/\"\n                ? this.props.path + this.props.selected[0].name\n                : this.props.path + \"/\" + this.props.selected[0].name\n        );\n    };\n\n    clickUpload = (id) => {\n        this.props.changeContextMenu(\"empty\", false);\n        const uploadButton = document.getElementsByClassName(id)[0];\n        if (document.body.contains(uploadButton)) {\n            uploadButton.click();\n        } else {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"上传组件还未加载完成\",\n                \"warning\"\n            );\n        }\n    };\n\n    // 暂时只对空白处右键菜单使用这个函数，疑似有bug会导致的一个菜单被默认选中。\n    // 相关issue： https://github.com/mui-org/material-ui/issues/23747\n    renderMenuItems = (items) => {\n        const res = [];\n        let key = 0;\n\n        [\"top\", \"center\", \"bottom\"].forEach((position) => {\n            let visibleCount = 0;\n            items[position].forEach((item) => {\n                if (item.condition) {\n                    res.push(\n                        <MenuItem dense key={key} onClick={item.onClick}>\n                            <ListItemIcon>{item.icon}</ListItemIcon>\n                            <Typography variant=\"inherit\">\n                                {item.text}\n                            </Typography>\n                        </MenuItem>\n                    );\n                    key++;\n                    visibleCount++;\n                }\n            });\n            if (visibleCount > 0 && position != \"bottom\") {\n                res.push(\n                    <Divider key={key} className={this.props.classes.divider} />\n                );\n                key++;\n            }\n        });\n\n        return res;\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const emptyMenuList = {\n            top: [\n                {\n                    condition: true,\n                    onClick: () => {\n                        this.props.refreshFileList();\n                        this.props.changeContextMenu(\n                            this.props.menuType,\n                            false\n                        );\n                    },\n                    icon: <RefreshIcon />,\n                    text: \"刷新\",\n                },\n            ],\n            center: [\n                {\n                    condition: true,\n                    onClick: () => this.clickUpload(\"uploadFileForm\"),\n                    icon: <UploadIcon />,\n                    text: \"上传文件\",\n                },\n                {\n                    condition: true,\n                    onClick: () => this.clickUpload(\"uploadFolderForm\"),\n                    icon: <FolderUpload />,\n                    text: \"上传目录\",\n                },\n                {\n                    condition: user.group.allowRemoteDownload,\n                    onClick: () => this.props.openRemoteDownloadDialog(),\n                    icon: <DownloadIcon />,\n                    text: \"离线下载\",\n                },\n            ],\n            bottom: [\n                {\n                    condition: true,\n                    onClick: () => this.props.openCreateFolderDialog(),\n                    icon: <NewFolderIcon />,\n                    text: \"创建文件夹\",\n                },\n                {\n                    condition: true,\n                    onClick: () => this.props.openCreateFileDialog(),\n                    icon: <FilePlus />,\n                    text: \"创建文件\",\n                },\n            ],\n        };\n\n        return (\n            <div>\n                <Menu\n                    keepMounted\n                    open={this.props.menuOpen}\n                    onClose={() =>\n                        this.props.changeContextMenu(this.props.menuType, false)\n                    }\n                    anchorReference=\"anchorPosition\"\n                    anchorPosition={{ top: this.Y, left: this.X }}\n                    anchorOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                    }}\n                >\n                    {this.props.menuType === \"empty\" && (\n                        <div>\n                            <MenuItem\n                                dense\n                                onClick={() => {\n                                    this.props.refreshFileList();\n                                    this.props.changeContextMenu(\n                                        this.props.menuType,\n                                        false\n                                    );\n                                }}\n                            >\n                                <StyledListItemIcon>\n                                    <RefreshIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">刷新</Typography>\n                            </MenuItem>\n                            <Divider className={classes.divider} />\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.clickUpload(\"uploadFileForm\")\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <UploadIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传文件\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.clickUpload(\"uploadFolderForm\")\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <FolderUpload />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传目录\n                                </Typography>\n                            </MenuItem>\n                            {user.group.allowRemoteDownload && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openRemoteDownloadDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <DownloadIcon />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        离线下载\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            <Divider className={classes.divider} />\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.props.openCreateFolderDialog()\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <NewFolderIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件夹\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.props.openCreateFileDialog()\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <FilePlus />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件\n                                </Typography>\n                            </MenuItem>\n                        </div>\n                    )}\n                    {this.props.menuType !== \"empty\" && (\n                        <div>\n                            {!this.props.isMultiple && this.props.withFolder && (\n                                <div>\n                                    <MenuItem dense onClick={this.enterFolder}>\n                                        <StyledListItemIcon>\n                                            <OpenFolderIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            进入\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && (\n                                        <Divider className={classes.divider} />\n                                    )}\n                                </div>\n                            )}\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                (!this.props.share ||\n                                    this.props.share.preview) &&\n                                isPreviewable(this.props.selected[0].name) && (\n                                    <div>\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openPreview()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <OpenIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                打开\n                                            </Typography>\n                                        </MenuItem>\n                                    </div>\n                                )}\n\n                            {!this.props.isMultiple && this.props.withFile && (\n                                <div>\n                                    <MenuItem\n                                        dense\n                                        onClick={() => this.openDownload()}\n                                    >\n                                        <StyledListItemIcon>\n                                            <DownloadIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            下载\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && (\n                                        <Divider className={classes.divider} />\n                                    )}\n                                </div>\n                            )}\n\n                            {(this.props.isMultiple || this.props.withFolder) &&\n                                (user.group.allowArchiveDownload ||\n                                    !isHomePage) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.openArchiveDownload()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <DownloadIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            打包下载\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                isHomePage && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openGetSourceDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <LinkIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            获取外链\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.allowRemoteDownload &&\n                                this.props.withFile &&\n                                isTorrent(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openTorrentDownloadDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <MagnetOn />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            创建离线下载任务\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.compress &&\n                                this.props.withFile &&\n                                isCompressFile(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openDecompressDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <Unarchive />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            解压缩\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {isHomePage && user.group.compress && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openCompressDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <Archive />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建压缩文件\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {isHomePage && user.group.relocate && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openRelocateDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <Transfer />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        转移存储策略\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <MenuItem\n                                    dense\n                                    onClick={() => this.props.openShareDialog()}\n                                >\n                                    <StyledListItemIcon>\n                                        <ShareIcon />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建分享链接\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.toggleObjectInfoSidebar(true)\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <InfoOutlined />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        详细信息\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <Divider className={classes.divider} />\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <div>\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openRenameDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <RenameIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            重命名\n                                        </Typography>\n                                    </MenuItem>\n                                    {this.props.keywords === \"\" && (\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openCopyDialog()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <FileCopyIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                复制\n                                            </Typography>\n                                        </MenuItem>\n                                    )}\n                                </div>\n                            )}\n                            {isHomePage && (\n                                <div>\n                                    {this.props.keywords === \"\" && (\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openMoveDialog()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <MoveIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                移动\n                                            </Typography>\n                                        </MenuItem>\n                                    )}\n\n                                    <Divider className={classes.divider} />\n                                    <MenuItem\n                                        dense\n                                        className={classes.propover}\n                                        onClick={() =>\n                                            this.props.openRemoveDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <DeleteIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            删除\n                                        </Typography>\n                                    </MenuItem>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </Menu>\n            </div>\n        );\n    }\n}\n\nContextMenuCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    menuType: PropTypes.string.isRequired,\n};\n\nconst ContextMenu = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ContextMenuCompoment)));\n\nexport default ContextMenu;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    navigateTo,\n    changeContextMenu,\n    navigateUp,\n    setSelectedTarget,\n    openRemoveDialog,\n} from \"../../actions/index\";\nimport explorer from \"../../redux/explorer\";\nimport ObjectIcon from \"./ObjectIcon\";\nimport ContextMenu from \"./ContextMenu\";\nimport EmptyIcon from \"@material-ui/icons/Unarchive\";\nimport SadIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport classNames from \"classnames\";\nimport ImgPreivew from \"./ImgPreview\";\nimport pathHelper from \"../../utils/page\";\nimport { isMac } from \"../../utils\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    withStyles,\n    Typography,\n    Grid,\n    CircularProgress,\n    Paper,\n} from \"@material-ui/core\";\nimport { GlobalHotKeys, configure } from \"react-hotkeys\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\n\nconst styles = (theme) => ({\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: \"center\",\n        color: theme.palette.text.secondary,\n        margin: \"10px\",\n    },\n    root: {\n        flexGrow: 1,\n        padding: \"10px\",\n        overflowY: \"auto\",\n        height: \"calc(100vh - 113px)\",\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\",\n        },\n    },\n    rootTable: {\n        padding: \"0px\",\n        backgroundColor: theme.palette.background.paper.white,\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\",\n        },\n    },\n    typeHeader: {\n        margin: \"10px 25px\",\n        color: \"#6b6b6b\",\n        fontWeight: \"500\",\n    },\n    loading: {\n        justifyContent: \"center\",\n        display: \"flex\",\n        marginTop: \"40px\",\n    },\n    errorBox: {\n        padding: theme.spacing(4),\n    },\n    errorMsg: {\n        marginTop: \"10px\",\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: theme.palette.text.disabled,\n        textAlign: \"center\",\n        paddingTop: \"20px\",\n    },\n    emptyIcon: {\n        fontSize: \"160px\",\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: theme.palette.text.disabled,\n    },\n    emptyInfoSmall: {\n        color: theme.palette.text.hint,\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    flexFix: {\n        minWidth: 0,\n    },\n    upButton: {\n        marginLeft: \"20px\",\n        marginTop: \"10px\",\n        marginBottom: \"10px\",\n    },\n    clickAway: {\n        height: \"100%\",\n        width: \"100%\",\n    },\n    rootShare: {\n        height: \"100%\",\n        minHeight: 500,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        sortMethod: state.viewUpdate.sortMethod,\n        fileList: state.explorer.fileList,\n        dirList: state.explorer.dirList,\n        loading: state.viewUpdate.navigatorLoading,\n        navigatorError: state.viewUpdate.navigatorError,\n        navigatorErrorMsg: state.viewUpdate.navigatorErrorMsg,\n        keywords: state.explorer.keywords,\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        navigateToPath: (path) => {\n            dispatch(navigateTo(path));\n        },\n\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        changeSort: (method) => {\n            dispatch(explorer.actions.changeSortMethod(method));\n        },\n    };\n};\n\nclass ExplorerCompoment extends Component {\n    constructor() {\n        super();\n        this.keyMap = {\n            DELETE_FILE: \"del\",\n            SELECT_ALL: `${isMac() ? \"command\" : \"ctrl\"}+a`,\n        };\n\n        this.handlers = {\n            DELETE_FILE: () => {\n                if (this.props.selected.length > 0 && !this.props.share) {\n                    this.props.openRemoveDialog();\n                }\n            },\n            SELECT_ALL: (e) => {\n                e.preventDefault();\n                if (\n                    this.props.selected.length >=\n                    this.props.dirList.length + this.props.fileList.length\n                ) {\n                    this.props.setSelectedTarget([]);\n                } else {\n                    this.props.setSelectedTarget([\n                        ...this.props.dirList,\n                        ...this.props.fileList,\n                    ]);\n                }\n            },\n        };\n\n        configure({\n            ignoreTags: [\"input\", \"select\", \"textarea\"],\n        });\n    }\n\n    contextMenu = (e) => {\n        e.preventDefault();\n        if (\n            this.props.keywords === \"\" &&\n            !pathHelper.isSharePage(this.props.location.pathname)\n        ) {\n            if (!this.props.loading) {\n                this.props.changeContextMenu(\"empty\", true);\n            }\n        }\n    };\n\n    componentDidUpdate() {\n        this.away = 0;\n    }\n\n    ClickAway = (e) => {\n        const element = e.target;\n        if (element.dataset.clickaway) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        const showView =\n            !this.props.loading &&\n            (this.props.dirList.length !== 0 ||\n                this.props.fileList.length !== 0);\n        const listView = (\n            <Table className={classes.table}>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"namePos\" ||\n                                    this.props.sortMethod === \"nameRev\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"namePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"namePos\"\n                                            ? \"nameRev\"\n                                            : \"namePos\"\n                                    );\n                                }}\n                            >\n                                名称\n                                {this.props.sortMethod === \"namePos\" ||\n                                this.props.sortMethod === \"nameRev\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"nameRev\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                        <TableCell className={classes.hideAuto}>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"sizePos\" ||\n                                    this.props.sortMethod === \"sizeRes\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"sizePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"sizePos\"\n                                            ? \"sizeRes\"\n                                            : \"sizePos\"\n                                    );\n                                }}\n                            >\n                                大小\n                                {this.props.sortMethod === \"sizePos\" ||\n                                this.props.sortMethod === \"sizeRes\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"sizeRes\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                        <TableCell className={classes.hideAuto}>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"timePos\" ||\n                                    this.props.sortMethod === \"timeRev\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"timePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"timePos\"\n                                            ? \"timeRev\"\n                                            : \"timePos\"\n                                    );\n                                }}\n                            >\n                                日期\n                                {this.props.sortMethod === \"timePos\" ||\n                                this.props.sortMethod === \"timeRev\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"sizeRes\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {pathHelper.isMobile() && this.props.path !== \"/\" && (\n                        <ObjectIcon\n                            file={{\n                                type: \"up\",\n                                name: \"上级目录\",\n                            }}\n                        />\n                    )}\n                    {this.props.dirList.map((value, index) => (\n                        <ObjectIcon key={value.id} file={value} index={index} />\n                    ))}\n                    {this.props.fileList.map((value, index) => (\n                        <ObjectIcon key={value.id} file={value} index={index} />\n                    ))}\n                </TableBody>\n            </Table>\n        );\n\n        const normalView = (\n            <div className={classes.flexFix}>\n                {this.props.dirList.length !== 0 && (\n                    <>\n                        <Typography\n                            data-clickAway={\"true\"}\n                            variant=\"body2\"\n                            className={classes.typeHeader}\n                        >\n                            文件夹\n                        </Typography>\n                        <Grid\n                            data-clickAway={\"true\"}\n                            container\n                            spacing={0}\n                            alignItems=\"flex-start\"\n                        >\n                            {this.props.dirList.map((value, index) => (\n                                <Grid\n                                    key={value.id}\n                                    item\n                                    xs={6}\n                                    md={3}\n                                    sm={4}\n                                    lg={2}\n                                >\n                                    <ObjectIcon\n                                        key={value.id}\n                                        file={value}\n                                        index={index}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </>\n                )}\n                {this.props.fileList.length !== 0 && (\n                    <>\n                        <Typography\n                            data-clickAway={\"true\"}\n                            variant=\"body2\"\n                            className={classes.typeHeader}\n                        >\n                            文件\n                        </Typography>\n                        <Grid\n                            data-clickAway={\"true\"}\n                            container\n                            spacing={0}\n                            alignItems=\"flex-start\"\n                        >\n                            {this.props.fileList.map((value, index) => (\n                                <Grid\n                                    key={value.id}\n                                    item\n                                    xs={6}\n                                    md={3}\n                                    sm={4}\n                                    lg={2}\n                                >\n                                    <ObjectIcon\n                                        key={value.id}\n                                        index={index}\n                                        file={value}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </>\n                )}\n            </div>\n        );\n        const view = this.props.viewMethod === \"list\" ? listView : normalView;\n        return (\n            <div\n                onContextMenu={this.contextMenu}\n                onClick={this.ClickAway}\n                className={classNames(\n                    {\n                        [classes.root]: this.props.viewMethod !== \"list\",\n                        [classes.rootTable]: this.props.viewMethod === \"list\",\n                        [classes.rootShare]: this.props.share,\n                    },\n                    classes.button\n                )}\n            >\n                <GlobalHotKeys handlers={this.handlers} keyMap={this.keyMap} />\n                <ContextMenu share={this.props.share} />\n                <ImgPreivew />\n                {this.props.navigatorError && (\n                    <Paper elevation={1} className={classes.errorBox}>\n                        <Typography variant=\"h5\" component=\"h3\">\n                            :( 请求时出现错误\n                        </Typography>\n                        <Typography\n                            color={\"textSecondary\"}\n                            className={classes.errorMsg}\n                        >\n                            {this.props.navigatorErrorMsg.message}\n                        </Typography>\n                    </Paper>\n                )}\n\n                {this.props.loading && !this.props.navigatorError && (\n                    <div className={classes.loading}>\n                        <CircularProgress />\n                    </div>\n                )}\n\n                {this.props.keywords === \"\" &&\n                    isHomePage &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError && (\n                        <div className={classes.emptyContainer}>\n                            <EmptyIcon className={classes.emptyIcon} />\n                            <div className={classes.emptyInfoBig}>\n                                拖拽文件至此\n                            </div>\n                            <div className={classes.emptyInfoSmall}>\n                                或点击右下方“上传文件”按钮添加文件\n                            </div>\n                        </div>\n                    )}\n                {((this.props.keywords !== \"\" &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError) ||\n                    (this.props.dirList.length === 0 &&\n                        this.props.fileList.length === 0 &&\n                        !this.props.loading &&\n                        !this.props.navigatorError &&\n                        !isHomePage)) && (\n                    <div className={classes.emptyContainer}>\n                        <SadIcon className={classes.emptyIcon} />\n                        <div className={classes.emptyInfoBig}>\n                            什么都没有找到\n                        </div>\n                    </div>\n                )}\n                {showView && view}\n            </div>\n        );\n    }\n}\n\nExplorerCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired,\n};\n\nconst Explorer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ExplorerCompoment)));\n\nexport default Explorer;\n","import React from \"react\";\nimport { BulletList } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"100%\",\n        // padding: 40,\n        // [theme.breakpoints.down(\"md\")]: {\n        //     width: \"100%\",\n        //     padding: 10\n        // }\n    },\n}));\n\nconst MyLoader = (props) => (\n    <BulletList\n        backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n        foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n        className={props.className}\n    />\n);\n\nfunction ListLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div>\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default ListLoading;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { Clear, Folder } from \"@material-ui/icons\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { setSideBar } from \"../../../redux/explorer/action\";\nimport TypeIcon from \"../TypeIcon\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport API from \"../../../middleware/Api\";\nimport { navigateTo, toggleSnackbar } from \"../../../actions\";\nimport { filename, sizeToString } from \"../../../utils\";\nimport Link from \"@material-ui/core/Link\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport TimeAgo from \"timeago-react\";\nimport ListLoading from \"../../Placeholder/ListLoading\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { formatLocalTime } from \"../../../utils/datetime\";\n\nconst drawerWidth = 350;\n\nconst useStyles = makeStyles((theme) => ({\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n        boxShadow:\n            \"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)\",\n    },\n    drawerContainer: {\n        overflow: \"auto\",\n    },\n    header: {\n        display: \"flex\",\n        padding: theme.spacing(3),\n        placeContent: \"space-between\",\n    },\n    fileIcon: { width: 33, height: 33 },\n    fileIconSVG: { fontSize: 20 },\n    folderIcon: {\n        color: theme.palette.text.secondary,\n        width: 33,\n        height: 33,\n    },\n    fileName: {\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        wordBreak: \"break-all\",\n        flexGrow: 2,\n    },\n    closeIcon: {\n        placeSelf: \"flex-start\",\n        marginTop: 2,\n    },\n    propsContainer: {\n        padding: theme.spacing(3),\n    },\n    propsLabel: {\n        color: theme.palette.text.secondary,\n        padding: theme.spacing(1),\n    },\n    propsTime: {\n        color: theme.palette.text.disabled,\n        padding: theme.spacing(1),\n    },\n    propsValue: {\n        padding: theme.spacing(1),\n        wordBreak: \"break-all\",\n    },\n    appBar: {\n        position: \"relative\",\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SideDrawer() {\n    const dispatch = useDispatch();\n    const sideBarOpen = useSelector((state) => state.explorer.sideBarOpen);\n    const selected = useSelector((state) => state.explorer.selected);\n    const SetSideBar = useCallback((open) => dispatch(setSideBar(open)), [\n        dispatch,\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const NavigateTo = useCallback((k) => dispatch(navigateTo(k)), [dispatch]);\n    const keywords = useSelector((state) => state.explorer.keywords);\n    const [target, setTarget] = useState(null);\n    const [details, setDetails] = useState(null);\n    const loadProps = (object) => {\n        API.get(\n            \"/object/property/\" +\n                object.id +\n                \"?trace_root=\" +\n                (keywords !== \"\" ? \"true\" : \"false\") +\n                \"&is_folder=\" +\n                (object.type === \"dir\").toString()\n        )\n            .then((response) => {\n                setDetails(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        setDetails(null);\n        if (sideBarOpen) {\n            if (selected.length !== 1) {\n                SetSideBar(false);\n            } else {\n                setTarget(selected[0]);\n                loadProps(selected[0]);\n            }\n        }\n    }, [selected, sideBarOpen]);\n\n    const classes = useStyles();\n    const propsItem = [\n        {\n            label: \"大小\",\n            value: (d, t) =>\n                sizeToString(d.size) +\n                \"  (\" +\n                d.size.toLocaleString() +\n                \" 字节)\",\n            show: (d) => true,\n        },\n        {\n            label: \"存储策略\",\n            value: (d, t) => d.policy,\n            show: (d) => d.type === \"file\",\n        },\n        {\n            label: \"包含目录\",\n            value: (d, t) => d.child_folder_num.toLocaleString() + \" \" + \"个\",\n            show: (d) => d.type === \"dir\",\n        },\n        {\n            label: \"包含文件\",\n            value: (d, t) => d.child_file_num.toLocaleString() + \" \" + \"个\",\n            show: (d) => d.type === \"dir\",\n        },\n        {\n            label: \"所在目录\",\n            // eslint-disable-next-line react/display-name\n            value: (d, t) => {\n                const path = d.path === \"\" ? t.path : d.path;\n                const name = filename(path);\n                return (\n                    <Tooltip title={path}>\n                        <Link\n                            href={\"javascript:void\"}\n                            onClick={() => NavigateTo(path)}\n                        >\n                            {name === \"\" ? \"根目录\" : name}\n                        </Link>\n                    </Tooltip>\n                );\n            },\n            show: (d) => true,\n        },\n        {\n            label: \"修改于\",\n            value: (d, t) =>\n                formatLocalTime(d.updated_at, \"YYYY/MM/DD  H:mm:ss\"),\n            show: (d) => true,\n        },\n        {\n            label: \"创建于\",\n            value: (d) => formatLocalTime(d.created_at, \"YYYY/MM/DD  H:mm:ss\"),\n            show: (d) => true,\n        },\n    ];\n    const content = (\n        <Grid container className={classes.propsContainer}>\n            {!details && <ListLoading />}\n            {details && (\n                <>\n                    {propsItem.map((item) => {\n                        if (item.show(target)) {\n                            return (\n                                <>\n                                    <Grid\n                                        item\n                                        xs={5}\n                                        className={classes.propsLabel}\n                                    >\n                                        {item.label}\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        xs={7}\n                                        className={classes.propsValue}\n                                    >\n                                        {item.value(details, target)}\n                                    </Grid>\n                                </>\n                            );\n                        }\n                    })}\n                    {target.type === \"dir\" && (\n                        <Grid item xs={12} className={classes.propsTime}>\n                            统计于{\" \"}\n                            <TimeAgo\n                                datetime={details.query_date}\n                                locale=\"zh_CN\"\n                            />\n                        </Grid>\n                    )}\n                </>\n            )}\n        </Grid>\n    );\n    return (\n        <>\n            <Hidden smUp>\n                <Dialog\n                    fullScreen\n                    open={sideBarOpen}\n                    TransitionComponent={Transition}\n                >\n                    {target && (\n                        <>\n                            <AppBar className={classes.appBar}>\n                                <Toolbar>\n                                    <IconButton\n                                        edge=\"start\"\n                                        color=\"inherit\"\n                                        onClick={() => SetSideBar(false)}\n                                        aria-label=\"close\"\n                                    >\n                                        <Clear />\n                                    </IconButton>\n                                    <Typography\n                                        variant=\"h6\"\n                                        className={classes.title}\n                                    >\n                                        {target.name}\n                                    </Typography>\n                                </Toolbar>\n                            </AppBar>\n                            {content}\n                        </>\n                    )}\n                </Dialog>\n            </Hidden>\n            <Hidden xsDown>\n                <Drawer\n                    className={classes.drawer}\n                    variant=\"persistent\"\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                    open={sideBarOpen}\n                    anchor=\"right\"\n                >\n                    <Toolbar />\n                    <div className={classes.drawerContainer}>\n                        {target && (\n                            <>\n                                <div className={classes.header}>\n                                    {target.type === \"dir\" && (\n                                        <Folder\n                                            className={classes.folderIcon}\n                                        />\n                                    )}\n                                    {target.type !== \"dir\" && (\n                                        <TypeIcon\n                                            isUpload\n                                            className={classes.fileIcon}\n                                            iconClassName={classes.fileIconSVG}\n                                            fileName={target.name}\n                                        />\n                                    )}\n                                    <div className={classes.fileName}>\n                                        <Typography variant=\"h6\" gutterBottom>\n                                            {target.name}\n                                        </Typography>\n                                    </div>\n                                    <IconButton\n                                        onClick={() => SetSideBar(false)}\n                                        className={classes.closeIcon}\n                                        aria-label=\"close\"\n                                        size={\"small\"}\n                                    >\n                                        <Clear />\n                                    </IconButton>\n                                </div>\n                            </>\n                        )}\n                        <Divider />\n                        {content}\n                    </div>\n                </Drawer>\n            </Hidden>\n        </>\n    );\n}\n","import React, { Component } from \"react\";\n\nimport Navigator from \"./Navigator/Navigator\";\nimport { DndProvider } from \"react-dnd\";\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport DragLayer from \"./DnD/DragLayer\";\nimport Explorer from \"./Explorer\";\nimport Modals from \"./Modals\";\nimport { withStyles } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport {\n    closeAllModals,\n    navigateTo,\n    setSelectedTarget,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport SideDrawer from \"./Sidebar/SideDrawer\";\nimport { ImageLoader } from \"@abslant/cd-image-loader\";\n\nconst styles = () => ({});\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeSubTitle: (text) => {\n            dispatch(changeSubTitle(text));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n    };\n};\n\nclass FileManager extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n        this.props.closeAllModals();\n        this.props.navigateTo(\"/\");\n    }\n\n    componentDidMount() {\n        if (pathHelper.isHomePage(this.props.location.pathname)) {\n            this.props.changeSubTitle(null);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <DndProvider backend={HTML5Backend}>\n                    <Modals share={this.props.share} />\n                    <Navigator\n                        isShare={this.props.isShare}\n                        share={this.props.share}\n                    />\n                    <Explorer share={this.props.share} />\n                    <DragLayer />\n                    <ImageLoader />\n                </DndProvider>\n                <SideDrawer />\n            </div>\n        );\n    }\n}\n\nFileManager.propTypes = {};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileManager)));\n","import React, { useCallback, useEffect } from \"react\";\nimport AdSense from 'react-adsense';\nimport DPlayer from \"react-dplayer\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport { getBaseURL } from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    player: {\n        borderRadius: \"4px\",\n        maxHeight: 600,\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function VideoViewer() {\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <DPlayer\n                    className={classes.player}\n                    options={{\n                        video: {\n                            url:\n                                getBaseURL() +\n                                (pathHelper.isSharePage(location.pathname)\n                                    ? \"/share/preview/\" +\n                                      id +\n                                      (query.get(\"share_path\") !== \"\"\n                                          ? \"?path=\" +\n                                            encodeURIComponent(\n                                                query.get(\"share_path\")\n                                            )\n                                          : \"\")\n                                    : \"/file/preview/\" + query.get(\"id\")),\n                        },\n                    }}\n                />\n            </Paper>\n            <div className={classes.ads}>\n                <AdSense.Google\n                    style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                    client='ca-pub-7329474538416487'\n                    slot='8294203043'\n                    format=''\n                />\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\n\nimport {\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    Typography,\n    Grid,\n    IconButton,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\n\nconst useStyles = makeStyles((theme) => ({\n    cardContainer: {\n        padding: theme.spacing(1),\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\",\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17,\n    },\n    orderSelect: {\n        textAlign: \"right\",\n        marginTop: 5,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function SearchResult() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n\n    const [page, setPage] = useState(1);\n    const [total, setTotal] = useState(0);\n    const [shareList, setShareList] = useState([]);\n    const [orderBy, setOrderBy] = useState(\"created_at DESC\");\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const search = (keywords, page, orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\n            \"/share/search?page=\" +\n                page +\n                \"&order_by=\" +\n                order[0] +\n                \"&order=\" +\n                order[1] +\n                \"&keywords=\" +\n                encodeURIComponent(keywords)\n        )\n            .then((response) => {\n                if (response.data.items.length === 0) {\n                    ToggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"找不到符合条件的分享\",\n                        \"info\"\n                    );\n                }\n                setTotal(response.data.total);\n                setShareList(response.data.items);\n            })\n            .catch(() => {\n                ToggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    useEffect(() => {\n        const keywords = query.get(\"keywords\");\n        if (keywords) {\n            search(keywords, page, orderBy);\n        } else {\n            ToggleSnackbar(\"top\", \"right\", \"请输入搜索关键词\", \"warning\");\n        }\n    }, [location]);\n\n    const handlePageChange = (event, value) => {\n        setPage(value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, value, orderBy);\n    };\n\n    const handleOrderChange = (event) => {\n        setOrderBy(event.target.value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, page, event.target.value);\n    };\n\n    return (\n        <div className={classes.layout}>\n            <Grid container>\n                <Grid sm={6} xs={6}>\n                    <Typography color=\"textSecondary\" variant=\"h4\">\n                        搜索结果\n                    </Typography>\n                </Grid>\n                <Grid sm={6} xs={6} className={classes.orderSelect}>\n                    <FormControl>\n                        <Select\n                            color={\"secondary\"}\n                            onChange={handleOrderChange}\n                            value={orderBy}\n                        >\n                            <MenuItem value={\"created_at DESC\"}>\n                                创建日期由晚到早\n                            </MenuItem>\n                            <MenuItem value={\"created_at ASC\"}>\n                                创建日期由早到晚\n                            </MenuItem>\n                            <MenuItem value={\"downloads DESC\"}>\n                                下载次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"downloads ASC\"}>\n                                下载次数由小到大\n                            </MenuItem>\n                            <MenuItem value={\"views DESC\"}>\n                                浏览次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"views ASC\"}>\n                                浏览次数由小到大\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n            </Grid>\n            <Grid container spacing={24} className={classes.gird}>\n                {shareList.map((value) => (\n                    <Grid\n                        item\n                        xs={12}\n                        sm={4}\n                        key={value.id}\n                        className={classes.cardContainer}\n                    >\n                        <Card className={classes.card}>\n                            <CardHeader\n                                avatar={\n                                    <div>\n                                        {!value.is_dir && (\n                                            <TypeIcon\n                                                fileName={\n                                                    value.source\n                                                        ? value.source.name\n                                                        : \"\"\n                                                }\n                                                isUpload\n                                            />\n                                        )}{\" \"}\n                                        {value.is_dir && (\n                                            <Avatar\n                                                className={classes.avatarFolder}\n                                            >\n                                                <FolderIcon />\n                                            </Avatar>\n                                        )}\n                                    </div>\n                                }\n                                action={\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                history.push(\"/s/\" + value.key)\n                                            }\n                                        >\n                                            <OpenIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                }\n                                title={\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"\n                                        }\n                                    >\n                                        <Typography\n                                            noWrap\n                                            className={classes.shareTitle}\n                                        >\n                                            {value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"}{\" \"}\n                                        </Typography>\n                                    </Tooltip>\n                                }\n                                subheader={\n                                    <span>\n                                        分享于{\" \"}\n                                        <TimeAgo\n                                            datetime={value.create_date}\n                                            locale=\"zh_CN\"\n                                        />\n                                    </span>\n                                }\n                            />\n                        </Card>\n                    </Grid>\n                ))}\n            </Grid>\n            <div className={classes.loadMore}>\n                <Pagination\n                    count={Math.ceil(total / 18)}\n                    onChange={handlePageChange}\n                    color=\"secondary\"\n                />\n            </div>{\" \"}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport UnlockIcon from \"@material-ui/icons/LockOpen\";\nimport EyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport {\n    withStyles,\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    CardActions,\n    Typography,\n    Grid,\n    IconButton,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Button,\n    TextField,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { VisibilityOff, VpnKey } from \"@material-ui/icons\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { withRouter } from \"react-router-dom\";\nimport ToggleIcon from \"material-ui-toggle-icon\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    cardContainer: {\n        padding: theme.spacing(1),\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\",\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17,\n    },\n    orderSelect: {\n        textAlign: \"right\",\n        marginTop: 5,\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass MyShareCompoment extends Component {\n    state = {\n        page: 1,\n        total: 0,\n        shareList: [],\n        showPwd: null,\n        orderBy: \"created_at DESC\",\n    };\n\n    componentDidMount = () => {\n        this.loadList(1, this.state.orderBy);\n    };\n\n    showPwd = (pwd) => {\n        this.setState({ showPwd: pwd });\n    };\n\n    handleClose = () => {\n        this.setState({ showPwd: null });\n    };\n\n    removeShare = (id) => {\n        API.delete(\"/share/\" + id)\n            .then(() => {\n                let oldList = this.state.shareList;\n                oldList = oldList.filter((value) => {\n                    return value.key !== id;\n                });\n                this.setState({\n                    shareList: oldList,\n                    total: this.state.total - 1,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"分享已取消\",\n                    \"success\"\n                );\n                if (oldList.length === 0) {\n                    this.loadList(1, this.state.orderBy);\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changePermission = (id) => {\n        const newPwd = Math.random().toString(36).substr(2).slice(2, 8);\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex((value) => {\n            return value.key === id;\n        });\n        API.patch(\"/share/\" + id, {\n            prop: \"password\",\n            value: oldList[shareIndex].password === \"\" ? newPwd : \"\",\n        })\n            .then((response) => {\n                oldList[shareIndex].password = response.data;\n                this.setState({\n                    shareList: oldList,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changePreviewOption = (id) => {\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex((value) => {\n            return value.key === id;\n        });\n        API.patch(\"/share/\" + id, {\n            prop: \"preview_enabled\",\n            value: oldList[shareIndex].preview ? \"false\" : \"true\",\n        })\n            .then((response) => {\n                oldList[shareIndex].preview = response.data;\n                this.setState({\n                    shareList: oldList,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadList = (page, orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\n            \"/share?page=\" +\n                page +\n                \"&order_by=\" +\n                order[0] +\n                \"&order=\" +\n                order[1]\n        )\n            .then((response) => {\n                if (response.data.items.length === 0) {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"没有更多了\",\n                        \"info\"\n                    );\n                }\n                this.setState({\n                    total: response.data.total,\n                    shareList: response.data.items,\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    handlePageChange = (event, value) => {\n        this.setState({\n            page: value,\n        });\n        this.loadList(value, this.state.orderBy);\n    };\n\n    handleOrderChange = (event) => {\n        this.setState({\n            orderBy: event.target.value,\n        });\n        this.loadList(this.state.page, event.target.value);\n    };\n\n    isExpired = (share) => {\n        return share.expire < -1 || share.remain_downloads === 0;\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Grid container>\n                    <Grid sm={6} xs={6}>\n                        <Typography color=\"textSecondary\" variant=\"h4\">\n                            我的分享\n                        </Typography>\n                    </Grid>\n                    <Grid sm={6} xs={6} className={classes.orderSelect}>\n                        <FormControl>\n                            <Select\n                                color={\"secondary\"}\n                                onChange={this.handleOrderChange}\n                                value={this.state.orderBy}\n                            >\n                                <MenuItem value={\"created_at DESC\"}>\n                                    创建日期由晚到早\n                                </MenuItem>\n                                <MenuItem value={\"created_at ASC\"}>\n                                    创建日期由早到晚\n                                </MenuItem>\n                                <MenuItem value={\"downloads DESC\"}>\n                                    下载次数由大到小\n                                </MenuItem>\n                                <MenuItem value={\"downloads ASC\"}>\n                                    下载次数由小到大\n                                </MenuItem>\n                                <MenuItem value={\"views DESC\"}>\n                                    浏览次数由大到小\n                                </MenuItem>\n                                <MenuItem value={\"views ASC\"}>\n                                    浏览次数由小到大\n                                </MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={24} className={classes.gird}>\n                    {this.state.shareList.map((value) => (\n                        <Grid\n                            item\n                            xs={12}\n                            sm={4}\n                            key={value.id}\n                            className={classes.cardContainer}\n                        >\n                            <Card className={classes.card}>\n                                <CardHeader\n                                    avatar={\n                                        <div>\n                                            {!value.is_dir && (\n                                                <TypeIcon\n                                                    fileName={\n                                                        value.source\n                                                            ? value.source.name\n                                                            : \"\"\n                                                    }\n                                                    isUpload\n                                                />\n                                            )}{\" \"}\n                                            {value.is_dir && (\n                                                <Avatar\n                                                    className={\n                                                        classes.avatarFolder\n                                                    }\n                                                >\n                                                    <FolderIcon />\n                                                </Avatar>\n                                            )}\n                                        </div>\n                                    }\n                                    title={\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title={\n                                                value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"\n                                            }\n                                        >\n                                            <Typography\n                                                noWrap\n                                                className={classes.shareTitle}\n                                            >\n                                                {value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"}{\" \"}\n                                            </Typography>\n                                        </Tooltip>\n                                    }\n                                    subheader={\n                                        <span>\n                                            {formatLocalTime(\n                                                value.create_date,\n                                                \"YYYY-MM-DD H:mm:ss\"\n                                            )}\n                                            {this.isExpired(value) && (\n                                                <Chip\n                                                    size=\"small\"\n                                                    className={classes.badge}\n                                                    label=\"已失效\"\n                                                />\n                                            )}\n                                        </span>\n                                    }\n                                />\n                                <Divider />\n                                <CardActions\n                                    disableActionSpacing\n                                    style={{\n                                        display: \"block\",\n                                        textAlign: \"right\",\n                                    }}\n                                >\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                this.props.history.push(\n                                                    \"/s/\" +\n                                                        value.key +\n                                                        (value.password === \"\"\n                                                            ? \"\"\n                                                            : \"?password=\" +\n                                                              value.password)\n                                                )\n                                            }\n                                        >\n                                            <OpenIcon fontSize={\"small\"} />\n                                        </IconButton>\n                                    </Tooltip>{\" \"}\n                                    {value.password !== \"\" && (\n                                        <>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"变更为公开分享\"\n                                                onClick={() =>\n                                                    this.changePermission(\n                                                        value.key\n                                                    )\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <LockIcon\n                                                        fontSize={\"small\"}\n                                                    />\n                                                </IconButton>\n                                            </Tooltip>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"查看密码\"\n                                                onClick={() =>\n                                                    this.showPwd(value.password)\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <VpnKey\n                                                        fontSize={\"small\"}\n                                                    />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </>\n                                    )}\n                                    {value.password === \"\" && (\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title=\"变更为私密分享\"\n                                            onClick={() =>\n                                                this.changePermission(value.key)\n                                            }\n                                        >\n                                            <IconButton>\n                                                <UnlockIcon\n                                                    fontSize={\"small\"}\n                                                />\n                                            </IconButton>\n                                        </Tooltip>\n                                    )}\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.preview\n                                                ? \"禁止预览\"\n                                                : \"允许预览\"\n                                        }\n                                        onClick={() =>\n                                            this.changePreviewOption(value.key)\n                                        }\n                                    >\n                                        <IconButton>\n                                            <ToggleIcon\n                                                on={value.preview}\n                                                onIcon={\n                                                    <EyeIcon\n                                                        fontSize={\"small\"}\n                                                    />\n                                                }\n                                                offIcon={\n                                                    <VisibilityOff\n                                                        fontSize={\"small\"}\n                                                    />\n                                                }\n                                            />\n                                        </IconButton>\n                                    </Tooltip>\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title=\"取消分享\"\n                                        onClick={() =>\n                                            this.removeShare(value.key)\n                                        }\n                                    >\n                                        <IconButton>\n                                            <DeleteIcon fontSize={\"small\"} />\n                                        </IconButton>\n                                    </Tooltip>\n                                </CardActions>\n                            </Card>\n                        </Grid>\n                    ))}\n                </Grid>\n                <div className={classes.loadMore}>\n                    <Pagination\n                        count={Math.ceil(this.state.total / 18)}\n                        onChange={this.handlePageChange}\n                        color=\"secondary\"\n                    />\n                </div>{\" \"}\n                <Dialog\n                    open={this.state.showPwd !== null}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle> 分享密码 </DialogTitle>{\" \"}\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            value={this.state.showPwd}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>{\" \"}\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭{\" \"}\n                        </Button>{\" \"}\n                    </DialogActions>{\" \"}\n                </Dialog>{\" \"}\n            </div>\n        );\n    }\n}\n\nconst MyShare = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(MyShareCompoment)));\n\nexport default MyShare;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    content: {\n        padding: 0,\n    },\n}));\n\nexport default function SelectFileDialog(props) {\n    const [files, setFiles] = useState(props.files);\n\n    useEffect(() => {\n        setFiles(props.files);\n    }, [props.files]);\n\n    const handleChange = (index) => (event) => {\n        const filesCopy = [...files];\n        // eslint-disable-next-line\n        filesCopy.map((v, k) => {\n            if (v.index === index) {\n                filesCopy[k] = {\n                    ...filesCopy[k],\n                    selected: event.target.checked ? \"true\" : \"false\",\n                };\n            }\n        });\n        setFiles(filesCopy);\n    };\n\n    const submit = () => {\n        const index = [];\n        // eslint-disable-next-line\n        files.map((v) => {\n            if (v.selected === \"true\") {\n                index.push(parseInt(v.index));\n            }\n        });\n        props.onSubmit(index);\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">选择要下载的文件</DialogTitle>\n            <DialogContent dividers={\"paper\"} className={classes.content}>\n                {files.map((v, k) => {\n                    return (\n                        <MenuItem key={k}>\n                            <FormGroup row>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            onChange={handleChange(v.index)}\n                                            checked={v.selected === \"true\"}\n                                            value=\"checkedA\"\n                                        />\n                                    }\n                                    label={v.path}\n                                />\n                            </FormGroup>\n                        </MenuItem>\n                    );\n                })}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        color=\"primary\"\n                        onClick={submit}\n                        disabled={props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect } from \"react\";\nimport {\n    Card,\n    CardContent,\n    darken,\n    IconButton,\n    lighten,\n    LinearProgress,\n    makeStyles,\n    Typography,\n    useTheme,\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { hex2bin, sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore, HighlightOff } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport API from \"../../middleware/Api\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TimeAgo from \"timeago-react\";\nimport SelectFileDialog from \"../Modals/SelectFile\";\nimport { useHistory } from \"react-router\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {},\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\",\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\",\n        },\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    iconBig: {\n        fontSize: \"30px\",\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\",\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4,\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\",\n    },\n    expanded: {\n        transform: \"rotate(180deg)\",\n    },\n    subFileName: {\n        display: \"flex\",\n    },\n    subFileIcon: {\n        marginRight: \"20px\",\n    },\n    scroll: {\n        overflowY: \"auto\",\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\",\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1),\n    },\n    info: {\n        padding: theme.spacing(2),\n    },\n    infoTitle: {\n        fontWeight: 700,\n    },\n    infoValue: {\n        color: theme.palette.text.secondary,\n    },\n    bitmap: {\n        width: \"100%\",\n        height: \"50px\",\n        backgroundColor: theme.palette.background.default,\n    },\n}));\n\nexport default function DownloadingCard(props) {\n    const canvasRef = React.createRef();\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n\n    const [expanded, setExpanded] = React.useState(\"\");\n    const [task, setTask] = React.useState(props.task);\n    const [loading, setLoading] = React.useState(false);\n    const [selectDialogOpen, setSelectDialogOpen] = React.useState(false);\n    const [selectFileOption, setSelectFileOption] = React.useState([]);\n\n    const handleChange = (panel) => (event, newExpanded) => {\n        setExpanded(newExpanded ? panel : false);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setTask(props.task);\n    }, [props.task]);\n\n    useEffect(() => {\n        if (task.info.bitfield === \"\") {\n            return;\n        }\n        let result = \"\";\n        task.info.bitfield.match(/.{1,2}/g).forEach((str) => {\n            result += hex2bin(str);\n        });\n        const canvas = canvasRef.current;\n        const context = canvas.getContext(\"2d\");\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        context.strokeStyle = theme.palette.primary.main;\n        for (let i = 0; i < canvas.width; i++) {\n            let bit =\n                result[\n                    Math.round(((i + 1) / canvas.width) * task.info.numPieces)\n                ];\n            bit = bit ? bit : result.slice(-1);\n            if (bit === \"1\") {\n                context.beginPath();\n                context.moveTo(i, 0);\n                context.lineTo(i, canvas.height);\n                context.stroke();\n            }\n        }\n        // eslint-disable-next-line\n    }, [task.info.bitfield, task.info.numPieces, theme]);\n\n    const getPercent = (completed, total) => {\n        if (total === 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n    const activeFiles = useCallback(() => {\n        return task.info.files.filter((v) => v.selected === \"true\");\n    }, [task.info.files]);\n\n    const deleteFile = (index) => {\n        setLoading(true);\n        const current = activeFiles();\n        const newIndex = [];\n        const newFiles = [];\n        // eslint-disable-next-line\n        current.map((v) => {\n            if (v.index !== index && v.selected) {\n                newIndex.push(parseInt(v.index));\n                newFiles.push({\n                    ...v,\n                    selected: \"true\",\n                });\n            } else {\n                newFiles.push({\n                    ...v,\n                    selected: \"false\",\n                });\n            }\n        });\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: newIndex,\n        })\n            .then(() => {\n                setTask({\n                    ...task,\n                    info: {\n                        ...task.info,\n                        files: newFiles,\n                    },\n                });\n                ToggleSnackbar(\"top\", \"right\", \"文件已删除\", \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const getDownloadName = useCallback(() => {\n        if (task.info.bittorrent.info.name !== \"\") {\n            return task.info.bittorrent.info.name;\n        }\n        return task.name === \".\" ? \"[未知]\" : task.name;\n    }, [task]);\n\n    const getIcon = useCallback(() => {\n        if (task.info.bittorrent.mode === \"multi\") {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(task)}\n                />\n            );\n        }\n        // eslint-disable-next-line\n    }, [task, classes]);\n\n    const cancel = () => {\n        setLoading(true);\n        API.delete(\"/aria2/task/\" + task.info.gid)\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已取消，状态会在稍后更新\",\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const changeSelectedFile = (fileIndex) => {\n        setLoading(true);\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: fileIndex,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"操作成功，状态会在稍后更新\",\n                    \"success\"\n                );\n                setSelectDialogOpen(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Card className={classes.card}>\n            <SelectFileDialog\n                open={selectDialogOpen}\n                onClose={() => setSelectDialogOpen(false)}\n                modalsLoading={loading}\n                files={selectFileOption}\n                onSubmit={changeSelectedFile}\n            />\n            <ExpansionPanel\n                square\n                expanded={expanded === task.info.gid}\n                onChange={handleChange(task.info.gid)}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        <LinearProgress\n                            color=\"secondary\"\n                            variant=\"determinate\"\n                            className={classes.progress}\n                            value={getPercent(task.downloaded, task.total)}\n                        />\n                        <Typography\n                            variant=\"body2\"\n                            color=\"textSecondary\"\n                            noWrap\n                        >\n                            {task.total > 0 && (\n                                <span>\n                                    {getPercent(\n                                        task.downloaded,\n                                        task.total\n                                    ).toFixed(2)}\n                                    % -{\" \"}\n                                    {task.downloaded === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.downloaded)}\n                                    /\n                                    {task.total === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.total)}{\" \"}\n                                    -{\" \"}\n                                    {task.speed === \"0\"\n                                        ? \"0B/s\"\n                                        : sizeToString(task.speed) + \"/s\"}\n                                </span>\n                            )}\n                            {task.total === 0 && <span> - </span>}\n                        </Typography>\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            expanded === task.info.gid,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {task.info.bittorrent.mode === \"multi\" && (\n                        <div className={classes.scroll}>\n                            <Table size=\"small\">\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow\n                                                key={value.index}\n                                                style={{\n                                                    background:\n                                                        \"linear-gradient(to right, \" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.4\n                                                              )\n                                                            : lighten(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.85\n                                                              )) +\n                                                        \" 0%,\" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.4\n                                                              )\n                                                            : lighten(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.85\n                                                              )) +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" 100%)\",\n                                                }}\n                                            >\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={\n                                                                value.path\n                                                            }\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(\n                                                            value.length\n                                                        )}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Tooltip title=\"删除此文件\">\n                                                        <IconButton\n                                                            onClick={() =>\n                                                                deleteFile(\n                                                                    value.index\n                                                                )\n                                                            }\n                                                            disabled={loading}\n                                                            size={\"small\"}\n                                                        >\n                                                            <HighlightOff />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    )}\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() =>\n                                history.push(\n                                    \"/#/home?path=\" +\n                                        encodeURIComponent(task.dst)\n                                )\n                            }\n                        >\n                            打开存放目录\n                        </Button>\n                        {task.info.bittorrent.mode === \"multi\" && (\n                            <Button\n                                className={classes.actionButton}\n                                variant=\"outlined\"\n                                color=\"secondary\"\n                                disabled={loading}\n                                onClick={() => {\n                                    setSelectDialogOpen(true);\n                                    setSelectFileOption([\n                                        ...props.task.info.files,\n                                    ]);\n                                }}\n                            >\n                                选择要下载的文件\n                            </Button>\n                        )}\n                        <Button\n                            className={classes.actionButton}\n                            onClick={cancel}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            disabled={loading}\n                        >\n                            取消任务\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        {task.info.bitfield !== \"\" && (\n                            <canvas\n                                width={\"700\"}\n                                height={\"100\"}\n                                ref={canvasRef}\n                                className={classes.bitmap}\n                            />\n                        )}\n\n                        <Grid container>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    更新于：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    <TimeAgo\n                                        datetime={task.update}\n                                        locale=\"zh_CN\"\n                                    />\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传速度：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadSpeed)} / s\n                                </Grid>\n                            </Grid>\n                            {task.info.bittorrent.mode !== \"\" && (\n                                <>\n                                    <Grid container xs={12} sm={8}>\n                                        <Grid\n                                            item\n                                            sm={2}\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            InfoHash：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            sm={10}\n                                            xs={8}\n                                            style={{\n                                                wordBreak: \"break-all\",\n                                            }}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.infoHash}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种者：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.numSeeders}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种中：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.seeder === \"true\"\n                                                ? \"是\"\n                                                : \"否\"}\n                                        </Grid>\n                                    </Grid>\n                                </>\n                            )}\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.pieceLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片数量：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {task.info.numPieces}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Card,\n    CardContent,\n    IconButton,\n    makeStyles,\n    Typography,\n    useTheme,\n} from \"@material-ui/core\";\nimport { sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { useHistory } from \"react-router\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {},\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\",\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\",\n        },\n        textAlign: \"left\",\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    iconBig: {\n        fontSize: \"30px\",\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\",\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4,\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\",\n    },\n    expanded: {\n        transform: \"rotate(180deg)\",\n    },\n    subFileName: {\n        display: \"flex\",\n    },\n    subFileIcon: {\n        marginRight: \"20px\",\n    },\n    scroll: {\n        overflowY: \"auto\",\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\",\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1),\n    },\n    info: {\n        padding: theme.spacing(2),\n    },\n    infoTitle: {\n        fontWeight: 700,\n    },\n    infoValue: {\n        color: theme.palette.text.secondary,\n    },\n}));\n\nexport default function FinishedCard(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n\n    const [expanded, setExpanded] = React.useState(false);\n    const [loading, setLoading] = React.useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = () => (event, newExpanded) => {\n        setExpanded(!!newExpanded);\n    };\n\n    const cancel = () => {\n        setLoading(true);\n        API.delete(\"/aria2/task/\" + props.task.gid)\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"删除成功\", \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                window.location.reload();\n            });\n    };\n\n    const getPercent = (completed, total) => {\n        if (total == 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n    const getDownloadName = useCallback(() => {\n        return props.task.name === \".\" ? \"[未知]\" : props.task.name;\n    }, [props.task.name]);\n\n    const activeFiles = useCallback(() => {\n        return props.task.files.filter((v) => v.selected === \"true\");\n    }, [props.task.files]);\n\n    const getIcon = useCallback(() => {\n        if (props.task.files.length > 1) {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(props.task)}\n                />\n            );\n        }\n    }, [props.task, classes]);\n\n    const getTaskError = (error) => {\n        try {\n            const res = JSON.parse(error);\n            return res.msg + \"：\" + res.error;\n        } catch (e) {\n            return \"文件转存失败\";\n        }\n    };\n\n    return (\n        <Card className={classes.card}>\n            <ExpansionPanel\n                square\n                expanded={expanded}\n                onChange={handleChange(\"\")}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        {props.task.status === 3 && (\n                            <Tooltip title={props.task.error}>\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"error\"\n                                    noWrap\n                                >\n                                    下载出错：{props.task.error}\n                                </Typography>\n                            </Tooltip>\n                        )}\n                        {props.task.status === 5 && (\n                            <Typography\n                                variant=\"body2\"\n                                color=\"textSecondary\"\n                                noWrap\n                            >\n                                已取消\n                                {props.task.error !== \"\" && (\n                                    <span>：{props.task.error}</span>\n                                )}\n                            </Typography>\n                        )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 4 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.main,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 0 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.light,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成，转存排队中\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 1 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.light,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成，转存处理中\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 2 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    color={\"error\"}\n                                    noWrap\n                                >\n                                    {getTaskError(props.task.task_error)}\n                                </Typography>\n                            )}\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]: expanded,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {props.task.files.length > 1 && (\n                        <div className={classes.scroll}>\n                            <Table>\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow key={value.index}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={\n                                                                value.path\n                                                            }\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(\n                                                            value.length\n                                                        )}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    )}\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() =>\n                                history.push(\n                                    \"/home?path=\" +\n                                        encodeURIComponent(props.task.dst)\n                                )\n                            }\n                        >\n                            打开存放目录\n                        </Button>\n                        <Button\n                            className={classes.actionButton}\n                            onClick={cancel}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            disabled={loading}\n                        >\n                            删除记录\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        <Grid container>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    创建日期：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {formatLocalTime(\n                                        props.task.create,\n                                        \"YYYY-MM-DD H:mm:ss\"\n                                    )}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    最后更新：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {formatLocalTime(\n                                        props.task.update,\n                                        \"YYYY-MM-DD H:mm:ss\"\n                                    )}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport { openRemoteDownloadDialog } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { Add } from \"@material-ui/icons\";\nimport Modals from \"../FileManager/Modals\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n}));\n\nexport default function RemoteDownloadButton() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const OpenRemoteDownloadDialog = useCallback(\n        () => dispatch(openRemoteDownloadDialog()),\n        [dispatch]\n    );\n\n    return (\n        <>\n            <Modals />\n            <AutoHidden enable>\n                <Fab\n                    className={classes.fab}\n                    color=\"secondary\"\n                    onClick={() => OpenRemoteDownloadDialog()}\n                >\n                    <Add />\n                </Fab>\n            </AutoHidden>\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\nimport { withStyles, Typography, Button, IconButton } from \"@material-ui/core\";\nimport DownloadingCard from \"./DownloadingCard\";\nimport FinishedCard from \"./FinishedCard\";\nimport RemoteDownloadButton from \"../Dial/Aria2\";\nimport Auth from \"../../middleware/Auth\";\n\nconst styles = (theme) => ({\n    actions: {\n        display: \"flex\",\n    },\n    title: {\n        marginTop: \"20px\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    hide: {\n        display: \"none\",\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\",\n    },\n    shareFix: {\n        marginLeft: \"20px\",\n    },\n    loadMore: {\n        textAlign: \"center\",\n        marginTop: \"20px\",\n        marginBottom: \"20px\",\n    },\n    margin: {\n        marginTop: theme.spacing(2),\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass DownloadComponent extends Component {\n    page = 0;\n    interval = 0;\n\n    state = {\n        downloading: [],\n        loading: false,\n        finishedList: [],\n        continue: true,\n    };\n\n    componentDidMount = () => {\n        this.loadDownloading();\n        this.loadMore();\n    };\n\n    componentWillUnmount() {\n        clearTimeout(this.interval);\n    }\n\n    loadDownloading = () => {\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/aria2/downloading\")\n            .then((response) => {\n                this.setState({\n                    downloading: response.data,\n                    loading: false,\n                });\n                // 设定自动更新\n                clearTimeout(this.interval);\n                if (response.data.length > 0) {\n                    this.interval = setTimeout(\n                        this.loadDownloading,\n                        1000 * response.data[0].interval\n                    );\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadMore = () => {\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/aria2/finished?page=\" + ++this.page)\n            .then((response) => {\n                this.setState({\n                    finishedList: [\n                        ...this.state.finishedList,\n                        ...response.data,\n                    ],\n                    loading: false,\n                    continue: response.data.length >= 10,\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n                this.setState({\n                    loading: false,\n                });\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n\n        return (\n            <div className={classes.layout}>\n                {user.group.allowRemoteDownload && <RemoteDownloadButton />}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    进行中\n                    <IconButton\n                        disabled={this.state.loading}\n                        onClick={this.loadDownloading}\n                    >\n                        <RefreshIcon />\n                    </IconButton>\n                </Typography>\n                {this.state.downloading.map((value, k) => (\n                    <DownloadingCard key={k} task={value} />\n                ))}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    已完成\n                </Typography>\n                <div className={classes.loadMore}>\n                    {this.state.finishedList.map((value, k) => {\n                        if (value.files) {\n                            return <FinishedCard key={k} task={value} />;\n                        }\n                        return null;\n                    })}\n                    <Button\n                        size=\"large\"\n                        className={classes.margin}\n                        disabled={!this.state.continue}\n                        onClick={this.loadMore}\n                    >\n                        加载更多\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst Download = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(DownloadComponent));\n\nexport default Download;\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    Button,\n    Card,\n    Divider,\n    CardHeader,\n    CardContent,\n    CardActions,\n    TextField,\n    Avatar,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\n\nconst styles = (theme) => ({\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    continue: {\n        marginLeft: \"auto\",\n        marginRight: \"10px\",\n        marginRottom: \"10px\",\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass LockedFileCompoment extends Component {\n    constructor(props) {\n        super(props);\n        const query = new URLSearchParams(this.props.location.search);\n        this.state = {\n            pwd: query.get(\"password\"),\n        };\n    }\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    submit = (e) => {\n        e.preventDefault();\n        if (this.state.pwd === \"\") {\n            return;\n        }\n        this.props.setPassowrd(this.state.pwd);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Card className={classes.card}>\n                    <CardHeader\n                        avatar={\n                            <Avatar\n                                aria-label=\"Recipe\"\n                                src={\n                                    \"/api/v3/user/avatar/\" +\n                                    this.props.share.creator.key +\n                                    \"/l\"\n                                }\n                            />\n                        }\n                        title={this.props.share.creator.nick + \" 的加密分享\"}\n                        subheader={this.props.share.create_date}\n                    />\n                    <Divider />\n                    <CardContent>\n                        <form onSubmit={this.submit}>\n                            <TextField\n                                id=\"pwd\"\n                                label=\"输入分享密码\"\n                                value={this.state.pwd}\n                                onChange={this.handleChange(\"pwd\")}\n                                margin=\"normal\"\n                                type=\"password\"\n                                autoFocus\n                                fullWidth\n                                color=\"secondary\"\n                            />\n                        </form>\n                    </CardContent>\n                    <CardActions\n                        className={classes.actions}\n                        disableActionSpacing\n                    >\n                        <Button\n                            onClick={this.submit}\n                            color=\"secondary\"\n                            className={classes.continue}\n                            variant=\"contained\"\n                            disabled={\n                                this.state.pwd === \"\" || this.props.loading\n                            }\n                        >\n                            继续\n                        </Button>\n                    </CardActions>\n                </Card>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst LockedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(LockedFileCompoment)));\n\nexport default LockedFile;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport Link from \"@material-ui/core/Link\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst useStyles = makeStyles((theme) => ({\n    boxHeader: {\n        textAlign: \"center\",\n        padding: 24,\n    },\n    avatar: {\n        backgroundColor: theme.palette.secondary.main,\n        margin: \"0 auto\",\n        width: 50,\n        height: 50,\n        cursor: \"pointer\",\n    },\n    shareDes: {\n        marginTop: 12,\n    },\n    shareInfo: {\n        color: theme.palette.text.disabled,\n        fontSize: 14,\n    },\n}));\n\nexport default function Creator(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const getSecondDes = () => {\n        if (props.share.expire > 0) {\n            if (props.share.expire >= 24 * 3600) {\n                return (\n                    Math.round(props.share.expire / (24 * 3600)) + \" 天后到期\"\n                );\n            }\n            return Math.round(props.share.expire / 3600) + \" 小时后到期\";\n        }\n        return formatLocalTime(props.share.create_date, \"YYYY-MM-DD H:mm:ss\");\n    };\n\n    const userProfile = () => {\n        history.push(\"/profile/\" + props.share.creator.key);\n        props.onClose && props.onClose();\n    };\n\n    return (\n        <div className={classes.boxHeader}>\n            <Avatar\n                className={classes.avatar}\n                alt={props.share.creator.nick}\n                src={\"/api/v3/user/avatar/\" + props.share.creator.key + \"/l\"}\n                onClick={() => userProfile()}\n            />\n            <Typography variant=\"h6\" className={classes.shareDes}>\n                {props.isFolder && (\n                    <>\n                        此分享由{\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        创建\n                    </>\n                )}\n                {!props.isFolder && (\n                    <>\n                        {\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        向您分享了 1 个文件\n                    </>\n                )}\n            </Typography>\n            <Typography className={classes.shareInfo}>\n                {props.share.views} 次浏览 • {props.share.downloads} 次下载 •{\" \"}\n                {getSecondDes()}\n            </Typography>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    showImgPreivew,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { isPreviewable } from \"../../config\";\nimport { withStyles, Button, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Auth from \"../../middleware/Auth\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport API from \"../../middleware/Api\";\nimport { withRouter } from \"react-router-dom\";\nimport Creator from \"./Creator\";\nimport pathHelper from \"../../utils/page\";\nimport Report from \"../Modals/Report\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\n\nvhCheck();\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"90px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginTop: \"90px\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: 0,\n            marginLeft: 0,\n            marginRight: 0,\n        },\n        justifyContent: \"center\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n    },\n    player: {\n        borderRadius: \"4px\",\n    },\n    fileCotainer: {\n        width: \"200px\",\n        margin: \"0 auto\",\n    },\n    buttonCotainer: {\n        width: \"400px\",\n        margin: \"0 auto\",\n        textAlign: \"center\",\n        marginTop: \"20px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n    },\n    icon: {\n        borderRadius: \"10%\",\n        marginTop: 2,\n    },\n\n    box: {\n        width: \"100%\",\n        maxWidth: 440,\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: 12,\n        boxShadow: \"0 8px 16px rgba(29,39,55,.25)\",\n        [theme.breakpoints.down(\"sm\")]: {\n            /*height: \"calc(var(--vh, 100vh) - 56px)\",*/\n            borderRadius: 0,\n            maxWidth: 1000,\n        },\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    boxContent: {\n        padding: 24,\n        display: \"flex\",\n        flex: \"1\",\n    },\n    fileName: {\n        marginLeft: 20,\n    },\n    fileSize: {\n        color: theme.palette.text.disabled,\n        fontSize: 14,\n    },\n    boxFooter: {\n        display: \"flex\",\n        padding: \"20px 16px\",\n        justifyContent: \"space-between\",\n    },\n    downloadButton: {\n        marginLeft: 8,\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: (key) => {\n            dispatch(openResaveDialog(key));\n        },\n    };\n};\n\nconst Modals = React.lazy(() => import(\"../FileManager/Modals\"));\nconst ImgPreview = React.lazy(() => import(\"../FileManager/ImgPreview\"));\n\nclass SharedFileCompoment extends Component {\n    state = {\n        anchorEl: null,\n        open: false,\n        purchaseCallback: null,\n        loading: false,\n        openReport: false,\n    };\n\n    downloaded = false;\n\n    // TODO merge into react thunk\n    preview = () => {\n        if (pathHelper.isSharePage(this.props.location.pathname)) {\n            if (!Auth.Check()) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                return;\n            }\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                return;\n            }\n        }\n\n        switch (isPreviewable(this.props.share.source.name)) {\n            case \"img\":\n                this.props.showImgPreivew({\n                    key: this.props.share.key,\n                    name: this.props.share.source.name,\n                });\n                return;\n            case \"msDoc\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/doc?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"audio\":\n                this.props.setSelectedTarget([\n                    {\n                        key: this.props.share.key,\n                        type: \"share\",\n                    },\n                ]);\n                this.props.openMusicDialog();\n                return;\n            case \"video\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/video?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"edit\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/text?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"pdf\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/pdf?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"code\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/code?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            default:\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"此文件无法预览\",\n                    \"warning\"\n                );\n                return;\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n    }\n\n    scoreHandle = (callback) => (event) => {\n        if (this.props.share.score > 0) {\n            if (!Auth.Check()) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"登录后才能继续操作\",\n                    \"warning\"\n                );\n                return;\n            }\n            if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n                this.setState({\n                    purchaseCallback: () => {\n                        this.setState({\n                            purchaseCallback: null,\n                        });\n                        callback(event);\n                    },\n                });\n                return;\n            }\n        }\n        callback(event);\n    };\n\n    download = () => {\n        this.setState({ loading: true });\n        API.put(\"/share/download/\" + this.props.share.key)\n            .then((response) => {\n                this.downloaded = true;\n                window.location.assign(response.data);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n                this.props.history.push(\"/buy?tab=2\");\n            })\n            .then(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    rewards = () => {\n        if (!Auth.Check()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            return;\n        }\n        window.opensendgift(this.props.share.key);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isLogin = Auth.Check();\n\n        return (\n            <div className={classes.layout}>\n                <Modals />\n                <ImgPreview />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share.score}\n                    onClose={() => this.setState({ purchaseCallback: null })}\n                />\n                <Report\n                    open={this.state.openReport}\n                    share={this.props.share}\n                    onClose={() => this.setState({ openReport: false })}\n                />\n                <div className={classes.box}>\n                    <Creator share={this.props.share} />\n                    <Divider />\n                    <div className={classes.boxContent}>\n                        <TypeIcon\n                            className={classes.icon}\n                            isUpload\n                            fileName={this.props.share.source.name}\n                        />\n                        <div className={classes.fileName}>\n                            <Typography style={{ wordBreak: \"break-all\" }}>\n                                {this.props.share.source.name}\n                            </Typography>\n                            <Typography className={classes.fileSize}>\n                                {sizeToString(this.props.share.source.size)}(不能下载，下载设置中取消“下载加速”)\n                            </Typography>\n                        </div>\n                    </div>\n                    <Divider />\n                    <div className={classes.boxFooter}>\n                        <div className={classes.actionLeft}>\n                            <Button\n                                onClick={() =>\n                                    this.props.openResave(this.props.share.key)\n                                }\n                                color=\"secondary\"\n                            >\n                                保存文件\n                            </Button>\n                            <Button\n                                onClick={() =>\n                                    this.setState({ openReport: true })\n                                }\n                                color=\"secondary\"\n                            >\n                                举报\n                            </Button>\n                        </div>\n                        <div className={classes.actions}>\n                            <IconButton color=\"secondary\" style={{ padding:'unset',paddingRight:'12px'}} title=\"打赏\" aria-label=\"to reward\" onClick={() => this.rewards()}>\n                              <MonetizationOnIcon />\n                            </IconButton>\n                            {this.props.share.preview && (\n                                <Button\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    onClick={this.scoreHandle(this.preview)}\n                                    disabled={this.state.loading}\n                                >\n                                    预览\n                                </Button>\n                            )}\n                            <Button\n                                variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.downloadButton}\n                                onClick={this.scoreHandle(this.download)}\n                                disabled={this.state.loading}\n                            >\n                                下载\n                                {this.props.share.score > 0 &&\n                                    (!isLogin || !user.group.shareFree) &&\n                                    \" (\" + this.props.share.score + \"积分)\"}\n                                {this.props.share.score > 0 &&\n                                    isLogin &&\n                                    user.group.shareFree &&\n                                    \" (免积分)\"}\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst SharedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFileCompoment)));\n\nexport default SharedFile;\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    setShareUserPopover,\n    showImgPreivew,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport FileManager from \"../FileManager/FileManager\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Creator from \"./Creator\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport pathHelper from \"../../utils/page\";\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: 30,\n        marginBottom: 30,\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n        },\n    },\n    managerContainer: {\n        overflowY: \"auto\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"28rem\"\n        },\n\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\n\nconst ReadMe = React.lazy(() => import(\"./ReadMe\"));\n\nconst mapStateToProps = (state) => {\n    return {\n        anchorEl: state.viewUpdate.shareUserPopoverAnchorEl,\n        fileList: state.explorer.fileList,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: (key) => {\n            dispatch(openResaveDialog(key));\n        },\n        setShareUserPopover: (e) => {\n            dispatch(setShareUserPopover(e));\n        },\n    };\n};\n\nclass SharedFolderComponent extends Component {\n    state = {};\n\n    UNSAFE_componentWillMount() {\n        window.shareInfo = this.props.share;\n    }\n\n    componentWillUnmount() {\n        window.shareInfo = null;\n        this.props.setSelectedTarget([]);\n    }\n\n    handleClickAway = () => {\n        if (!pathHelper.isMobile()) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        let readmeShowed = false;\n        const id = this.props.anchorEl !== null ? \"simple-popover\" : undefined;\n\n        return (\n            <div className={classes.layout}>\n                <ClickAwayListener onClickAway={this.handleClickAway}>\n                    <Paper className={classes.managerContainer}>\n                        <FileManager isShare share={this.props.share} />\n                    </Paper>\n                </ClickAwayListener>\n                {/* eslint-disable-next-line */}\n                {this.props.fileList.map((value) => {\n                    if (\n                        (value.name.toLowerCase() === \"readme.md\" ||\n                            value.name.toLowerCase() === \"readme.txt\") &&\n                        !readmeShowed\n                    ) {\n                        readmeShowed = true;\n                        return <ReadMe share={this.props.share} file={value} />;\n                    }\n                })}\n                <Popover\n                    id={id}\n                    open={this.props.anchorEl !== null}\n                    anchorEl={this.props.anchorEl}\n                    onClose={() => this.props.setShareUserPopover(null)}\n                    anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\",\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\",\n                    }}\n                >\n                    <Typography>\n                        <Creator\n                            isFolder\n                            onClose={() => this.props.setShareUserPopover(null)}\n                            share={this.props.share}\n                        />\n                    </Typography>\n                </Popover>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst SharedFolder = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFolderComponent)));\n\nexport default SharedFolder;\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport PageLoading from \"../Placeholder/PageLoading\";\nimport { useParams } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport { useDispatch } from \"react-redux\";\nimport Notice from \"./NotFound\";\nimport LockedFile from \"./LockedFile\";\nimport SharedFile from \"./SharedFile\";\nimport SharedFolder from \"./SharedFolder\";\n\nexport default function SharePreload() {\n    const dispatch = useDispatch();\n    const { id } = useParams();\n\n    const [share, setShare] = useState(undefined);\n    const [loading, setLoading] = useState(false);\n    const [password, setPassword] = useState(\"\");\n\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (share) {\n            if (share.locked) {\n                SetSubTitle(share.creator.nick + \"的加密分享\");\n                if (password !== \"\") {\n                    ToggleSnackbar(\"top\", \"right\", \"密码不正确\", \"warning\");\n                }\n            } else {\n                SetSubTitle(share.source.name);\n            }\n        } else {\n            SetSubTitle();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [share, SetSubTitle, ToggleSnackbar]);\n\n    useEffect(() => {\n        return () => {\n            SetSubTitle();\n        };\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        setLoading(true);\n        let withPassword = \"\";\n        if (password !== \"\") {\n            withPassword = \"?password=\" + password;\n        }\n        API.get(\"/share/info/\" + id + withPassword)\n            .then((response) => {\n                setShare(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                setLoading(false);\n                if (error.code === 404) {\n                    setShare(null);\n                } else {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                }\n            });\n    }, [id, password, ToggleSnackbar]);\n\n    return (\n        <Suspense fallback={<PageLoading />}>\n            {share === undefined && <PageLoading />}\n            {share === null && <Notice msg={\"分享不存在或已过期\"} />}\n            {share && share.locked && (\n                <LockedFile\n                    loading={loading}\n                    setPassowrd={setPassword}\n                    share={share}\n                />\n            )}\n            {share && !share.locked && !share.is_dir && (\n                <SharedFile share={share} />\n            )}\n            {share && !share.locked && share.is_dir && (\n                <SharedFolder share={share} />\n            )}\n        </Suspense>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(() => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"-48px\",\n    },\n\n    container: {\n        border: \"none\",\n        width: \"100%\",\n        height: \"calc(100vh - 18px)\",\n        marginBottom: -3,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function DocViewer() {\n    const [url, setURL] = useState(\"\");\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/doc/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/doc/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n        API.get(requestURL)\n            .then((response) => {\n                setURL(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            {url !== \"\" && (\n                <iframe title={\"ms\"} className={classes.container} src={url} />\n            )}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Typography,\n    Paper,\n    Button,\n    Grid,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from \"@material-ui/core\";\nimport { sizeToString } from \"../../utils\";\nimport { withRouter } from \"react-router\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n\n    gird: {\n        marginTop: \"30px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary,\n    },\n    data: {\n        fontSize: \"25px\",\n        color: theme.palette.primary.main,\n    },\n    proBar: {\n        height: \"10px\",\n    },\n    r1: {\n        backgroundColor: \"#f0ad4e\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r2: {\n        backgroundColor: \"#4caf50\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r3: {\n        backgroundColor: \"#5bc0de\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    note_block: {\n        width: \"10px\",\n        height: \"10px\",\n        display: \"inline-block\",\n        position: \"relative\",\n        marginLeft: \"10px\",\n        marginRight: \"3px\",\n    },\n    r1_block: {\n        backgroundColor: \"#f0ad4e\",\n    },\n    r2_block: {\n        backgroundColor: \"#4caf50\",\n    },\n    r3_block: {\n        backgroundColor: \"#5bc0de\",\n    },\n    title: {\n        marginTop: \"30px\",\n        marginBottom: \"30px\",\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    table: {\n        overflowX: \"auto\",\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass QuotaCompoment extends Component {\n    state = {\n        data: {\n            basic: 0,\n            used: 0,\n            total: 0,\n            pack: 0,\n            r1: 0,\n            r2: 0,\n            r3: 0,\n        },\n        packs: [],\n    };\n\n    firstLoad = true;\n\n    componentDidMount() {\n        if (this.firstLoad) {\n            this.firstLoad = !this.firstLoad;\n            API.get(\"/vas/pack\")\n                .then((response) => {\n                    let usedR,\n                        baseR,\n                        packR = 0;\n                    if (response.data.used > response.data.base) {\n                        usedR = response.data.used / response.data.total;\n                        baseR = 0;\n                        packR = 1 - usedR;\n                    } else {\n                        usedR = response.data.used / response.data.total;\n                        baseR =\n                            (response.data.base - response.data.used) /\n                            response.data.total;\n                        packR = 1 - usedR - baseR;\n                    }\n\n                    this.setState({\n                        data: {\n                            used: response.data.used,\n                            pack: response.data.pack,\n                            total: response.data.total,\n                            basic: response.data.base,\n                            r1: usedR > 1 ? 100 : usedR * 100,\n                            r2: usedR > 1 ? 0 : baseR * 100,\n                            r3: usedR > 1 ? 0 : packR * 100,\n                        },\n                        packs: response.data.packs,\n                    });\n                })\n                .catch((error) => {\n                    this.setState({\n                        loading: false,\n                    });\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n    }\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Typography color=\"textSecondary\" variant=\"h4\">\n                    容量配额\n                </Typography>\n                <Grid container className={classes.gird} spacing={2}>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.basic)}\n                            </Typography>\n                            <Typography>用户组基础容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.pack)}\n                            </Typography>\n                            <Typography>有效容量包附加附加容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.used)}\n                            </Typography>\n                            <Typography>已使用容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.total)}\n                            </Typography>\n                            <Typography>总容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paper}>\n                            <div className={classes.proBar}>\n                                <div\n                                    className={classes.r1}\n                                    style={{ width: this.state.data.r1 + \"%\" }}\n                                />\n                                <div\n                                    className={classes.r2}\n                                    style={{ width: this.state.data.r2 + \"%\" }}\n                                />\n                                <div\n                                    className={classes.r3}\n                                    style={{ width: this.state.data.r3 + \"%\" }}\n                                />\n                            </div>\n                            <div style={{ textAlign: \"right\" }}>\n                                <span\n                                    className={classNames(\n                                        classes.r1_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                已用容量\n                                <span\n                                    className={classNames(\n                                        classes.r2_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                用户组基础容量\n                                <span\n                                    className={classNames(\n                                        classes.r3_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                有效容量包附加附加容量\n                            </div>\n                        </Paper>\n                    </Grid>\n                </Grid>\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    可用容量包\n                </Typography>\n                <Paper className={classes.paper}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.button}\n                        onClick={() => this.props.history.push(\"/buy\")}\n                    >\n                        购买容量包\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        className={classes.button}\n                        onClick={() => this.props.history.push(\"/buy?tab=3\")}\n                    >\n                        使用激活码兑换\n                    </Button>\n                    <div className={classes.table}>\n                        <Table>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell align=\"left\">\n                                        容量包名称\n                                    </TableCell>\n                                    <TableCell align=\"center\">大小</TableCell>\n                                    <TableCell align=\"center\">\n                                        激活日期\n                                    </TableCell>\n                                    <TableCell align=\"center\">有效期</TableCell>\n                                    <TableCell align=\"center\">\n                                        过期日期\n                                    </TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {this.state.packs.map((row, id) => (\n                                    <TableRow key={id}>\n                                        <TableCell component=\"th\" scope=\"row\">\n                                            {row.name}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {sizeToString(row.size)}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {formatLocalTime(\n                                                row.activate_date,\n                                                \"YYYY-MM-DD H:mm:ss\"\n                                            )}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {Math.round(row.expiration / 86400)}\n                                            天\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {formatLocalTime(\n                                                row.expiration_date,\n                                                \"YYYY-MM-DD H:mm:ss\"\n                                            )}\n                                        </TableCell>\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                        </Table>\n                    </div>\n                </Paper>\n            </div>\n        );\n    }\n}\n\nconst Quota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(QuotaCompoment)));\n\nexport default Quota;\n","import React, { Component } from \"react\";\nimport classNames from \"classnames\";\nimport { withStyles, ButtonBase, Typography } from \"@material-ui/core\";\nconst styles = (theme) => ({\n    container: {\n        boxShadow: \"0 0 0 1px #e6e9eb\",\n        borderRadius: \"4px\",\n        transition: \"box-shadow .5s\",\n        width: \"100%\",\n        display: \"block\",\n    },\n    active: {\n        boxShadow: \"0 0 0 3px \" + theme.palette.primary.main,\n    },\n    boxHead: {\n        textAlign: \"center\",\n        padding: \"10px 10px 10px\",\n        borderBottom: \"1px solid #e6e9eb\",\n        color: theme.palette.text.main,\n        width: \"100%\",\n    },\n    price: {\n        fontSize: \"33px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color: theme.palette.primary.main,\n    },\n    priceWithScore: {\n        fontSize: \"23px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color: theme.palette.primary.main,\n    },\n    packName: {\n        marginTop: \"5px\",\n        marginBottom: \"5px\",\n    },\n    boxBottom: {\n        color: theme.palette.text.main,\n        textAlign: \"center\",\n        padding: \"5px\",\n    },\n});\n\nclass PackSelect extends Component {\n    render() {\n        const { classes, pack } = this.props;\n        return (\n            <ButtonBase\n                className={classNames(classes.container, {\n                    [classes.active]: this.props.active,\n                })}\n                onClick={this.props.onSelect}\n            >\n                <div className={classes.boxHead}>\n                    <Typography\n                        variant=\"subtitle1\"\n                        className={classes.packName}\n                    >\n                        {pack.name}\n                    </Typography>\n                    {pack.score === 0 && (\n                        <Typography className={classes.price}>\n                            ￥{(pack.price / 100).toFixed(2)}\n                        </Typography>\n                    )}\n                    {pack.score !== 0 && (\n                        <Typography className={classes.priceWithScore}>\n                            ￥{(pack.price / 100).toFixed(2)} / {pack.score}{\" \"}\n                            积分\n                        </Typography>\n                    )}\n                </div>\n                <div className={classes.boxBottom}>\n                    <Typography>\n                        有效期：{Math.ceil(pack.time / 86400)}天\n                    </Typography>\n                </div>\n            </ButtonBase>\n        );\n    }\n}\n\nexport default withStyles(styles)(PackSelect);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport SdStorage from \"@material-ui/icons/SdStorage\";\nimport ShopIcon from \"@material-ui/icons/ShoppingCart\";\nimport PackSelect from \"./PackSelect\";\nimport SupervisedUserCircle from \"@material-ui/icons/SupervisedUserCircle\";\nimport StarIcon from \"@material-ui/icons/StarBorder\";\nimport LocalPlay from \"@material-ui/icons/LocalPlay\";\nimport API from \"../../middleware/Api\";\nimport QRCode from \"qrcode-react\";\n\nimport {\n    withStyles,\n    AppBar,\n    Tabs,\n    Tab,\n    Typography,\n    Paper,\n    Button,\n    TextField,\n    Grid,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n} from \"@material-ui/core\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { AccountBalanceWallet } from \"@material-ui/icons\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n\n    gird: {\n        marginTop: \"30px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary,\n    },\n    title: {\n        marginTop: \"30px\",\n        marginBottom: \"30px\",\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    action: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n    },\n    textField: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        width: 70,\n        textAlign: \"center!important\",\n    },\n    priceShow: {\n        color: theme.palette.secondary.main,\n        fontSize: \"30px\",\n    },\n    codeContainer: {\n        textAlign: \"center\",\n        marginTop: \"20px\",\n    },\n    cardHeader: {\n        backgroundColor:\n            theme.palette.type === \"dark\"\n                ? theme.palette.background.default\n                : theme.palette.grey[200],\n    },\n    cardPricing: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"baseline\",\n        marginBottom: theme.spacing(2),\n    },\n    cardActions: {\n        [theme.breakpoints.up(\"sm\")]: {\n            paddingBottom: theme.spacing(2),\n        },\n    },\n    redeemContainer: {\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: \"50px\",\n            marginRight: \"50px\",\n            width: \"auto\",\n        },\n        marginTop: \"50px\",\n        marginBottom: \"50px\",\n    },\n    doRedeem: {\n        textAlign: \"right\",\n    },\n    payMethod: {\n        marginTop: theme.spacing(4),\n        padding: theme.spacing(2),\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass BuyQuotaCompoment extends Component {\n    IntervalId = null;\n    constructor(props) {\n        super(props);\n\n        const tab = new URLSearchParams(this.props.location.search);\n        const index = tab.get(\"tab\");\n\n        this.state = {\n            value: index ? parseInt(index) : 0,\n            selectedPack: -1,\n            selectedGroup: -1,\n            times: 1,\n            scoreNum: 1,\n            loading: false,\n            redeemCode: \"\",\n            dialog: null,\n            payment: {\n                type: \"\",\n                img: \"\",\n            },\n            scorePrice: 0,\n            redeemInfo: null,\n            packs: [],\n            groups: [],\n            alipay: false,\n            payjs: false,\n            wechat: false,\n            packPayMethod: null,\n        };\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.IntervalId);\n    }\n\n    componentDidMount() {\n        API.get(\"/vas/product\")\n            .then((response) => {\n                this.setState({\n                    packs: response.data.packs,\n                    groups: response.data.groups,\n                    alipay: response.data.alipay,\n                    payjs: response.data.payjs,\n                    wechat: response.data.wechat,\n                    scorePrice: response.data.score_price,\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    }\n\n    confirmRedeem = () => {\n        this.setState({\n            loading: true,\n        });\n        API.post(\"/vas/redeem/\" + this.state.redeemCode)\n            .then(() => {\n                this.setState({\n                    loading: false,\n                    dialog: \"success\",\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doRedeem = () => {\n        if (this.state.redeemCode === \"\") {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请输入激活码\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/vas/redeem/\" + this.state.redeemCode)\n            .then((response) => {\n                this.setState({\n                    loading: false,\n                    dialog: \"redeem\",\n                    redeemInfo: response.data,\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    buyPack = (packType) => {\n        if (packType === \"pack\" && this.state.selectedPack === -1) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请先选择一个容量包\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true,\n        });\n        API.post(\"/vas/order\", {\n            action: packType,\n            method: this.state.packPayMethod,\n            id:\n                packType === \"score\"\n                    ? 1\n                    : packType === \"pack\"\n                    ? this.state.packs[this.state.selectedPack].id\n                    : this.state.groups[this.state.selectedGroup].id,\n            num:\n                packType === \"score\"\n                    ? parseInt(this.state.scoreNum)\n                    : parseInt(this.state.times),\n        })\n            .then((response) => {\n                if (!response.data.payment) {\n                    this.setState({\n                        loading: false,\n                        dialog: \"success\",\n                    });\n                    return;\n                }\n                if (response.data.qr_code) {\n                    this.setState({\n                        loading: false,\n                        dialog: \"qr\",\n                        payment: {\n                            type: this.state.packPayMethod,\n                            img: response.data.qr_code,\n                        },\n                    });\n                    this.IntervalId = window.setInterval(() => {\n                        this.querryLoop(response.data.id);\n                    }, 3000);\n                }\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    querryLoop = (id) => {\n        API.get(\"/vas/order/\" + id)\n            .then((response) => {\n                if (response.data === 1) {\n                    this.setState({\n                        dialog: \"success\",\n                    });\n                    window.clearInterval(this.IntervalId);\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n                window.clearInterval(this.IntervalId);\n            });\n    };\n\n    handleChange = (event, value) => {\n        this.setState({\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n        this.setState({ value });\n    };\n\n    handleChangeIndex = (index) => {\n        this.setState({ value: index });\n    };\n\n    handleClose = () => {\n        window.clearInterval(this.IntervalId);\n        this.setState({\n            dialog: null,\n        });\n    };\n\n    handleTexyChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    selectPack = (id) => {\n        this.setState({\n            selectedPack: id,\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n    };\n\n    selectGroup = (id) => {\n        this.setState({\n            selectedGroup: id,\n            dialog: \"buyGroup\",\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n    };\n\n    selectPackPayMethod = (event) => {\n        this.setState({\n            packPayMethod: event.target.value,\n        });\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        const methodSelect = (\n            <div>\n                <FormLabel>选择支付方式：</FormLabel>\n                <RadioGroup\n                    name=\"spacing\"\n                    aria-label=\"spacing\"\n                    value={this.state.packPayMethod}\n                    onChange={this.selectPackPayMethod}\n                    row\n                >\n                    {!this.state.alipay &&\n                        !this.state.payjs &&\n                        this.state.value === 0 &&\n                        (this.state.selectedPack === -1 ||\n                            this.state.packs[this.state.selectedPack].score ===\n                                0) &&\n                        this.state.value === 1 &&\n                        (this.state.selectedGroup === -1 ||\n                            this.state.groups[this.state.selectedGroup]\n                                .score === 0) && (\n                            <Typography>无可用支付方式</Typography>\n                        )}\n                    {this.state.alipay && (\n                        <FormControlLabel\n                            value={\"alipay\"}\n                            control={<Radio />}\n                            label={\"支付宝扫码\"}\n                        />\n                    )}\n                    {this.state.payjs && (\n                        <FormControlLabel\n                            value={\"payjs\"}\n                            control={<Radio />}\n                            label={\"微信扫码\"}\n                        />\n                    )}\n                    {this.state.wechat && (\n                        <FormControlLabel\n                            value={\"wechat\"}\n                            control={<Radio />}\n                            label={\"微信扫码\"}\n                        />\n                    )}\n                    {this.state.value === 0 &&\n                        this.state.selectedPack !== -1 &&\n                        this.state.packs[this.state.selectedPack].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                    {this.state.value === 1 &&\n                        this.state.selectedGroup !== -1 &&\n                        this.state.groups[this.state.selectedGroup].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                </RadioGroup>\n                <div>\n                    {this.state.value !== 2 && (\n                        <FormLabel>购买时长倍数：</FormLabel>\n                    )}\n                    {this.state.value === 2 && (\n                        <FormLabel>充值积分数量：</FormLabel>\n                    )}\n                </div>\n                {this.state.value !== 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            max: \"99\",\n                            step: \"1\",\n                        }}\n                        value={this.state.times}\n                        onChange={this.handleTexyChange(\"times\")}\n                    />\n                )}\n                {this.state.value === 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            step: \"1\",\n                            max: \"9999999\",\n                        }}\n                        value={this.state.scoreNum}\n                        onChange={this.handleTexyChange(\"scoreNum\")}\n                    />\n                )}\n            </div>\n        );\n\n        return (\n            <div className={classes.layout}>\n                <Typography\n                    color=\"textSecondary\"\n                    className={classes.title}\n                    variant=\"h3\"\n                >\n                    购买\n                </Typography>\n                <AppBar position=\"static\">\n                    <Tabs\n                        value={this.state.value}\n                        onChange={this.handleChange}\n                        variant=\"fullWidth\"\n                    >\n                        <Tab label=\"容量包\" icon={<SdStorage />} />\n                        <Tab label=\"会员\" icon={<SupervisedUserCircle />} />\n                        {this.state.scorePrice > 0 && (\n                            <Tab\n                                label=\"积分充值\"\n                                icon={<AccountBalanceWallet />}\n                            />\n                        )}\n                        <Tab label=\"使用激活码\" icon={<LocalPlay />} />\n                    </Tabs>\n                </AppBar>\n                {this.state.value === 0 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={3}>\n                            {this.state.packs.map((value, id) => (\n                                <Grid item xs={12} md={3} key={id}>\n                                    <PackSelect\n                                        pack={value}\n                                        onSelect={() => this.selectPack(id)}\n                                        active={this.state.selectedPack === id}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {(\n                                                                (this.state\n                                                                    .packs[\n                                                                    this.state\n                                                                        .selectedPack\n                                                                ].price /\n                                                                    100) *\n                                                                this.state.times\n                                                            ).toFixed(2)}\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                        {this.state.packPayMethod ===\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {this.state.packs[\n                                                                this.state\n                                                                    .selectedPack\n                                                            ].score *\n                                                                this.state\n                                                                    .times}{\" \"}\n                                                            积分\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() => this.buyPack(\"pack\")}\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n                {this.state.value === 1 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={5} alignItems=\"flex-end\">\n                            {this.state.groups.map((tier, id) => (\n                                // Enterprise card is full width at sm breakpoint\n                                <Grid item key={id} xs={12} sm={6} md={4}>\n                                    <Card>\n                                        <CardHeader\n                                            title={tier.name}\n                                            subheader={\n                                                tier.highlight ? \"推荐\" : null\n                                            }\n                                            titleTypographyProps={{\n                                                align: \"center\",\n                                            }}\n                                            subheaderTypographyProps={{\n                                                align: \"center\",\n                                            }}\n                                            action={\n                                                tier.highlight ? (\n                                                    <StarIcon />\n                                                ) : null\n                                            }\n                                            className={classes.cardHeader}\n                                        />\n                                        <CardContent>\n                                            <div\n                                                className={classes.cardPricing}\n                                            >\n                                                <Typography\n                                                    component=\"h2\"\n                                                    variant=\"h3\"\n                                                    color=\"textPrimary\"\n                                                >\n                                                    ￥{tier.price / 100}\n                                                </Typography>\n                                                <Typography\n                                                    variant=\"h6\"\n                                                    color=\"textSecondary\"\n                                                >\n                                                    /\n                                                    {Math.ceil(\n                                                        tier.time / 86400\n                                                    )}\n                                                    天\n                                                </Typography>\n                                            </div>\n                                            {tier.des.map((line) => (\n                                                <Typography\n                                                    variant=\"subtitle1\"\n                                                    align=\"center\"\n                                                    key={line}\n                                                >\n                                                    {line}\n                                                </Typography>\n                                            ))}\n                                        </CardContent>\n                                        <CardActions\n                                            className={classes.cardActions}\n                                        >\n                                            <Button\n                                                fullWidth\n                                                variant={\n                                                    tier.highlight\n                                                        ? \"contained\"\n                                                        : \"outlined\"\n                                                }\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    this.selectGroup(id)\n                                                }\n                                            >\n                                                立即购买\n                                            </Button>\n                                        </CardActions>\n                                    </Card>\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 2 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                <span>\n                                                    {(\n                                                        (this.state.scorePrice /\n                                                            100) *\n                                                        this.state.scoreNum\n                                                    ).toFixed(2)}\n                                                </span>\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() =>\n                                                this.buyPack(\"score\")\n                                            }\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 3 && (\n                    <Paper className={classes.paper} square={true}>\n                        <div className={classes.redeemContainer}>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"输入激活码\"\n                                value={this.state.redeemCode}\n                                onChange={this.handleTexyChange(\"redeemCode\")}\n                                margin=\"normal\"\n                                inputProps={{\n                                    style: { textTransform: \"uppercase\" },\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.doRedeem}>\n                                <Button\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    className={classes.button}\n                                    disabled={this.state.loading}\n                                    onClick={this.doRedeem}\n                                >\n                                    下一步\n                                </Button>\n                            </div>\n                        </div>\n                    </Paper>\n                )}\n                <Dialog\n                    open={this.state.dialog === \"qr\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            请使用\n                            {this.state.payment.type === \"alipay\" && (\n                                <span>支付宝</span>\n                            )}\n                            {this.state.payment.type === \"payjs\" && (\n                                <span>微信</span>\n                            )}\n                            扫描下方二维码完成付款，付款完成后本页面会自动刷新。\n                        </DialogContentText>\n                        <div className={classes.codeContainer}>\n                            <QRCode value={this.state.payment.img} />,\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"success\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付完成</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            您所购买的商品已到账。\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"redeem\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">确认兑换</DialogTitle>\n                    <DialogContent>\n                        {this.state.redeemInfo !== null && (\n                            <DialogContentText id=\"alert-dialog-description\">\n                                <Typography variant=\"subtitle1\">\n                                    商品名称：\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.name}\n                                </Typography>\n                                <Typography variant=\"subtitle1\">\n                                    {this.state.redeemInfo.type === 2\n                                        ? \"数量：\"\n                                        : \"时长：\"}\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.type === 2 && (\n                                        <>{this.state.redeemInfo.num}</>\n                                    )}\n                                    {this.state.redeemInfo.type !== 2 && (\n                                        <>\n                                            {Math.ceil(\n                                                this.state.redeemInfo.time /\n                                                    86400\n                                            ) * this.state.redeemInfo.num}\n                                            天\n                                        </>\n                                    )}\n                                </Typography>\n                            </DialogContentText>\n                        )}\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose}>取消</Button>\n                        <Button\n                            onClick={this.confirmRedeem}\n                            color=\"primary\"\n                            disabled={this.state.loading}\n                        >\n                            确认兑换\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"buyGroup\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">\n                        购买用户组\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            已选：\n                            {this.state.selectedGroup !== -1 &&\n                                this.state.groups[this.state.selectedGroup]\n                                    .name}\n                        </DialogContentText>\n                        {methodSelect}\n                        <div>\n                            当前费用：\n                            {this.state.packPayMethod !== \"score\" && (\n                                <span className={classes.priceShow}>\n                                    ￥\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {(\n                                                    (this.state.groups[\n                                                        this.state.selectedGroup\n                                                    ].price /\n                                                        100) *\n                                                    this.state.times\n                                                ).toFixed(2)}\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                            {this.state.packPayMethod === \"score\" && (\n                                <span className={classes.priceShow}>\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {this.state.groups[\n                                                    this.state.selectedGroup\n                                                ].score * this.state.times}{\" \"}\n                                                积分\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button\n                            onClick={this.handleClose}\n                            disabled={this.state.loading}\n                        >\n                            取消\n                        </Button>\n                        <Button\n                            disabled={\n                                this.state.loading ||\n                                this.state.packPayMethod === null\n                            }\n                            onClick={() => this.buyPack(\"group\")}\n                            color=\"primary\"\n                        >\n                            购买\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst BuyQuota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(BuyQuotaCompoment)));\n\nexport default BuyQuota;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FolderOpenOutlined, LabelOutlined } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1),\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color: theme.palette.text.secondary,\n    },\n    input: {\n        width: 250,\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24,\n    },\n    button: {\n        marginTop: 8,\n    },\n}));\n\nexport default function CreateWebDAVAccount(props) {\n    const [value, setValue] = useState({\n        name: \"\",\n        path: \"/\",\n    });\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n    const classes = useStyles();\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = (name) => (e) => {\n        setValue({\n            ...value,\n            [name]: e.target.value,\n        });\n    };\n\n    const selectPath = () => {\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath,\n        });\n        setPathSelectDialog(false);\n    };\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    selected={[]}\n                    onSelect={setMoveTarget}\n                />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button\n                        onClick={selectPath}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\"}\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <LabelOutlined />\n                        </div>\n\n                        <TextField\n                            className={classes.input}\n                            value={value.name}\n                            onChange={handleInputChange(\"name\")}\n                            label=\"备注名\"\n                        />\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"相对根目录\"\n                            />\n                            <br />\n                            <Button\n                                className={classes.button}\n                                color=\"primary\"\n                                onClick={() => setPathSelectDialog(true)}\n                            >\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    disabled={value.path === \"\" || value.name === \"\"}\n                    color=\"primary\"\n                    onClick={() => props.callback(value)}\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { FolderOpenOutlined, Storage } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { toggleSnackbar } from \"../../actions\";\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1),\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color: theme.palette.text.secondary,\n    },\n    input: {\n        width: 250,\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24,\n    },\n    button: {\n        marginTop: 8,\n    },\n}));\n\nexport default function CreateWebDAVMount(props) {\n    const [value, setValue] = useState({\n        policy: \"\",\n        path: \"/\",\n    });\n    const [policies, setPolicies] = useState([]);\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = (name) => (e) => {\n        setValue({\n            ...value,\n            [name]: e.target.value,\n        });\n    };\n\n    const selectPath = () => {\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath,\n        });\n        setPathSelectDialog(false);\n    };\n\n    useEffect(() => {\n        API.get(\"/user/setting/policies\")\n            .then((response) => {\n                setPolicies(response.data.options);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    selected={[]}\n                    onSelect={setMoveTarget}\n                />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button\n                        onClick={selectPath}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\"}\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <Storage />\n                        </div>\n                        <FormControl className={classes.formControl}>\n                            <InputLabel id=\"demo-simple-select-label\">\n                                存储策略\n                            </InputLabel>\n                            <Select\n                                className={classes.input}\n                                labelId=\"demo-simple-select-label\"\n                                value={value.policy}\n                                onChange={handleInputChange(\"policy\")}\n                            >\n                                {policies.map((v, k) => (\n                                    <MenuItem key={k} value={v.id}>\n                                        {v.name}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"目录\"\n                            />\n                            <br />\n                            <Button\n                                className={classes.button}\n                                color=\"primary\"\n                                onClick={() => setPathSelectDialog(true)}\n                            >\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    disabled={value.path === \"\" || value.policy === \"\"}\n                    color=\"primary\"\n                    onClick={() => props.callback(value)}\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Button from \"@material-ui/core/Button\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Delete } from \"@material-ui/icons\";\nimport CreateWebDAVAccount from \"../Modals/CreateWebDAVAccount\";\nimport TimeAgo from \"timeago-react\";\nimport CreateWebDAVMount from \"../Modals/CreateWebDAVMount\";\nimport Link from \"@material-ui/core/Link\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n    content: {\n        marginTop: theme.spacing(4),\n    },\n    cardContent: {\n        padding: theme.spacing(2),\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n    create: {\n        marginTop: theme.spacing(2),\n    },\n    copy: {\n        marginLeft: 10,\n    },\n}));\n\nexport default function WebDAV() {\n    const [tab, setTab] = useState(0);\n    const [create, setCreate] = useState(false);\n    const [mount, setMount] = useState(false);\n    const [accounts, setAccounts] = useState([]);\n    const [folders, setFolders] = useState([]);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const copyToClipboard = (text) => {\n        navigator.clipboard.writeText(text);\n        ToggleSnackbar(\"top\", \"center\", \"已复制到剪切板\", \"success\");\n    };\n\n    const loadList = () => {\n        API.get(\"/webdav/accounts\")\n            .then((response) => {\n                setAccounts(response.data.accounts);\n                setFolders(response.data.folders);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n    useEffect(() => {\n        loadList();\n        // eslint-disable-next-line\n    }, []);\n\n    const deleteAccount = (id) => {\n        const account = accounts[id];\n        API.delete(\"/webdav/accounts/\" + account.ID)\n            .then(() => {\n                let accountCopy = [...accounts];\n                accountCopy = accountCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setAccounts(accountCopy);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const deleteMount = (id) => {\n        const folder = folders[id];\n        API.delete(\"/webdav/mount/\" + folder.id)\n            .then(() => {\n                let folderCopy = [...folders];\n                folderCopy = folderCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setFolders(folderCopy);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addAccount = (account) => {\n        setCreate(false);\n        API.post(\"/webdav/accounts\", {\n            path: account.path,\n            name: account.name,\n        })\n            .then((response) => {\n                setAccounts([\n                    {\n                        ID: response.data.id,\n                        Password: response.data.password,\n                        CreatedAt: response.data.created_at,\n                        Name: account.name,\n                        Root: account.path,\n                    },\n                    ...accounts,\n                ]);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addMount = (mountInfo) => {\n        setMount(false);\n        API.post(\"/webdav/mount\", {\n            path: mountInfo.path,\n            policy: mountInfo.policy,\n        })\n            .then(() => {\n                loadList();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const user = Auth.GetUser();\n\n    return (\n        <div className={classes.layout}>\n            <CreateWebDAVAccount\n                callback={addAccount}\n                open={create}\n                onClose={() => setCreate(false)}\n            />\n            <CreateWebDAVMount\n                callback={addMount}\n                open={mount}\n                onClose={() => setMount(false)}\n            />\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                WebDAV\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Tabs\n                    value={tab}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    onChange={(event, newValue) => setTab(newValue)}\n                    aria-label=\"disabled tabs example\"\n                >\n                    <Tab label=\"账号管理\" />\n                    <Tab label=\"存储策略挂载\" />\n                </Tabs>\n                <div className={classes.cardContent}>\n                    {tab === 0 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                WebDAV的地址为：\n                                {window.location.origin + \"/dav\"}\n                                ；登陆用户名统一为：{user.user_name}{\" \"}\n                                ；密码为所创建账号的密码。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>备注名</TableCell>\n                                            <TableCell>密码</TableCell>\n                                            <TableCell align=\"right\">\n                                                根目录\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                创建日期\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {accounts.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.Name}\n                                                </TableCell>\n                                                <TableCell>\n                                                    {row.Password}\n                                                    <Link\n                                                        className={classes.copy}\n                                                        onClick={() =>\n                                                            copyToClipboard(\n                                                                row.Password\n                                                            )\n                                                        }\n                                                        href={\"javascript:void\"}\n                                                    >\n                                                        复制\n                                                    </Link>\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.Root}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <TimeAgo\n                                                        datetime={row.CreatedAt}\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteAccount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setCreate(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                创建新账号\n                            </Button>\n                        </div>\n                    )}\n                    {tab === 1 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                为目录挂载存储策略后，在 WebDAV\n                                中上传至此目录的新文件将会使用挂载的存储策略存储。复制、移动到此目录不会应用挂载的存储策略；挂载设置不会被子目录继承。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    size=\"small\"\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>目录名</TableCell>\n                                            <TableCell align=\"right\">\n                                                挂载存储策略\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {folders.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.policy_name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteMount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setMount(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                挂载新目录\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport API from \"../../middleware/Api\";\nimport { getTaskProgress, getTaskStatus, getTaskType } from \"../../config\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n    content: {\n        marginTop: theme.spacing(4),\n        overflowX: \"auto\",\n    },\n    cardContent: {\n        padding: theme.spacing(2),\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n    create: {\n        marginTop: theme.spacing(2),\n    },\n    noWrap: {\n        wordBreak: \"keepAll\",\n    },\n    footer: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function Tasks() {\n    const [tasks, setTasks] = useState([]);\n    const [total, setTotal] = useState(0);\n    const [page, setPage] = useState(1);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = (page) => {\n        API.get(\"/user/setting/tasks?page=\" + page)\n            .then((response) => {\n                setTasks(response.data.tasks);\n                setTotal(response.data.total);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList(page);\n        // eslint-disable-next-line\n    }, [page]);\n\n    const getError = (error) => {\n        if (error === \"\") {\n            return \"-\";\n        }\n        try {\n            const res = JSON.parse(error);\n            return res.msg;\n        } catch (e) {\n            return \"未知\";\n        }\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                任务队列\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Table className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell nowrap=\"nowrap\">创建于</TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                任务类型\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                状态\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                最后进度\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\">错误信息</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {tasks.map((row, id) => (\n                            <TableRow key={id}>\n                                <TableCell\n                                    nowrap=\"nowrap\"\n                                    component=\"th\"\n                                    scope=\"row\"\n                                >\n                                    {formatLocalTime(\n                                        row.create_date,\n                                        \"YYYY-MM-DD H:mm:ss\"\n                                    )}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskType(row.type)}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskStatus(row.status)}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskProgress(row.type, row.progress)}\n                                </TableCell>\n                                <TableCell className={classes.noWrap}>\n                                    {getError(row.error)}\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n                <div className={classes.footer}>\n                    <Pagination\n                        count={Math.ceil(total / 10)}\n                        onChange={(e, v) => setPage(v)}\n                        color=\"secondary\"\n                    />\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\r\nimport { useParams } from \"react-router\";\n\nexport default function Ifm() {\r\n    const params = useParams(\"action\");\r\n\tlet iFrameHeight = '500px';\r\n\tlet iframe = null;\r\n\r\n    const getCookie =(name)=> {\r\n        const strcookie = document.cookie;//获取cookie字符串\r\n            const arrcookie = strcookie.split(\"; \");//分割\r\n            //遍历匹配\r\n            for ( let i = 0; i < arrcookie.length; i++) {\r\n                const arr = arrcookie[i].split(\"=\");\r\n                if (arr[0] == name){\r\n                    return unescape(arr[1]);\r\n                }\r\n            }\r\n        return null;\r\n    }\r\n\t\r\n    const ifmUrl = ()=>{\r\n        return \"/app/index.php?\" + params.action + \"&token=\" + getCookie(\"token\");\r\n    }\n     return (\n        <iframe \n                style={{width:'100%', overflow:'visible'}}\n                onLoad={() => {\r\n\t\t\t\t\tiFrameHeight = (document.documentElement.clientHeight - (document.documentElement.clientHeight * 0.075)) + 'px';\r\n\t\t\t\t\tiframe.height = iFrameHeight;\r\n                }} \r\n\t\t\t\tref={(c) => { iframe = c; }}\n                src={ifmUrl()} \n                width=\"100%\" \n                height={iFrameHeight} \n                frameBorder=\"0\"\n\t\t\t\tscrolling=\"auto\"\n            />\n     );\n}","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Paper,\n    Avatar,\n    Typography,\n    Tabs,\n    Tab,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    Grid,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport Pagination from \"@material-ui/lab/Pagination\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        marginBottom: \"30px\",\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    userNav: {\n        height: \"270px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"bottom\",\n    },\n    avatarContainer: {\n        height: \"80px\",\n        width: \"80px\",\n        borderRaidus: \"50%\",\n        margin: \"auto\",\n        marginTop: \"50px\",\n        boxShadow:\n            \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n        border: \"2px solid #fff\",\n    },\n    nickName: {\n        width: \"200px\",\n        margin: \"auto\",\n        textAlign: \"center\",\n        marginTop: \"1px\",\n        fontSize: \"25px\",\n        color: \"#ffffff\",\n        opacity: \"0.81\",\n    },\n    th: {\n        minWidth: \"106px\",\n    },\n    mobileHide: {\n        [theme.breakpoints.down(\"md\")]: {\n            display: \"none\",\n        },\n    },\n    tableLink: {\n        cursor: \"pointer\",\n    },\n    navigator: {\n        padding: theme.spacing(2),\n    },\n    pageInfo: {\n        marginTop: \"14px\",\n        marginLeft: \"23px\",\n    },\n    infoItem: {\n        paddingLeft: \"46px!important\",\n        paddingBottom: \"20px!important\",\n    },\n    infoContainer: {\n        marginTop: \"30px\",\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass ProfileCompoment extends Component {\n    state = {\n        listType: 0,\n        shareList: [],\n        page: 1,\n        user: null,\n        total: 0,\n    };\n\n    handleChange = (event, listType) => {\n        this.setState({ listType });\n        if (listType === 1) {\n            this.loadList(1, \"hot\");\n        } else if (listType === 0) {\n            this.loadList(1, \"default\");\n        }\n    };\n\n    componentDidMount = () => {\n        this.loadList(1, \"default\");\n    };\n\n    loadList = (page, order) => {\n        API.get(\n            \"/user/profile/\" +\n                this.props.match.params.id +\n                \"?page=\" +\n                page +\n                \"&type=\" +\n                order\n        )\n            .then((response) => {\n                this.setState({\n                    shareList: response.data.items,\n                    user: response.data.user,\n                    total: response.data.total,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadNext = () => {\n        this.loadList(\n            this.state.page + 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    loadPrev = () => {\n        this.loadList(\n            this.state.page - 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                {this.state.user === null && <div></div>}\n                {this.state.user !== null && (\n                    <Paper square>\n                        <div className={classes.userNav}>\n                            <div>\n                                <Avatar\n                                    className={classes.avatarContainer}\n                                    src={\n                                        \"/api/v3/user/avatar/\" +\n                                        this.state.user.id +\n                                        \"/l\"\n                                    }\n                                />\n                            </div>\n                            <div>\n                                <Typography className={classes.nickName} noWrap>\n                                    {this.state.user.nick}\n                                </Typography>\n                            </div>\n                        </div>\n                        <Tabs\n                            value={this.state.listType}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            onChange={this.handleChange}\n                            centered\n                        >\n                            <Tab label=\"全部分享\" />\n                            <Tab label=\"热门分享\" />\n                            <Tab label=\"个人资料\" />\n                        </Tabs>\n                        {this.state.listType === 2 && (\n                            <div className={classes.infoContainer}>\n                                <Grid container spacing={24}>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            UID\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.id}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            昵称\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.nick}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            用户组\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.group}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            分享总数\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.total}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            注册日期\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.date}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        )}\n                        {(this.state.listType === 0 ||\n                            this.state.listType === 1) && (\n                            <div>\n                                <div className={classes.tableContainer}>\n                                    <Table className={classes.table}>\n                                        <TableHead>\n                                            <TableRow>\n                                                <TableCell>文件名</TableCell>\n                                                <TableCell\n                                                    className={\n                                                        classes.mobileHide\n                                                    }\n                                                >\n                                                    分享日期\n                                                </TableCell>\n                                                <TableCell\n                                                    className={[\n                                                        classes.th,\n                                                        classes.mobileHide,\n                                                    ]}\n                                                >\n                                                    下载次数\n                                                </TableCell>\n                                                <TableCell\n                                                    className={[\n                                                        classes.th,\n                                                        classes.mobileHide,\n                                                    ]}\n                                                >\n                                                    浏览次数\n                                                </TableCell>\n                                            </TableRow>\n                                        </TableHead>\n                                        <TableBody>\n                                            {this.state.shareList.map(\n                                                (row, id) => (\n                                                    <TableRow\n                                                        key={id}\n                                                        className={\n                                                            classes.tableLink\n                                                        }\n                                                        onClick={() =>\n                                                            this.props.history.push(\n                                                                \"/s/\" + row.key\n                                                            )\n                                                        }\n                                                    >\n                                                        <TableCell>\n                                                            <Typography>\n                                                                {row.source\n                                                                    ? row.source\n                                                                          .name\n                                                                    : \"[已失效]\"}\n                                                            </Typography>\n                                                        </TableCell>\n                                                        <TableCell\n                                                            nowrap={\"nowrap\"}\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.create_date}\n                                                        </TableCell>\n                                                        <TableCell\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.downloads}\n                                                        </TableCell>\n                                                        <TableCell\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.views}\n                                                        </TableCell>\n                                                    </TableRow>\n                                                )\n                                            )}\n                                        </TableBody>\n                                    </Table>\n                                </div>\n                                {this.state.shareList.length !== 0 &&\n                                    this.state.listType === 0 && (\n                                        <div className={classes.navigator}>\n                                            <Pagination\n                                                count={Math.ceil(\n                                                    this.state.total / 10\n                                                )}\n                                                onChange={(e, v) =>\n                                                    this.loadList(\n                                                        v,\n                                                        this.state.listType ===\n                                                            0\n                                                            ? \"default\"\n                                                            : \"hot\"\n                                                    )\n                                                }\n                                                color=\"secondary\"\n                                            />\n                                        </div>\n                                    )}\n                            </div>\n                        )}\n                    </Paper>\n                )}\n            </div>\n        );\n    }\n}\n\nconst Profile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ProfileCompoment)));\n\nexport default Profile;\n","import React, { useState, useCallback } from \"react\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport { Add, Fingerprint, HighlightOff } from \"@material-ui/icons\";\nimport API from \"../../middleware/Api\";\nimport { bufferDecode, bufferEncode } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\",\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40,\n    },\n    flexContainer: {\n        display: \"flex\",\n    },\n}));\n\nexport default function Authn(props) {\n    const [selected, setSelected] = useState(\"\");\n    const [confirm, setConfirm] = useState(false);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const deleteCredential = (id) => {\n        API.patch(\"/user/setting/authn\", {\n            id: id,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"凭证已删除\", \"success\");\n                props.remove(id);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setConfirm(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    const addCredential = () => {\n        if (!navigator.credentials) {\n            ToggleSnackbar(\"top\", \"right\", \"当前浏览器或环境不支持\", \"warning\");\n\n            return;\n        }\n        API.put(\"/user/authn\", {})\n            .then((response) => {\n                const credentialCreationOptions = response.data;\n                credentialCreationOptions.publicKey.challenge = bufferDecode(\n                    credentialCreationOptions.publicKey.challenge\n                );\n                credentialCreationOptions.publicKey.user.id = bufferDecode(\n                    credentialCreationOptions.publicKey.user.id\n                );\n                if (credentialCreationOptions.publicKey.excludeCredentials) {\n                    for (\n                        let i = 0;\n                        i <\n                        credentialCreationOptions.publicKey.excludeCredentials\n                            .length;\n                        i++\n                    ) {\n                        credentialCreationOptions.publicKey.excludeCredentials[\n                            i\n                        ].id = bufferDecode(\n                            credentialCreationOptions.publicKey\n                                .excludeCredentials[i].id\n                        );\n                    }\n                }\n\n                return navigator.credentials.create({\n                    publicKey: credentialCreationOptions.publicKey,\n                });\n            })\n            .then((credential) => {\n                const attestationObject = credential.response.attestationObject;\n                const clientDataJSON = credential.response.clientDataJSON;\n                const rawId = credential.rawId;\n                return API.put(\n                    \"/user/authn/finish\",\n                    JSON.stringify({\n                        id: credential.id,\n                        rawId: bufferEncode(rawId),\n                        type: credential.type,\n                        response: {\n                            attestationObject: bufferEncode(attestationObject),\n                            clientDataJSON: bufferEncode(clientDataJSON),\n                        },\n                    })\n                );\n            })\n            .then((response) => {\n                props.add(response.data);\n                ToggleSnackbar(\"top\", \"right\", \"验证器已添加\", \"success\");\n                return;\n            })\n            .catch((error) => {\n                console.log(error);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <div>\n            <Dialog open={confirm} onClose={() => setConfirm(false)}>\n                <DialogTitle>删除凭证</DialogTitle>\n                <DialogContent>确定要吊销这个凭证吗？</DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setConfirm(false)} color=\"default\">\n                        取消\n                    </Button>\n                    <Button\n                        onClick={() => deleteCredential(selected)}\n                        color=\"primary\"\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Typography className={classes.sectionTitle} variant=\"subtitle2\">\n                外部认证器\n            </Typography>\n            <Paper>\n                <List className={classes.desenList}>\n                    {props.list.map((v) => (\n                        <>\n                            <ListItem\n                                button\n                                style={{\n                                    paddingRight: 60,\n                                }}\n                                onClick={() => {\n                                    setConfirm(true);\n                                    setSelected(v.id);\n                                }}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Fingerprint />\n                                </ListItemIcon>\n                                <ListItemText primary={v.fingerprint} />\n\n                                <ListItemSecondaryAction\n                                    onClick={() => deleteCredential(v.id)}\n                                    className={classes.flexContainer}\n                                >\n                                    <HighlightOff\n                                        className={classes.rightIcon}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                        </>\n                    ))}\n                    <ListItem button onClick={() => addCredential()}>\n                        <ListItemIcon className={classes.iconFix}>\n                            <Add />\n                        </ListItemIcon>\n                        <ListItemText primary=\"添加新验证器\" />\n\n                        <ListItemSecondaryAction\n                            className={classes.flexContainer}\n                        >\n                            <RightIcon className={classes.rightIcon} />\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                </List>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { FormLabel, makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {\n    refreshTimeZone,\n    timeZone,\n    validateTimeZone,\n} from \"../../utils/datetime\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Auth from \"../../middleware/Auth\";\n\nconst useStyles = makeStyles((theme) => ({}));\n\nexport default function TimeZoneDialog(props) {\n    const [timeZoneValue, setTimeZoneValue] = useState(timeZone);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const saveZoneInfo = () => {\n        if (!validateTimeZone(timeZoneValue)) {\n            ToggleSnackbar(\"top\", \"right\", \"无效的时区名称\", \"warning\");\n            return;\n        }\n        Auth.SetPreference(\"timeZone\", timeZoneValue);\n        refreshTimeZone();\n        props.onClose();\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">更改时区</DialogTitle>\n\n            <DialogContent>\n                <FormControl>\n                    <TextField\n                        label={\"IANA 时区名称标识\"}\n                        value={timeZoneValue}\n                        onChange={(e) => setTimeZoneValue(e.target.value)}\n                    />\n                </FormControl>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        color=\"primary\"\n                        disabled={timeZoneValue === \"\"}\n                        onClick={() => saveZoneInfo()}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PhotoIcon from \"@material-ui/icons/InsertPhoto\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport DateIcon from \"@material-ui/icons/DateRange\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport LinkIcon from \"@material-ui/icons/Phonelink\";\nimport AlarmOff from \"@material-ui/icons/AlarmOff\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport SecurityIcon from \"@material-ui/icons/Security\";\nimport NickIcon from \"@material-ui/icons/PermContactCalendar\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport VerifyIcon from \"@material-ui/icons/VpnKey\";\nimport ColorIcon from \"@material-ui/icons/Palette\";\nimport {\n    applyThemes,\n    changeViewMethod,\n    toggleDaylightMode,\n    toggleSnackbar,\n} from \"../../actions\";\nimport axios from \"axios\";\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport {\n    ListItemIcon,\n    withStyles,\n    Button,\n    Divider,\n    TextField,\n    Avatar,\n    Paper,\n    Typography,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    ListItemAvatar,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Switch,\n} from \"@material-ui/core\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport SettingsInputHdmi from \"@material-ui/icons/SettingsInputHdmi\";\nimport { blue, green, yellow } from \"@material-ui/core/colors\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { withRouter } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\nimport QRCode from \"qrcode-react\";\nimport {\n    Brightness3,\n    Check,\n    ConfirmationNumber,\n    ListAlt,\n    PermContactCalendar,\n    Schedule,\n} from \"@material-ui/icons\";\nimport { transformTime } from \"../../utils\";\nimport Authn from \"./Authn\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { formatLocalTime, timeZone } from \"../../utils/datetime\";\nimport TimeZoneDialog from \"../Modals/TimeZone\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\",\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    userGravatar: {\n        backgroundColor: yellow[100],\n        color: yellow[800],\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800],\n    },\n    infoText: {\n        marginRight: \"17px\",\n    },\n    infoTextWithIcon: {\n        marginRight: \"17px\",\n        marginTop: \"1px\",\n    },\n    rightIconWithText: {\n        marginTop: \"0px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40,\n    },\n    flexContainer: {\n        display: \"flex\",\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    flexContainerResponse: {\n        display: \"flex\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"initial\",\n        },\n    },\n    desText: {\n        marginTop: \"10px\",\n    },\n    secondColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.secondary.main,\n        borderRadius: \"50%\",\n        marginRight: \"17px\",\n    },\n    firstColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: \"50%\",\n        marginRight: \"6px\",\n    },\n    themeBlock: {\n        height: \"20px\",\n        width: \"20px\",\n    },\n    paddingBottom: {\n        marginBottom: \"30px\",\n    },\n    paddingText: {\n        paddingRight: theme.spacing(2),\n    },\n    qrcode: {\n        width: 128,\n        marginTop: 16,\n        marginRight: 16,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        title: state.siteConfig.title,\n        authn: state.siteConfig.authn,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        applyThemes: (color) => {\n            dispatch(applyThemes(color));\n        },\n        toggleDaylightMode: () => {\n            dispatch(toggleDaylightMode());\n        },\n        changeView: (method) => {\n            dispatch(changeViewMethod(method));\n        },\n    };\n};\n\nclass UserSettingCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.fileInput = React.createRef();\n    }\n\n    state = {\n        avatarModal: false,\n        nickModal: false,\n        changePassword: false,\n        loading: \"\",\n        oldPwd: \"\",\n        newPwd: \"\",\n        webdavPwd: \"\",\n        newPwdRepeat: \"\",\n        twoFactor: false,\n        authCode: \"\",\n        changeTheme: false,\n        chosenTheme: null,\n        showWebDavUrl: false,\n        showWebDavUserName: false,\n        changeWebDavPwd: false,\n        groupBackModal: false,\n        changePolicy: false,\n        changeTimeZone: false,\n        settings: {\n            uid: 0,\n            group_expires: 0,\n            policy: {\n                current: {\n                    name: \"-\",\n                    id: \"\",\n                },\n                options: [],\n            },\n            qq: \"\",\n            homepage: true,\n            two_factor: \"\",\n            two_fa_secret: \"\",\n            prefer_theme: \"\",\n            themes: {},\n            authn: [],\n        },\n    };\n\n    handleClose = () => {\n        this.setState({\n            avatarModal: false,\n            nickModal: false,\n            changePassword: false,\n            loading: \"\",\n            twoFactor: false,\n            changeTheme: false,\n            showWebDavUrl: false,\n            showWebDavUserName: false,\n            changeWebDavPwd: false,\n            groupBackModal: false,\n            changePolicy: false,\n        });\n    };\n\n    componentDidMount() {\n        this.loadSetting();\n    }\n\n    toggleViewMethod = () => {\n        const newMethod =\n            this.props.viewMethod === \"icon\"\n                ? \"list\"\n                : this.props.viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        this.props.changeView(newMethod);\n    };\n\n    loadSetting = () => {\n        API.get(\"/user/setting\")\n            .then((response) => {\n                const theme = JSON.parse(response.data.themes);\n                response.data.themes = theme;\n                this.setState({\n                    settings: response.data,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doChangeGroup = () => {\n        API.patch(\"/user/setting/vip\", {})\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"解约成功，更改会在数分钟后生效\",\n                    \"success\"\n                );\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useGravatar = () => {\n        this.setState({\n            loading: \"gravatar\",\n        });\n        API.put(\"/user/setting/avatar\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changePolicy = (id) => {\n        API.patch(\"/user/setting/policy\", {\n            id: id,\n        })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changeNick = () => {\n        this.setState({\n            loading: \"nick\",\n        });\n        API.patch(\"/user/setting/nick\", {\n            nick: this.state.nick,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"昵称已更改，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    bindQQ = () => {\n        this.setState({\n            loading: \"nick\",\n        });\n        API.patch(\"/user/setting/qq\", {})\n            .then((response) => {\n                if (response.data === \"\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"已解除与QQ账户的关联\",\n                        \"success\"\n                    );\n                    this.setState({\n                        settings: {\n                            ...this.state.settings,\n                            qq: false,\n                        },\n                    });\n                } else {\n                    window.location.href = response.data;\n                }\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    uploadAvatar = () => {\n        this.setState({\n            loading: \"avatar\",\n        });\n        const formData = new FormData();\n        formData.append(\"avatar\", this.fileInput.current.files[0]);\n        API.post(\"/user/setting/avatar\", formData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n            },\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    handleToggle = () => {\n        API.patch(\"/user/setting/homepage\", {\n            status: !this.state.settings.homepage,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设置已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    settings: {\n                        ...this.state.settings,\n                        homepage: !this.state.settings.homepage,\n                    },\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changhePwd = () => {\n        if (this.state.newPwd !== this.state.newPwdRepeat) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"两次密码输入不一致\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: \"changePassword\",\n        });\n        API.patch(\"/user/setting/password\", {\n            old: this.state.oldPwd,\n            new: this.state.newPwd,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"密码已更新\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changeTheme = () => {\n        this.setState({\n            loading: \"changeTheme\",\n        });\n        API.patch(\"/user/setting/theme\", {\n            theme: this.state.chosenTheme,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"主题配色已更换\",\n                    \"success\"\n                );\n                this.props.applyThemes(this.state.chosenTheme);\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changheWebdavPwd = () => {\n        this.setState({\n            loading: \"changheWebdavPwd\",\n        });\n        axios\n            .post(\"/Member/setWebdavPwd\", {\n                pwd: this.state.webdavPwd,\n            })\n            .then((response) => {\n                if (response.data.error === \"1\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"error\"\n                    );\n                    this.setState({\n                        loading: \"\",\n                    });\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"success\"\n                    );\n                    this.setState({\n                        loading: \"\",\n                        changeWebDavPwd: false,\n                    });\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    init2FA = () => {\n        if (this.state.settings.two_factor) {\n            this.setState({ twoFactor: true });\n            return;\n        }\n        API.get(\"/user/setting/2fa\")\n            .then((response) => {\n                this.setState({\n                    two_fa_secret: response.data,\n                    twoFactor: true,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    twoFactor = () => {\n        this.setState({\n            loading: \"twoFactor\",\n        });\n        API.patch(\"/user/setting/2fa\", {\n            code: this.state.authCode,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设定已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                    settings: {\n                        ...this.state.settings,\n                        two_factor: !this.state.settings.two_factor,\n                    },\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    handleAlignment = (event, chosenTheme) => this.setState({ chosenTheme });\n\n    toggleThemeMode = (current) => {\n        if (current !== null) {\n            this.props.toggleDaylightMode();\n            Auth.SetPreference(\"theme_mode\", null);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const dark = Auth.GetPreference(\"theme_mode\");\n\n        return (\n            <div>\n                <div className={classes.layout}>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个人资料\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ avatarModal: true })\n                                }\n                            >\n                                <ListItemAvatar>\n                                    <Avatar\n                                        src={\n                                            \"/api/v3/user/avatar/\" +\n                                            user.id +\n                                            \"/l\"\n                                        }\n                                    />\n                                </ListItemAvatar>\n                                <ListItemText primary=\"头像\" />\n                                <ListItemSecondaryAction>\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <PermContactCalendar />\n                                </ListItemIcon>\n                                <ListItemText primary=\"UID\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.uid}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ nickModal: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <NickIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"昵称\" />\n\n                                <ListItemSecondaryAction\n                                    onClick={() =>\n                                        this.setState({ nickModal: true })\n                                    }\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.nickname}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <EmailIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Email\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.user_name}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.props.history.push(\"/buy?tab=1\")\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <GroupIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"用户组\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.group.name}\n                                        {this.state.settings.group_expires && (\n                                            <span>\n                                                {\" \"}\n                                                <Tooltip\n                                                    title={formatLocalTime(\n                                                        this.state.settings\n                                                            .group_expires,\n                                                        \"YYYY-MM-DD H:mm:ss\"\n                                                    )}\n                                                >\n                                                    <TimeAgo\n                                                        datetime={\n                                                            this.state.settings\n                                                                .group_expires\n                                                        }\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </Tooltip>{\" \"}\n                                                过期\n                                            </span>\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            {this.state.settings.group_expires && (\n                                <div>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                groupBackModal: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <AlarmOff />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"手动解约当前用户组\" />\n\n                                        <ListItemSecondaryAction>\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </div>\n                            )}\n                            <Divider />\n                            <ListItem button onClick={() => this.bindQQ()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <SettingsInputHdmi />\n                                </ListItemIcon>\n                                <ListItemText primary=\"QQ账号\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.qq\n                                            ? \"解除绑定\"\n                                            : \"绑定\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePolicy: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Backup />\n                                </ListItemIcon>\n                                <ListItemText primary=\"存储策略\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {\n                                            this.state.settings.policy.current\n                                                .name\n                                        }\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ConfirmationNumber />\n                                </ListItemIcon>\n                                <ListItemText primary=\"积分\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.score}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <DateIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"注册时间\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {formatLocalTime(\n                                            user.created_at,\n                                            \"YYYY-MM-DD H:mm:ss\"\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        安全隐私\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <HomeIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"个人主页\" />\n\n                                <ListItemSecondaryAction>\n                                    <Switch\n                                        onChange={this.handleToggle}\n                                        checked={this.state.settings.homepage}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePassword: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <LockIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"登录密码\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button onClick={() => this.init2FA()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <VerifyIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"二步验证\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {!this.state.settings.two_factor\n                                            ? \"未开启\"\n                                            : \"已开启\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n\n                    <Authn\n                        list={this.state.settings.authn}\n                        add={(credential) => {\n                            this.setState({\n                                settings: {\n                                    ...this.state.settings,\n                                    authn: [\n                                        ...this.state.settings.authn,\n                                        credential,\n                                    ],\n                                },\n                            });\n                        }}\n                        remove={(id) => {\n                            let credentials = [...this.state.settings.authn];\n                            credentials = credentials.filter((v) => {\n                                return v.id !== id;\n                            });\n                            this.setState({\n                                settings: {\n                                    ...this.state.settings,\n                                    authn: credentials,\n                                },\n                            });\n                        }}\n                    />\n\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个性化\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changeTheme: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ColorIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"主题配色\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <div className={classes.firstColor}></div>\n                                    <div className={classes.secondColor}></div>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() => this.toggleThemeMode(dark)}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Brightness3 />\n                                </ListItemIcon>\n                                <ListItemText primary=\"黑暗模式\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {dark &&\n                                            (dark === \"dark\"\n                                                ? \"偏好开启\"\n                                                : \"偏好关闭\")}\n                                        {dark === null && \"跟随系统\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() => this.toggleViewMethod()}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ListAlt />\n                                </ListItemIcon>\n                                <ListItemText primary=\"文件列表\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.props.viewMethod === \"icon\" &&\n                                            \"大图标\"}\n                                        {this.props.viewMethod === \"list\" &&\n                                            \"列表\"}\n                                        {this.props.viewMethod ===\n                                            \"smallIcon\" && \"小图标\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                onClick={() =>\n                                    this.setState({ changeTimeZone: true })\n                                }\n                                button\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Schedule />\n                                </ListItemIcon>\n                                <ListItemText primary=\"时区\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {timeZone}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    {user.group.webdav && (\n                        <div>\n                            <Typography\n                                className={classes.sectionTitle}\n                                variant=\"subtitle2\"\n                            >\n                                WebDAV\n                            </Typography>\n                            <Paper>\n                                <List className={classes.desenList}>\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUrl: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <LinkIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"连接地址\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUserName: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <InputIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"用户名\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <SecurityIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"账号管理\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            </Paper>\n                        </div>\n                    )}\n                    <div className={classes.paddingBottom}></div>\n                </div>\n                <TimeZoneDialog\n                    onClose={() => this.setState({ changeTimeZone: false })}\n                    open={this.state.changeTimeZone}\n                />\n                <Dialog\n                    open={this.state.changePolicy}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>切换存储策略</DialogTitle>\n                    <List>\n                        {this.state.settings.policy.options.map(\n                            (value, index) => (\n                                <ListItem\n                                    button\n                                    component=\"label\"\n                                    key={index}\n                                    onClick={() => this.changePolicy(value.id)}\n                                >\n                                    <ListItemAvatar>\n                                        {value.id ===\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.policySelected\n                                                }\n                                            >\n                                                <Check />\n                                            </Avatar>\n                                        )}\n                                        {value.id !==\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.uploadFromFile\n                                                }\n                                            >\n                                                <Backup />\n                                            </Avatar>\n                                        )}\n                                    </ListItemAvatar>\n                                    <ListItemText primary={value.name} />\n                                </ListItem>\n                            )\n                        )}\n                    </List>\n                </Dialog>\n                <Dialog\n                    open={this.state.avatarModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改头像</DialogTitle>\n                    <List>\n                        <ListItem\n                            button\n                            component=\"label\"\n                            disabled={this.state.loading === \"avatar\"}\n                        >\n                            <input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                style={{ display: \"none\" }}\n                                ref={this.fileInput}\n                                onChange={this.uploadAvatar}\n                            />\n                            <ListItemAvatar>\n                                <Avatar className={classes.uploadFromFile}>\n                                    <PhotoIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText primary=\"从文件上传\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            onClick={this.useGravatar}\n                            disabled={this.state.loading === \"gravatar\"}\n                        >\n                            <ListItemAvatar>\n                                <Avatar className={classes.userGravatar}>\n                                    <FingerprintIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                className={classes.paddingText}\n                                primary=\"使用 Gravatar 头像 \"\n                            />\n                        </ListItem>\n                    </List>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            取消\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.nickModal} onClose={this.handleClose}>\n                    <DialogTitle>修改昵称</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            label=\"昵称\"\n                            className={classes.textField}\n                            value={this.state.nick}\n                            onChange={this.handleChange(\"nick\")}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeNick}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"nick\" ||\n                                this.state.nick === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.groupBackModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>解约用户组</DialogTitle>\n                    <DialogContent>\n                        将要退回到初始用户组，且所支付金额无法退还，确定要继续吗？\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button onClick={this.doChangeGroup} color=\"primary\">\n                            确定\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changePassword}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改登录密码</DialogTitle>\n                    <DialogContent>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"原密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.oldPwd}\n                                onChange={this.handleChange(\"oldPwd\")}\n                                margin=\"normal\"\n                                autoFocus\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwd}\n                                onChange={this.handleChange(\"newPwd\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"确认新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwdRepeat}\n                                onChange={this.handleChange(\"newPwdRepeat\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changhePwd}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changePassword\" ||\n                                this.state.oldPwd === \"\" ||\n                                this.state.newPwdRepeat === \"\" ||\n                                this.state.newPwd === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.twoFactor} onClose={this.handleClose}>\n                    <DialogTitle>\n                        {this.state.settings.two_factor ? \"关闭\" : \"启用\"}\n                        二步验证\n                    </DialogTitle>\n                    <DialogContent>\n                        <div className={classes.flexContainerResponse}>\n                            {!this.state.settings.two_factor && (\n                                <div className={classes.qrcode}>\n                                    <QRCode\n                                        value={\n                                            \"otpauth://totp/\" +\n                                            this.props.title +\n                                            \"?secret=\" +\n                                            this.state.two_fa_secret\n                                        }\n                                    />\n                                </div>\n                            )}\n\n                            <div className={classes.desText}>\n                                {!this.state.settings.two_factor && (\n                                    <Typography>\n                                        请使用任意二步验证APP或者支持二步验证的密码管理软件扫描左侧二维码添加本站。扫描完成后请填写二步验证APP给出的6位验证码以开启二步验证。\n                                    </Typography>\n                                )}\n                                {this.state.settings.two_factor && (\n                                    <Typography>\n                                        请验证当前二步验证代码。\n                                    </Typography>\n                                )}\n                                <TextField\n                                    id=\"standard-name\"\n                                    label=\"6位验证码\"\n                                    type=\"number\"\n                                    className={classes.textField}\n                                    value={this.state.authCode}\n                                    onChange={this.handleChange(\"authCode\")}\n                                    margin=\"normal\"\n                                    autoFocus\n                                    fullWidth\n                                />\n                            </div>\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.twoFactor}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"twoFactor\" ||\n                                this.state.authCode === \"\"\n                            }\n                        >\n                            {this.state.settings.two_factor ? \"关闭\" : \"启用\"}\n                            二步验证\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changeTheme}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>更改主题配色</DialogTitle>\n                    <DialogContent>\n                        <ToggleButtonGroup\n                            value={this.state.chosenTheme}\n                            exclusive\n                            onChange={this.handleAlignment}\n                        >\n                            {Object.keys(this.state.settings.themes).map(\n                                (value, key) => (\n                                    <ToggleButton value={value} key={key}>\n                                        <div\n                                            className={classes.themeBlock}\n                                            style={{ backgroundColor: value }}\n                                        />\n                                    </ToggleButton>\n                                )\n                            )}\n                        </ToggleButtonGroup>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeTheme}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changeTheme\" ||\n                                this.state.chosenTheme === null\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUrl}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV连接地址</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={window.location.origin + \"/dav\"}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUserName}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV用户名</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={user.user_name}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst UserSetting = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserSettingCompoment)));\n\nexport default UserSetting;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { applyThemes, setSessionStatus, toggleSnackbar } from \"../../actions\";\nimport Notice from \"../Share/NotFound\";\nimport { useHistory, useLocation } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { enableUploaderLoad } from \"../../middleware/Init\";\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function QQCallback() {\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback((theme) => dispatch(applyThemes(theme)), [\n        dispatch,\n    ]);\n    const SetSessionStatus = useCallback(\n        (status) => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const [msg, setMsg] = useState(\"\");\n\n    const getCookie =(name)=> {\n        const strcookie = document.cookie;//获取cookie字符串\n            const arrcookie = strcookie.split(\"; \");//分割\n            //遍历匹配\n            for ( let i = 0; i < arrcookie.length; i++) {\n                const arr = arrcookie[i].split(\"=\");\n                if (arr[0] == name){\n                    return unescape(arr[1]);\n                }\n            }\n        return null;\n    }\n\n    const GetQueryString =(name)=> {\n        const reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\",\"i\"); \n        const r = window.location.search.substr(1).match(reg); \n        if (r!=null) return (r[2]); return \"\"; \n    }\n    \n    const afterLogin = (data) => {\n        Auth.authenticate(data);\n\n        // 设置用户主题色\n        if (data[\"preferred_theme\"] !== \"\") {\n            ApplyThemes(data[\"preferred_theme\"]);\n        }\n        enableUploaderLoad();\n\n        // 设置登录状态\n        SetSessionStatus(true);\n        const backurl = GetQueryString(\"backurl\");\n        if (backurl==\"\"){\n            history.push(\"/home\");\n        }else{\n            const backurl_path = backurl.split(\".\");\n            if (backurl_path[1]!=\"bilnn\"){\n                history.push(\"/home\");\n            }else{\n                window.location.href = decodeURIComponent(backurl)+\"?token=\"+getCookie(\"token\");\n            } \n        }\n        ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n        localStorage.removeItem(\"siteConfigCache\");\n    };\n\n    useEffect(() => {\n        if (query.get(\"error_description\")) {\n            setMsg(query.get(\"error_description\"));\n            return;\n        }\n        if (query.get(\"code\") === null) {\n            return;\n        }\n        API.post(\"/callback/qq\", {\n            code: query.get(\"code\"),\n            state: query.get(\"state\"),\n        })\n            .then((response) => {\n                if (response.rawData.code === 203) {\n                    afterLogin(response.data);\n                } else {\n                    history.push(response.data);\n                }\n            })\n            .catch((error) => {\n                setMsg(error.message);\n            });\n        // eslint-disable-next-line\n    }, [location]);\n\n    return <>{msg !== \"\" && <Notice msg={msg} />}</>;\n}\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport RegIcon from \"@material-ui/icons/AssignmentIndOutlined\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    buttonContainer: {\n        display: \"flex\",\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16,\n    },\n    avatarSuccess: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nfunction Register() {\n    const [input, setInput] = useState({\n        email: \"\",\n        password: \"\",\n        password_repeat: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const [emailActive, setEmailActive] = useState(false);\n\n    const title = useSelector((state) => state.siteConfig.title);\n    const regCaptcha = useSelector((state) => state.siteConfig.regCaptcha);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n    const classes = useStyles();\n\n    const register = (e) => {\n        e.preventDefault();\n\n        if (input.password !== input.password_repeat) {\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return;\n        }\n\n        setLoading(true);\n        if (!isValidate.current.isValidate && regCaptcha) {\n            validate(() => register(e), setLoading);\n            return;\n        }\n        API.post(\"/user\", {\n            userName: input.email,\n            Password: input.password,\n            ...captchaParamsRef.current,\n        })\n            .then((response) => {\n                setLoading(false);\n                if (response.rawData.code === 203) {\n                    setEmailActive(true);\n                } else {\n                    history.push(\"/login?username=\" + input.email);\n                    ToggleSnackbar(\"top\", \"right\", \"注册成功\", \"success\");\n                }\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    return (\n        <div className={classes.layout}>\n            <>\n                {!emailActive && (\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatar}>\n                            <RegIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            注册 {title}\n                        </Typography>\n\n                        <form className={classes.form} onSubmit={register}>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"email\">\n                                    电子邮箱\n                                </InputLabel>\n                                <Input\n                                    id=\"email\"\n                                    type=\"email\"\n                                    name=\"email\"\n                                    onChange={handleInputChange(\"email\")}\n                                    autoComplete\n                                    value={input.email}\n                                    autoFocus\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"password\">密码</InputLabel>\n                                <Input\n                                    name=\"password\"\n                                    onChange={handleInputChange(\"password\")}\n                                    type=\"password\"\n                                    id=\"password\"\n                                    value={input.password}\n                                    autoComplete\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"password\">\n                                    确认密码\n                                </InputLabel>\n                                <Input\n                                    name=\"pwdRepeat\"\n                                    onChange={handleInputChange(\n                                        \"password_repeat\"\n                                    )}\n                                    type=\"password\"\n                                    id=\"pwdRepeat\"\n                                    value={input.password_repeat}\n                                    autoComplete\n                                />\n                            </FormControl>\n                            {regCaptcha && <CaptchaRender />}\n\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                disabled={\n                                    loading ||\n                                    (regCaptcha ? captchaLoading : false)\n                                }\n                                className={classes.submit}\n                            >\n                                注册账号\n                            </Button>\n                        </form>\n\n                        <Divider />\n                        <div className={classes.link}>\n                            <div>\n                                <Link href={\"/login\"}>返回登录</Link>\n                            </div>\n                            <div>\n                                <Link href={\"https://support.qq.com/products/261676/blog/480523\"} target=\"_blank\">注册协议</Link>\n                            </div>\n                        </div>\n                    </Paper>\n                )}\n                {emailActive && (\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatarSuccess}>\n                            <EmailIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            邮件激活\n                        </Typography>\n                        <Typography style={{ marginTop: \"10px\" }}>\n                            一封激活邮件已经发送至您的邮箱，请访问邮件中的链接以继续完成注册。\n                        </Typography>\n                    </Paper>\n                )}\n            </>\n        </div>\n    );\n}\n\nexport default Register;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Apps() {\n\n    const JumpUrl = () =>{\n        const history = useHistory();\n        const Days = 365;\n        const exp = new Date(); \n        exp.setTime(exp.getTime() + Days*24*60*60*1000);\n        document.cookie = \"thisapp=ok; expires=\"+exp.toGMTString()+\"; path=/\";\n        history.push(\"/home\");\n    }\n\n    return (\n        <div>{JumpUrl()}</div>\n    );\n}\n\nexport default Apps;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport { Button, Paper, Avatar, Typography } from \"@material-ui/core\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport { useLocation } from \"react-router\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction Activation() {\n    const query = useQuery();\n    const location = useLocation();\n\n    const [success, setSuccess] = useState(false);\n    const [email, setEmail] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        API.get(\n            \"/user/activate/\" + query.get(\"id\") + \"?sign=\" + query.get(\"sign\")\n        )\n            .then((response) => {\n                setEmail(response.data);\n                setSuccess(true);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                history.push(\"/login\");\n            });\n        // eslint-disable-next-line\n    }, [location]);\n\n    return (\n        <div className={classes.layout}>\n            {success && (\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <EmailIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        激活成功\n                    </Typography>\n                    <Typography style={{ marginTop: \"20px\" }}>\n                        您的账号已被成功激活。\n                    </Typography>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={() => history.push(\"/login?username=\" + email)}\n                    >\n                        返回登录\n                    </Button>\n                </Paper>\n            )}\n        </div>\n    );\n}\n\nexport default Activation;\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport {\n    Button,\n    FormControl,\n    Divider,\n    Link,\n    Input,\n    InputLabel,\n    Paper,\n    Avatar,\n    Typography,\n} from \"@material-ui/core\";\nimport { useLocation } from \"react-router\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction ResetForm() {\n    const query = useQuery();\n    const [input, setInput] = useState({\n        password: \"\",\n        password_repeat: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (input.password !== input.password_repeat) {\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return;\n        }\n        setLoading(true);\n        API.patch(\"/user/reset\", {\n            secret: query.get(\"sign\"),\n            id: query.get(\"id\"),\n            Password: input.password,\n        })\n            .then(() => {\n                setLoading(false);\n                history.push(\"/login\");\n                ToggleSnackbar(\"top\", \"right\", \"密码已重设\", \"success\");\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">新密码</InputLabel>\n                        <Input\n                            id=\"pwd\"\n                            type=\"password\"\n                            name=\"pwd\"\n                            onChange={handleInputChange(\"password\")}\n                            autoComplete\n                            value={input.password}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">重复新密码</InputLabel>\n                        <Input\n                            id=\"pwdRepeat\"\n                            type=\"password\"\n                            name=\"pwdRepeat\"\n                            onChange={handleInputChange(\"password_repeat\")}\n                            autoComplete\n                            value={input.password_repeat}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={loading}\n                        className={classes.submit}\n                    >\n                        重设密码\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default ResetForm;\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport API from \"../../middleware/Api\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n}));\n\nfunction Reset() {\n    const [input, setInput] = useState({\n        email: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const forgetCaptcha = useSelector(\n        (state) => state.siteConfig.forgetCaptcha\n    );\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        if (!isValidate.current.isValidate && forgetCaptcha) {\n            validate(() => submit(e), setLoading);\n            return;\n        }\n        API.post(\"/user/reset\", {\n            userName: input.email,\n            ...captchaParamsRef.current,\n        })\n            .then(() => {\n                setLoading(false);\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"密码重置邮件已发送，请注意查收\",\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">注册邮箱</InputLabel>\n                        <Input\n                            id=\"email\"\n                            type=\"email\"\n                            name=\"email\"\n                            onChange={handleInputChange(\"email\")}\n                            autoComplete\n                            value={input.email}\n                            autoFocus\n                        />\n                    </FormControl>\n                    {forgetCaptcha && <CaptchaRender />}\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={\n                            loading || (forgetCaptcha ? captchaLoading : false)\n                        }\n                        className={classes.submit}\n                    >\n                        发送密码重置邮件\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default Reset;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { FormControl, makeStyles, TextField } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { reportReasons } from \"../../config\";\nimport Auth from \"../../middleware/Auth\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    content: {\n        overflowWrap: \"break-word\",\n    },\n}));\n\nexport default function SiteNotice() {\n    const content = useSelector((state) => state.siteConfig.site_notice);\n    const classes = useStyles();\n    const [show, setShow] = useState(false);\n    const setRead = () => {\n        setShow(false);\n        Auth.SetPreference(\"notice_read\", content);\n    };\n    useEffect(() => {\n        const newNotice = Auth.GetPreference(\"notice_read\");\n        if (content !== \"\" && newNotice !== content) {\n            setShow(true);\n        }\n    }, [content]);\n    return (\n        <Dialog\n            open={show}\n            onClose={() => setShow(false)}\n            aria-labelledby=\"form-dialog-title\"\n            maxWidth=\"sm\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">公告</DialogTitle>\n            <DialogContent\n                className={classes.content}\n                dangerouslySetInnerHTML={{ __html: content }}\n            />\n\n            <DialogActions>\n                <Button onClick={() => setRead()} color=\"primary\">\n                    不再显示\n                </Button>\n                <Button onClick={() => setShow(false)}>关闭</Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import {\n    Button, Dialog,\n    DialogActions,\n    DialogContent, DialogTitle, withStyles\n} from \"@material-ui/core\";\nimport IconButton from '@material-ui/core/IconButton';\nimport {Slider,List,Grid} from '@material-ui/core';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MusicNote from '@material-ui/icons/MusicNote';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport PlayNext from '@material-ui/icons/SkipNext';\nimport PlayPrev from '@material-ui/icons/SkipPrevious';\nimport Pause from '@material-ui/icons/Pause';\nimport {Repeat, RepeatOne, Shuffle} from '@material-ui/icons';\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { showAudioPreview ,audioPreviewSetIsOpen, audioPreviewSetPlaying} from \"../../actions/index\";\nimport { audioPreviewSuffix } from \"../../config\";\nimport { baseURL } from \"../../middleware/Api\";\nimport * as explorer from \"../../redux/explorer/reducer\";\nimport pathHelper from \"../../utils/page\";\n\n\n\nconst styles = (theme) => ({  \n    list: {\n        //maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n        position: 'relative',\n        overflow: 'auto',\n        maxHeight: 300,\n    },\n    slider_root:{\n        \"vertical-align\": \"middle\",\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        first: state.explorer.audioPreview.first,\n        other: state.explorer.audioPreview.other,\n        isOpen:state.explorer.audioPreview.isOpen,\n        playingName:state.explorer.audioPreview.playingName,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showAudioPreview: (first) => {\n            dispatch(showAudioPreview(first));\n        },\n        audioPreviewSetIsOpen: (first) => {\n            dispatch(audioPreviewSetIsOpen(first));\n        },\n        audioPreviewSetPlaying: (playingName,paused) => {\n            dispatch(audioPreviewSetPlaying(playingName,paused));\n        },\n    };\n};\n\nclass MusicPlayerComponent extends Component {\n    state = {\n        items: [],\n        currentIndex: 0,\n        //isOpen: false,\n        //isPlay:false,\n        currentTime:0,\n        duration:0,\n        progressText:'00:00/00:00',\n        looptype:0,\n    };\n    myAudioRef = React.createRef();  \n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        const items = [];\n        let firstOne = 0;\n        if (nextProps.first.id !== \"\") {\n            if (\n                pathHelper.isSharePage(this.props.location.pathname) &&\n                !nextProps.first.path\n            ) {\n                const newItem = {\n                    intro: nextProps.first.name,\n                    src: baseURL + \"/share/preview/\" + nextProps.first.key,\n                };\n                firstOne = 0;\n                items.push(newItem);\n                this.setState({\n                    currentIndex: firstOne,\n                    items: items,\n                    //isOpen: true,\n                });\n                this.props.audioPreviewSetIsOpen(true);\n                return;\n            }\n            // eslint-disable-next-line\n            nextProps.other.map((value) => {\n                const fileType = value.name.split(\".\").pop().toLowerCase();\n                if (audioPreviewSuffix.indexOf(fileType) !== -1) {\n                    let src = \"\";\n                    if (pathHelper.isSharePage(this.props.location.pathname)) {\n                        src = baseURL + \"/share/preview/\" + value.key;\n                        src =\n                            src +\n                            \"?path=\" +\n                            encodeURIComponent(\n                                value.path === \"/\"\n                                    ? value.path + value.name\n                                    : value.path + \"/\" + value.name\n                            );\n                    } else {\n                        src = baseURL + \"/file/preview/\" + value.id;\n                    }\n                    const newItem = {\n                        intro: value.name,\n                        src: src,\n                    };\n                    if (\n                        value.path === nextProps.first.path &&\n                        value.name === nextProps.first.name\n                    ) {\n                        firstOne = items.length;\n                    }\n                    items.push(newItem);\n                }\n            });\n            this.setState({\n                currentIndex: firstOne,\n                items: items,\n                //isOpen: true,\n            });\n            this.props.audioPreviewSetIsOpen(true);\n            this.props.showAudioPreview(explorer.initState.audioPreview.first);\n        }        \n    };\n\n    handleItemClick = (currentIndex) => () => {\n        this.setState({\n            currentIndex: currentIndex,\n        });\n    };\n    \n\n    handleClose = () => {\n        /*this.setState({\n            isOpen: false,\n        });*/\n        this.setState({\n            currentIndex: -1,\n        });\n        this.pause();\n        this.props.audioPreviewSetPlaying(null,false);\n        this.props.audioPreviewSetIsOpen(false);\n    };\n    backgroundPlay = () => {        \n        this.props.audioPreviewSetIsOpen(false);\n    };\n\n    componentDidMount() {\n        if(this.myAudioRef.current){\n            this.bindEvents(this.myAudioRef.current);\n        }\n    }\n    componentDidUpdate() {\n        if(this.myAudioRef.current){\n            this.bindEvents(this.myAudioRef.current);\n        }\n    }    \n    componentWillUnmount() {\n        this.unbindEvents(this.myAudioRef.current)\n    }\n\n    bindEvents=(ele)=>{\n        if(ele){\n            ele.addEventListener('canplay', this.readyPlay)\n            ele.addEventListener('ended', this.loopnext)\n            ele.addEventListener('timeupdate', this.timeUpdate)\n        }\n    };\n\n    unbindEvents=(ele)=> {\n        if(ele){\n            ele.removeEventListener('canplay', this.readyPlay)\n            ele.removeEventListener('ended', this.loopnext)\n            ele.removeEventListener('timeupdate', this.timeUpdate)\n        }\n    };\n\n    readyPlay = () => {\n        this.play();\n    };\n\n    formatTime = s => {\n        if(isNaN(s))return \"00:00\";\n        const minute = Math.floor(s / 60);\n        const second = Math.floor(s % 60);\n        return `${minute}`.padStart(2,'0')+':'+`${second}`.padStart(2,'0');\n    }\n\n    timeUpdate = () => {\n        const currentTime=Math.floor(this.myAudioRef.current.currentTime);//this.myAudioRef.current.currentTime;//\n        this.setState({\n            currentTime: currentTime,\n            duration: this.myAudioRef.current.duration,\n            progressText: this.formatTime(currentTime)+'/'+this.formatTime(this.myAudioRef.current.duration)\n        });\n    }\n\n    play = () => {\n       this.myAudioRef.current.play();\n       /*this.setState({\n            isPlay: true\n        });*/\n        this.props.audioPreviewSetPlaying(this.state.items[this.state.currentIndex].intro,false);\n    };\n\n    pause = () => {\n        if(this.myAudioRef.current){\n            this.myAudioRef.current.pause();\n        }\n        /*this.setState({\n            isPlay: false\n        })*/\n        this.props.audioPreviewSetPlaying(this.state.items[this.state.currentIndex]?.intro,true);\n    };\n\n    playOrPaues = () => {\n        if (this.state.isPlay) {\n            this.pause()\n        } else {\n            this.play()\n        }\n    };\n    changeLoopType=()=>{\n        let lt=this.state.looptype+1;\n        if(lt>=3){\n            lt=0;\n        }\n        this.setState({\n            looptype: lt,\n        });\n    };\n    loopnext=()=>{\n        let index = this.state.currentIndex;\n        if(this.state.looptype==0){//all\n            index=index+1;\n            if (index >= this.state.items.length) {\n                index =  0;\n            }\n        }else if(this.state.looptype==1){//single\n            //index=index;\n        }else if(this.state.looptype==2){//random\n            if(this.state.items.length<=2){\n                index=index+1;\n                if (index >= this.state.items.length) {\n                    index =  0;\n                }\n            }else{\n                while(index==this.state.currentIndex){\n                    index=Math.floor(Math.random()*this.state.items.length);\n                }\n            }\n        }\n        if(this.state.currentIndex==index){\n            this.myAudioRef.current.currentTime=0;\n            this.play();\n        }\n        this.setState({\n            currentIndex: index,\n        });\n    }\n\n    prev = () => {\n        let index = this.state.currentIndex - 1\n        if (index < 0) {\n            index = this.state.items.length - 1\n        }\n        this.setState({\n            currentIndex: index,\n        });\n    };\n    \n    next = () => {\n        let index = this.state.currentIndex + 1\n        if (index >= this.state.items.length) {\n            index =  0;\n        }\n        this.setState({\n            currentIndex: index,\n        });\n    };\n\n    handleProgress = (e, newValue) => {\n        this.myAudioRef.current.currentTime=newValue;\n    }\n      \n\n    render() {\n        const { currentIndex, items } = this.state;\n        const { isOpen,classes } = this.props;\n        return (            \n            <Dialog\n                open={isOpen}\n                onClose={this.backgroundPlay}\n                aria-labelledby=\"form-dialog-title\"\n                maxWidth=\"xs\"\n                fullWidth\n                keepMounted\n            >\n                <DialogTitle id=\"form-dialog-title\">音频播放</DialogTitle>\n                <DialogContent>\n                    <List className={classes.list} dense>\n                        {items.map((value,idx) => {\n                            const labelId = `label-${value.intro}`;\n                            return (\n                                <ListItem key={value.src} dense button onClick={this.handleItemClick(idx)}\n                                    selected={idx==currentIndex}>\n                                    <ListItemIcon>\n                                        {\n                                            idx==currentIndex?(<PlayArrow/>):(<MusicNote/>)\n                                        }\n                                    </ListItemIcon>\n                                    <ListItemText id={labelId} primary={`${value.intro}`} />\n                                </ListItem>\n                            );\n                        })}\n                    </List>\n                    <audio ref={this.myAudioRef}                                 \n                        src={items[currentIndex]?.src}\n                        />\n                    <div style={{\"padding-top\":8}}></div>\n                    <Grid container spacing={2} alignItems=\"center\">\n                        <Grid item xs>\n                        <Slider classes={{\"root\":classes.slider_root}}\n                            value={this.state.currentTime}\n                            onChange={this.handleProgress}\n                            step={1}\n                            min={0}\n                            max={this.state.duration}\n                            aria-labelledby=\"continuous-slider\" />\n                        </Grid>\n                        <Grid item>\n                            {this.state.progressText}\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={2} justifyContent=\"center\" justify=\"center\">\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.changeLoopType}>\n                                {\n                                    this.state.looptype==0?(<Repeat/>):(this.state.looptype==1?(<RepeatOne/>):(<Shuffle />))\n                                }\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.prev}>\n                                <PlayPrev />\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.pause}>\n                                <Pause />\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.play}>\n                                <PlayArrow />\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.next}>\n                                <PlayNext />\n                            </IconButton>\n                        </Grid>                                \n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleClose}>退出播放</Button>\n                    <Button onClick={this.backgroundPlay}>后台播放</Button>\n                </DialogActions>\n            </Dialog>\n            \n        );\n    }\n}\n\nMusicPlayerComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst MusicPlayer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(MusicPlayerComponent)));\n\nexport default MusicPlayer;\n","import React, { Suspense } from \"react\";\nimport AuthRoute from \"./middleware/AuthRoute\";\nimport Navbar from \"./component/Navbar/Navbar.js\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport AlertBar from \"./component/Common/Snackbar\";\nimport { createMuiTheme, lighten } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Auth from \"./middleware/Auth\";\nimport { CssBaseline, makeStyles, ThemeProvider } from \"@material-ui/core\";\nimport PageLoading from \"./component/Placeholder/PageLoading.js\";\nimport { changeThemeColor } from \"./utils\";\nimport NotFound from \"./component/Share/NotFound\";\n// Lazy loads\nimport LoginForm from \"./component/Login/LoginForm\";\nimport FileManager from \"./component/FileManager/FileManager.js\";\nimport VideoPreview from \"./component/Viewer/Video.js\";\nimport SearchResult from \"./component/Share/SearchResult\";\nimport MyShare from \"./component/Share/MyShare\";\nimport Download from \"./component/Download/Download\";\nimport SharePreload from \"./component/Share/SharePreload\";\nimport DocViewer from \"./component/Viewer/Doc\";\nimport TextViewer from \"./component/Viewer/Text\";\nimport Quota from \"./component/VAS/Quota\";\nimport BuyQuota from \"./component/VAS/BuyQuota\";\nimport WebDAV from \"./component/Setting/WebDAV\";\nimport Tasks from \"./component/Setting/Tasks\";\nimport Ifm from \"./component/Setting/Ifm\";\nimport Profile from \"./component/Setting/Profile\";\nimport UserSetting from \"./component/Setting/UserSetting\";\nimport QQCallback from \"./component/Login/QQ\";\nimport Register from \"./component/Login/Register\";\nimport Apps from \"./component/Login/Apps\";\nimport Activation from \"./component/Login/Activication\";\nimport ResetForm from \"./component/Login/ResetForm\";\nimport Reset from \"./component/Login/Reset\";\nimport CodeViewer from \"./component/Viewer/Code\";\nimport SiteNotice from \"./component/Modals/SiteNotice\";\nimport MusicPlayer from \"./component/FileManager/MusicPlayer\";\n\n\nconst PDFViewer = React.lazy(() =>\n    import(/* webpackChunkName: \"pdf\" */ \"./component/Viewer/PDF\")\n);\n\nexport default function App() {\n    const themeConfig = useSelector((state) => state.siteConfig.theme);\n    const isLogin = useSelector((state) => state.viewUpdate.isLogin);\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n    const theme = React.useMemo(() => {\n        themeConfig.palette.type = prefersDarkMode ? \"dark\" : \"light\";\n        const prefer = Auth.GetPreference(\"theme_mode\");\n        if (prefer) {\n            themeConfig.palette.type = prefer;\n        }\n        const theme = createMuiTheme({\n            ...themeConfig,\n            palette: {\n                ...themeConfig.palette,\n                primary: {\n                    ...themeConfig.palette.primary,\n                    main:\n                        themeConfig.palette.type === \"dark\"\n                            ? lighten(themeConfig.palette.primary.main, 0.3)\n                            : themeConfig.palette.primary.main,\n                },\n            },\n        });\n        changeThemeColor(\n            themeConfig.palette.type === \"dark\"\n                ? theme.palette.background.default\n                : theme.palette.primary.main\n        );\n        return theme;\n    }, [prefersDarkMode, themeConfig]);\n\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            display: \"flex\",\n        },\n        content: {\n            flexGrow: 1,\n            padding: theme.spacing(0),\n            minWidth: 0,\n        },\n        toolbar: theme.mixins.toolbar,\n    }));\n\n    const classes = useStyles();\n\n    const { path } = useRouteMatch();\n    return (\n        <React.Fragment>\n            <ThemeProvider theme={theme}>\n                <div className={classes.root} id=\"container\">\n                    <CssBaseline />\n                    <AlertBar />\n                    <Navbar />\n                    <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Switch>\n                            <AuthRoute exact path={path} isLogin={isLogin}>\n                                <Redirect\n                                    to={{\n                                        pathname: \"/home\",\n                                    }}\n                                />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}home`} isLogin={isLogin}>\n                                <>\n                                    <SiteNotice />\n                                    <FileManager />\n                                </>\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}video`} isLogin={isLogin}>\n                                <VideoPreview />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}text`} isLogin={isLogin}>\n                                <TextViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}doc`} isLogin={isLogin}>\n                                <DocViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}pdf`} isLogin={isLogin}>\n                                <Suspense fallback={<PageLoading />}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}code`} isLogin={isLogin}>\n                                <CodeViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}aria2`} isLogin={isLogin}>\n                                <Download />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}shares`} isLogin={isLogin}>\n                                <MyShare />\n                            </AuthRoute>\n\n                            <Route path={`${path}search`} isLogin={isLogin}>\n                                <SearchResult />\n                            </Route>\n\n                            <AuthRoute path={`${path}quota`} isLogin={isLogin}>\n                                <Quota />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}buy`} isLogin={isLogin}>\n                                <BuyQuota />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}setting`}\n                                isLogin={isLogin}\n                            >\n                                <UserSetting />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}profile/:id`}\n                                isLogin={isLogin}\n                            >\n                                <Profile />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}webdav`} isLogin={isLogin}>\n                                <WebDAV />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}tasks`} isLogin={isLogin}>\n                                <Tasks />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}ifm/:action`} isLogin={isLogin}>\n                                <Ifm />\n                            </AuthRoute>\n\n                            <Route path={`${path}apps`} exact>\n                                <Apps />\n                            </Route>\n\n                            <Route path={`${path}login`} exact>\n                                <LoginForm />\n                            </Route>\n\n                            <Route path={`${path}signup`} exact>\n                                <Register />\n                            </Route>\n\n                            <Route path={`${path}activate`} exact>\n                                <Activation />\n                            </Route>\n\n                            <Route path={`${path}reset`} exact>\n                                <ResetForm />\n                            </Route>\n\n                            <Route path={`${path}forget`} exact>\n                                <Reset />\n                            </Route>\n\n                            <Route path={`${path}login/qq`}>\n                                <QQCallback />\n                            </Route>\n\n                            <Route exact path={`${path}s/:id`}>\n                                <SharePreload />\n                            </Route>\n\n                            <Route path={`${path}s/:id/video(/)*`}>\n                                <VideoPreview />\n                            </Route>\n\n                            <Route path={`${path}s/:id/doc(/)*`}>\n                                <DocViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/text(/)*`}>\n                                <TextViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/pdf(/)*`}>\n                                <Suspense fallback={<PageLoading />}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </Route>\n\n                            <Route path={`${path}s/:id/code(/)*`}>\n                                <CodeViewer />\n                            </Route>\n\n                            <Route path=\"*\">\n                                <NotFound msg={\"页面不存在\"} />\n                            </Route>\n                        </Switch>\n                    </main>\n                    <MusicPlayer/>\n                </div>\n            </ThemeProvider>\n        </React.Fragment>\n    );\n}\n","import { AnyAction } from \"redux\";\nimport Auth from \"../../middleware/Auth\";\n\ndeclare global {\n    interface Window {\n        shareKey: any;\n    }\n}\n\nexport interface ViewUpdateState {\n    isLogin: boolean;\n    loadUploader: boolean;\n    open: boolean;\n    explorerViewMethod: string;\n    sortMethod:\n        | \"sizePos\"\n        | \"sizeRes\"\n        | \"namePos\"\n        | \"nameRev\"\n        | \"timePos\"\n        | \"timeRev\";\n    subTitle: string | null;\n    contextType: string;\n    contextOpen: boolean;\n    menuOpen: boolean;\n    navigatorLoading: boolean;\n    navigatorError: boolean;\n    navigatorErrorMsg: string | null;\n    modalsLoading: boolean;\n    storageRefresh: boolean;\n    userPopoverAnchorEl: any;\n    shareUserPopoverAnchorEl: any;\n    modals: {\n        createNewFolder: boolean;\n        createNewFile: boolean;\n        rename: boolean;\n        move: boolean;\n        remove: boolean;\n        share: boolean;\n        music: boolean;\n        remoteDownload: boolean;\n        torrentDownload: boolean;\n        getSource: boolean;\n        copy: boolean;\n        resave: boolean;\n        compress: boolean;\n        decompress: boolean;\n        relocate: boolean;\n        loading: boolean;\n        loadingText: string;\n    };\n    snackbar: {\n        toggle: boolean;\n        vertical: string;\n        horizontal: string;\n        msg: string;\n        color: string;\n    };\n}\nexport const initState: ViewUpdateState = {\n    // 是否登录\n    isLogin: Auth.Check(),\n    loadUploader: false,\n    open: false,\n    explorerViewMethod: \"icon\",\n    sortMethod: \"timePos\",\n    subTitle: null,\n    contextType: \"none\",\n    contextOpen: false,\n    menuOpen: false,\n    navigatorLoading: true,\n    navigatorError: false,\n    navigatorErrorMsg: null,\n    modalsLoading: false,\n    storageRefresh: false,\n    userPopoverAnchorEl: null,\n    shareUserPopoverAnchorEl: null,\n    modals: {\n        createNewFolder: false,\n        createNewFile: false,\n        rename: false,\n        move: false,\n        remove: false,\n        share: false,\n        music: false,\n        remoteDownload: false,\n        torrentDownload: false,\n        getSource: false,\n        copy: false,\n        resave: false,\n        compress: false,\n        relocate: false,\n        decompress: false,\n        loading: false,\n        loadingText: \"\",\n    },\n    snackbar: {\n        toggle: false,\n        vertical: \"top\",\n        horizontal: \"center\",\n        msg: \"\",\n        color: \"\",\n    },\n};\nconst viewUpdate = (state: ViewUpdateState = initState, action: AnyAction) => {\n    switch (action.type) {\n        case \"DRAWER_TOGGLE\":\n            return Object.assign({}, state, {\n                open: action.open,\n            });\n        case \"CHANGE_VIEW_METHOD\":\n            return Object.assign({}, state, {\n                explorerViewMethod: action.method,\n            });\n        case \"SET_NAVIGATOR_LOADING_STATUE\":\n            return Object.assign({}, state, {\n                navigatorLoading: action.status,\n            });\n        case \"SET_NAVIGATOR_ERROR\":\n            return Object.assign({}, state, {\n                navigatorError: action.status,\n                navigatorErrorMsg: action.msg,\n            });\n        case \"OPEN_CREATE_FOLDER_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFolder: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_CREATE_FILE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFile: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RENAME_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    rename: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_REMOVE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    remove: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_MOVE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    move: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RESAVE_DIALOG\":\n            window.shareKey = action.key;\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    resave: true,\n                }),\n                contextOpen: false,\n            });\n        case \"SET_USER_POPOVER\":\n            return Object.assign({}, state, {\n                userPopoverAnchorEl: action.anchor,\n            });\n        case \"SET_SHARE_USER_POPOVER\":\n            return Object.assign({}, state, {\n                shareUserPopoverAnchorEl: action.anchor,\n            });\n        case \"OPEN_SHARE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    share: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_MUSIC_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    music: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_REMOTE_DOWNLOAD_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    remoteDownload: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_TORRENT_DOWNLOAD_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    torrentDownload: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_DECOMPRESS_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    decompress: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_COMPRESS_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    compress: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_GET_SOURCE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    getSource: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RELOCATE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    relocate: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_COPY_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    copy: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_LOADING_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    loading: true,\n                    loadingText: action.text,\n                }),\n                contextOpen: false,\n            });\n        case \"CLOSE_CONTEXT_MENU\":\n            return Object.assign({}, state, {\n                contextOpen: false,\n            });\n        case \"CLOSE_ALL_MODALS\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFolder: false,\n                    createNewFile: false,\n                    rename: false,\n                    move: false,\n                    remove: false,\n                    share: false,\n                    music: false,\n                    remoteDownload: false,\n                    torrentDownload: false,\n                    getSource: false,\n                    resave: false,\n                    copy: false,\n                    loading: false,\n                    relocate: false,\n                    compress: false,\n                    decompress: false,\n                }),\n            });\n        case \"TOGGLE_SNACKBAR\":\n            return Object.assign({}, state, {\n                snackbar: {\n                    toggle: !state.snackbar.toggle,\n                    vertical: action.vertical,\n                    horizontal: action.horizontal,\n                    msg: action.msg,\n                    color: action.color,\n                },\n            });\n        case \"SET_MODALS_LOADING\":\n            return Object.assign({}, state, {\n                modalsLoading: action.status,\n            });\n        case \"SET_SESSION_STATUS\":\n            return {\n                ...state,\n                isLogin: action.status,\n            };\n        case \"ENABLE_LOAD_UPLOADER\":\n            return Object.assign({}, state, {\n                loadUploader: true,\n            });\n        case \"REFRESH_STORAGE\":\n            return Object.assign({}, state, {\n                storageRefresh: !state.storageRefresh,\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                contextOpen: false,\n                navigatorError: false,\n                navigatorLoading: true,\n            });\n        case \"CHANGE_CONTEXT_MENU\":\n            if (state.contextOpen && action.open) {\n                return Object.assign({}, state);\n            }\n            return Object.assign({}, state, {\n                contextOpen: action.open,\n                contextType: action.menuType,\n            });\n        case \"SET_SUBTITLE\":\n            return Object.assign({}, state, {\n                subTitle: action.title,\n            });\n        case \"SET_SORT_METHOD\":\n            return {\n                ...state,\n                sortMethod: action.method,\n            };\n        case \"SET_NAVIGATOR\":\n            return {\n                ...state,\n                contextOpen: false,\n                navigatorError: false,\n                navigatorLoading: action.navigatorLoading,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default viewUpdate;\n","import { InitSiteConfig } from \"../middleware/Init\";\nimport { combineReducers } from \"../redux/combineReducers\";\nimport viewUpdate from \"../redux/viewUpdate/reducer\";\nimport explorer from \"../redux/explorer/reducer\";\nimport { connectRouter } from \"connected-react-router\";\n\nconst doNavigate = (path, state) => {\n    window.currntPath = path;\n    return Object.assign({}, state, {\n        navigator: Object.assign({}, state.navigator, {\n            path: path,\n        }),\n    });\n};\n\nexport const initState = {\n    siteConfig: {\n        title: window.subTitle,\n        siteICPId: \"\",\n        loginCaptcha: false,\n        regCaptcha: false,\n        forgetCaptcha: false,\n        emailActive: false,\n        QQLogin: false,\n        themes: null,\n        authn: false,\n        theme: {\n            palette: {\n                common: { black: \"#000\", white: \"#fff\" },\n                background: { paper: \"#fff\", default: \"#fafafa\" },\n                primary: {\n                    light: \"#7986cb\",\n                    main: \"#3f51b5\",\n                    dark: \"#303f9f\",\n                    contrastText: \"#fff\",\n                },\n                secondary: {\n                    light: \"#ff4081\",\n                    main: \"#f50057\",\n                    dark: \"#c51162\",\n                    contrastText: \"#fff\",\n                },\n                error: {\n                    light: \"#e57373\",\n                    main: \"#f44336\",\n                    dark: \"#d32f2f\",\n                    contrastText: \"#fff\",\n                },\n                text: {\n                    primary: \"rgba(0, 0, 0, 0.87)\",\n                    secondary: \"rgba(0, 0, 0, 0.54)\",\n                    disabled: \"rgba(0, 0, 0, 0.38)\",\n                    hint: \"rgba(0, 0, 0, 0.38)\",\n                },\n                explorer: {\n                    filename: \"#474849\",\n                    icon: \"#8f8f8f\",\n                    bgSelected: \"#D5DAF0\",\n                    emptyIcon: \"#e8e8e8\",\n                },\n            },\n        },\n        captcha_ReCaptchaKey: \"defaultKey\",\n        site_notice: \"\",\n        captcha_type: \"normal\",\n        tcaptcha_captcha_app_id: \"\",\n    },\n    navigator: {\n        path: \"/\",\n        refresh: true,\n    },\n};\n\nconst defaultStatus = InitSiteConfig(initState);\n\n// TODO: 将cloureveApp切分成小的reducer\nconst cloudreveApp = (state = defaultStatus, action) => {\n    switch (action.type) {\n        case \"SET_NAVIGATOR\":\n            return doNavigate(action.path, state);\n        case \"TOGGLE_DAYLIGHT_MODE\": {\n            const copy = Object.assign({}, state);\n            if (\n                copy.siteConfig.theme.palette.type === undefined ||\n                copy.siteConfig.theme.palette.type === \"light\"\n            ) {\n                return {\n                    ...state,\n                    siteConfig: {\n                        ...state.siteConfig,\n                        theme: {\n                            ...state.siteConfig.theme,\n                            palette: {\n                                ...state.siteConfig.theme.palette,\n                                type: \"dark\",\n                            },\n                        },\n                    },\n                };\n            }\n            return {\n                ...state,\n                siteConfig: {\n                    ...state.siteConfig,\n                    theme: {\n                        ...state.siteConfig.theme,\n                        palette: {\n                            ...state.siteConfig.theme.palette,\n                            type: \"light\",\n                        },\n                    },\n                },\n            };\n        }\n        case \"APPLY_THEME\":\n            if (state.siteConfig.themes !== null) {\n                const themes = JSON.parse(state.siteConfig.themes);\n                if (themes[action.theme] === undefined) {\n                    return state;\n                }\n                return Object.assign({}, state, {\n                    siteConfig: Object.assign({}, state.siteConfig, {\n                        theme: themes[action.theme],\n                    }),\n                });\n            }\n            break;\n        case \"NAVIGATOR_UP\":\n            return doNavigate(action.path, state);\n        case \"SET_SITE_CONFIG\":\n            return Object.assign({}, state, {\n                siteConfig: action.config,\n            });\n\n        case \"REFRESH_FILE_LIST\":\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    refresh: !state.navigator.refresh,\n                }),\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    path: \"/搜索结果\",\n                    refresh:\n                        state.explorer.keywords === \"\"\n                            ? state.navigator.refresh\n                            : !state.navigator.refresh,\n                }),\n            });\n        default:\n            return state;\n    }\n};\n\nexport default (history) => (state, action) => {\n    const { viewUpdate: viewUpdateState, explorer: explorerState } =\n        state || {};\n    const appState = cloudreveApp(state, action);\n    const combinedState = combineReducers({\n        viewUpdate,\n        explorer,\n        router: connectRouter(history),\n    })({ viewUpdate: viewUpdateState, explorer: explorerState }, action);\n    return {\n        ...appState,\n        ...combinedState,\n    };\n};\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\n\nconst styles = {\n    h1: {\n        color: \"#a4a4a4\",\n        margin: \"5px 0px\",\n    },\n    h2: {\n        margin: \"15px 0px\",\n    },\n};\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false, error: null, errorInfo: null };\n    }\n\n    static getDerivedStateFromError() {\n        // 更新 state 使下一次渲染能够显示降级后的 UI\n        return { hasError: true };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo,\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        if (this.state.hasError) {\n            // 你可以自定义降级后的 UI 并渲染\n            return (\n                <>\n                    <h1 className={classes.h1}>:(</h1>\n                    <h2 className={classes.h2}>\n                        页面渲染出现错误，请尝试刷新此页面。\n                    </h2>\n                    {this.state.error &&\n                        this.state.errorInfo &&\n                        this.state.errorInfo.componentStack && (\n                            <details>\n                                <summary>错误详情</summary>\n                                <pre>\n                                    <code>{this.state.error.toString()}</code>\n                                </pre>\n                                <pre>\n                                    <code>\n                                        {this.state.errorInfo.componentStack}\n                                    </code>\n                                </pre>\n                            </details>\n                        )}\n                </>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default withStyles(styles)(ErrorBoundary);\n","import 'babel-polyfill'\nimport 'url-search-params-polyfill'\nimport React, { Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport App from \"./App\";\nimport cloureveApp from \"./reducers\";\nimport { UpdateSiteConfig } from \"./middleware/Init\";\nimport ErrorBoundary from \"./component/Placeholder/ErrorBoundary\";\nimport { createBrowserHistory } from \"history\";\nimport { routerMiddleware } from \"connected-react-router\";\nimport { ConnectedRouter } from \"connected-react-router\";\nconst Admin = React.lazy(() => import(\"./Admin\"));\n\nif (window.location.hash !== \"\") {\n    window.location.href = window.location.hash.split(\"#\")[1];\n}\n\nserviceWorker.register();\nexport const history = createBrowserHistory();\nlet reduxEnhance = applyMiddleware(routerMiddleware(history), thunk);\nif (\n    process.env.NODE_ENV === \"development\" &&\n    window.__REDUX_DEVTOOLS_EXTENSION__\n) {\n    reduxEnhance = compose(reduxEnhance, window.__REDUX_DEVTOOLS_EXTENSION__());\n}\n\nconst store = createStore(cloureveApp(history), reduxEnhance);\nUpdateSiteConfig(store);\n\nReactDOM.render(\n    <ErrorBoundary>\n        <Provider store={store}>\n            <ConnectedRouter history={history}>\n                <Switch>\n                    <Route path=\"/admin\">\n                        <Suspense fallback={\"Loading...\"}>\n                            <Admin />\n                        </Suspense>\n                    </Route>\n                    <Route exact path=\"\">\n                        <App />\n                    </Route>\n                </Switch>\n            </ConnectedRouter>\n        </Provider>\n    </ErrorBoundary>,\n    document.getElementById(\"root\")\n);\n","import {\n    combineReducers as combine,\n    ReducersMapObject,\n    AnyAction,\n} from \"redux\";\nimport invariant from \"invariant\";\n\nexport const combineReducers = (reducers: ReducersMapObject) => {\n    const combinedReducer = combine(reducers);\n    // TODO: define state type\n    return (state: any, action: AnyAction) => {\n        if (\n            action.type &&\n            !action.type.startsWith(\"@@\") &&\n            action.type.split(\"/\").length > 1\n        ) {\n            const namespace = action.type.split(\"/\")[0];\n            const reducer = reducers[namespace];\n            invariant(!!reducer, `reducer ${namespace} doesn't exist`);\n            return reducer && reducer(state, action);\n        }\n        return combinedReducer(state, action);\n    };\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport UpIcon from \"@material-ui/icons/ArrowUpward\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { toggleSnackbar } from \"../../actions/index\";\n\nimport {\n    MenuList,\n    MenuItem,\n    IconButton,\n    ListItemIcon,\n    ListItemText,\n    withStyles,\n    ListItemSecondaryAction,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\n\nconst mapStateToProps = (state) => {\n    return {\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    iconWhite: {\n        color: theme.palette.common.white,\n    },\n    selected: {\n        backgroundColor: theme.palette.primary.main + \"!important\",\n        \"& $primary, & $icon\": {\n            color: theme.palette.common.white,\n        },\n    },\n    primary: {},\n    icon: {},\n    buttonIcon: {},\n    selector: {\n        minWidth: \"300px\",\n    },\n    container: {\n        maxHeight: \"330px\",\n        overflowY: \" auto\",\n    },\n});\n\nclass PathSelectorCompoment extends Component {\n    state = {\n        presentPath: \"/\",\n        dirList: [],\n        selectedTarget: null,\n    };\n\n    componentDidMount = () => {\n        const toBeLoad = this.props.presentPath;\n        this.enterFolder(this.props.keywords === \"\" ? toBeLoad : \"/\");\n    };\n\n    back = () => {\n        const paths = this.state.presentPath.split(\"/\");\n        paths.pop();\n        const toBeLoad = paths.join(\"/\");\n        this.enterFolder(toBeLoad === \"\" ? \"/\" : toBeLoad);\n    };\n\n    enterFolder = (toBeLoad) => {\n        const thisurl = window.location.href;\n        const va = thisurl.split('/');\n        if (va[3]==\"s\") toBeLoad = \"/\";\n        API.get(\n            (this.props.api ? this.props.api : \"/directory\") +\n                encodeURIComponent(toBeLoad)\n        )\n            .then((response) => {\n                const dirList = response.data.objects.filter((x) => {\n                    return (\n                        x.type === \"dir\" &&\n                        this.props.selected.findIndex((value) => {\n                            return (\n                                value.name === x.name && value.path === x.path\n                            );\n                        }) === -1\n                    );\n                });\n                if (toBeLoad === \"/\") {\n                    dirList.unshift({ name: \"/\", path: \"\" });\n                }\n                this.setState({\n                    presentPath: toBeLoad,\n                    dirList: dirList,\n                    selectedTarget: null,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            });\n    };\n\n    handleSelect = (index) => {\n        this.setState({ selectedTarget: index });\n        this.props.onSelect(this.state.dirList[index]);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.container}>\n                <MenuList className={classes.selector}>\n                    {this.state.presentPath !== \"/\" && (\n                        <MenuItem onClick={this.back}>\n                            <ListItemIcon>\n                                <UpIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"返回上一层\" />\n                        </MenuItem>\n                    )}\n                    {this.state.dirList.map((value, index) => (\n                        <MenuItem\n                            classes={{\n                                selected: classes.selected,\n                            }}\n                            key={index}\n                            selected={this.state.selectedTarget === index}\n                            onClick={() => this.handleSelect(index)}\n                        >\n                            <ListItemIcon className={classes.icon}>\n                                <FolderIcon />\n                            </ListItemIcon>\n                            <ListItemText\n                                classes={{ primary: classes.primary }}\n                                primary={value.name}\n                                primaryTypographyProps={{\n                                    style: { whiteSpace: \"normal\" },\n                                }}\n                            />\n                            {value.name !== \"/\" && (\n                                <ListItemSecondaryAction\n                                    className={classes.buttonIcon}\n                                >\n                                    <IconButton\n                                        className={classNames({\n                                            [classes.iconWhite]:\n                                                this.state.selectedTarget ===\n                                                index,\n                                        })}\n                                        onClick={() =>\n                                            this.enterFolder(\n                                                value.path === \"/\"\n                                                    ? value.path + value.name\n                                                    : value.path +\n                                                          \"/\" +\n                                                          value.name\n                                            )\n                                        }\n                                    >\n                                        <RightIcon />\n                                    </IconButton>\n                                </ListItemSecondaryAction>\n                            )}\n                        </MenuItem>\n                    ))}\n                </MenuList>\n            </div>\n        );\n    }\n}\n\nPathSelectorCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    presentPath: PropTypes.string.isRequired,\n    selected: PropTypes.array.isRequired,\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(PathSelectorCompoment));\n","import { ThunkAction } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nexport interface ActionSetSubtitle extends AnyAction {\n    type: \"SET_SUBTITLE\";\n    title: string;\n}\n\nexport const setSubtitle = (title: string): ActionSetSubtitle => {\n    return {\n        type: \"SET_SUBTITLE\",\n        title,\n    };\n};\n\nexport const closeContextMenu = () => {\n    return {\n        type: \"CLOSE_CONTEXT_MENU\",\n    };\n};\n\nexport const changeSubTitle = (\n    title: string\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState) => {\n        const state = getState();\n        document.title =\n            title === null || title === undefined\n                ? state.siteConfig.title\n                : title + \" - \" + state.siteConfig.title;\n        dispatch(setSubtitle(title));\n    };\n};\n","import axios from \"axios\";\nimport Auth from \"./Auth\";\n\nexport const baseURL = \"/api/v3\";\n\nexport const getBaseURL = () => {\n    return baseURL;\n};\n\nconst instance = axios.create({\n    baseURL: getBaseURL(),\n    withCredentials: true,\n    crossDomain: true,\n});\n\nfunction AppError(message, code, error) {\n    this.code = code;\n    this.message = message || \"未知错误\";\n    this.message += error ? \" \" + error : \"\";\n    this.stack = new Error().stack;\n}\nAppError.prototype = Object.create(Error.prototype);\nAppError.prototype.constructor = AppError;\n\ninstance.interceptors.response.use(\n    function (response) {\n        response.rawData = response.data;\n        response.data = response.data.data;\n        if (\n            response.rawData.code !== undefined &&\n            response.rawData.code !== 0 &&\n            response.rawData.code !== 203\n        ) {\n            // 登录过期\n            if (response.rawData.code === 401) {\n                Auth.signout();\n                window.location.href = \"/login\";\n            }\n\n            // 非管理员\n            if (response.rawData.code === 40008) {\n                window.location.href = \"/home\";\n            }\n            throw new AppError(\n                response.rawData.msg,\n                response.rawData.code,\n                response.rawData.error\n            );\n        }\n        return response;\n    },\n    function (error) {\n        return Promise.reject(error);\n    }\n);\n\nexport default instance;\n"],"sourceRoot":""}
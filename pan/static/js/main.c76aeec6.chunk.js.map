{"version":3,"sources":["middleware/Api.js","redux/explorer/action.ts","utils/page.js","component/Dial/AutoHidden.js","redux/explorer/reducer.ts","component/Placeholder/TextLoading.js","middleware/Auth.ts","utils/index.js","component/Navbar/DarkModeSwitcher.js","component/FileManager/Navigator/SubActions.js","component/Modals/Report.js","component/Modals/PurchaseShare.js","component/Dial/Save.js","component/Modals/Loading.js","component/Modals/Copy.js","component/Modals/CreateShare.js","component/Modals/Decompress.js","component/Modals/Compress.js","component/Modals/Relocate.js","component/FileManager/Modals.js","component/Viewer/Text.js","component/Viewer/Code.js","component/Common/Snackbar.js","component/Navbar/UserAvatarPopover.js","component/Navbar/PolicySwitcher.js","component/Navbar/UserAvatar.js","component/Navbar/Navbar.js","component/Navbar/SearchBar.js","component/Navbar/StorageBar.js","component/Navbar/UserInfo.js","component/Navbar/FileTags.js","config.js","actions/explorer.js","actions/index.js","component/FileManager/ImgPreview.js","loader/utils.js","loader/index.js","component/Upload/FileList.js","component/Dial/Create.js","component/Upload/Uploader.js","component/FileManager/TypeIcon.js","component/FileManager/PathSelector.js","serviceWorker.js","middleware/AuthRoute.js","component/Placeholder/PageLoading.js","component/Share/NotFound.js","middleware/Init.js","component/Common/ICPFooter.js","component/Placeholder/Captcha.js","hooks/normal.js","component/Login/ReCaptchaWrapper.js","component/Login/ReCaptcha.js","hooks/recaptcha.js","hooks/tcaptcha.js","hooks/useCaptcha.js","component/Login/LoginForm.js","redux/explorer/index.ts","component/FileManager/Navigator/PathButton.js","component/FileManager/Navigator/DropDownItem.js","component/FileManager/Navigator/DropDown.js","component/FileManager/Navigator/Navigator.js","component/FileManager/SmallIcon.js","component/FileManager/FileIcon.js","component/FileManager/Folder.js","component/FileManager/DnD/Preview.js","component/FileManager/DnD/DragLayer.js","component/FileManager/TableRow.js","component/FileManager/DnD/DropWarpper.js","component/FileManager/ObjectIcon.js","component/FileManager/ContextMenu.js","component/FileManager/Explorer.js","component/Placeholder/ListLoading.js","component/FileManager/Sidebar/SideDrawer.js","component/FileManager/FileManager.js","component/Viewer/Video.js","component/Share/SearchResult.js","component/Share/MyShare.js","component/Modals/SelectFile.js","component/Download/DownloadingCard.js","component/Download/FinishedCard.js","component/Dial/Aria2.js","component/Download/Download.js","component/Share/LockedFile.js","component/Share/Creator.js","component/Share/SharedFile.js","component/Share/SharedFolder.js","component/Share/SharePreload.js","component/Viewer/Doc.js","component/VAS/Quota.js","component/VAS/PackSelect.js","component/VAS/BuyQuota.js","component/Modals/CreateWebDAVAccount.js","component/Modals/CreateWebDAVMount.js","component/Setting/WebDAV.js","component/Setting/Tasks.js","component/Setting/Ifm.js","component/Setting/Profile.js","component/Setting/Authn.js","component/Setting/UserSetting.js","component/Login/QQ.js","component/Login/Register.js","component/Login/Apps.js","component/Login/Activication.js","component/Login/ResetForm.js","component/Login/Reset.js","component/Modals/SiteNotice.js","App.js","redux/viewUpdate/reducer.ts","reducers/index.js","component/Placeholder/ErrorBoundary.js","index.js","redux/combineReducers.ts","redux/viewUpdate/action.ts"],"names":["baseURL","getBaseURL","instance","axios","create","withCredentials","crossDomain","AppError","message","code","error","this","stack","Error","prototype","Object","constructor","interceptors","response","use","rawData","data","undefined","Auth","signout","window","location","href","msg","Promise","reject","setFileList","list","type","setDirList","setSortMethod","method","setSideBar","open","sortMethodFuncs","sizePos","a","b","size","sizeRes","namePos","name","localeCompare","navigator","languages","language","numeric","ignorePunctuation","nameRev","timePos","Date","parse","date","timeRev","updateFileList","dispatch","getState","sortMethod","viewUpdate","dirList","filter","x","fileList","sortFunc","sort","changeSortMethod","explorer","toggleObjectInfoSidebar","closeContextMenu","statusHelper","isHomePage","path","isSharePage","startsWith","isAdminPage","isLoginPage","isMobile","innerWidth","AutoHidden","children","enable","useState","hidden","setHidden","prev","scrollY","lastUpdate","useEffect","addEventListener","e","currentTarget","handleNavigation","in","initState","dndSignal","dndTarget","dndSource","selected","selectProps","isMultiple","withFolder","withFile","lastSelect","file","id","index","shiftSelectedIds","imgPreview","first","other","keywords","fileSave","sideBarOpen","checkSelectedProps","length","forEach","value","state","action","assign","target","source","addedSelected","targets","newSelected","fileIds","filteredSelected","includes","useStyles","makeStyles","theme","loader","width","padding","breakpoints","down","MyLoader","props","backgroundColor","dark","foregroundColor","className","TextLoading","useTheme","classes","palette","isAuthenticated","authenticate","cb","SetUser","GetUser","JSON","localStorage","getItem","newUser","setItem","stringify","Check","anonymous","oldUser","SetPreference","key","preference","GetPreference","sizeToString","bytes","i","Math","floor","log","pow","toFixed","fixUrlHash","setCookie","days","setTime","getTime","document","cookie","setGetParameter","paramName","paramValue","url","indexOf","prefix","substring","suffix","history","pushState","allowSharePreview","shareInfo","allowPreview","userInfo","uid","checkGetParameters","field","changeThemeColor","color","querySelector","setAttribute","bufferDecode","Uint8Array","from","atob","c","charCodeAt","bufferEncode","btoa","String","fromCharCode","apply","replace","pathBack","folders","substr","split","slice","join","filePath","hex2bin","hex","parseInt","toString","padStart","pathJoin","parts","sep","separator","map","part","RegExp","basename","pathList","pop","filename","transformTime","timestamp","time","y","getFullYear","M","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","randomStr","result","characters","charactersLength","charAt","random","getNumber","base","conditions","v","isMac","platform","toUpperCase","vhCheck","vh","innerHeight","documentElement","style","setProperty","icon","opacity","DarkModeSwitcher","position","ThemeType","useSelector","siteConfig","useDispatch","ToggleThemeMode","useCallback","toggleDaylightMode","isDayLight","isDark","title","placement","classNames","onClick","sideButton","marginRight","sortOptions","SubActions","isSmall","share","inherit","viewMethod","explorerViewMethod","OpenLoadingDialog","changeViewMethod","ChangeSortMethod","OpenResaveDialog","openResaveDialog","SetShareUserPopover","setShareUserPopover","anchorSort","setAnchorSort","selectedIndex","setSelectedIndex","openReport","setOpenReport","toggleViewMethod","newMethod","toggleSnackbars","vertical","horizontal","toggleSnackbar","opensendgift","fontSize","anchorEl","Boolean","onClose","option","event","0","1","2","3","4","5","handleMenuItemClick","creator","nick","height","src","widthAnimation","shareUrl","minWidth","wrapper","margin","spacing","buttonProgress","secondary","light","top","left","flexCenter","alignItems","noFlex","display","scoreCalc","marginTop","Report","reason","setReason","des","setDes","loading","setLoading","ToggleSnackbar","setTimeout","aria-labelledby","maxWidth","fullWidth","component","aria-label","onChange","reportReasons","k","control","label","multiline","variant","rows","API","post","then","catch","disabled","PurchaseShareDialog","callback","score","autoFocus","fab","right","bottom","zIndex","badge","fabProgress","green","buttonSuccess","SaveButton","buttonClassname","clsx","status","avatar","blue","loadingContainer","marginLeft","LoadingDialog","modals","text","loadingText","Dialog","DialogContent","DialogContentText","CircularProgress","contentFix","CopyDialog","selectedPath","setSelectedPath","selectedPathName","setSelectedPathName","SetModalsLoading","setModalsLoading","RefreshFileList","refreshFileList","DialogTitle","PathSelector","presentPath","onSelect","folder","DialogActions","Button","preventDefault","dirs","items","push","src_dir","dst","modalsLoading","ExpansionPanel","withStyles","root","border","boxShadow","borderBottom","expanded","MuiExpansionPanel","ExpansionPanelSummary","content","MuiExpansionPanelSummary","ExpansionPanelDetails","background","default","MuiExpansionPanelDetails","CreatShare","scoreEnabled","score_enabled","scoreRate","share_score_rate","React","setExpanded","shareURL","setShareURL","password","downloads","expires","showPassword","values","setValues","expire","preview","shareOption","setShareOption","handleChange","prop","handleExpand","panel","isExpanded","handleCheck","Divider","List","aria-controls","ListItem","button","ListItemIcon","ListItemText","primary","ListItemSecondaryAction","Checkbox","checked","FormControl","InputLabel","htmlFor","OutlinedInput","endAdornment","InputAdornment","Tooltip","IconButton","edge","onMouseDown","on","onIcon","Visibility","offIcon","VisibilityOff","labelWidth","Select","labelId","MenuItem","Typography","inputProps","min","ceil","TextField","onFocus","select","readonly","submitFormBody","is_dir","DecompressDialog","CompressDialog","fileName","setFileName","input","RelocateDialog","selectedPolicy","setSelectedPolicy","policies","setPolicies","get","options","current","dst_policy_id","ModalsCompoment","newFolderName","newFileName","newName","secretShare","sharePwd","downloadURL","remoteDownloadPathSelect","purchaseCallback","handleInputChange","setState","newNameSuffix","downloaded","UNSAFE_componentWillReceiveProps","nextProps","dndSignale","modalsStatus","rename","getSource","pathHelper","pathname","scoreHandler","archiveDownload","Download","dragMove","group","shareFree","reqURL","downloadPath","encodeURIComponent","put","postBody","refreshStorage","submitRemove","delete","submitResave","shareKey","submitMove","patch","DragSelectedPath","closeAllModals","doMove","openLoadingDialog","submitRename","findIndex","new_name","submitCreateNewFolder","submitCreateNewFile","submitTorrentDownload","submitDownload","setMoveTarget","remoteDownloadNext","PurchaseShare","onSubmit","createNewFolder","createNewFile","copy","move","resave","remove","music","controls","ads","Baidu","slot","remoteDownload","placeholder","torrentDownload","decompress","compress","relocate","Component","Modals","connect","maxHeight","textAlign","withRouter","layout","up","player","borderRadius","overflowX","TextViewer","setContent","setStatus","math","useRouteMatch","$vm","createRef","useLocation","query","URLSearchParams","search","useParams","SetSubTitle","changeSubTitle","params","requestURL","responseType","textdata","Buffer","toBase64","resolve","reader","FileReader","readAsDataURL","onload","onerror","save","addImg","$file","$img2Url","console","elevation","ref","onSave","toolbar","h1","h2","h3","h4","img","link","expand","undo","redo","subfield","MonacoEditor","lazy","editor","formControl","toobar","CodeViewer","setSuffix","extension","codePreviewSuffix","Array","Set","keys","fallback","readOnly","extraEditorClassName","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","main","iconVariant","Icon","aria-describedby","close","SnackbarCompoment","snackbar","toggle","handleClose","anchorOrigin","autoHideDuration","AlertBar","UserAvatarPopoverCompoment","setUserPopover","openURL","sigOut","reload","setSessionStatus","user","Popover","transformOrigin","visitorMenu","header","largeAvatarContainer","Avatar","largeAvatar","noWrap","nickname","user_name","Chip","UserAvatarPopover","userPopoverAnchorEl","anchor","uploadFromFile","policySelected","PolicySwitcher","setAnchorEl","switchTo","ListItemAvatar","UserAvatarCompoment","showUserInfo","returnHome","loginCheck","isLogin","mobileHidden","Grow","Home","UserAvatar","NavbarCompoment","componentDidMount","handleDrawerToggle","mobileOpen","loadUploader","openDownload","signOut","finally","UploaderRef","unlisten","listen","drawer","upDrawer","minStickDrawer","iconFix","webdav","_MEIQIA","iOS","process","browser","test","userAgent","getCookie","arrcookie","arr","unescape","appBar","menuButton","handleDesktopToggle","desktopOpen","menuButtonDesktop","menuIcon","setSelectedTarget","subTitle","grow","sectionForFile","saveFile","isPreviewable","openPreview","allowArchiveDownload","navigateTo","openGetSourceDialog","openShareDialog","openRenameDialog","openMoveDialog","openRemoveDialog","changeContextMenu","smUp","implementation","container","paper","drawerPaper","onOpen","disableDiscovery","ModalProps","keepMounted","xsDown","drawerOpen","drawerClose","Navbar","drawerToggleAction","openCreateFolderDialog","searchMyFile","openMusicDialog","showImgPreivew","withTheme","flexShrink","drawerDesktop","mixins","transition","transitions","easing","sharp","duration","enteringScreen","leavingScreen","flexGrow","nested","paddingLeft","extendedIcon","addButton","marginBottom","fabButton","badgeFix","dividerFix","folderShareIcon","verticalAlign","shareInfoContainer","textDecoration","shareAvatar","stickFooter","ownerInfo","overflowY","minHeight","configure","ignoreTags","keyMap","SEARCH","SearchBarCompoment","handlers","searchShare","blur","cancelSuggest","searchIcon","inputRoot","inputInput","onBlur","suggestBox","TransitionProps","timeout","square","SearchBar","shape","fade","common","white","pointerEvents","justifyContent","paddingTop","paddingRight","paddingBottom","StorageBarCompoment","percent","used","total","showExpand","firstLoad","updateStatus","refresh","onMouseEnter","onMouseLeave","storageContainer","detail","bar","StorageBar","storageRefresh","textFix","overflow","textOverflow","UserInfoCompoment","userNav","flexAvatar","avatarImg","storageCircle","nickName","groupName","UserInfo","backgroundImage","backgroundSize","transform","hiddenButton","subMenu","overFlow","whiteSpace","icons","Circle","CircleOutline","Heart","HeartOutline","Hexagon","HexagonOutline","Hexagram","HexagramOutline","Rhombus","RhombusOutline","Square","SquareOutline","Triangle","TriangleOutline","FolderHeartOutline","AddTag","FileTag","useHistory","tagOpen","setTagOpen","addTagModal","setAddTagModal","tagHover","setTagHover","tags","setTags","SearchMyFile","NavigateTo","onSuccess","tag","newTags","iconVideo","iconImg","iconAudio","iconDoc","expression","IconComponent","getIcon","imgPreviewSuffix","msDocPreviewSuffix","audioPreviewSuffix","videoPreviewSuffix","pdfPreviewSuffix","editSuffix","json","php","py","bat","cpp","cs","css","dockerfile","go","html","ini","java","js","jsx","less","lua","sh","sql","xml","yaml","mediaType","audio","video","image","pdf","word","ppt","excel","torrent","zip","excute","android","python","policyTypeMap","local","remote","qiniu","upyun","oss","cos","onedrive","s3","toLowerCase","isTorrent","isCompressFile","taskStatus","taskType","taskProgress","getTaskStatus","getTaskType","getTaskProgress","removeSelectedTargets","addSelectedTargets","router","isShare","shareDownload","previewPath","selectFile","fileIndex","ctrlKey","metaKey","shiftKey","isMacbook","begin","end","max","newShiftSelected","setLastSelect","setShiftSelectedIds","setNavigator","navigatorLoading","navigateUp","pathSplit","newPath","dragAndDrop","menuType","setNavigatorLoadingStatus","setNavigatorError","openCreateFileDialog","applyThemes","openRemoteDownloadDialog","openTorrentDownloadDialog","openDecompressDialog","openCompressDialog","openRelocateDialog","openCopyDialog","enableLoadUploader","setSiteConfig","config","ImagPreviewComponent","photoIndex","isOpen","firstOne","newImg","intro","fileType","images","visible","onIndexChange","n","ImgPreivew","isFunction","val","noop","newScript","scriptElem","createElement","hasOwnProperty","call","body","appendChild","keyIterator","cols","next","parallel","tasks","each","hasError","successed","ret","task","err","args","series","thunk","nextKey","nextThunk","isArray","iterator","loadedScript","pendingScripts","failedScript","addCache","entry","removeFailedScript","script","node","parentNode","removeChild","uploaderLoader","WrappedComponent","ScriptLoader","context","isScriptLoaded","isScriptLoadSucceed","_isMounted","scripts","onComplete","loadNewScript","taskComplete","callbacks","startLoadingScripts","policyType","onScriptLoaded","refs","wrappedInstance","defaultProps","hoistStatics","FileList","files","openFileList","cancelUpload","deQueue","reQueue","addNewFile","getElementsByClassName","click","getProgressBackground","lighten","darken","filesNow","fileID","f","splice","errMsg","ignoreMsg","Slide","direction","inRef","bind","enQueue","setComplete","setError","fullScreen","isWidthDown","TransitionComponent","Transition","AppBar","Toolbar","flex","dialogContent","minHight","item","progressContainer","progress","progressContent","TypeIcon","isUpload","listAction","plupload","formatSize","speed","loaded","errorStatus","successStatus","progressBar","wordBreak","withWidth","UploadButton","setOpen","queued","setQueued","OpenNewFolderDialog","OpenNewFileDialog","Queued","openUpload","uploadButton","contains","uploadClicked","Badge","badgeContent","invisible","Backdrop","SpeedDial","ariaLabel","tooltipTitle","SpeedDialIcon","openIcon","FabProps","SpeedDialAction","tooltipOpen","UploaderComponent","uploader","addFile","fileAdd","currntPath","enqueFiles","isDsStore","removeFile","relativePath","pathCache","Qiniu","runtimes","browse_button","drop_element","max_file_size","policy","maxSize","dragdrop","chunk_size","getChunkSize","saveType","filters","mime_types","allowedType","extensions","multi_selection","uptoken_url","uptoken","domain","max_retries","get_new_uptoken","auto_start","log_level","init","FilesAdded","BeforeUpload","QueueChanged","UploadProgress","UploadComplete","Fresh","FileUploaded","errTip","FilesRemoved","onError","setRef","Uploader","forwardRef","AudioIcon","VideoIcon","ImageIcon","PdfIcon","FileWordBox","FilePowerpointBox","FileExcelBox","ScriptText","MagnetOn","ZipBox","WindowRestore","Android","FileShowIcon","LanguagePhp","LanguageGo","LanguagePython","LanguageC","LanguageCpp","LanguageJavascript","fileSuffix","getColor","getColorValue","iconClassName","PathSelectorCompoment","selectedTarget","toBeLoad","enterFolder","back","paths","api","objects","unshift","handleSelect","selector","primaryTypographyProps","buttonIcon","iconWhite","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","isLocalhost","hostname","match","AuthRoute","rest","render","to","PageLoading","emptyContainer","emptyInfoBig","Notice","initUserConfig","themes","enableUploaderLoad","uploadConfig","store","defaultTheme","preferListMethod","share_view_method","home_view_method","icp","ICPFooter","siteICPId","show","setShow","pageHelper","Link","rel","primaryColor","secondaryColor","rx","ry","captchaPlacholder","NormalCaptcha","captchaRef","useStyle","captcha","setCaptcha","captchaData","setCaptchaData","refreshCaptcha","captchaCode","captchaContainer","required","Input","autoComplete","captchaPlaceholder","alt","ReCAPTCHA","handleExpired","handleErrored","handleRecaptchaRef","grecaptcha","_widgetId","getResponse","execute","_executeRequested","reset","onExpired","onErrored","token","sitekey","tabindex","stoken","hl","explicitRender","delayOfCaptchaIframeRemoving","temporaryNode","firstChild","elem","childProps","displayName","makeAsyncScriptLoader","callbackName","globalName","Recaptcha","reCaptchaKey","captcha_ReCaptchaKey","ReCaptcha","TCaptcha","isValidateRef","submitRef","appid","tcaptcha_captcha_app_id","onLoad","TencentCaptcha","res","ticket","randstr","isValidate","submit","defaultValidate","useCaptcha","captchaType","captcha_type","captchaLoading","setCaptchaLoading","captchaRefreshRef","useRef","normal","captchaParamsRef","CaptchaRender","validate","useNormalCaptcha","recaptcha","useRecaptcha","tcaptcha","useTCaptcha","flexDirection","form","buttonContainer","authnLink","LoginForm","email","setEmail","pwd","setPwd","useAuthn","setUseAuthn","twoFA","setTwoFA","faCode","setFACode","loginCaptcha","QQLogin","authn","ApplyThemes","SetSessionStatus","afterLogin","removeItem","_QQLogin","Paper","login","userName","Password","credentials","credentialRequestOptions","publicKey","challenge","allowCredentials","listItem","assertion","authData","authenticatorData","clientDataJSON","rawId","sig","signature","userHandle","Fingerprint","VpnKey","actions","reducers","expandMore","active","textTransform","PathButton","inputRef","useDrop","accept","drop","more","collect","monitor","isOver","canDrop","isActive","last","DropDownItem","setActiveStatus","DropDown","timer","clearTimeout","shouldClose","element","NavigatorComponent","currentID","hiddenFolders","hiddenMode","anchorHidden","URL","searchParams","renderPath","onpopstate","navigateToPath","apiURL","parent","pathTemp","checkOverFlow","redresh","componentDidUpdate","prevProps","prevStates","ms","drawerDesktopOpen","force","overflowInitLock","hasOverflowingChildren","offsetHeight","scrollHeight","offsetWidth","scrollWidth","showHiddenPath","performAction","newTarget","presentFolderMenu","Menu","disableAutoFocusItem","Archive","roundBorder","navigatorContainer","nav","rightIcon","optionContainer","Navigator","SmallIconCompoment","isSelected","ButtonBase","focusRipple","notSelected","onIconClick","iconSelected","iconNotSelected","isFolder","checkIcon","folderName","folderNameSelected","folderNameNotSelected","SmallIcon","divider","boxSizing","fontWeight","FileIconCompoment","showPicIcon","pic","hide","picPreview","afterLoad","beforeLoad","loadingAnimation","previewIcon","iconBig","fileInfo","shareFix","FileIcon","objectFit","Folder","dragging","cardDragged","diliverIcon","object","Preview","card","layerStyles","getItemStyles","initialOffset","currentOffset","pointerOffset","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","getInitialClientOffset","isDragging","renderItem","TableRowCompoment","tableIcon","TableRow","pref","onContextMenu","contextMenu","handleClick","onDoubleClick","handleDoubleClick","selectedShared","TableCell","dref","scope","tableRow","hideAuto","TableItem","userSelect","FolderDropWarpper","isListView","fixFlex","ObjectIcon","navigatorPath","ContextMenu","SetSelectedTarget","NavitateTo","DragAndDrop","OpenPreview","selectFileAction","handleIconClick","stopPropagation","useDrag","dropResult","getDropResult","canDrag","drag","getEmptyImage","captureDraggingState","StyledListItemIcon","ContextMenuCompoment","X","Y","setPoint","clientY","clientX","openArchiveDownload","clickUpload","renderMenuItems","visibleCount","condition","dense","allowRemoteDownload","menuOpen","anchorReference","anchorPosition","Unarchive","InfoOutlined","propover","contextType","contextOpen","ExplorerCompoment","ClickAway","dataset","clickaway","DELETE_FILE","SELECT_ALL","away","showView","listView","Table","table","TableHead","TableSortLabel","changeSort","visuallyHidden","TableBody","normalView","flexFix","data-clickAway","typeHeader","Grid","xs","md","sm","lg","view","rootTable","rootShare","navigatorError","errorBox","errorMsg","navigatorErrorMsg","emptyIcon","emptyInfoSmall","Explorer","hint","upButton","clickAway","clip","ListLoading","drawerContainer","placeContent","fileIcon","fileIconSVG","folderIcon","closeIcon","placeSelf","propsContainer","propsLabel","propsTime","propsValue","SideDrawer","SetSideBar","setTarget","details","setDetails","propsItem","t","toLocaleString","child_folder_num","child_file_num","moment","parseZone","updated_at","format","created_at","datetime","query_date","locale","Hidden","Clear","Drawer","gutterBottom","FileManager","DndProvider","backend","HTML5Backend","DragLayer","VideoViewer","Google","client","cardContainer","shareTitle","avatarFile","avatarFolder","gird","loadMore","orderSelect","SearchResult","page","setPage","setTotal","shareList","setShareList","orderBy","setOrderBy","order","Card","CardHeader","subheader","create_date","Pagination","count","MyShareCompoment","showPwd","loadList","removeShare","oldList","changePermission","newPwd","shareIndex","changePreviewOption","handlePageChange","handleOrderChange","isExpired","remain_downloads","CardActions","disableActionSpacing","MyShare","SelectFileDialog","setFiles","dividers","FormGroup","row","FormControlLabel","filesCopy","iconContainer","borderInlineStart","contentSide","iconMultiple","subFileName","subFileIcon","scroll","actionButton","infoTitle","infoValue","bitmap","DownloadingCard","canvasRef","setTask","selectDialogOpen","setSelectDialogOpen","selectFileOption","setSelectFileOption","bitfield","str","canvas","getContext","clearRect","strokeStyle","bit","round","numPieces","beginPath","moveTo","lineTo","stroke","getPercent","completed","activeFiles","getDownloadName","bittorrent","mode","gid","indexes","newExpanded","CardContent","LinearProgress","completedLength","newIndex","newFiles","deleteFile","HighlightOff","update","uploadLength","uploadSpeed","infoHash","numSeeders","seeder","pieceLength","FinishedCard","task_status","getTaskError","task_error","RemoteDownloadButton","OpenRemoteDownloadDialog","Fab","Add","DownloadComponent","interval","downloading","finishedList","continue","loadDownloading","LockedFileCompoment","setPassowrd","LockedFile","marginRottom","boxHeader","cursor","shareDes","Creator","userProfile","views","ImgPreview","SharedFileCompoment","scoreHandle","download","rewards","box","boxContent","fileSize","boxFooter","actionLeft","openResave","downloadButton","SharedFile","fileCotainer","buttonCotainer","ReadMe","SharedFolderComponent","handleClickAway","readmeShowed","ClickAwayListener","onClickAway","managerContainer","SharedFolder","shareUserPopoverAnchorEl","SharePreload","setShare","setPassword","locked","withPassword","DocViewer","setURL","QuotaCompoment","basic","pack","r1","r2","r3","packs","usedR","baseR","packR","proBar","r1_block","note_block","r2_block","r3_block","align","activate_date","expiration","expiration_date","Quota","lineHeight","float","PackSelect","boxHead","packName","price","priceWithScore","boxBottom","BuyQuotaCompoment","IntervalId","confirmRedeem","redeemCode","dialog","doRedeem","redeemInfo","buyPack","packType","selectedPack","packPayMethod","groups","selectedGroup","num","scoreNum","times","payment","qr_code","setInterval","querryLoop","clearInterval","handleChangeIndex","handleTexyChange","selectPack","selectGroup","selectPackPayMethod","scorePrice","alipay","payjs","score_price","methodSelect","FormLabel","RadioGroup","Radio","textField","step","Tabs","Tab","AccountBalanceWallet","payMethod","priceShow","tier","highlight","titleTypographyProps","subheaderTypographyProps","cardHeader","cardPricing","line","cardActions","redeemContainer","codeContainer","BuyQuota","grey","formGroup","formIcon","CreateWebDAVAccount","setValue","pathSelectDialog","setPathSelectDialog","formContainer","LabelOutlined","FolderOpenOutlined","CreateWebDAVMount","Storage","cardContent","tableContainer","WebDAV","tab","setTab","setCreate","mount","setMount","accounts","setAccounts","setFolders","account","ID","CreatedAt","Name","Root","mountInfo","indicatorColor","textColor","newValue","Alert","severity","origin","TableContainer","clipboard","writeText","accountCopy","deleteAccount","policy_name","folderCopy","deleteMount","footer","Tasks","setTasks","nowrap","getError","Ifm","iFrameHeight","iframe","clientHeight","frameBorder","scrolling","ProfileCompoment","listType","loadNext","loadPrev","avatarContainer","centered","infoContainer","infoItem","mobileHide","th","tableLink","Profile","backgroundPosition","borderRaidus","pageInfo","sectionTitle","desenList","flexContainer","Authn","setSelected","confirm","setConfirm","deleteCredential","fingerprint","credentialCreationOptions","excludeCredentials","credential","attestationObject","add","UserSettingCompoment","avatarModal","nickModal","changePassword","oldPwd","webdavPwd","newPwdRepeat","twoFactor","authCode","changeTheme","chosenTheme","showWebDavUrl","showWebDavUserName","changeWebDavPwd","groupBackModal","changePolicy","settings","group_expires","qq","homepage","two_factor","two_fa_secret","prefer_theme","changeView","loadSetting","doChangeGroup","useGravatar","changeNick","bindQQ","uploadAvatar","formData","FormData","append","fileInput","headers","handleToggle","changhePwd","old","new","changheWebdavPwd","init2FA","handleAlignment","toggleThemeMode","infoTextWithIcon","rightIconWithText","infoText","ConfirmationNumber","Switch","firstColor","secondColor","Brightness3","ListAlt","userGravatar","paddingText","flexContainerResponse","qrcode","desText","ToggleButtonGroup","exclusive","ToggleButton","themeBlock","UserSetting","yellow","QQCallback","setMsg","avatarSuccess","Register","password_repeat","setInput","emailActive","setEmailActive","regCaptcha","Apps","exp","Days","toGMTString","JumpUrl","Activation","setSuccess","ResetForm","secret","Reset","forgetCaptcha","overflowWrap","SiteNotice","site_notice","newNotice","dangerouslySetInnerHTML","__html","PDFViewer","App","themeConfig","prefersDarkMode","useMediaQuery","useMemo","prefer","createMuiTheme","Fragment","ThemeProvider","CssBaseline","exact","Text","Code","doNavigate","defaultStatus","rawStore","configCache","InitSiteConfig","black","contrastText","bgSelected","ErrorBoundary","errorInfo","componentStack","Admin","hash","fetch","contentType","ready","unregister","checkValidServiceWorker","createBrowserHistory","reduxEnhance","applyMiddleware","routerMiddleware","createStore","viewUpdateState","explorerState","appState","cloudreveApp","combinedState","combinedReducer","combine","namespace","reducer","invariant","combineReducers","connectRouter","UpdateSiteConfig","ReactDOM","getElementById","setSubtitle"],"mappings":"uIAAA,kGAGaA,EAAU,UAEVC,EAAa,WACtB,OAAOD,GAGLE,EAAWC,IAAMC,OAAO,CAC1BJ,QAASC,IACTI,iBAAiB,EACjBC,aAAa,IAGjB,SAASC,EAASC,EAASC,EAAMC,GAC7BC,KAAKF,KAAOA,EACZE,KAAKH,QAAUA,GAAW,2BAC1BG,KAAKH,SAAWE,EAAQ,IAAMA,EAAQ,GACtCC,KAAKC,OAAQ,IAAIC,OAAQD,MAE7BL,EAASO,UAAYC,OAAOX,OAAOS,MAAMC,WACzCP,EAASO,UAAUE,YAAcT,EAEjCL,EAASe,aAAaC,SAASC,KAC3B,SAAUD,GAGN,GAFAA,EAASE,QAAUF,EAASG,KAC5BH,EAASG,KAAOH,EAASG,KAAKA,UAEAC,IAA1BJ,EAASE,QAAQX,MACS,IAA1BS,EAASE,QAAQX,MACS,MAA1BS,EAASE,QAAQX,KAYjB,MAT8B,MAA1BS,EAASE,QAAQX,OACjBc,IAAKC,UACLC,OAAOC,SAASC,KAAO,UAIG,QAA1BT,EAASE,QAAQX,OACjBgB,OAAOC,SAASC,KAAO,SAErB,IAAIpB,EACNW,EAASE,QAAQQ,IACjBV,EAASE,QAAQX,KACjBS,EAASE,QAAQV,OAGzB,OAAOQ,KAEX,SAAUR,GACN,OAAOmB,QAAQC,OAAOpB,MAIfR,O,iCCrDf,2VAMa6B,EAAc,SAACC,GACxB,MAAO,CACHC,KAAM,gBACND,SAQKE,EAAa,SAACF,GACvB,MAAO,CACHC,KAAM,eACND,SAQKG,EAAgB,SAACC,GAC1B,MAAO,CACHH,KAAM,kBACNG,WAIKC,EAAa,SAACC,GACvB,MAAO,CACHL,KAAM,eACNK,SAKFC,EAAgD,CAClDC,QAAS,SAACC,EAAkBC,GACxB,OAAOD,EAAEE,KAAOD,EAAEC,MAEtBC,QAAS,SAACH,EAAkBC,GACxB,OAAOA,EAAEC,KAAOF,EAAEE,MAEtBE,QAAS,SAACJ,EAAkBC,GACxB,OAAOD,EAAEK,KAAKC,cACVL,EAAEI,KACFE,UAAUC,UAAU,IAAMD,UAAUE,SACpC,CAAEC,SAAS,EAAMC,mBAAmB,KAG5CC,QAAS,SAACZ,EAAkBC,GACxB,OAAOA,EAAEI,KAAKC,cACVN,EAAEK,KACFE,UAAUC,UAAU,IAAMD,UAAUE,SACpC,CAAEC,SAAS,EAAMC,mBAAmB,KAG5CE,QAAS,SAACb,EAAkBC,GACxB,OAAOa,KAAKC,MAAMf,EAAEgB,MAAQF,KAAKC,MAAMd,EAAEe,OAE7CC,QAAS,SAACjB,EAAkBC,GACxB,OAAOa,KAAKC,MAAMd,EAAEe,MAAQF,KAAKC,MAAMf,EAAEgB,QAIpCE,EAAiB,SAC1B3B,GAEA,OAAO,SAAC4B,EAAUC,GACd,IAEQC,EAFMD,IAEeE,WAArBD,WACFE,EAAUhC,EAAKiC,QAAO,SAACC,GACzB,MAAkB,QAAXA,EAAEjC,QAEPkC,EAAWnC,EAAKiC,QAAO,SAACC,GAC1B,MAAkB,SAAXA,EAAEjC,QAEPmC,EAAW7B,EAAgBuB,GACjCF,EAAS1B,EAAW8B,EAAQK,KAAKD,KACjCR,EAAS7B,EAAYoC,EAASE,KAAKD,OAI9BE,EAAmB,SAC5BlC,GAEA,OAAO,SAACwB,EAAUC,GACd,IADiC,EACnBA,IACsBU,SAA5BJ,EAFyB,EAEzBA,SAAUH,EAFe,EAEfA,QACZI,EAAW7B,EAAgBH,GACjCwB,EAASzB,EAAcC,IACvBwB,EAAS1B,EAAW8B,EAAQK,KAAKD,KACjCR,EAAS7B,EAAYoC,EAASE,KAAKD,OAI9BI,EAA0B,SACnClC,GAEA,OAAO,SAACsB,EAAUC,GACAA,IACVvB,GACAsB,EAASa,eAEbb,EAASvB,GAAW,O,gCCnH5B,IAAMqC,EAAe,CACjBC,WADiB,SACNC,GACP,MAAgB,UAATA,GAEXC,YAJiB,SAILD,GACR,OAAOA,GAAQA,EAAKE,WAAW,QAEnCC,YAPiB,SAOLH,GACR,OAAOA,GAAQA,EAAKE,WAAW,WAEnCE,YAViB,SAULJ,GACR,OAAOA,GAAQA,EAAKE,WAAW,WAEnCG,SAbiB,WAcb,OAAOxD,OAAOyD,WAAa,MAGpBR,O,qECmBAS,IAjCf,YAA2C,IAArBC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,OAAU,EACVC,oBAAS,GADC,mBAC/BC,EAD+B,KACvBC,EADuB,KAGlCC,EAAOhE,OAAOiE,QACdC,EAAalE,OAAOiE,QA0BxB,OAvBAE,qBAAU,WAiBFP,GACA5D,OAAOoE,iBAAiB,UAAU,SAACC,GAAD,OAjBb,SAACA,GACtB,IAAMrE,EAASqE,EAAEC,cAEbN,EAAOhE,EAAOiE,QACVC,EAAalE,EAAOiE,QAPvB,KAQGC,EAAalE,EAAOiE,QACpBF,GAAU,IAEPC,EAAOhE,EAAOiE,SACjBjE,EAAOiE,QAAUC,EAZpB,KAaGA,EAAalE,EAAOiE,QACpBF,GAAU,IAGlBC,EAAOhE,EAAOiE,QAG2BM,CAAiBF,QAG/D,CAACT,IAEG,kBAAC,IAAD,CAAMY,IAAKV,GAASH,K,sGCDlBc,EAA2B,CACpCC,WAAW,EACXC,UAAW,KACXC,UAAW,KACXlC,SAAU,GACVH,QAAS,GACTsC,SAAU,GACVC,YAAa,CACTC,YAAY,EACZC,YAAY,EACZC,UAAU,GAEdC,WAAY,CACRC,KAAM,CACFC,GAAI,GACJ/D,KAAM,GACNH,KAAM,EACNV,KAAM,OACNwB,KAAM,IAEVqD,OAAQ,GAEZC,iBAAkB,GAClBC,WAAY,CACRC,MAAO,CACHJ,GAAI,GACJ/D,KAAM,GACNH,KAAM,EACNV,KAAM,OACNwB,KAAM,IAEVyD,MAAO,IAEXC,SAAU,GACVC,UAAU,EACVC,aAAa,GAGXC,EAAqB,SAAChB,GACxB,IAAME,EAAaF,EAASiB,OAAS,EACjCd,GAAa,EACbC,GAAW,EAQf,OAPAJ,EAASkB,SAAQ,SAACC,GACK,QAAfA,EAAMxF,KACNwE,GAAa,EACS,SAAfgB,EAAMxF,OACbyE,GAAW,MAGZ,CACHF,aACAC,aACAC,aA+GOnC,UA3GE,WAGI,IAFjBmD,EAEgB,uDAFOxB,EACvByB,EACgB,uCAChB,OAAQA,EAAO1F,MACX,IAAK,gBACD,OAAOlB,OAAO6G,OAAO,GAAIF,EAAO,CAC5BvB,WAAYuB,EAAMvB,UAClBC,UAAWuB,EAAOE,OAClBxB,UAAWsB,EAAOG,SAE1B,IAAK,gBACD,OAAO/G,OAAO6G,OAAO,GAAIF,EAAO,CAC5BvD,SAAUwD,EAAO3F,OAEzB,IAAK,eACD,OAAOjB,OAAO6G,OAAO,GAAIF,EAAO,CAC5B1D,QAAS2D,EAAO3F,OAExB,IAAK,uBACD,IAAM+F,EAAa,sBAAOL,EAAMpB,UAAb,YAA0BqB,EAAOK,UACpD,OAAOjH,OAAO6G,OAAO,GAAIF,EAAO,CAC5BpB,SAAUyB,EACVxB,YAAae,EAAmBS,KAExC,IAAK,sBACD,IAAME,EAAcN,EAAOK,QAC3B,OAAOjH,OAAO6G,OAAO,GAAIF,EAAO,CAC5BpB,SAAU2B,EACV1B,YAAae,EAAmBW,KAExC,IAAK,yBAAL,IACYC,EAAYP,EAAZO,QACFC,EAAmBT,EAAMpB,SAASrC,QAAO,SAAC2C,GAC5C,OAAQsB,EAAQE,SAASxB,EAAKC,OAElC,OAAO9F,OAAO6G,OAAO,GAAIF,EAAO,CAC5BpB,SAAU6B,EACV5B,YAAae,EAAmBa,KAExC,IAAK,oBACD,OAAOpH,OAAO6G,OAAO,GAAIF,EAAO,CAC5BpB,SAAU,GACVC,YAAa,CACTC,YAAY,EACZC,YAAY,EACZC,UAAU,KAGtB,IAAK,iBACD,OAAO3F,OAAO6G,OAAO,GAAIF,EAAO,CAC5BpB,SAAU,GACVC,YAAa,CACTC,YAAY,EACZC,YAAY,EACZC,UAAU,GAEdS,SAAUQ,EAAOR,WAEzB,IAAK,mBACD,OAAOpG,OAAO6G,OAAO,GAAIF,EAAO,CAC5BV,WAAY,CACRC,MAAOU,EAAOV,MACdC,MAAOQ,EAAMvD,YAGzB,IAAK,YACD,OAAO,2BACAuD,GADP,IAEIN,UAAWM,EAAMN,WAEzB,IAAK,kBAAL,IACYR,EAAgBe,EAAhBf,KAAME,EAAUa,EAAVb,MACd,OAAO,2BACAY,GADP,IAEIf,WAAY,CACRC,OACAE,WAGZ,IAAK,yBAAL,IACYC,EAAqBY,EAArBZ,iBACR,OAAO,2BACAW,GADP,IAEIX,qBAER,IAAK,gBACD,OAAO,2BACAW,GADP,IAEIpB,SAAU,GACVC,YAAa,CACTC,YAAY,EACZC,YAAY,EACZC,UAAU,GAEdS,SAAU,KAElB,IAAK,eACD,OAAO,2BACAO,GADP,IAEIL,YAAaM,EAAOrF,OAE5B,QACI,OAAOoF,K,oFC3LbW,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,OAAO,aACHC,MAAO,MACPC,QAAS,IACRH,EAAMI,YAAYC,KAAK,MAAQ,CAC5BH,MAAO,OACPC,QAAS,SAKfG,EAAW,SAACC,GAAD,OACb,kBAAC,IAAD,CACIC,gBAAiBD,EAAME,KAAO,OAAS,UACvCC,gBAAiBH,EAAME,KAAO,UAAY,OAC1CE,UAAWJ,EAAMI,aAkBVC,IAdf,WACI,IAAMZ,EAAQa,cACRC,EAAUhB,IAEhB,OACI,6BACI,kBAACQ,EAAD,CACIG,KAA6B,SAAvBT,EAAMe,QAAQrH,KACpBiH,UAAWG,EAAQb,Y,gCC/BnC,IAAMjH,EAAO,CACTgI,iBAAiB,EACjBC,aAFS,SAEIC,GACTlI,EAAKmI,QAAQD,GACblI,EAAKgI,iBAAkB,GAE3BI,QANS,WAOL,OAAOC,KAAKpG,MAAMqG,aAAaC,QAAQ,SAAW,SAEtDJ,QATS,SASDK,GACJF,aAAaG,QAAQ,OAAQJ,KAAKK,UAAUF,KAEhDG,MAZS,WAaL,QAAI3I,EAAKgI,iBAG4B,OAAjCM,aAAaC,QAAQ,UACbvI,EAAKoI,UAAUQ,WAI/B3I,QArBS,WAsBLD,EAAKgI,iBAAkB,EACvB,IAAMa,EAAU7I,EAAKoI,UACrBS,EAAQvD,GAAK,EACbgD,aAAaG,QAAQ,OAAQJ,KAAKK,UAAUG,KAEhDC,cA3BS,SA2BKC,EAAa7C,GACvB,IAAI8C,EAAaX,KAAKpG,MAClBqG,aAAaC,QAAQ,oBAAsB,OAE/CS,EAA2B,MAAdA,EAAqB,GAAKA,GAC5BD,GAAO7C,EAClBoC,aAAaG,QAAQ,kBAAmBJ,KAAKK,UAAUM,KAE3DC,cAnCS,SAmCKF,GACV,IAAMC,EAAaX,KAAKpG,MACpBqG,aAAaC,QAAQ,oBAAsB,MAE/C,OAAIS,GAAcA,EAAWD,GAClBC,EAAWD,GAEf,OAIA/I,O,gCC9Cf,wqBAAO,IAAMkJ,EAAe,SAACC,GACzB,GAAc,IAAVA,GAAyB,MAAVA,EAAe,MAAO,MACzC,IAEMC,EAAIC,KAAKC,MAAMD,KAAKE,IAAIJ,GAASE,KAAKE,IAFlC,OAGV,OAAQJ,EAAQE,KAAKG,IAHX,KAGkBJ,IAAIK,QAAQ,GAAK,IAF/B,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAELL,IAGhDM,EAAa,SAACrG,GACvB,OAAOA,GAGEsG,EAAY,SAACpI,EAAM2E,EAAO0D,GACnC,GAAIA,EAAM,CACN,IAAM1H,EAAO,IAAIF,KACjBE,EAAK2H,QAAQ3H,EAAK4H,UAAmB,GAAPF,EAAY,GAAK,GAAK,KAExDG,SAASC,OAASzI,EAAO,KAAO2E,GAAS,IAAM,YAGtC+D,EAAkB,SAACC,EAAWC,GACvC,IAAIC,EAAMlK,OAAOC,SAASC,KAE1B,GAAIgK,EAAIC,QAAQH,EAAY,MAAQ,EAAG,CACnC,IAAMI,EAASF,EAAIG,UAAU,EAAGH,EAAIC,QAAQH,IACxCM,EAASJ,EAAIG,UAAUH,EAAIC,QAAQH,IAMvCE,EAAME,EAASJ,EAAY,IAAMC,GAJjCK,GADAA,EAASA,EAAOD,UAAUC,EAAOH,QAAQ,KAAO,IAErCA,QAAQ,MAAQ,EACjBG,EAAOD,UAAUC,EAAOH,QAAQ,MAChC,SAGND,EAAIC,QAAQ,KAAO,EAAGD,GAAO,IAAMF,EAAY,IAAMC,EACpDC,GAAO,IAAMF,EAAY,IAAMC,EAEpCC,IAAQlK,OAAOC,SAASC,MAG5BF,OAAOuK,QAAQC,UAAU,KAAM,KAAMN,IAG5BO,EAAoB,WAC7B,OAAKzK,OAAOoD,cAGRpD,OAAOoD,cACHpD,OAAO0K,UAAUC,eAGQ,IAAzB3K,OAAO4K,SAASC,SAJxB,IAWSC,EAAqB,SAACC,GAC/B,IAAMb,EAAMlK,OAAOC,SAASC,KAC5B,OAAwC,IAApCgK,EAAIC,QAAQ,IAAMY,EAAQ,OACe,IAApCb,EAAIC,QAAQ,IAAMY,EAAQ,MAI1BC,EAAmB,SAACC,GACNjL,OAAO6J,SAASqB,cACnC,0BAEWC,aAAa,UAAWF,IAGpC,SAASG,EAAapF,GACzB,OAAOqF,WAAWC,KAAKC,KAAKvF,IAAQ,SAACwF,GAAD,OAAOA,EAAEC,WAAW,MAIrD,SAASC,EAAa1F,GACzB,OAAO2F,KAAKC,OAAOC,aAAaC,MAAM,KAAM,IAAIT,WAAWrF,KACtD+F,QAAQ,MAAO,KACfA,QAAQ,MAAO,KACfA,QAAQ,KAAM,IAGhB,SAASC,EAAS7I,GACrB,IAAM8I,EACO,OAAT9I,EACMA,EAAK+I,OAAO,GAAGC,MAAM,KACrBjN,KAAKmI,MAAMlE,KAAK+I,OAAO,GAAGC,MAAM,KAC1C,MAAO,IAAMF,EAAQG,MAAM,EAAGH,EAAQnG,OAAS,GAAGuG,KAAK,KAGpD,SAASC,EAASnH,GACrB,MAAqB,MAAdA,EAAKhC,KACNgC,EAAKhC,KAAOgC,EAAK9D,KACjB8D,EAAKhC,KAAO,IAAMgC,EAAK9D,KAG1B,SAASkL,EAAQC,GACpB,OAAOC,SAASD,EAAK,IAAIE,SAAS,GAAGC,SAAS,EAAG,KAG9C,SAASC,EAASC,EAAOC,GAC5B,IAAMC,EAAYD,GAAO,IAUzB,OATAD,EAAQA,EAAMG,KAAI,SAACC,EAAM5H,GAOrB,OANIA,IACA4H,EAAOA,EAAKlB,QAAQ,IAAImB,OAAO,IAAMH,GAAY,KAEjD1H,IAAUwH,EAAM/G,OAAS,IACzBmH,EAAOA,EAAKlB,QAAQ,IAAImB,OAAOH,EAAY,KAAM,KAE9CE,MAEEZ,KAAKU,GAGf,SAASI,EAAShK,GACrB,IAAMiK,EAAWjK,EAAKgJ,MAAM,KAE5B,OADAiB,EAASC,MACqB,KAAvBD,EAASf,KAAK,KAAc,IAAMe,EAASf,KAAK,KAGpD,SAASiB,EAASnK,GAErB,OADiBA,EAAKgJ,MAAM,KACZkB,MAGb,SAASE,IAAwC,IAA1BC,EAAyB,wDAAZ,IAAI1L,KAC3C,GAAI0L,EAAW,CACX,IAAMC,EAAO,IAAI3L,KAAK0L,GAChBE,EAAID,EAAKE,cACTC,EAAIH,EAAKI,WAAa,EACtBC,EAAIL,EAAKM,UACTC,EAAIP,EAAKQ,WACTC,EAAIT,EAAKU,aACTC,EAAIX,EAAKY,aACf,OAAOX,EAAI,IAAME,EAAI,IAAME,EAAI,IAAME,EAAI,IAAME,EAAI,IAAME,EAEzD,MAAO,GAIR,SAASE,EAAUxI,GAKtB,IAJA,IAAIyI,EAAS,GACPC,EACF,iEACEC,EAAmBD,EAAW1I,OAC3BoD,EAAI,EAAGA,EAAIpD,EAAQoD,IACxBqF,GAAUC,EAAWE,OACjBvF,KAAKC,MAAMD,KAAKwF,SAAWF,IAGnC,OAAOF,EAGJ,SAASK,EAAUC,EAAMC,GAM5B,OALAA,EAAW/I,SAAQ,SAACgJ,GACZA,GACAF,OAGDA,EAGJ,IAAMG,EAAQ,WACjB,OAAOzN,UAAU0N,SAASC,cAAc/E,QAAQ,QAAU,GAGvD,SAASgF,IACZ,IAAMC,EAAKpP,OAAOqP,YAClBxF,SAASyF,gBAAgBC,MAAMC,YAAY,OAA3C,UAAsDJ,EAAtD,S,+JC/JExI,EAAYC,aAAW,iBAAO,CAChC4I,KAAM,CACFxE,MAAO,qBACPyE,QAAS,YAsCFC,IAlCU,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAClBC,EAAYC,aACd,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWjJ,MAAMe,QAAQrH,QAExC2B,EAAW6N,cACXC,EAAkBC,uBAAY,kBAAM/N,EAASgO,iBAAuB,CACtEhO,IAEEiO,EAAcP,GAA2B,UAAdA,IAA2BA,EACtDQ,EAASR,GAA2B,SAAdA,EAKtBjI,EAAUhB,IAChB,OACI,kBAAC,IAAD,CACI0J,MAAOF,EAAa,6CAAY,6CAChCG,UAAU,UAEV,kBAAC,IAAD,CACI9I,UAAW+I,IAAW,eACjB5I,EAAQ6H,KAAO,SAAWG,IAE/Ba,QAdO,WACf3Q,IAAK8I,cAAc,aAAcwH,EAAa,OAAS,SACvDH,KAaQhF,MAAM,WAELmF,GAAc,kBAAC,IAAD,MACdC,GAAU,kBAAC,IAAD,U,uSCxBrBzJ,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrC4J,WAAY,CACRzJ,QAAS,MACT0J,YAAa,WAIfC,EAAc,CAAC,MAAO,MAAO,eAAM,eAAM,eAAM,gBAEtC,SAASC,EAAT,GAAkD,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAC3C7O,EAAW6N,cACXiB,EAAanB,aACf,SAAC7J,GAAD,OAAWA,EAAM3D,WAAW4O,sBAE1BC,EAAoBjB,uBACtB,SAACvP,GAAD,OAAYwB,EAASiP,YAAiBzQ,MACtC,CAACwB,IAECkP,EAAmBnB,uBACrB,SAACvP,GAAD,OAAYwB,EAASU,2BAAiBlC,MACtC,CAACwB,IAECmP,EAAmBpB,uBACrB,SAACrH,GAAD,OAAS1G,EAASoP,YAAiB1I,MACnC,CAAC1G,IAECqP,EAAsBtB,uBACxB,SAAC7L,GAAD,OAAOlC,EAASsP,YAAoBpN,MACpC,CAAClC,IAnBuD,EAqBxB0B,mBAAS,MArBe,mBAqBrD6N,EArBqD,KAqBzCC,EArByC,OAsBlB9N,mBAAS,GAtBS,mBAsBrD+N,EAtBqD,KAsBtCC,EAtBsC,OAuBxBhO,oBAAS,GAvBe,mBAuBrDiO,EAvBqD,KAuBzCC,EAvByC,KAyCtDC,EAAmB,WACrB,IAAMC,EACa,SAAfhB,EACM,OACe,SAAfA,EACA,YACA,OACVnR,IAAK8I,cAAc,cAAeqJ,GAClCd,EAAkBc,IAGhBC,EAAkBhC,uBACpB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAgBCyF,EAAUhB,IAChB,OACI,oCACKmK,GACD,kBAAC,IAAD,CAAYT,MAAM,eAAK7I,UAAWG,EAAQ8I,WAAYD,QAjB9C,WACP3Q,IAAK2I,QASVzI,OAAOsS,aAAavB,EAAMlI,KARtBqJ,EACI,MACA,QACA,yDACA,aAYF,kBAAC,IAAD,CAAoBK,SAAS,WAGf,SAAftB,GACG,kBAAC,IAAD,CACIX,MAAM,2BACN7I,UAAWG,EAAQ8I,WACnBD,QAASuB,EACT/G,MAAO+F,EAAU,UAAY,WAE7B,kBAAC,IAAD,CAAcuB,SAAUzB,EAAU,QAAU,aAGpC,SAAfG,GACG,kBAAC,IAAD,CACIX,MAAM,iCACN7I,UAAWG,EAAQ8I,WACnBD,QAASuB,EACT/G,MAAO+F,EAAU,UAAY,WAE7B,kBAAC,IAAD,CAAeuB,SAAUzB,EAAU,QAAU,aAIrC,cAAfG,GACG,kBAAC,IAAD,CACIX,MAAM,iCACN7I,UAAWG,EAAQ8I,WACnBD,QAASuB,EACT/G,MAAO+F,EAAU,UAAY,WAE7B,kBAAC,IAAD,CAAgBuB,SAAUzB,EAAU,QAAU,aAItD,kBAAC,IAAD,CACIR,MAAM,2BACN7I,UAAWG,EAAQ8I,WACnBD,QA1FY,SAACpM,GACrBsN,EAActN,EAAEC,gBA0FR2G,MAAO+F,EAAU,UAAY,WAE7B,kBAAC,IAAD,CACIuB,SAAUzB,EAAU,QAAU,aAGtC,kBAAC,IAAD,CACI1L,GAAG,YACHoN,SAAUd,EACV7Q,KAAM4R,QAAQf,GACdgB,QAAS,kBAAMf,EAAc,QAE5Bf,EAAY5D,KAAI,SAAC2F,EAAQtN,GAAT,OACb,kBAAC,IAAD,CACIwD,IAAK8J,EACL9N,SAAUQ,IAAUuM,EACpBnB,QAAS,SAACmC,GAAD,OAxGD,SAACvO,EAAGgB,GAC5BwM,EAAiBxM,GASjBgM,EARqB,CACjBwB,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,WAEuB7N,IAC9BsM,EAAc,MA6FsBwB,CAAoBP,EAAOvN,KAE9CsN,OAIZ5B,GACG,oCACI,kBAAC,IAAD,CACIT,MAAO,6CACP7I,UAAWG,EAAQ8I,WACnBD,QAAS,kBAAMa,EAAiBP,EAAMlI,OAEtC,kBAAC,IAAD,CAAU0J,SAAUzB,EAAU,QAAU,aAE5C,kBAAC,IAAD,CACIR,MAAO,eACP7I,UAAWG,EAAQ8I,WACnBD,QAAS,kBAAMsB,GAAc,KAE7B,kBAAC,IAAD,CAAYQ,SAAUzB,EAAU,QAAU,aAE9C,kBAAC,IAAD,CACIjQ,KAAMiR,EACNf,MAAOA,EACP2B,QAAS,kBAAMX,GAAc,OAIxChB,GACG,kBAAC,IAAD,CACIT,MAAO,UAAOS,EAAMqC,QAAQC,KAAO,gBACnC5L,UAAWG,EAAQ8I,WACnBD,QAAS,SAACpM,GAAD,OAAOmN,EAAoBnN,EAAEC,gBACtCiL,MAAO,CAAEtI,QAAS,IAElB,kBAAC,IAAD,CACIsI,MAAO,CAAE+D,OAAQ,GAAItM,MAAO,IAC5BuM,IAAK,uBAAyBxC,EAAMqC,QAAQvK,IAAM,W,kOCtLpEjC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrC0M,eAAgB,GAChBC,SAAU,CACNC,SAAU,SAEdC,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,OAEVC,WAAY,CACRC,WAAY,UAEhBC,OAAQ,CACJC,QAAS,SAEbC,UAAW,CACPC,UAAW,QAIJ,SAASC,EAAOpN,GAC3B,IAAMlF,EAAW6N,cACXpI,EAAUhB,IAFkB,EAGN/C,mBAAS,KAHH,mBAG3B6Q,EAH2B,KAGnBC,EAHmB,OAIZ9Q,mBAAS,IAJG,mBAI3B+Q,EAJ2B,KAItBC,EAJsB,OAKJhR,oBAAS,GALL,mBAK3BiR,EAL2B,KAKlBC,EALkB,KAO5BC,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGCuQ,EAAU,WACZrL,EAAMqL,UACNuC,YAAW,WACPJ,EAAO,IACPF,EAAU,OACX,MAoBP,OACI,kBAAC,IAAD,CACI9T,KAAMwG,EAAMxG,KACZ6R,QAASA,EACTwC,kBAAgB,oBAChBzN,UAAWG,EAAQ4L,eACnB2B,SAAS,KACTC,WAAS,GAET,kBAAC,IAAD,CAAahQ,GAAG,qBAAhB,gBACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAaiQ,UAAU,YACnB,kBAAC,IAAD,CACIC,aAAW,SACXjU,KAAK,UACL2E,MAAO0O,EACPa,SAAU,SAAClR,GAAD,OAAOsQ,EAAUtQ,EAAE+B,OAAOJ,SAEnCwP,IAAcxI,KAAI,SAAC+B,EAAG0G,GAAJ,OACf,kBAAC,IAAD,CACI5M,IAAK4M,EACLzP,MAAOyP,EAAE/I,WACTgJ,QAAS,kBAAC,IAAD,MACTC,MAAO5G,SAKvB,kBAAC,IAAD,CACIqG,WAAS,EACThQ,GAAG,4BACHuQ,MAAM,2BACNC,WAAS,EACT5P,MAAO4O,EACPW,SAAU,SAAClR,GAAD,OAAOwQ,EAAOxQ,EAAE+B,OAAOJ,QACjC6P,QAAQ,SACRC,KAAM,KAId,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQrF,QAASiC,GAAjB,gBACA,kBAAC,IAAD,CACIjC,QA5DK,WACjBsE,GAAW,GACXgB,IAAIC,KAAK,iBAAmB3O,EAAM0J,MAAMlI,IAAK,CACzC+L,IAAKA,EACLF,OAAQjI,SAASiI,KAEhBuB,MAAK,WACFjB,EAAe,MAAO,QAAS,2BAAQ,WACvCD,GAAW,GACXrC,OAEHwD,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,SAC9CgW,GAAW,OAgDP9J,MAAM,YACNkL,SAAUrB,GAHd,oB,iCC3HhB,6GAQe,SAASsB,EAAoB/O,GACxC,OACI,kBAAC,IAAD,CACIxG,KAAMwG,EAAMgP,SACZ3D,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAAC,IAAD,CAAa9P,GAAG,sBAAhB,kCACWiC,EAAMiP,MADjB,qDAGA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAmBlR,GAAG,4BAAtB,uNAIJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQqL,QAASpJ,EAAMqL,SAAvB,gBACA,kBAAC,IAAD,CACIjC,QAAS,kBAAMpJ,EAAMgP,YACrBpL,MAAM,UACNsL,WAAS,GAHb,oB,sMCbV3P,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrC0P,IAAK,CACD5C,OAAQ,EACRK,IAAK,OACLwC,MAAO,GACPC,OAAQ,GACRxC,KAAM,OACNyC,OAAQ,EACR/G,SAAU,SAEdgH,MAAO,CACHhH,SAAU,WACV8G,OAAQ,GACRzC,IAAK,OACL0C,OAAQ,KACRF,MAAO,GAEXI,YAAa,CACT5L,MAAO6L,IAAM,KACblH,SAAU,WACVqE,KAAM,EACNC,MAAO,EACPyC,OAAQ,GAEZhD,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdmH,cAAe,CACXzP,gBAAiBwP,IAAM,KACvB,UAAW,CACPxP,gBAAiBwP,IAAM,WAKpB,SAASE,EAAW3P,GAC/B,IAAMO,EAAUhB,IACVqQ,EAAkBC,YAAK,eACxBtP,EAAQmP,cAAiC,YAAjB1P,EAAM8P,SAGnC,OACI,kBAAC,IAAD,CAAYvT,OAAQX,IAAaO,YAC7B,yBAAKiE,UAAWG,EAAQ4O,KACpB,yBAAK/O,UAAWG,EAAQ+L,SACpB,kBAAC,IAAD,CAASrD,MAAO,eAAMC,UAAW,QAC7B,kBAAC,IAAD,CACIE,QAASpJ,EAAMoJ,QACfxF,MAAM,UACNxD,UAAWwP,EACXd,SAA2B,YAAjB9O,EAAM8P,OAChB7B,aAAW,OAEO,YAAjBjO,EAAM8P,OACH,kBAAC,IAAD,MAEA,kBAAC,IAAD,QAIM,YAAjB9P,EAAM8P,QACH,kBAAC,IAAD,CACIjW,KAAM,GACNuG,UAAWG,EAAQiP,mB,qPCnEzCjQ,EAAYC,YAAW,CACzBuQ,OAAQ,CACJ9P,gBAAiB+P,IAAK,KACtBpM,MAAOoM,IAAK,MAEhBC,iBAAkB,CACdhD,QAAS,QAEbQ,QAAS,CACLN,UAAW,GACX+C,WAAY,MAIL,SAASC,IACpB,IAAM5P,EAAUhB,IACV/F,EAAOiP,aAAY,SAAC7J,GAAD,OAAWA,EAAM3D,WAAWmV,OAAO3C,WACtD4C,EAAO5H,aAAY,SAAC7J,GAAD,OAAWA,EAAM3D,WAAWmV,OAAOE,eAE5D,OACI,kBAACC,EAAA,EAAD,CAAQ1C,kBAAgB,sBAAsBrU,KAAMA,GAChD,kBAACgX,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAmBrQ,UAAWG,EAAQ0P,kBAClC,kBAACS,EAAA,EAAD,CAAkB9M,MAAM,cACxB,yBAAKxD,UAAWG,EAAQkN,SAAU4C,M,WCbhD9Q,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCkR,WAAY,CACR/Q,QAAS,sBAEb0M,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,MACNM,WAAY,GACZ+C,YAAa,QAIN,SAASU,EAAW5Q,GAAQ,IAAD,EACExD,mBAAS,IADX,mBAC/BqU,EAD+B,KACjBC,EADiB,OAEUtU,mBAAS,IAFnB,mBAE/BuU,EAF+B,KAEbC,EAFa,KAIhClW,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECmW,EAAmBpI,uBACrB,SAACiH,GACGhV,EAASoW,YAAiBpB,MAE9B,CAAChV,IAECqW,EAAkBtI,uBAAY,WAChC/N,EAASsW,iBACV,CAACtW,IA6CEyF,EAAUhB,IAEhB,OACI,kBAACgR,EAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,sBACA,kBAACuT,EAAA,EAAD,CACIC,YAAavR,EAAMuR,YACnB/T,SAAUwC,EAAMxC,SAChBgU,SAvDU,SAACC,GACnB,IAAM3V,EACc,MAAhB2V,EAAO3V,KACD2V,EAAO3V,KAAO2V,EAAOzX,KACrByX,EAAO3V,KAAO,IAAM2V,EAAOzX,KACrC8W,EAAgBhV,GAChBkV,EAAoBS,EAAOzX,SAoDL,KAAjB6W,GACG,kBAACL,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAACF,EAAA,EAAD,2BACQ,gCAASM,KAIzB,kBAACW,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASpJ,EAAMqL,SAAvB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QA5DD,SAACpM,GACP,MAALA,GACAA,EAAE4U,iBAENX,GAAiB,GACjB,IAAMY,EAAO,GACTC,EAAQ,GAGmB,QAA3B9R,EAAMxC,SAAS,GAAGrE,KAClB0Y,EAAKE,KAAK/R,EAAMxC,SAAS,GAAGO,IAE5B+T,EAAMC,KAAK/R,EAAMxC,SAAS,GAAGO,IAGjC2Q,IAAIC,KAAK,eAAgB,CACrBqD,QAAShS,EAAMxC,SAAS,GAAG1B,KAC3BoQ,IAAK,CACD2F,KAAMA,EACNC,MAAOA,GAEXG,IAAsB,OAAjBpB,EAAwB,IAAMA,IAElCjC,MAAK,WACF5O,EAAMqL,UACN8F,IACAF,GAAiB,MAEpBpC,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,SAC9CuZ,GAAiB,OA+BTrN,MAAM,UACNkL,SAA2B,KAAjB+B,GAAuB7Q,EAAMkS,eAH3C,eAMKlS,EAAMkS,eACH,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qB,oUC3F7ClN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC0M,eAAgB,GAChBC,SAAU,CACNC,SAAU,SAEdC,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,OAEVC,WAAY,CACRC,WAAY,UAEhBC,OAAQ,CACJC,QAAS,SAEbC,UAAW,CACPC,UAAW,QAIbgF,GAAiBC,KAAW,CAC9BC,KAAM,CACFC,OAAQ,gCACRC,UAAW,OACX,qBAAsB,CAClBC,aAAc,GAElB,WAAY,CACRvF,QAAS,QAEb,aAAc,CACVV,OAAQ,SAGhBkG,SAAU,IAdSL,CAepBM,KAEGC,GAAwBP,KAAW,CACrCC,KAAM,CACFzS,QAAS,EACT,aAAc,IAElBgT,QAAS,CACLrG,OAAQ,EACRU,QAAS,UACT,aAAc,CACVV,OAAQ,QAGhBkG,SAAU,IAZgBL,CAa3BS,KAEGC,GAAwBV,MAAW,SAAC3S,GAAD,MAAY,CACjD4S,KAAM,CACFzS,QAAS,GACTK,gBAAiBR,EAAMe,QAAQuS,WAAWC,YAHpBZ,CAK1Ba,KAEW,SAASC,GAAWlT,GAC/B,IAAMlF,EAAW6N,cACXpI,EAAUhB,KAEVoO,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGCqY,EAAe1K,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAW0K,iBACvDC,EAAY5K,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAW4K,oBAXpB,EAaNC,IAAM/W,UAAS,GAbT,mBAa/BiW,EAb+B,KAarBe,EAbqB,OAcND,IAAM/W,SAAS,IAdT,mBAc/BiX,EAd+B,KAcrBC,EAdqB,OAeVH,IAAM/W,SAAS,CACvCmX,SAAU,GACVC,UAAW,EACXC,QAAS,MACTC,cAAc,EACd7E,MAAO,IApB2B,mBAe/B8E,EAf+B,KAevBC,EAfuB,OAsBAT,IAAM/W,SAAS,CACjDmX,UAAU,EACVM,QAAQ,EACRhF,OAAO,EACPiF,SAAS,IA1ByB,mBAsB/BC,EAtB+B,KAsBlBC,EAtBkB,KA6BhCC,EAAe,SAACC,GAAD,OAAU,SAAC/I,GAEf,aAAT+I,IAC2B,KAAvB/I,EAAMxM,OAAOJ,MACbyV,EAAe,2BAAKD,GAAN,IAAmBR,UAAU,KAE3CS,EAAe,2BAAKD,GAAN,IAAmBR,UAAU,MAKtC,UAATW,IAC0B,KAAtB/I,EAAMxM,OAAOJ,MACbyV,EAAe,2BAAKD,GAAN,IAAmBlF,OAAO,KAExCmF,EAAe,2BAAKD,GAAN,IAAmBlF,OAAO,MAIhD+E,EAAU,2BAAKD,GAAN,kBAAeO,EAAO/I,EAAMxM,OAAOJ,WAoB1C4V,EAAe,SAACC,GAAD,OAAW,SAACjJ,EAAOkJ,GACpCjB,IAAYiB,GAAaD,KAGvBE,EAAc,SAACJ,GAAD,OAAU,WACrBH,EAAYG,IACbC,EAAaD,EAAbC,CAAmB,MAAM,GAEhB,aAATD,GAAuBH,EAAYG,IACnCN,EAAU,2BACHD,GADE,IAELJ,SAAU,MAGL,UAATW,GAAoBH,EAAYG,IAChCN,EAAU,2BACHD,GADE,IAEL9E,MAAO,KAGfmF,EAAe,2BAAKD,GAAN,kBAAoBG,GAAQH,EAAYG,QAGpDjJ,EAAU,WACZrL,EAAMqL,UACNuC,YAAW,WACP8F,EAAY,MACb,MAyCP,OACI,kBAACnD,EAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASA,EACTwC,kBAAgB,oBAChBzN,UAAWG,EAAQ4L,eACnB2B,SAAS,KACTC,WAAS,GAET,kBAACsD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,wCAEc,KAAb0V,GACG,oCACI,kBAACkB,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACI,kBAAC,GAAD,CACInC,SAAuB,aAAbA,EACVvE,SAAUqG,EAAa,aAEvB,kBAAC,GAAD,CACIM,gBAAc,kBACd9W,GAAG,kBAEH,kBAAC+W,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,EAAA,EAAD,KACI,kBAAC,IAAD,OAEJ,kBAACC,EAAA,EAAD,CAAcC,QAAQ,yCACtB,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIC,QAASlB,EAAYR,SACrBzF,SAAUwG,EAAY,iBAKtC,kBAAC,GAAD,KACI,kBAACY,EAAA,EAAD,CACI9G,QAAQ,WACR5K,MAAM,YACNmK,WAAS,GAET,kBAACwH,GAAA,EAAD,CAAYC,QAAQ,6BAApB,4BAGA,kBAACC,GAAA,EAAD,CACI1H,WAAS,EACThQ,GAAG,8BACH5E,KACI4a,EAAOD,aACD,OACA,WAEVnV,MAAOoV,EAAOJ,SACdzF,SAAUmG,EAAa,YACvBqB,aACI,kBAACC,GAAA,EAAD,CAAgBpN,SAAS,OACrB,kBAACqN,GAAA,EAAD,CAAS3M,MAAM,4BACX,kBAAC4M,GAAA,EAAD,CACI5H,aAAW,6BACX7E,QAzI7B,WACnBgL,EAAe,2BAAKD,GAAN,IAAmBR,UAAU,KAC3CK,EAAU,2BACHD,GADE,IAELJ,SAAU7R,KAAKwF,SAASjC,SAAS,IAAIR,OAAO,GAAGE,MAAM,EAAG,GACxD+O,cAAc,MAqI8BgC,KAAK,OAEL,kBAAC,IAAD,QAGR,kBAACD,GAAA,EAAD,CACI5H,aAAW,6BACX7E,QAzJhB,WAC5B4K,EAAU,2BAAKD,GAAN,IAAcD,cAAeC,EAAOD,iBA2JDiC,YAxJhB,SAACxK,GAC7BA,EAAMqG,kBA0JsCkE,KAAK,OAEL,kBAAC,KAAD,CACIE,GAAIjC,EAAOD,aACXmC,OAAQ,kBAACC,GAAA,EAAD,MACRC,QACI,kBAACC,GAAA,EAAD,UAMpBC,WAAY,QAK5B,kBAAC,GAAD,CACI5D,SAAuB,WAAbA,EACVvE,SAAUqG,EAAa,WAEvB,kBAAC,GAAD,CACIM,gBAAc,kBACd9W,GAAG,kBAEH,kBAAC+W,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,EAAA,EAAD,KACI,kBAAC,IAAD,OAEJ,kBAACC,EAAA,EAAD,CAAcC,QAAQ,6BACtB,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIC,QAASlB,EAAYF,OACrB/F,SAAUwG,EAAY,eAKtC,kBAAC,GAAD,CACItU,UAAWG,EAAQuM,YAEnB,kBAACwI,EAAA,EAAD,CACIpN,MAAO,CACHoB,YAAa,KAGjB,kBAACgN,GAAA,EAAD,CACIC,QAAQ,2BACRxY,GAAG,qBACHY,MAAOoV,EAAOH,UACd1F,SAAUmG,EAAa,cAEvB,kBAACmC,GAAA,EAAD,CAAU7X,MAAO,GAAjB,wBACA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,GAAjB,wBACA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,GAAjB,wBACA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,GAAjB,wBACA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,GAAjB,wBACA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,IAAjB,yBAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,IAAjB,yBAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,KAAjB,4BAKR,kBAAC8X,EAAA,EAAD,qBACA,kBAACnB,EAAA,EAAD,CACIpN,MAAO,CACHoB,YAAa,GACb4G,WAAY,KAGhB,kBAACoG,GAAA,EAAD,CACIC,QAAQ,2BACRxY,GAAG,qBACHY,MAAOoV,EAAOF,QACd3F,SAAUmG,EAAa,YAEvB,kBAACmC,GAAA,EAAD,CAAU7X,MAAO,KAAjB,kBACA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,MAAjB,kBACA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,OAAjB,YAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,QAAjB,YAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,QAAjB,eAKR,kBAAC8X,EAAA,EAAD,6BAGPtD,GACG,kBAAC,GAAD,CACIV,SAAuB,UAAbA,EACVvE,SAAUqG,EAAa,UAEvB,kBAAC,GAAD,CACIM,gBAAc,kBACd9W,GAAG,kBAEH,kBAAC+W,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,EAAA,EAAD,KACI,kBAAC,IAAD,OAEJ,kBAACC,EAAA,EAAD,CAAcC,QAAQ,mCACtB,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIC,QAASlB,EAAYlF,MACrBf,SAAUwG,EAAY,cAMtC,kBAAC,GAAD,CACItU,UAAWG,EAAQyM,QAEnB,kBAACsI,EAAA,EAAD,CACI9G,QAAQ,WACR5K,MAAM,YACNmK,WAAS,GAET,kBAACwH,GAAA,EAAD,CAAYC,QAAQ,6BAApB,sEAGA,kBAACC,GAAA,EAAD,CACI1H,WAAS,EACThQ,GAAG,8BACH5E,KAAK,SACLud,WAAY,CAAEC,IAAK,GACnBhY,MAAOoV,EAAO9E,MACdf,SAAUmG,EAAa,SACvBgC,WAAY,OAGF,IAAjBtC,EAAO9E,OAA6B,QAAdoE,GACnB,kBAACoD,EAAA,EAAD,CACIjI,QAAQ,QACRpO,UAAWG,EAAQ2M,WAElB,gEACGpL,KAAK8U,KACA7C,EAAO9E,MAAQoE,EACZ,KAER,mBAMxB,kBAAC,GAAD,CACIZ,SAAuB,YAAbA,EACVvE,SAAUqG,EAAa,YAEvB,kBAAC,GAAD,CACIM,gBAAc,kBACd9W,GAAG,kBAEH,kBAAC+W,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,EAAA,EAAD,KACI,kBAAC,IAAD,OAEJ,kBAACC,EAAA,EAAD,CAAcC,QAAQ,6BACtB,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIC,QAASlB,EAAYD,QACrBhG,SAAUwG,EAAY,gBAKtC,kBAAC,GAAD,KACI,kBAAC+B,EAAA,EAAD,sGAMZ,kBAAC9B,EAAA,EAAD,OAGM,KAAblB,GACG,kBAACjD,EAAA,EAAD,KACI,kBAACqG,EAAA,EAAD,CACIC,QA3QA,SAACvL,GAAD,OAAWA,EAAMxM,OAAOgY,UA4QxB7H,WAAS,EACTwH,WAAY,CAAEM,UAAU,GACxB1I,MAAM,2BACN3P,MAAO8U,EACPjF,QAAQ,WACRT,WAAS,KAKrB,kBAAC2D,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASiC,GAAjB,gBAEc,KAAboI,GACG,yBAAKrT,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAhUJ,SAACpM,GACjBA,EAAE4U,iBACF5R,EAAMkR,kBAAiB,GACvB,IAAM+F,EAAiB,CACnBlZ,GAAIiC,EAAMxC,SAAS,GAAGO,GACtBmZ,OAAmC,QAA3BlX,EAAMxC,SAAS,GAAGrE,KAC1Bwa,SAAUI,EAAOJ,SACjBC,UAAWO,EAAYF,OAASF,EAAOH,WAAa,EACpDK,OAAQF,EAAOF,QACf5E,MAAO7J,SAAS2O,EAAO9E,OACvBiF,QAASC,EAAYD,SAGzBxF,IAAIC,KAAK,SAAUsI,GACdrI,MAAK,SAACxW,GACHsb,EAAYtb,EAASG,MACrByb,EAAU,CACNL,SAAU,GACVC,UAAW,EACXC,QAAS,MACTC,cAAc,EACd7E,MAAO,IAEXmF,EAAe,CACXT,UAAU,EACVM,QAAQ,EACRhF,OAAO,IAEXjP,EAAMkR,kBAAiB,MAE1BrC,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,SAC9CsI,EAAMkR,kBAAiB,OAiSXtN,MAAM,YACNkL,SAAU9O,EAAMkS,eAHpB,uCAMKlS,EAAMkS,eACH,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qB,kDCtgBjDlN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCkR,WAAY,CACR/Q,QAAS,sBAEb0M,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,MACNM,WAAY,GACZ+C,YAAa,QAIN,SAASiH,GAAiBnX,GAAQ,IAAD,EACJxD,mBAAS,IADL,mBACrCqU,EADqC,KACvBC,EADuB,OAEItU,mBAAS,IAFb,mBAErCuU,EAFqC,KAEnBC,EAFmB,KAItClW,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECmW,EAAmBpI,uBACrB,SAACiH,GACGhV,EAASoW,YAAiBpB,MAE9B,CAAChV,IAgCCyF,EAAUhB,KAEhB,OACI,kBAACgR,EAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,4BACA,kBAACuT,EAAA,EAAD,CACIC,YAAavR,EAAMuR,YACnB/T,SAAUwC,EAAMxC,SAChBgU,SAzCU,SAACC,GACnB,IAAM3V,EACc,MAAhB2V,EAAO3V,KACD2V,EAAO3V,KAAO2V,EAAOzX,KACrByX,EAAO3V,KAAO,IAAM2V,EAAOzX,KACrC8W,EAAgBhV,GAChBkV,EAAoBS,EAAOzX,SAsCL,KAAjB6W,GACG,kBAACL,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAACF,EAAA,EAAD,iCACS,gCAASM,KAI1B,kBAACW,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASpJ,EAAMqL,SAAvB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QA9CD,SAACpM,GACP,MAALA,GACAA,EAAE4U,iBAENX,GAAiB,GACjBvC,IAAIC,KAAK,mBAAoB,CACzBzC,IAAKjH,aAASjF,EAAMxC,SAAS,IAC7ByU,IAAsB,OAAjBpB,EAAwB,IAAMA,IAElCjC,MAAK,WACF5O,EAAMqL,UACNsC,EAAe,MAAO,QAAS,mDAAY,WAC3CsD,GAAiB,MAEpBpC,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,SAC9CuZ,GAAiB,OA+BTrN,MAAM,UACNkL,SAA2B,KAAjB+B,GAAuB7Q,EAAMkS,eAH3C,eAMKlS,EAAMkS,eACH,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBClGnD,IAAMlN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCkR,WAAY,CACR/Q,QAAS,qBACTK,gBAAiBR,EAAMe,QAAQuS,WAAWC,SAE9C1G,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,MACNM,WAAY,GACZ+C,YAAa,QAIN,SAASkH,GAAepX,GAAQ,IAAD,EACFxD,mBAAS,IADP,mBACnCqU,EADmC,KACrBC,EADqB,OAEVtU,mBAAS,IAFC,mBAEnC6a,EAFmC,KAEzBC,EAFyB,OAIM9a,mBAAS,IAJf,mBAIjBwU,GAJiB,WAMpClW,EAAW6N,cAEXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGCmW,EAAmBpI,uBACrB,SAACiH,GACGhV,EAASoW,YAAiBpB,MAE9B,CAAChV,IAgDCyF,EAAUhB,KAEhB,OACI,kBAACgR,EAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,sBACA,kBAACuT,EAAA,EAAD,CACIC,YAAavR,EAAMuR,YACnB/T,SAAUwC,EAAMxC,SAChBgU,SAzDU,SAACC,GACnB,IAAM3V,EACc,MAAhB2V,EAAO3V,KACD2V,EAAO3V,KAAO2V,EAAOzX,KACrByX,EAAO3V,KAAO,IAAM2V,EAAOzX,KACrC8W,EAAgBhV,GAChBkV,EAAoBS,EAAOzX,SAsDL,KAAjB6W,GACG,kBAACL,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAACF,EAAA,EAAD,KACI,kBAACoG,EAAA,EAAD,CACI3I,SAAU,SAAClR,GAAD,OAAOsa,EAAYta,EAAE+B,OAAOJ,QACtCA,MAAO0Y,EACPtJ,WAAS,EACTmB,WAAS,EACTnR,GAAG,iBACHuQ,MAAM,qCAKtB,kBAACoD,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASpJ,EAAMqL,SAAvB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QArED,SAACpM,GACP,MAALA,GACAA,EAAE4U,iBAENX,GAAiB,GAEjB,IAAMY,EAAO,GACTC,EAAQ,GAEZ9R,EAAMxC,SAASmI,KAAI,SAAChH,GACG,QAAfA,EAAMxF,KACN0Y,EAAKE,KAAKpT,EAAMZ,IAEhB+T,EAAMC,KAAKpT,EAAMZ,OAIzB2Q,IAAIC,KAAK,iBAAkB,CACvBzC,IAAK,CACD2F,KAAMA,EACNC,MAAOA,GAEX9X,KAAMqd,EACNpF,IAAsB,OAAjBpB,EAAwB,IAAMA,IAElCjC,MAAK,WACF5O,EAAMqL,UACNsC,EAAe,MAAO,QAAS,6CAAW,WAC1CsD,GAAiB,MAEpBpC,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,SAC9CuZ,GAAiB,OAsCTrN,MAAM,UACNkL,SACqB,KAAjB+B,GACa,KAAbwG,GACArX,EAAMkS,eANd,eAUKlS,EAAMkS,eACH,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBChInD,IAAMlN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC6M,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,MACNM,WAAY,GACZ+C,YAAa,IAEjBqH,MAAO,CACH5X,MAAO,SAIA,SAAS6X,GAAexX,GAAQ,IAAD,EACExD,mBAAS,IADX,mBACnCib,EADmC,KACnBC,EADmB,OAEVlb,mBAAS,IAFC,mBAEnCmb,EAFmC,KAEzBC,EAFyB,KAGpC9c,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGCmW,EAAmBpI,uBACrB,SAACiH,GACGhV,EAASoW,YAAiBpB,MAE9B,CAAChV,IAsCLgC,qBAAU,WACFkD,EAAMxG,MACNkV,IAAImJ,IAAI,0BACHjJ,MAAK,SAACxW,GACHwf,EAAYxf,EAASG,KAAKuf,SAC1BJ,EAAkBtf,EAASG,KAAKwf,QAAQha,OAE3C8Q,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,cAK3D,CAACsI,EAAMxG,OAEV,IAAM+G,EAAUhB,KAEhB,OACI,kBAACgR,EAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,8CAEA,kBAACyS,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAAC2F,GAAA,EAAD,CACIlW,UAAWG,EAAQgX,MACnBhB,QAAQ,2BACR5X,MAAO8Y,EACPvJ,SAAU,SAAClR,GAAD,OAAO0a,EAAkB1a,EAAE+B,OAAOJ,SAE3CgZ,EAAShS,KAAI,SAAC+B,EAAG0G,GAAJ,OACV,kBAACoI,GAAA,EAAD,CAAUhV,IAAK4M,EAAGzP,MAAO+I,EAAE3J,IACtB2J,EAAE1N,WAMnB,kBAAC0X,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASpJ,EAAMqL,SAAvB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QA/EG,SAACpM,GACX,MAALA,GACAA,EAAE4U,iBAENX,GAAiB,GAEjB,IAAMY,EAAO,GACTC,EAAQ,GAEZ9R,EAAMxC,SAASmI,KAAI,SAAChH,GACG,QAAfA,EAAMxF,KACN0Y,EAAKE,KAAKpT,EAAMZ,IAEhB+T,EAAMC,KAAKpT,EAAMZ,OAIzB2Q,IAAIC,KAAK,iBAAkB,CACvBzC,IAAK,CACD2F,KAAMA,EACNC,MAAOA,GAEXkG,cAAeP,IAEd7I,MAAK,WACF5O,EAAMqL,UACNsC,EAAe,MAAO,QAAS,6CAAW,WAC1CsD,GAAiB,MAEpBpC,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,SAC9CuZ,GAAiB,OAiDTrN,MAAM,UACNkL,SAA6B,KAAnB2I,GAAyBzX,EAAMkS,eAH7C,eAMKlS,EAAMkS,eACH,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBCzGnD,IAgEMwL,G,4MACFrZ,MAAQ,CACJsZ,cAAe,GACfC,YAAa,GACbC,QAAS,GACTvH,aAAc,GACdE,iBAAkB,GAClBsH,aAAa,EACbC,SAAU,GACVlM,SAAU,GACVmM,YAAa,GACbC,0BAA0B,EAC1BxZ,OAAQ,GACRyZ,iBAAkB,M,EAGtBC,kBAAoB,SAAC1b,GACjB,EAAK2b,SAAL,eACK3b,EAAE+B,OAAOhB,GAAKf,EAAE+B,OAAOJ,S,EAIhCia,cAAgB,G,EAChBC,YAAa,E,EAEbC,iCAAmC,SAACC,GAChC,GAAI,EAAK/Y,MAAMgZ,aAAeD,EAAUC,YAIxC,GAAI,EAAKhZ,MAAMyN,UAAYsL,EAAUtL,QA2BrC,GAAI,EAAKzN,MAAMiZ,aAAaC,SAAWH,EAAUE,aAAaC,OAQ1D,EAAKlZ,MAAMiZ,aAAaE,YACpBJ,EAAUE,aAAaE,YACU,IAArCJ,EAAUE,aAAaE,WAEvBzK,IAAImJ,IAAI,gBAAkB,EAAK7X,MAAMxC,SAAS,GAAGO,IAC5C6Q,MAAK,SAACxW,GACH,EAAKugB,SAAS,CACV3Z,OAAQ5G,EAASG,KAAKsK,SAG7BgM,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,gBAvBhB,CACI,IAAMsC,EAAO+e,EAAUvb,SAAS,GAAGxD,KACnC,EAAK2e,SAAS,CACVP,QAASpe,SA5Bb,IAA0B,IAAtB+e,EAAUtL,QACV,GAA8B,0BAA1BsL,EAAUzI,YAA0B,CACpC,GACI8I,KAAWrd,YAAY,EAAKiE,MAAMpH,SAASygB,WAC3C,EAAKrZ,MAAM0J,OACX,EAAK1J,MAAM0J,MAAMuF,MAAQ,EAGzB,YADA,EAAKqK,aAAa,EAAKC,iBAG3B,EAAKA,uBACF,GAA8B,4CAA1BR,EAAUzI,YAA6B,CAC9C,GACI8I,KAAWrd,YAAY,EAAKiE,MAAMpH,SAASygB,WAC3C,EAAKrZ,MAAM0J,OACX,EAAK1J,MAAM0J,MAAMuF,MAAQ,EAGzB,YADA,EAAKqK,aAAa,EAAKE,UAG3B,EAAKA,iBAzBb,EAAKC,SAASV,EAAUxb,UAAWwb,EAAUzb,Y,EA2DrDgc,aAAe,SAACtK,GAEZ,IAAKvW,KAAK2I,QAQN,OAPA,EAAKpB,MAAMgL,eACP,MACA,QACA,yDACA,gBAEJ,EAAKK,UAGJ5S,KAAKoI,UAAU6Y,MAAMC,WAAc,EAAKd,WAUzC7J,IATA,EAAK2J,SAAS,CACVF,iBAAkB,WACd,EAAKE,SAAS,CACVF,iBAAkB,OAEtBzJ,Q,EAQhBwK,SAAW,WACP,IAAII,EAAS,GACb,GAAI,EAAK5Z,MAAMxC,SAAS,GAAGgE,IAAK,CAC5B,IAAMqY,EAC8B,MAAhC,EAAK7Z,MAAMxC,SAAS,GAAG1B,KACjB,EAAKkE,MAAMxC,SAAS,GAAG1B,KAAO,EAAKkE,MAAMxC,SAAS,GAAGxD,KACrD,EAAKgG,MAAMxC,SAAS,GAAG1B,KACvB,IACA,EAAKkE,MAAMxC,SAAS,GAAGxD,KACjC4f,EACI,mBACA,EAAK5Z,MAAMxC,SAAS,GAAGgE,IACvB,SACAsY,mBAAmBD,QAEvBD,EAAS,kBAAoB,EAAK5Z,MAAMxC,SAAS,GAAGO,GAGxD2Q,IAAIqL,IAAIH,GACHhL,MAAK,SAACxW,GACHO,OAAOC,SAASkG,OAAO1G,EAASG,MAChC,EAAK8S,UACL,EAAKwN,YAAa,KAErBhK,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAK2T,c,EAIjBkO,gBAAkB,WACd,IAAM1H,EAAO,GACTC,EAAQ,GACZ,EAAK9R,MAAMxC,SAASmI,KAAI,SAAChH,GAMrB,MALmB,QAAfA,EAAMxF,KACN0Y,EAAKE,KAAKpT,EAAMZ,IAEhB+T,EAAMC,KAAKpT,EAAMZ,IAEd,QAGX,IAAI6b,EAAS,gBACPI,EAAW,CACblI,MAAOA,EACPD,KAAMA,GAENuH,KAAWrd,YAAY,EAAKiE,MAAMpH,SAASygB,YAC3CO,EAAS,kBAAoBjhB,OAAO0K,UAAU7B,IAC9CwY,EAAQ,KAAW,EAAKha,MAAMxC,SAAS,GAAG1B,MAG9C4S,IAAIC,KAAKiL,EAAQI,GACZpL,MAAK,SAACxW,GAC2B,IAA1BA,EAASE,QAAQX,MACjB,EAAK0T,UACL1S,OAAOC,SAASkG,OAAO1G,EAASG,OAEhC,EAAKyH,MAAMgL,eACP,MACA,QACA5S,EAASE,QAAQQ,IACjB,WAGR,EAAKuS,UACL,EAAKrL,MAAMia,oBAEdpL,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAK2T,c,EAIjB6O,aAAe,SAACld,GACZA,EAAE4U,iBACF,EAAK5R,MAAMkR,kBAAiB,GAC5B,IAAMW,EAAO,GACTC,EAAQ,GAEZ,EAAK9R,MAAMxC,SAASmI,KAAI,SAAChH,GACF,QAAfA,EAAMxF,KACN0Y,EAAKE,KAAKpT,EAAMZ,IAEhB+T,EAAMC,KAAKpT,EAAMZ,OAGzB2Q,IAAIyL,OAAO,UAAW,CAClB5hB,KAAM,CACFuZ,MAAOA,EACPD,KAAMA,KAGTjD,MAAK,SAACxW,GAC2B,IAA1BA,EAASE,QAAQX,MACjB,EAAK0T,UACLuC,WAAW,EAAK5N,MAAMoR,gBAAiB,MAEvC,EAAKpR,MAAMgL,eACP,MACA,QACA5S,EAASE,QAAQQ,IACjB,WAGR,EAAKkH,MAAMkR,kBAAiB,GAC5B,EAAKlR,MAAMia,oBAEdpL,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKsI,MAAMkR,kBAAiB,O,EAIxCkJ,aAAe,SAACpd,GACZA,EAAE4U,iBACF,EAAK5R,MAAMkR,kBAAiB,GAC5BxC,IAAIC,KAAK,eAAiBhW,OAAO0hB,SAAU,CACvCve,KACgC,OAA5B,EAAK8C,MAAMiS,aACL,IACA,EAAKjS,MAAMiS,eAEpBjC,MAAK,WACF,EAAKvD,UACL,EAAKrL,MAAMgL,eACP,MACA,QACA,iCACA,WAEJ,EAAKhL,MAAMoR,kBACX,EAAKpR,MAAMkR,kBAAiB,MAE/BrC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKsI,MAAMkR,kBAAiB,O,EAIxCoJ,WAAa,SAACtd,GACD,MAALA,GACAA,EAAE4U,iBAEN,EAAK5R,MAAMkR,kBAAiB,GAC5B,IAAMW,EAAO,GACTC,EAAQ,GAEZ,EAAK9R,MAAMxC,SAASmI,KAAI,SAAChH,GACF,QAAfA,EAAMxF,KACN0Y,EAAKE,KAAKpT,EAAMZ,IAEhB+T,EAAMC,KAAKpT,EAAMZ,OAGzB2Q,IAAI6L,MAAM,UAAW,CACjB1b,OAAQ,OACRmT,QAAS,EAAKhS,MAAMxC,SAAS,GAAG1B,KAChCoQ,IAAK,CACD2F,KAAMA,EACNC,MAAOA,GAEXG,IAAK,EAAKuI,iBACJ,EAAKA,iBACuB,OAA5B,EAAK5b,MAAMiS,aACX,IACA,EAAKjS,MAAMiS,eAEhBjC,MAAK,WACF,EAAKvD,UACL,EAAKrL,MAAMoR,kBACX,EAAKpR,MAAMkR,kBAAiB,MAE/BrC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKsI,MAAMkR,kBAAiB,MAE/BtC,MAAK,WACF,EAAK5O,MAAMya,qB,EAIvBhB,SAAW,SAACza,EAAQD,GACmB,IAA/B,EAAKiB,MAAMxC,SAASiB,SACpB,EAAKuB,MAAMxC,SAAS,GAAKwB,GAE7B,IAAI0b,GAAS,EAGb,EAAK1a,MAAMxC,SAASmI,KAAI,SAAChH,GAEjBA,EAAMZ,KAAOgB,EAAOhB,IAAMY,EAAMxF,OAAS4F,EAAO5F,KAOhDwF,EAAM7C,OACNiD,EAAOjD,MAAwB,MAAhBiD,EAAOjD,KAAe,GAAK,KAAOiD,EAAO/E,OAExD0gB,GAAS,GATTA,GAAS,KAYbA,IACA,EAAKF,iBACe,MAAhBzb,EAAOjD,KACDiD,EAAOjD,KAAOiD,EAAO/E,KACrB+E,EAAOjD,KAAO,IAAMiD,EAAO/E,KACrC,EAAKgG,MAAM2a,kBAAkB,yBAC7B,EAAKL,e,EAIbM,aAAe,SAAC5d,GACZA,EAAE4U,iBACF,EAAK5R,MAAMkR,kBAAiB,GAC5B,IAAMkH,EAAU,EAAKxZ,MAAMwZ,QAErBlM,EAAM,CACR2F,KAAM,GACNC,MAAO,IAGyB,QAAhC,EAAK9R,MAAMxC,SAAS,GAAGrE,KACvB+S,EAAI2F,KAAK,GAAK,EAAK7R,MAAMxC,SAAS,GAAGO,GAErCmO,EAAI4F,MAAM,GAAK,EAAK9R,MAAMxC,SAAS,GAAGO,IAO9B,IAFR,EAAKiC,MAAM9E,QAAQ2f,WAAU,SAAClc,GAC1B,OAAOA,EAAM3E,OAASoe,OAIlB,IAFR,EAAKpY,MAAM3E,SAASwf,WAAU,SAAClc,GAC3B,OAAOA,EAAM3E,OAASoe,MAG1B,EAAKpY,MAAMgL,eACP,MACA,QACA,+DACA,WAEJ,EAAKhL,MAAMkR,kBAAiB,IAE5BxC,IAAIC,KAAK,iBAAkB,CACvB9P,OAAQ,SACRqN,IAAKA,EACL4O,SAAU1C,IAETxJ,MAAK,WACF,EAAKvD,UACL,EAAKrL,MAAMoR,kBACX,EAAKpR,MAAMkR,kBAAiB,MAE/BrC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKsI,MAAMkR,kBAAiB,O,EAK5C6J,sBAAwB,SAAC/d,GACrBA,EAAE4U,iBACF,EAAK5R,MAAMkR,kBAAiB,IAIhB,IAFR,EAAKlR,MAAM9E,QAAQ2f,WAAU,SAAClc,GAC1B,OAAOA,EAAM3E,OAAS,EAAK4E,MAAMsZ,kBAGrC,EAAKlY,MAAMgL,eACP,MACA,QACA,6CACA,WAEJ,EAAKhL,MAAMkR,kBAAiB,IAE5BxC,IAAIqL,IAAI,aAAc,CAClBje,MACyB,MAApB,EAAKkE,MAAMlE,KAAe,GAAK,EAAKkE,MAAMlE,MAC3C,IACA,EAAK8C,MAAMsZ,gBAEdtJ,MAAK,WACF,EAAKvD,UACL,EAAKrL,MAAMoR,kBACX,EAAKpR,MAAMkR,kBAAiB,MAE/BrC,OAAM,SAACjX,GACJ,EAAKoI,MAAMkR,kBAAiB,GAE5B,EAAKlR,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,a,EAOpBsjB,oBAAsB,SAAChe,GACnBA,EAAE4U,iBACF,EAAK5R,MAAMkR,kBAAiB,IAIhB,IAFR,EAAKlR,MAAM9E,QAAQ2f,WAAU,SAAClc,GAC1B,OAAOA,EAAM3E,OAAS,EAAK4E,MAAMuZ,gBAGrC,EAAKnY,MAAMgL,eACP,MACA,QACA,uCACA,WAEJ,EAAKhL,MAAMkR,kBAAiB,IAE5BxC,IAAIC,KAAK,eAAgB,CACrB7S,MACyB,MAApB,EAAKkE,MAAMlE,KAAe,GAAK,EAAKkE,MAAMlE,MAC3C,IACA,EAAK8C,MAAMuZ,cAEdvJ,MAAK,WACF,EAAKvD,UACL,EAAKrL,MAAMoR,kBACX,EAAKpR,MAAMkR,kBAAiB,MAE/BrC,OAAM,SAACjX,GACJ,EAAKoI,MAAMkR,kBAAiB,GAE5B,EAAKlR,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,a,EAOpBujB,sBAAwB,SAACje,GACrBA,EAAE4U,iBACF,EAAK5R,MAAMkR,kBAAiB,GAC5BxC,IAAIC,KAAK,kBAAoB,EAAK3O,MAAMxC,SAAS,GAAGO,GAAI,CACpDkU,IACgC,OAA5B,EAAKrT,MAAMiS,aACL,IACA,EAAKjS,MAAMiS,eAEpBjC,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,iCACA,WAEJ,EAAKK,UACL,EAAKrL,MAAMkR,kBAAiB,MAE/BrC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKsI,MAAMkR,kBAAiB,O,EAIxCgK,eAAiB,SAACle,GACdA,EAAE4U,iBACF,EAAK5R,MAAMkR,kBAAiB,GAC5BxC,IAAIC,KAAK,aAAc,CACnB9L,IAAK,EAAKjE,MAAM2Z,YAChBtG,IACgC,OAA5B,EAAKrT,MAAMiS,aACL,IACA,EAAKjS,MAAMiS,eAEpBjC,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,iCACA,WAEJ,EAAKK,UACL,EAAKrL,MAAMkR,kBAAiB,MAE/BrC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKsI,MAAMkR,kBAAiB,O,EAIxCiK,cAAgB,SAAC1J,GACb,IAAM3V,EACc,MAAhB2V,EAAO3V,KACD2V,EAAO3V,KAAO2V,EAAOzX,KACrByX,EAAO3V,KAAO,IAAM2V,EAAOzX,KACrC,EAAK2e,SAAS,CACV9H,aAAc/U,EACdiV,iBAAkBU,EAAOzX,Q,EAIjCohB,mBAAqB,WACjB,EAAKpb,MAAMya,iBACX,EAAK9B,SAAS,CACVH,0BAA0B,K,EAIlCnN,QAAU,WACN,EAAKsN,SAAS,CACVT,cAAe,GACfC,YAAa,GACbC,QAAS,GACTvH,aAAc,GACdE,iBAAkB,GAClBsH,aAAa,EACbC,SAAU,GACVC,YAAa,GACbnM,SAAU,GACVoM,0BAA0B,EAC1BxZ,OAAQ,KAEZ,EAAK4Z,cAAgB,GACrB,EAAK5Y,MAAMya,kB,EAGfpG,aAAe,SAACra,GAAD,OAAU,SAACuR,GACtB,EAAKoN,SAAL,eAAiB3e,EAAOuR,EAAMxM,OAAOsW,Y,4CAGzC,WAAU,IAAD,OACG9U,EAAY1I,KAAKmI,MAAjBO,QAER,OACI,6BACI,kBAAC,EAAD,MACA,kBAAC8a,GAAA,EAAD,CACIrM,SAAUnX,KAAK+G,MAAM6Z,iBACrBxJ,MAAOpX,KAAKmI,MAAM0J,MAAQ7R,KAAKmI,MAAM0J,MAAMuF,MAAQ,EACnD5D,QAAS,WACL,EAAKsN,SAAS,CAAEF,iBAAkB,OAClC,EAAKpN,aAGb,kBAACkF,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAaE,UAC9B9N,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,wCAIA,kBAACyS,EAAA,EAAD,KACI,0BAAM8K,SAAUzjB,KAAKkjB,uBACjB,kBAAClE,EAAA,EAAD,CACI3H,WAAS,EACT3C,OAAO,QACPxO,GAAG,gBACHuQ,MAAM,2BACNnV,KAAK,OACLwF,MAAO9G,KAAK+G,MAAMI,OAClB+O,WAAS,MAIrB,kBAAC2D,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,kBAGR,kBAACkF,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAasC,gBAC9BlQ,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,kCAEA,kBAACyS,EAAA,EAAD,KACI,0BAAM8K,SAAUzjB,KAAKkjB,uBACjB,kBAAClE,EAAA,EAAD,CACI3H,WAAS,EACT3C,OAAO,QACPxO,GAAG,gBACHuQ,MAAM,iCACNnV,KAAK,OACLwF,MAAO9G,KAAK+G,MAAMsZ,cAClBhK,SAAU,SAAClR,GAAD,OAAO,EAAK0b,kBAAkB1b,IACxC+Q,WAAS,MAIrB,kBAAC2D,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAKkjB,sBACdnX,MAAM,UACNkL,SACiC,KAA7BjX,KAAK+G,MAAMsZ,eACXrgB,KAAKmI,MAAMkS,eALnB,eASKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAQ3C,kBAAC8D,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAauC,cAC9BnQ,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,4BAEA,kBAACyS,EAAA,EAAD,KACI,0BAAM8K,SAAUzjB,KAAKmjB,qBACjB,kBAACnE,EAAA,EAAD,CACI3H,WAAS,EACT3C,OAAO,QACPxO,GAAG,cACHuQ,MAAM,2BACNnV,KAAK,OACLwF,MAAO9G,KAAK+G,MAAMuZ,YAClBjK,SAAU,SAAClR,GAAD,OAAO,EAAK0b,kBAAkB1b,IACxC+Q,WAAS,MAIrB,kBAAC2D,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAKmjB,oBACdpX,MAAM,UACNkL,SAC+B,KAA3BjX,KAAK+G,MAAMuZ,aACXtgB,KAAKmI,MAAMkS,eALnB,eASKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAQ3C,kBAAC8D,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAaC,OAC9B7N,QAASxT,KAAKwT,QACdwC,kBAAgB,oBAChBC,SAAS,KACTC,WAAW,GAEX,kBAACsD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,sBACA,kBAACyS,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,oBACO,IACH,gCACoC,IAA/B5Y,KAAKmI,MAAMxC,SAASiB,OACf5G,KAAKmI,MAAMxC,SAAS,GAAGxD,KACvB,IACA,IANd,kCASA,0BAAMshB,SAAUzjB,KAAK+iB,cACjB,kBAAC/D,EAAA,EAAD,CACI3H,WAAS,EACT3C,OAAO,QACPxO,GAAG,UACHuQ,MAAM,qBACNnV,KAAK,OACLwF,MAAO9G,KAAK+G,MAAMwZ,QAClBlK,SAAU,SAAClR,GAAD,OAAO,EAAK0b,kBAAkB1b,IACxC+Q,WAAS,MAIrB,kBAAC2D,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAK+iB,aACdhX,MAAM,UACNkL,SAC2B,KAAvBjX,KAAK+G,MAAMwZ,SACXvgB,KAAKmI,MAAMkS,eALnB,eASKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAO3C,kBAACmE,EAAD,CACIpX,KAAM3B,KAAKmI,MAAMiZ,aAAawC,KAC9BpQ,QAASxT,KAAKwT,QACdkG,YAAa1Z,KAAKmI,MAAMlE,KACxB0B,SAAU3F,KAAKmI,MAAMxC,SACrB0U,cAAera,KAAKmI,MAAMkS,gBAG9B,kBAAC3B,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAayC,KAC9BrQ,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,sBACA,kBAACuT,EAAA,EAAD,CACIC,YAAa1Z,KAAKmI,MAAMlE,KACxB0B,SAAU3F,KAAKmI,MAAMxC,SACrBgU,SAAU3Z,KAAKsjB,gBAGU,KAA5BtjB,KAAK+G,MAAMiS,cACR,kBAACL,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAACF,EAAA,EAAD,0BACQ,IACJ,gCAAS5Y,KAAK+G,MAAMmS,oBAIhC,kBAACW,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAKyiB,WACd1W,MAAM,UACNkL,SACgC,KAA5BjX,KAAK+G,MAAMiS,cACXhZ,KAAKmI,MAAMkS,eALnB,eASKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAO3C,kBAAC8D,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAa0C,OAC9BtQ,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,sBACA,kBAACuT,EAAA,EAAD,CACIC,YAAa1Z,KAAKmI,MAAMlE,KACxB0B,SAAU3F,KAAKmI,MAAMxC,SACrBgU,SAAU3Z,KAAKsjB,gBAGU,KAA5BtjB,KAAK+G,MAAMiS,cACR,kBAACL,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAACF,EAAA,EAAD,0BACQ,IACJ,gCAAS5Y,KAAK+G,MAAMmS,oBAIhC,kBAACW,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAKuiB,aACdxW,MAAM,UACNkL,SACgC,KAA5BjX,KAAK+G,MAAMiS,cACXhZ,KAAKmI,MAAMkS,eALnB,eASKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAO3C,kBAAC8D,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAa2C,OAC9BvQ,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,4BAEA,kBAACyS,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,sCAEoC,IAA/B5Y,KAAKmI,MAAMxC,SAASiB,QACjB,oCAAU5G,KAAKmI,MAAMxC,SAAS,GAAGxD,KAAjC,KAEHnC,KAAKmI,MAAMxC,SAASiB,OAAS,GAC1B,uCACM5G,KAAKmI,MAAMxC,SAASiB,OAD1B,sBANR,iBAaJ,kBAACiT,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAKqiB,aACdtW,MAAM,UACNkL,SAAUjX,KAAKmI,MAAMkS,eAHzB,eAMKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAQ3C,kBAACyG,GAAD,CACI1Z,KAAM3B,KAAKmI,MAAMiZ,aAAavP,MAC9B2B,QAASxT,KAAKwT,QACd6G,cAAera,KAAKmI,MAAMkS,cAC1BhB,iBAAkBrZ,KAAKmI,MAAMkR,iBAC7B1T,SAAU3F,KAAKmI,MAAMxC,WAGzB,kBAAC+S,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAa4C,MAC9BxQ,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,4BAEA,kBAACyS,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACoC,IAA/B5Y,KAAKmI,MAAMxC,SAASiB,QACjB,2BACIqd,UAAQ,EACR5P,IACIkN,KAAWrd,YACPlE,KAAKmI,MAAMpH,SAASygB,UAElBniB,IACA,kBACAW,KAAKmI,MAAMxC,SAAS,GAAGgE,KACtB3J,KAAKmI,MAAMxC,SAAS,GAAGgE,IAClB,SACAsY,mBAEkB,MADdjiB,KAAKmI,MAAMxC,SAAS,GACf1B,KACCjE,KAAKmI,MACAxC,SAAS,GACT1B,KACDjE,KAAKmI,MACAxC,SAAS,GACTxD,KACTnC,KAAKmI,MACAxC,SAAS,GACT1B,KACD,IACAjE,KAAKmI,MACAxC,SAAS,GACTxD,MAEnB,IACN9C,IACA,iBACAW,KAAKmI,MAAMxC,SAAS,GAAGO,MAK7C,kBAAC0S,EAAA,EAAD,KACI,yBAAKrQ,UAAWG,EAAQwb,KACpB,kBAAC,IAAQC,MAAT,CAAeC,KAAK,gBAIhC,kBAACvK,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,kBAGR,kBAACkF,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAaiD,eAC9B7Q,QAASxT,KAAKwT,QACdwC,kBAAgB,oBAChBE,WAAS,GAET,kBAACsD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,oDAIA,kBAACyS,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACoG,EAAA,EAAD,CACIvI,MAAM,2BACNY,WAAS,EACTnB,WAAS,EACThQ,GAAG,cACHmQ,SAAUrW,KAAK6gB,kBACfyD,YAAY,wGAIxB,kBAACzK,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,kBAACsG,EAAA,EAAD,CACIvI,QAASvR,KAAKujB,mBACdxX,MAAM,UACNkL,SACIjX,KAAKmI,MAAMkS,eACgB,KAA3Bra,KAAK+G,MAAM2Z,aALnB,wBAYR,kBAAChI,EAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAM4Z,yBACjBnN,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,wCAGA,kBAACuT,EAAA,EAAD,CACIC,YAAa1Z,KAAKmI,MAAMlE,KACxB0B,SAAU3F,KAAKmI,MAAMxC,SACrBgU,SAAU3Z,KAAKsjB,gBAGU,KAA5BtjB,KAAK+G,MAAMiS,cACR,kBAACL,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAACF,EAAA,EAAD,0BACQ,IACJ,gCAAS5Y,KAAK+G,MAAMmS,oBAIhC,kBAACW,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAKqjB,eACdtX,MAAM,UACNkL,SACgC,KAA5BjX,KAAK+G,MAAMiS,cACXhZ,KAAKmI,MAAMkS,eALnB,2BASKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAO3C,kBAAC8D,EAAA,EAAD,CACI/W,KAAM3B,KAAKmI,MAAMiZ,aAAamD,gBAC9B/Q,QAASxT,KAAKwT,QACdwC,kBAAgB,qBAEhB,kBAACwD,EAAA,EAAD,CAAatT,GAAG,qBAAhB,wCAGA,kBAACuT,EAAA,EAAD,CACIC,YAAa1Z,KAAKmI,MAAMlE,KACxB0B,SAAU3F,KAAKmI,MAAMxC,SACrBgU,SAAU3Z,KAAKsjB,gBAGU,KAA5BtjB,KAAK+G,MAAMiS,cACR,kBAACL,EAAA,EAAD,CAAepQ,UAAWG,EAAQoQ,YAC9B,kBAACF,EAAA,EAAD,0BACQ,IACJ,gCAAS5Y,KAAK+G,MAAMmS,oBAIhC,kBAACW,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKwT,SAAtB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACIvI,QAASvR,KAAKojB,sBACdrX,MAAM,UACNkL,SACgC,KAA5BjX,KAAK+G,MAAMiS,cACXhZ,KAAKmI,MAAMkS,eALnB,2BASKra,KAAKmI,MAAMkS,eACR,kBAACxB,EAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBAQ3C,kBAAC0K,GAAD,CACI3d,KAAM3B,KAAKmI,MAAMiZ,aAAaoD,WAC9BhR,QAASxT,KAAKwT,QACdkG,YAAa1Z,KAAKmI,MAAMlE,KACxB0B,SAAU3F,KAAKmI,MAAMxC,SACrB0U,cAAera,KAAKmI,MAAMkS,gBAE9B,kBAACkF,GAAD,CACI5d,KAAM3B,KAAKmI,MAAMiZ,aAAaqD,SAC9BjR,QAASxT,KAAKwT,QACdkG,YAAa1Z,KAAKmI,MAAMlE,KACxB0B,SAAU3F,KAAKmI,MAAMxC,SACrB0U,cAAera,KAAKmI,MAAMkS,gBAE9B,kBAACsF,GAAD,CACIhe,KAAM3B,KAAKmI,MAAMiZ,aAAasD,SAC9BlR,QAASxT,KAAKwT,QACd7N,SAAU3F,KAAKmI,MAAMxC,SACrB0U,cAAera,KAAKmI,MAAMkS,qB,GAtlChBsK,aAimCxBC,GAASC,aAxoCS,SAAC9d,GACrB,MAAO,CACH9C,KAAM8C,EAAM1E,UAAU4B,KACtB0B,SAAUoB,EAAMnD,SAAS+B,SACzByb,aAAcra,EAAM3D,WAAWmV,OAC/B8B,cAAetT,EAAM3D,WAAWiX,cAChChX,QAAS0D,EAAMnD,SAASP,QACxBG,SAAUuD,EAAMnD,SAASJ,SACzB2d,WAAYpa,EAAMnD,SAAS4B,UAC3BC,UAAWsB,EAAMnD,SAAS6B,UAC1BC,UAAWqB,EAAMnD,SAAS8B,UAC1BkQ,QAAS7O,EAAM3D,WAAWmV,OAAO3C,QACjC6C,YAAa1R,EAAM3D,WAAWmV,OAAOE,gBAIlB,SAACxV,GACxB,MAAO,CACH2f,eAAgB,WACZ3f,EAAS2f,gBAEbzP,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvDsN,iBAAkB,SAACpB,GACfhV,EAASoW,YAAiBpB,KAE9BsB,gBAAiB,WACbtW,EAASsW,gBAEb6I,eAAgB,WACZnf,EAASmf,gBAEbU,kBAAmB,SAACtK,GAChBvV,EAAS6f,YAAkBtK,QAsmCxBqM,CAGbtK,aApqCa,SAAC3S,GAAD,MAAY,CACvB6M,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,MACNM,WAAY,GACZ+C,YAAa,IAEjBS,WAAY,CACR/Q,QAAS,sBAEbmc,IAAI,CACApc,MAAO,OACPsM,OAAQ,GACR0Q,UAAW,GACXC,UAAW,SACXzP,UAAW,aA+oCjBiF,CAAmByK,aAAW5E,MAEjBwE,c,+OC9rCTld,EAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,IAVZ,GAYN0T,OAAQ,CACJC,aAAc,OAElB5K,KAAM,CACFpS,gBAAiB,QACjBgd,aAAc,OAElB,UAAW,CACP,eAAgB,CACZC,UAAW,uBASR,SAASC,IAAc,IAAD,EACH3gB,mBAAS,IADN,mBAC1BoW,EAD0B,KACjBwK,EADiB,OAEL5gB,mBAAS,IAFJ,mBAE1BsT,EAF0B,KAElBuN,EAFkB,OAGH7gB,oBAAS,GAHN,mBAG1BiR,EAH0B,KAGjBC,EAHiB,KAI3B4P,EAAOC,cACPC,EAAMjK,IAAMkK,YACZ7kB,EAAW8kB,cACXC,EAVC,IAAIC,gBAAgBF,cAAcG,QAWjC9f,EAAO+f,cAAP/f,GAEFjD,EAAW6N,cACXoV,EAAclV,uBAChB,SAACI,GAAD,OAAWnO,EAASkjB,YAAe/U,MACnC,CAACnO,IAEC6S,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGLgC,qBAAU,WACN,GAAKsc,IAAWrd,YAAYnD,EAASygB,UAIjC0E,EAAYJ,EAAM9F,IAAI,aAJsB,CAC5C,IAAM/b,EAAO6hB,EAAM9F,IAAI,KAAK/S,MAAM,KAClCiZ,EAAYjiB,EAAKA,EAAK2C,OAAS,OAKpC,CAAC6e,EAAKW,OAAO,GAAIrlB,IAEpBkE,qBAAU,WACN,IAAIohB,EAAa,iBAAmBP,EAAM9F,IAAI,MAC1CuB,IAAWrd,YAAYnD,EAASygB,YAChC6E,EAAa,kBAAoBngB,EACD,KAA5B4f,EAAM9F,IAAI,gBACVqG,GACI,SAAWpE,mBAAmB6D,EAAM9F,IAAI,iBAIpDnK,GAAW,GACXgB,IAAImJ,IAAIqG,EAAY,CAAEC,aAAc,gBAC/BvP,MAAK,SAACxW,GACH,IACMgmB,EADS,IAAIC,EAAOjmB,EAASE,QAAS,UACpB+M,WACxB+X,EAAWgB,MAEdvP,OAAM,SAACjX,GACJ+V,EACI,MACA,QACA,yDAAc/V,EAAMF,QACpB,YAGPkX,MAAK,WACFlB,GAAW,QAGpB,CAAC4P,EAAKW,OAAO,KAEhB,IAAMK,EAAW,SAACxgB,GAAD,OACb,IAAI/E,SAAQ,SAACwlB,EAASvlB,GAClB,IAAMwlB,EAAS,IAAIC,WACnBD,EAAOE,cAAc5gB,GACrB0gB,EAAOG,OAAS,kBAAMJ,EAAQC,EAAOtX,SACrCsX,EAAOI,QAAU,SAAChnB,GAAD,OAAWoB,EAAOpB,QAGrCinB,EAAO,WACTxB,EAAU,WACV3O,IAAIqL,IAAI,gBAAkB4D,EAAM9F,IAAI,MAAOjF,GACtChE,MAAK,WACFyO,EAAU,WACVzP,YAAW,kBAAMyP,EAAU,MAAK,QAEnCxO,OAAM,SAACjX,GACJylB,EAAU,IACV1P,EAAe,MAAO,QAAS/V,EAAMF,QAAS,aAIpDonB,EAAM,uCAAG,WAAOC,GAAP,SAAAplB,EAAA,kEACX6jB,EAAIzF,QADO,KACUgH,EAAM/kB,KADhB,SAC4BskB,EAASS,GADrC,wBACCC,SADD,qBAEXC,QAAQjd,IAAI+c,GAFD,2CAAH,sDAKNxe,EAAUhB,IAChB,OACI,yBAAKa,UAAWG,EAAQuc,QACpB,kBAAC,IAAD,CAAO1c,UAAWG,EAAQ8R,KAAM6M,UAAW,GACtCzR,GAAW,kBAAC,IAAD,OACVA,GACE,kBAAC,IAAD,CACI0R,IAAK3B,EACL7e,MAAOiU,EACPwM,OAAQ,kBAAMP,KACdC,OAAQ,SAACC,GAAD,OAAWD,EAAOC,IAC1B7Q,SAAU,SAACvP,GAAD,OAAWye,EAAWze,IAChC0gB,QAAS,CACLC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,KAAK,EACLC,MAAM,EACNhoB,MAAM,EACNuc,SAAS,EACT0L,QAAQ,EAERC,MAAM,EACNC,MAAM,EACNjB,MAAM,EAENkB,UAAU,OAKxB3G,IAAWrd,YAAYnD,EAASygB,WAC9B,kBAAC,IAAD,CAAYjQ,QAASyV,EAAM/O,OAAQA,Q,gRCpJ7CkQ,EAAezM,IAAM0M,MAAK,kBAC5B,4DAGE1gB,EAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,IAVZ,GAYN4W,OAAQ,CACJjD,aAAc,OAElB,UAAW,CACP,kBAAmB,CACfA,aAAc,kBAGtBkD,YAAa,CACT5T,OAAQ,qBAEZ6T,OAAQ,CACJxD,UAAW,aAQJ,SAASyD,IAAc,IAAD,EACH7jB,mBAAS,IADN,mBAC1BoW,EAD0B,KACjBwK,EADiB,OAEL5gB,mBAAS,IAFJ,mBAE1BsT,EAF0B,KAElBuN,EAFkB,OAGH7gB,oBAAS,GAHN,mBAG1BiR,EAH0B,KAGjBC,EAHiB,OAILlR,mBAAS,cAJJ,mBAI1ByG,EAJ0B,KAIlBqd,EAJkB,KAM3BhD,EAAOC,cACP3kB,EAAW8kB,cACXC,EAXC,IAAIC,gBAAgBF,cAAcG,QAYjC9f,EAAO+f,cAAP/f,GACF0B,EAAQa,cAERxF,EAAW6N,cACXoV,EAAclV,uBAChB,SAACI,GAAD,OAAWnO,EAASkjB,YAAe/U,MACnC,CAACnO,IAEC6S,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGLgC,qBAAU,WACN,GAAKsc,IAAWrd,YAAYnD,EAASygB,UAK9B,CACH,IAAMkH,EAAY5C,EAAM9F,IAAI,QAAQ/S,MAAM,KAC1Cwb,EAAUE,IAAkBD,EAAUva,QACtC+X,EAAYJ,EAAM9F,IAAI,aARsB,CAC5C,IAAM/b,EAAO6hB,EAAM9F,IAAI,KAAK/S,MAAM,KAC5Byb,EAAY5C,EAAM9F,IAAI,KAAK/S,MAAM,KACvCwb,EAAUE,IAAkBD,EAAUva,QACtC+X,EAAYjiB,EAAKA,EAAK2C,OAAS,OAOpC,CAAC6e,EAAKW,OAAO,GAAIrlB,IAEpBkE,qBAAU,WACN,IAAIohB,EAAa,iBAAmBP,EAAM9F,IAAI,MAC1CuB,IAAWrd,YAAYnD,EAASygB,YAChC6E,EAAa,kBAAoBngB,EACD,KAA5B4f,EAAM9F,IAAI,gBACVqG,GACI,SAAWpE,mBAAmB6D,EAAM9F,IAAI,iBAIpDnK,GAAW,GACXgB,IAAImJ,IAAIqG,EAAY,CAAEC,aAAc,gBAC/BvP,MAAK,SAACxW,GACH,IACMgmB,EADS,IAAIC,EAAOjmB,EAASE,QAAS,UACpB+M,WACxB+X,EAAWgB,MAEdvP,OAAM,SAACjX,GACJ+V,EACI,MACA,QACA,yDAAc/V,EAAMF,QACpB,YAGPkX,MAAK,WACFlB,GAAW,QAGpB,CAAC4P,EAAKW,OAAO,KAEhB,IAaM1d,EAAUhB,IACVxD,EAAcqd,IAAWrd,YAAYnD,EAASygB,UACpD,OACI,yBAAKjZ,UAAWG,EAAQuc,QACpB,kBAAC,IAAD,CAAO1c,UAAWG,EAAQ8R,KAAM6M,UAAW,GACvC,yBAAK9e,UAAWG,EAAQ6f,QACpB,kBAAC,IAAD,CAAahgB,UAAWG,EAAQ4f,aAC5B,kBAAC,IAAD,CACI5J,QAAQ,2BACRxY,GAAG,qBACHY,MAAOsE,EACPiL,SAAU,SAAClR,GAAD,OAAOsjB,EAAUtjB,EAAE+B,OAAOJ,SAEnC8hB,MAAMxc,KACH,IAAIyc,IACAzoB,OAAO0oB,KAAKH,KAAmB7a,KAAI,SAACyI,GAChC,OAAOoS,IAAkBpS,QAGnCzI,KAAI,SAAC4a,GAAD,OAEF,kBAAC,IAAD,CAAU5hB,MAAO4hB,GACZA,SAMrB,kBAAC,IAAD,MACC9S,GAAW,kBAAC,IAAD,OACVA,GACE,kBAAC,WAAD,CAAUmT,SAAU,kBAAC,IAAD,OAChB,kBAACZ,EAAD,CACI/T,OAAO,MACP7R,SAAU6I,EACVxD,MAC2B,SAAvBA,EAAMe,QAAQrH,KAAkB,UAAY,KAEhDwF,MAAOiU,EACPkF,QAAS,CACL+I,SAAU9kB,EACV+kB,qBAAsBvgB,EAAQ2f,QAElChS,SAAU,SAACvP,GAAD,OAAWye,EAAWze,SAK9C5C,GAAe,kBAAC,IAAD,CAAYqN,QA7DxB,WACTiU,EAAU,WACV3O,IAAIqL,IAAI,gBAAkB4D,EAAM9F,IAAI,MAAOjF,GACtChE,MAAK,WACFyO,EAAU,WACVzP,YAAW,kBAAMyP,EAAU,MAAK,QAEnCxO,OAAM,SAACjX,GACJylB,EAAU,IACV1P,EAAe,MAAO,QAAS/V,EAAMF,QAAS,aAoDNoY,OAAQA,Q,mRCxJ1DiR,EAAc,CAChBC,QAASC,IACTC,QAASC,IACTvpB,MAAOwpB,IACPC,KAAMC,KAwEV,IAAMC,EAA2BnP,aArEjB,SAAC3S,GAAD,MAAY,CACxBuhB,QAAS,CACL/gB,gBAAiBR,EAAMe,QAAQwgB,QAAQQ,MAE3C5pB,MAAO,CACHqI,gBAAiBR,EAAMe,QAAQ5I,MAAMsI,MAEzCmhB,KAAM,CACFphB,gBAAiBR,EAAMe,QAAQ6gB,KAAKG,MAExCN,QAAS,CACLjhB,gBAAiBR,EAAMe,QAAQ0gB,QAAQM,MAE3CpZ,KAAM,CACF8C,SAAU,IAEduW,YAAa,CACTpZ,QAAS,GACTiB,YAAa7J,EAAM+M,QAAQ,IAE/B9U,QAAS,CACLuV,QAAS,OACTF,WAAY,aA+CaqF,EA3CjC,SAA2BpS,GAAQ,IACvBO,EAA4DP,EAA5DO,QAASH,EAAmDJ,EAAnDI,UAAW1I,EAAwCsI,EAAxCtI,QAAS2T,EAA+BrL,EAA/BqL,QAASmD,EAAsBxO,EAAtBwO,QAAYpQ,EAD5B,YACsC4B,EADtC,uDAExB0hB,EAAOX,EAAYvS,GAEzB,OACI,kBAAC,IAAD,eACIpO,UAAW+I,IAAW5I,EAAQiO,GAAUpO,GACxCuhB,mBAAiB,kBACjBjqB,QACI,0BAAMqG,GAAG,kBAAkBqC,UAAWG,EAAQ7I,SAC1C,kBAACgqB,EAAD,CACIthB,UAAW+I,IACP5I,EAAQ6H,KACR7H,EAAQkhB,eAGf/pB,GAGTmH,OAAQ,CACJ,kBAAC,IAAD,CACI2C,IAAI,QACJyM,aAAW,QACXrK,MAAM,UACNxD,UAAWG,EAAQqhB,MACnBxY,QAASiC,GAET,kBAAC,IAAD,CAAWjL,UAAWG,EAAQ6H,UAGlChK,OAmBVyjB,E,4MACFjjB,MAAQ,CACJpF,MAAM,G,EAGVsf,iCAAmC,SAACC,GAC5BA,EAAU+I,SAASC,SAAW,EAAK/hB,MAAM8hB,SAASC,QAClD,EAAKpJ,SAAS,CAAEnf,MAAM,K,EAI9BwoB,YAAc,WACV,EAAKrJ,SAAS,CAAEnf,MAAM,K,4CAG1B,WACI,OACI,kBAAC,IAAD,CACIyoB,aAAc,CACVnX,SAAUjT,KAAKmI,MAAM8hB,SAAShX,SAC9BC,WAAYlT,KAAKmI,MAAM8hB,SAAS/W,YAEpCvR,KAAM3B,KAAK+G,MAAMpF,KACjB0oB,iBAAkB,IAClB7W,QAASxT,KAAKmqB,aAEd,kBAACT,EAAD,CACIlW,QAASxT,KAAKmqB,YACdxT,QAAS3W,KAAKmI,MAAM8hB,SAASle,MAC7BlM,QAASG,KAAKmI,MAAM8hB,SAAShpB,W,GA7BjB0jB,aAoC1B2F,EAAWzF,aAhIO,SAAC9d,GACrB,MAAO,CACHkjB,SAAUljB,EAAM3D,WAAW6mB,aAIR,WACvB,MAAO,KAyHMpF,CAGftK,aA5Ca,SAAC3S,GAAD,MAAY,CACvB8M,OAAQ,CACJA,OAAQ9M,EAAM+M,QAAQ,OA0C5B4F,CAAmByP,IAENM,O,0OC/ETC,E,4MACFJ,YAAc,WACV,EAAKhiB,MAAMqiB,eAAe,O,EAG9BC,QAAU,SAACzf,GACPlK,OAAOC,SAASC,KAAOgK,G,EAG3B0f,OAAS,WACL7T,IAAIyL,OAAO,kBACNvL,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,uCACA,WAEJvS,IAAKC,UACLC,OAAOC,SAAS4pB,SAChB,EAAKxiB,MAAMyiB,kBAAiB,MAE/B5T,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,cAGPkX,MAAK,WACF,EAAKoT,kB,4CAIjB,WAAU,IAAD,OACGzhB,EAAY1I,KAAKmI,MAAjBO,QACFmiB,EAAOjqB,IAAKoI,UACZ5E,EAAcmd,IAAWnd,YAC3BpE,KAAKmI,MAAMpH,SAASygB,UAGxB,OACI,kBAACsJ,EAAA,EAAD,CACInpB,KAA8B,OAAxB3B,KAAKmI,MAAMmL,SACjBE,QAASxT,KAAKmqB,YACd7W,SAAUtT,KAAKmI,MAAMmL,SACrB8W,aAAc,CACVnX,SAAU,SACVC,WAAY,SAEhB6X,gBAAiB,CACb9X,SAAU,MACVC,WAAY,WAGdtS,IAAK2I,SACH,yBAAKhB,UAAWG,EAAQsiB,aACpB,kBAAClO,EAAA,EAAD,MACA,kBAAC6B,EAAA,EAAD,CACIpN,QAAS,kBAAM,EAAKpJ,MAAMkD,QAAQ6O,KAAK,YAEvC,kBAACiD,EAAA,EAAD,KACI,kBAAC,IAAD,OAJR,gBAQA,kBAACwB,EAAA,EAAD,CACIpN,QAAS,kBAAM,EAAKpJ,MAAMkD,QAAQ6O,KAAK,aAEvC,kBAACiD,EAAA,EAAD,KACI,kBAAC,IAAD,OAJR,iBAUPvc,IAAK2I,SACF,6BACI,yBAAKhB,UAAWG,EAAQuiB,QACpB,yBAAK1iB,UAAWG,EAAQwiB,sBACpB,kBAACC,EAAA,EAAD,CACI5iB,UAAWG,EAAQ0iB,YACnB/W,IACI,uBAAyBwW,EAAK3kB,GAAK,QAI/C,yBAAKqC,UAAWG,EAAQ8gB,MACpB,kBAAC5K,EAAA,EAAD,CAAYyM,QAAM,GAAER,EAAKS,UACzB,kBAAC1M,EAAA,EAAD,CACI7S,MAAM,gBACNsE,MAAO,CACHgD,SAAU,YAEdgY,QAAM,GAELR,EAAKU,WAEV,kBAACC,EAAA,EAAD,CACIjjB,UAAWG,EAAQgP,MACnB3L,MACsB,IAAlB8e,EAAKhJ,MAAM3b,GACL,YACA,UAEVuQ,MAAOoU,EAAKhJ,MAAM1f,SAI9B,6BACI,kBAAC2a,EAAA,EAAD,OACE1Y,GACE,kBAACua,EAAA,EAAD,CACItO,MAAO,CACHtI,QAAS,wBAEbwJ,QAAS,WACL,EAAK4Y,cACL,EAAKhiB,MAAMkD,QAAQ6O,KACf,YAAc2Q,EAAK3kB,MAI3B,kBAACiX,EAAA,EAAD,KACI,kBAAC,IAAD,OAZR,4BAiBe,IAAlB0N,EAAKhJ,MAAM3b,IACR,kBAACyY,EAAA,EAAD,CACItO,MAAO,CACHtI,QAAS,wBAEbwJ,QAAS,WACL,EAAK4Y,cACL,EAAKhiB,MAAMkD,QAAQ6O,KAAK,iBAG5B,kBAACiD,EAAA,EAAD,KACI,kBAAC,IAAD,OAVR,4BAgBJ,kBAACwB,EAAA,EAAD,CACItO,MAAO,CACHtI,QAAS,wBAEbwJ,QAASvR,KAAK0qB,QAEd,kBAACvN,EAAA,EAAD,KACI,kBAAC,IAAD,OAPR,mC,GAnJawH,aA+K1B8G,EALW5G,aAtNF,SAAC9d,GACrB,MAAO,CACHuM,SAAUvM,EAAM3D,WAAWsoB,wBAIR,SAACzoB,GACxB,MAAO,CACHunB,eAAgB,SAACmB,GACb1oB,EAASunB,YAAemB,KAE5BxY,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvD6e,iBAAkB,SAAC3S,GACfhV,EAAS2nB,YAAiB3S,QAuMZ4M,CAGxBtK,aAtMa,iBAAO,CAClBrC,OAAQ,CACJpQ,MAAO,OACPsM,OAAQ,QAEZ6W,OAAQ,CACJ7V,QAAS,OACTrN,QAAS,uBAEbqjB,YAAa,CACThX,OAAQ,OACRtM,MAAO,QAEX0hB,KAAM,CACFnR,WAAY,OACZvQ,MAAO,SAEX4P,MAAO,CACHpC,UAAW,QAEf0V,YAAa,CACTljB,MAAO,QAiLbyS,CAAmByK,YAAWuF,K,0ICnO1B7iB,EAAYC,aAAW,iBAAO,CAChCikB,eAAgB,CACZxjB,gBAAiB+P,IAAK,KACtBpM,MAAOoM,IAAK,MAEhB0T,eAAgB,CACZzjB,gBAAiBwP,IAAM,KACvB7L,MAAO6L,IAAM,UAiHNkU,EA7GQ,WAAO,IAAD,EACOpQ,IAAM/W,SAAS,MADtB,mBAClB2O,EADkB,KACRyY,EADQ,OAEOrQ,IAAM/W,SAAS,CAC3Cub,QAAS,CAAEha,GAAI,GAAI/D,KAAM,IACzB8d,QAAS,KAJY,mBAElBH,EAFkB,KAERC,EAFQ,KAOnB9c,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAgBCknB,EAAc,WAChB4B,EAAY,OA2BVpqB,EAAO4R,QAAQD,GACfpN,EAAKvE,EAAO,sBAAmBhB,EAE/B+H,EAAUhB,IAChB,OACI,oCACI,kBAACqW,EAAA,EAAD,CAAS3M,MAAO,2BAAQC,UAAU,UAC9B,kBAAC2M,EAAA,EAAD,CAAYzM,QAhDJ,SAACmC,GACW,KAAxBoM,EAASI,QAAQha,IACjB2Q,IAAImJ,IAAI,yBAA0B,IAC7BjJ,MAAK,SAACxW,GACHwf,EAAYxf,EAASG,SAExBsW,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAG1DksB,EAAYrY,EAAMtO,gBAsCwB2G,MAAM,WACpC,kBAAC,IAAD,QAGR,kBAAC+e,EAAA,EAAD,CACI5kB,GAAIA,EACJvE,KAAMA,EACN2R,SAAUA,EACVE,QAAS2W,EACTC,aAAc,CACVnX,SAAU,SACVC,WAAY,UAEhB6X,gBAAiB,CACb9X,SAAU,MACVC,WAAY,WAGhB,kBAAC6J,EAAA,EAAD,KACK+C,EAASG,QAAQnS,KAAI,SAAChH,EAAOX,GAAR,OAClB,kBAAC8W,EAAA,EAAD,CACIC,QAAM,EACN/G,UAAU,QACVxM,IAAKxD,EACLoL,QAAS,kBAvDhB,SAACrL,GACVA,IAAO4Z,EAASI,QAAQha,GAI5B2Q,IAAI6L,MAAM,uBAAwB,CAC9Bxc,GAAIA,IAEH6Q,MAAK,WACFjW,OAAOC,SAAS4pB,YAEnB3T,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,QAjBjBuU,IAqD+B6B,CAASllB,EAAMZ,MAE9B,kBAAC+lB,EAAA,EAAD,KACKnlB,EAAMZ,KAAO4Z,EAASI,QAAQha,IAC3B,kBAACilB,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQmjB,gBACvB,kBAACtiB,EAAA,EAAD,OAGPzC,EAAMZ,KAAO4Z,EAASI,QAAQha,IAC3B,kBAACilB,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQkjB,gBACvB,kBAAC,IAAD,QAIZ,kBAACxO,EAAA,EAAD,CAAcC,QAASvW,EAAM3E,e,UC7DnD+pB,E,4MACFnlB,MAAQ,CACJuM,SAAU,M,EAGd6Y,aAAe,SAAChnB,GACZ,EAAKgD,MAAMqiB,eAAerlB,EAAEC,gB,EAGhC+kB,YAAc,WACV,EAAKrJ,SAAS,CACVxN,SAAU,Q,EAIlBmX,QAAU,SAACzf,GACPlK,OAAOC,SAASC,KAAOgK,G,EAG3BohB,WAAa,WACTtrB,OAAOC,SAASC,KAAO,S,4CAG3B,WAAU,IAAD,OACG0H,EAAY1I,KAAKmI,MAAjBO,QACF2jB,EAAazrB,IAAK2I,MAAMvJ,KAAKmI,MAAMmkB,SACnCzB,EAAOjqB,IAAKoI,QAAQhJ,KAAKmI,MAAMmkB,SAC/BloB,EAAcmd,IAAWnd,YAC3BpE,KAAKmI,MAAMpH,SAASygB,UAGxB,OACI,yBAAKjZ,UAAWG,EAAQ6jB,cACpB,kBAACC,EAAA,EAAD,CACIlnB,GACItF,KAAKmI,MAAMxC,SAASiB,QAAU,MAC3B5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WAG3C,8BACM3B,GACE,oCACI,kBAACqM,EAAA,EAAD,CAAkBC,SAAS,QAC1B2b,GACG,oCACI,kBAAC,EAAD,MACA,kBAACtO,EAAA,EAAD,CACI3M,MAAO,eACPC,UAAU,UAEV,kBAAC2M,EAAA,EAAD,CACIzM,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KACf,cAGRnO,MAAM,WAEN,kBAAC,IAAD,UAOvB3H,GACG,kBAAC2Z,EAAA,EAAD,CAAS3M,MAAO,2BAAQC,UAAU,UAC9B,kBAAC2M,EAAA,EAAD,CACIjS,MAAM,UACNwF,QAASvR,KAAKosB,YAEd,kBAACK,EAAA,EAAD,QAIZ,kBAACzO,EAAA,EAAD,CAAYjS,MAAM,UAAUwF,QAASvR,KAAKmsB,eACpCE,GAAc,kBAAC,IAAD,MACfA,GACG,kBAAClB,EAAA,EAAD,CACI9W,IACI,uBAAyBwW,EAAK3kB,GAAK,KAEvCqC,UAAWG,EAAQwP,UAGjB,MAGtB,kBAAC,EAAD,W,GAxFkByM,aAkG5B+H,EAAa7H,aAnJK,SAAC9d,GACrB,MAAO,CACHpB,SAAUoB,EAAMnD,SAAS+B,SACzBE,WAAYkB,EAAMnD,SAASgC,YAAYC,WACvCC,WAAYiB,EAAMnD,SAASgC,YAAYE,WACvCC,SAAUgB,EAAMnD,SAASgC,YAAYG,SACrCumB,QAASvlB,EAAM3D,WAAWkpB,YAIP,SAACrpB,GACxB,MAAO,CACHunB,eAAgB,SAACmB,GACb1oB,EAASunB,YAAemB,QAsIjB9G,CAGjBtK,aApIa,SAAC3S,GAAD,YAAY,CACvB2kB,cAAY,mBACP3kB,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAFL,2BAII,UAJJ,GAMZ8C,OAAQ,CACJpQ,MAAO,OACPsM,OAAQ,QAEZ6W,OAAQ,CACJ7V,QAAS,OACTrN,QAAS,uBAEbqjB,YAAa,CACThX,OAAQ,OACRtM,MAAO,QAEX0hB,KAAM,CACFnR,WAAY,OACZvQ,MAAO,SAEX4P,MAAO,CACHpC,UAAW,QAEf0V,YAAa,CACTljB,MAAO,QAyGbyS,CAAmByK,YAAWkH,KAEjBQ,O,otBC/Ffzc,cACA,IAiNM0c,G,kDACF,WAAYxkB,GAAQ,IAAD,8BACf,cAAMA,IAgBVykB,kBAAoB,WAChB9gB,YACI,EAAK3D,MAAMxC,SAASiB,QAAU,IACvB,EAAKuB,MAAMtC,aAAc,EAAKsC,MAAMpC,UACrC,EAAKoC,MAAMP,MAAMe,QAAQ0U,QAAQsM,KACjC,EAAKxhB,MAAMP,MAAMe,QAAQuS,WAAWC,UAtB/B,EA0BnB8F,iCAAmC,SAACC,IAE3B,EAAK/Y,MAAMxC,SAASiB,QAAU,MACxB,EAAKuB,MAAMtC,YAAc,EAAKsC,MAAMpC,cAC1Cmb,EAAUvb,SAASiB,QAAU,MACvBsa,EAAUrb,YAAcqb,EAAUnb,YAEzC+F,YAEQ,EAAK3D,MAAMxC,SAASiB,QAAU,IAC3B,EAAKuB,MAAMtC,aAAc,EAAKsC,MAAMpC,WAEH,SAAlC,EAAKoC,MAAMP,MAAMe,QAAQrH,KAGzB,EAAK6G,MAAMP,MAAMe,QAAQuS,WAAWC,QADhC,EAAKhT,MAAMP,MAAMe,QAAQ0U,QAAQsM,OAxCpC,EA8CnBkD,mBAAqB,WACjB,EAAK/L,UAAS,SAAC/Z,GAAD,MAAY,CAAE+lB,YAAa/lB,EAAM+lB,gBA/ChC,EAkDnBC,aAAe,WACX,GAAIxL,IAAWvd,WAAW,EAAKmE,MAAMpH,SAASygB,UAC1C,OACI,oCACK,EAAKrZ,MAAM4kB,cAAgB,EAAK5kB,MAAMmkB,SACnC,kBAAC,IAAD,QAvDD,EA8DnBU,aAAe,WACNzhB,cASL,EAAKpD,MAAM2a,kBAAkB,2CARzB,EAAK3a,MAAMgL,eACP,MACA,QACA,yDACA,YApEO,EA2EnBuO,gBAAkB,WACd,EAAKvZ,MAAM2a,kBAAkB,0BA5Ed,EA+EnBmK,QAAU,WACNpW,KAAIyL,OAAO,kBACNvL,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,uCACA,WAEJvS,KAAKC,UACLC,OAAOC,SAAS4pB,SAChB,EAAKxiB,MAAMyiB,kBAAiB,MAE/B5T,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,cAGPqtB,SAAQ,WACL,EAAK/C,kBAnGb,EAAKpjB,MAAQ,CACT+lB,YAAY,GAEhB,EAAKK,YAAczR,IAAMkK,YALV,E,6DAQnB,WAA6B,IAAD,OACxB5lB,KAAKotB,SAAWptB,KAAKmI,MAAMkD,QAAQgiB,QAAO,WACtC,EAAKvM,UAAS,iBAAO,CAAEgM,YAAY,W,kCAG3C,WACI9sB,KAAKotB,a,oBA2FT,WAAU,IAAD,WACG1kB,EAAY1I,KAAKmI,MAAjBO,QACFmiB,EAAOjqB,KAAKoI,QAAQhJ,KAAKmI,MAAMmkB,SAC/BtoB,EAAaud,IAAWvd,WAAWhE,KAAKmI,MAAMpH,SAASygB,UACvDtd,EAAcqd,IAAWrd,YAC3BlE,KAAKmI,MAAMpH,SAASygB,UAGlB8L,EACF,yBAAKpnB,GAAG,YAAYqC,UAAWG,EAAQ6kB,UAClChM,IAAWjd,YAAc,kBAAC,IAAD,MAEzB1D,KAAK2I,MAAMvJ,KAAKmI,MAAMmkB,UACnB,oCACI,yBAAK/jB,UAAWG,EAAQ8kB,gBACpB,kBAAC,KAAD,MACA,kBAAC,KAAD,KACI,kBAAC,KAAD,CACItQ,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,cAG5B,kBAAC,KAAD,KACI,kBAAC,IAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,8BAE1B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,aAG5B,kBAAC,KAAD,KACI,kBAAC,IAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,8BAE1B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,aAG5B,kBAAC,KAAD,KACI,kBAAC,IAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,8BAEzBwN,EAAKhJ,MAAM6L,QACR,kBAAC,KAAD,CACIxQ,QAAM,EACNvT,IAAI,SACJ4H,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,cAG5B,kBAAC,KAAD,KACI,kBAAC,KAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,YAI9B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,aAG5B,kBAAC,KAAD,KACI,kBAAC,KAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,8BAE1B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,2BAG5B,kBAAC,KAAD,KACI,kBAAC,IAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,8BAE1B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBAAMzQ,OAAO6sB,QAAQ,eAE9B,kBAAC,KAAD,KACI,kBAAC,IAAD,CACIplB,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,gCAKjCkE,IAAWjd,YACR,oCACI,kBAAC,KAAD,MACA,kBAAC,KAAD,KACI,kBAAC,KAAD,CACI4Y,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,eAG5B,kBAAC,KAAD,KACI,kBAAC,KAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,8BAG1B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,2BACJ4H,QAASvR,KAAKitB,SAEd,kBAAC,KAAD,KACI,kBAAC,IAAD,CACI1kB,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,gCAKtC,6BACI,kBAAC,IAAD,SAKVzc,KAAK2I,MAAMvJ,KAAKmI,MAAMmkB,UACpB,6BACI,kBAAC,KAAD,CACIpP,QAAM,EACNvT,IAAI,eACJ4H,QAAS,kBAAM,EAAKpJ,MAAMkD,QAAQ6O,KAAK,YAEvC,kBAAC,KAAD,KACI,kBAAC,IAAD,CACI3R,UAAWG,EAAQ+kB,WAG3B,kBAAC,KAAD,CAAcpQ,QAAQ,kBAE1B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,eACJ4H,QAAS,kBAAM,EAAKpJ,MAAMkD,QAAQ6O,KAAK,aAEvC,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAa3R,UAAWG,EAAQ+kB,WAEpC,kBAAC,KAAD,CAAcpQ,QAAQ,kBAE1B,kBAAC,KAAD,CACIH,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBAAMzQ,OAAOC,SAASC,KAAK,2BAEpC,kBAAC,KAAD,KACI,kBAAC,IAAD,CAASuH,UAAWG,EAAQ+kB,WAEhC,kBAAC,KAAD,CAAcpQ,QAAQ,gCAMpCuQ,EACFC,EAAQC,SAAW,mBAAmBC,KAAK1rB,UAAU2rB,WAEnDC,EAAW,SAAC9rB,GAIV,IAHJ,IACU+rB,EADQvjB,SAASC,OACKqC,MAAM,MAExBjD,EAAI,EAAGA,EAAIkkB,EAAUtnB,OAAQoD,IAAK,CACxC,IAAMmkB,EAAMD,EAAUlkB,GAAGiD,MAAM,KAC/B,GAAIkhB,EAAI,IAAMhsB,EACV,OAAOisB,SAASD,EAAI,IAGhC,OAAO,MAEX,OACI,6BACI,kBAAC,KAAD,CACIzd,SAAS,QACTnI,UAAWG,EAAQ2lB,OACnBtiB,MACsC,SAAlC/L,KAAKmI,MAAMP,MAAMe,QAAQrH,MACzBtB,KAAKmI,MAAMxC,SAASiB,QAAU,IAC3B5G,KAAKmI,MAAMtC,aAAc7F,KAAKmI,MAAMpC,UACjC,UACA,WAGV,kBAAC,KAAD,KACK/F,KAAKmI,MAAMxC,SAASiB,QAAU,MAEtB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WAErC,kBAAC,KAAD,CACIgG,MAAM,UACNqK,aAAW,cACX7E,QAASvR,KAAK6sB,mBACdtkB,UAAWG,EAAQ4lB,YAEnB,kBAAC,IAAD,OAGXtuB,KAAKmI,MAAMxC,SAASiB,QAAU,MAEtB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WAErC,kBAAC,KAAD,CACIgG,MAAM,UACNqK,aAAW,cACX7E,QAAS,kBACL,EAAKpJ,MAAMomB,qBACN,EAAKpmB,MAAMqmB,cAGpBjmB,UAAWG,EAAQ+lB,mBAEnB,kBAAC,IAAD,QAGVzuB,KAAKmI,MAAMxC,SAASiB,OAAS,IACzB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,YACrC/B,GACGud,IAAWrd,YACPlE,KAAKmI,MAAMpH,SAASygB,YAExB,kBAAC,KAAD,CACIlc,GACItF,KAAKmI,MAAMxC,SAASiB,OAAS,IAC3B5G,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMpC,UAGnB,kBAAC,KAAD,CACIgG,MAAM,UACNxD,UAAWG,EAAQgmB,SACnBnd,QAAS,kBACL,EAAKpJ,MAAMwmB,kBAAkB,MAGjC,kBAAC,IAAD,QAIO,MAAtBV,EAAU,aAAqBrtB,KAAK2I,MAAMvJ,KAAKmI,MAAMmkB,UAAYtsB,KAAKmI,MAAMxC,SAASiB,QAAU,MAEvF5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WAErC,kBAAC,KAAD,CAAY4Q,QAAQ,KAAK5K,MAAM,UAAUsf,QAAM,EACnC9Z,QAAS,WAAOzQ,OAAOC,SAASC,KAAK,2BAE5ChB,KAAKmI,MAAMymB,SACN5uB,KAAKmI,MAAMymB,SACX5uB,KAAKmI,MAAMiJ,OAGN,MAAtB6c,EAAU,aAAqBrtB,KAAK2I,MAAMvJ,KAAKmI,MAAMmkB,UAAYtsB,KAAKmI,MAAMxC,SAASiB,QAAU,MAEvF5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WAErC,kBAAC,KAAD,CAAY4Q,QAAQ,KAAK5K,MAAM,UAAUsf,QAAM,EACnC9Z,QAAS,WAAO,EAAKpJ,MAAMkD,QAAQ6O,KAAK,OAE/Cla,KAAKmI,MAAMymB,SACN5uB,KAAKmI,MAAMymB,SACX5uB,KAAKmI,MAAMiJ,QAI3BpR,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMpC,WACVwb,IAAWjd,YACR,kBAAC,KAAD,CAAYqS,QAAQ,KAAK5K,MAAM,UAAUsf,QAAM,GAC1CrrB,KAAKmI,MAAMxC,SAAS,GAAGxD,KAAM,KAC5B6B,GACEud,IAAWrd,YACPlE,KAAKmI,MAAMpH,SAASygB,YAExB,IACI1X,YACI9J,KAAKmI,MAAMxC,SAAS,GAAG3D,MAE3B,KAInBhC,KAAKmI,MAAMxC,SAASiB,OAAS,IACzB2a,IAAWjd,YACR,kBAAC,KAAD,CAAYqS,QAAQ,KAAK5K,MAAM,UAAUsf,QAAM,GAC1CrrB,KAAKmI,MAAMxC,SAASiB,OADzB,sBAIP5G,KAAKmI,MAAMxC,SAASiB,QAAU,MAEtB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WACpC,kBAAC,IAAD,MACT,yBAAKwC,UAAWG,EAAQmmB,QACtB7uB,KAAKmI,MAAMxC,SAASiB,OAAS,IACzB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,YACrC/B,IACAud,IAAWrd,YACRlE,KAAKmI,MAAMpH,SAASygB,WAExB5gB,KAAK2I,MAAMvJ,KAAKmI,MAAMmkB,WACrB1gB,YAAmB,UAChB,yBAAKrD,UAAWG,EAAQomB,gBACpB,kBAAC,KAAD,CAAS1d,MAAM,gBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAM4mB,aAGf,kBAAC,IAAD,UAKlB/uB,KAAKmI,MAAMxC,SAASiB,OAAS,IACzB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,YACrC/B,GAAcE,IACX,yBAAKqE,UAAWG,EAAQomB,iBAClB9uB,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMpC,UACXipB,YACIhvB,KAAKmI,MAAMxC,SAAS,GAAGxD,OAEvB,kBAAC,KAAD,CACImD,IACKtF,KAAKmI,MAAMtC,YACZ7F,KAAKmI,MAAMpC,UACXipB,YACIhvB,KAAKmI,MAAMxC,SAAS,GACfxD,OAIb,kBAAC,KAAD,CAASiP,MAAM,gBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAM8mB,gBAGf,kBAAC,IAAD,UAKlBjvB,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMpC,UACP,kBAAC,KAAD,CACIT,IACKtF,KAAKmI,MAAMtC,YACZ7F,KAAKmI,MAAMpC,UAGf,kBAAC,KAAD,CAASqL,MAAM,gBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKyb,iBAGT,kBAAC,IAAD,UAKlBhtB,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMrC,aACX+kB,EAAKhJ,MAAMqN,sBACP,kBAAC,KAAD,CACI5pB,IACKtF,KAAKmI,MAAMtC,YACR7F,KAAKmI,MACArC,aACT+kB,EAAKhJ,MACAqN,sBAGT,kBAAC,KAAD,CAAS9d,MAAM,4BACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKmQ,oBAGT,kBAAC,IAAD,UAMlB1hB,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMrC,YACP,kBAAC,KAAD,CACIR,IACKtF,KAAKmI,MAAMtC,YACZ7F,KAAKmI,MAAMrC,YAGf,kBAAC,KAAD,CAASsL,MAAM,4BACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAMgnB,WAGH,MAFJ,EAAKhnB,MACAlE,KAEC,EAAKkE,MACAlE,KACD,EACKkE,MACAxC,SAAS,GACTxD,KACT,EAAKgG,MACAlE,KACD,IACA,EACKkE,MACAxC,SAAS,GACTxD,QAIvB,kBAAC,IAAD,UAKlBnC,KAAKmI,MAAMtC,aAAe3B,GACxB,kBAAC,KAAD,CAAMoB,IAAKtF,KAAKmI,MAAMtC,YAClB,kBAAC,KAAD,CAASuL,MAAM,gBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAMinB,wBAGf,kBAAC,IAAD,UAKdpvB,KAAKmI,MAAMtC,aACR0b,IAAWjd,aACXJ,GACG,kBAAC,KAAD,CAAMoB,IAAKtF,KAAKmI,MAAMtC,YAClB,kBAAC,KAAD,CAASuL,MAAM,gBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAMknB,oBAGf,kBAAC,IAAD,UAKlBrvB,KAAKmI,MAAMtC,aAAe3B,GACxB,kBAAC,KAAD,CAAMoB,IAAKtF,KAAKmI,MAAMtC,YAClB,kBAAC,KAAD,CAASuL,MAAM,sBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAMmnB,qBAGf,kBAAC,IAAD,UAKdprB,GACE,yBAAKmM,MAAO,CAAE+E,QAAS,UACjBmM,IAAWjd,YACT,kBAAC,KAAD,CACIgB,GAEoB,IADhBtF,KAAKmI,MAAMxC,SACNiB,SACJ2a,IAAWjd,YAGhB,kBAAC,KAAD,CAAS8M,MAAM,gBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAMonB,mBAGf,kBAAC,IAAD,SAMhB,kBAAC,KAAD,CACIjqB,GAEoB,IADhBtF,KAAKmI,MAAMxC,SACNiB,QAGT,kBAAC,KAAD,CAASwK,MAAM,gBACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAMqnB,qBAGf,kBAAC,IAAD,SAKXjO,IAAWjd,YACR,kBAAC,KAAD,CACIgB,GAEoB,IADhBtF,KAAKmI,MAAMxC,SACNiB,QACL2a,IAAWjd,YAGf,kBAAC,KAAD,CAAS8M,MAAM,4BACX,kBAAC,KAAD,CACIrF,MAAM,UACNwF,QAAS,kBACL,EAAKpJ,MAAMsnB,kBACP,QACA,KAIR,kBAAC,KAAD,WASnCzvB,KAAKmI,MAAMxC,SAASiB,QAAU,MAEtB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WACpC,kBAAC,IAAD,MACR/F,KAAKmI,MAAMxC,SAASiB,QAAU,MACxB5G,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,WACvC/B,GACAud,IAAWjd,YAAc,kBAAC,KAAD,CAAYwN,SAAO,MAGvD9R,KAAK+sB,eAEN,kBAAC,KAAD,CAAQ2C,MAAI,EAACC,eAAe,OACxB,kBAAC,KAAD,CACIC,UAAW5vB,KAAKmI,MAAMynB,UACtBjZ,QAAQ,YACRjO,QAAS,CACLmnB,MAAOnnB,EAAQonB,aAEnBnE,OAAO,OACPhqB,KAAM3B,KAAK+G,MAAM+lB,WACjBtZ,QAASxT,KAAK6sB,mBACdkD,OAAQ,kBACJ,EAAKjP,UAAS,iBAAO,CAAEgM,YAAY,OAEvCkD,iBAAkBpC,EAClBqC,WAAY,CACRC,aAAa,IAGhB5C,IAGT,kBAAC,KAAD,CAAQ6C,QAAM,EAACR,eAAe,OAC1B,kBAAC,KAAD,CACIjnB,QAAS,CACLmnB,MAAOve,KAAU,mBACZ5I,EAAQ0nB,WAAapwB,KAAKmI,MAAMqmB,aADpB,cAEZ9lB,EAAQ2nB,aAAerwB,KAAKmI,MAAMqmB,aAFtB,KAKrBjmB,UAAW+I,IAAW5I,EAAQ4kB,QAAT,mBAChB5kB,EAAQ0nB,WAAapwB,KAAKmI,MAAMqmB,aADhB,cAEhB9lB,EAAQ2nB,aAAerwB,KAAKmI,MAAMqmB,aAFlB,IAIrB7X,QAAQ,aACRgV,OAAO,OACPhqB,KAAM3B,KAAKmI,MAAMqmB,aAEjB,yBAAKjmB,UAAWG,EAAQ8e,UACvB8F,S,GA/tBK3I,aA2uBxB2L,GAASzL,aAz7BS,SAAC9d,GACrB,MAAO,CACHynB,YAAaznB,EAAM3D,WAAWzB,KAC9BgE,SAAUoB,EAAMnD,SAAS+B,SACzBE,WAAYkB,EAAMnD,SAASgC,YAAYC,WACvCC,WAAYiB,EAAMnD,SAASgC,YAAYE,WACvCC,SAAUgB,EAAMnD,SAASgC,YAAYG,SACrC9B,KAAM8C,EAAM1E,UAAU4B,KACtBuC,SAAUO,EAAMnD,SAAS4C,SACzB4K,MAAOrK,EAAM8J,WAAWO,MACxBwd,SAAU7nB,EAAM3D,WAAWwrB,SAC3B7B,aAAchmB,EAAM3D,WAAW2pB,aAC/BT,QAASvlB,EAAM3D,WAAWkpB,YAIP,SAACrpB,GACxB,MAAO,CACHsrB,oBAAqB,SAAC5sB,GAClBsB,EAASstB,YAAmB5uB,KAEhCgtB,kBAAmB,SAACtnB,GAChBpE,EAAS0rB,YAAkBtnB,KAE/B8nB,WAAY,SAAClrB,GACThB,EAASksB,YAAWlrB,KAExBusB,uBAAwB,WACpBvtB,EAASutB,gBAEbpB,oBAAqB,WACjBnsB,EAASmsB,gBAEbK,kBAAmB,SAACnuB,EAAMK,GACtBsB,EAASwsB,YAAkBnuB,EAAMK,KAErC8uB,aAAc,SAACjqB,GACXvD,EAASwtB,YAAajqB,KAE1BuoB,SAAU,WACN9rB,EAAS8rB,gBAEb2B,gBAAiB,WACbztB,EAASytB,gBAEbC,eAAgB,SAACrqB,GACbrD,EAAS0tB,YAAerqB,KAE5B6M,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvDujB,iBAAkB,WACdrsB,EAASqsB,gBAEbC,eAAgB,WACZtsB,EAASssB,gBAEbC,iBAAkB,WACdvsB,EAASusB,gBAEbH,gBAAiB,WACbpsB,EAASosB,gBAEbvM,kBAAmB,SAACtK,GAChBvV,EAAS6f,YAAkBtK,KAE/BoS,iBAAkB,WACd3nB,EAAS2nB,gBAEbqE,YAAa,WACThsB,EAASgsB,mBAm3BNpK,CAGb+L,aAAUrW,cAj3BG,SAAC3S,GAAD,cAAY,CACvBymB,QAAM,GACFhW,WAhFY,KA+EV,cAEDzQ,EAAMI,YAAYC,KAAK,MAAQ,CAC5BoQ,WAjFc,MA8EhB,uBAKMzQ,EAAM6P,OAAO6V,OAAS,GAL5B,2BAMU,2BANV,GASNA,OAAQ,CACJxlB,MAAO,EACP+oB,WAAY,GAEhBC,cAAe,CACXhpB,MA7FY,IA8FZ+oB,WAAY,GAEhBtgB,KAAM,CACFkB,YAAa7J,EAAM+M,QAAQ,IAE/B2Z,WAAW,aACP7c,YAAa,IACZ7J,EAAMI,YAAYkd,GAAG,MAAQ,CAC1B9P,QAAS,SAGjBqZ,kBAAkB,aACdhd,YAAa,IACZ7J,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjBsZ,SAAU,CACNjd,YAAa,IAEjB+V,QAAS5f,EAAMmpB,OAAOvJ,QACtBsI,YAAa,CACThoB,MAnHkB,KAqHtBylB,SAAU,CACNlI,UAAW,UAEf+K,WAAY,CACRtoB,MA1HY,IA2HZkpB,WAAYppB,EAAMqpB,YAAYxxB,OAAO,QAAS,CAC1CyxB,OAAQtpB,EAAMqpB,YAAYC,OAAOC,MACjCC,SAAUxpB,EAAMqpB,YAAYG,SAASC,kBAG7ChB,YAAa,CACTW,WAAYppB,EAAMqpB,YAAYxxB,OAAO,QAAS,CAC1CyxB,OAAQtpB,EAAMqpB,YAAYC,OAAOC,MACjCC,SAAUxpB,EAAMqpB,YAAYG,SAASE,gBAEzCjM,UAAW,SACXvd,MAAO,GAEXiT,QAAS,CACLwW,SAAU,EACVxpB,QAASH,EAAM+M,QAAQ,IAE3Bka,KAAM,CACF0C,SAAU,GAEd7Z,MAAO,CACH3C,IAAK,EACLwC,OAAQ,IAEZia,OAAQ,CACJC,YAAa7pB,EAAM+M,QAAQ,IAE/Bma,eAAgB,CACZ1Z,QAAS,QAEbsc,aAAc,CACVjgB,YAAa7J,EAAM+M,QAAQ,IAE/Bgd,UAAW,CACPtZ,WAAY,OACZ/C,UAAW,OACXsc,aAAc,QAElBC,UAAW,CACPzM,aAAc,SAElB0M,SAAU,CACNva,MAAO,QAEXkW,QAAS,CACLpV,WAAY,QAEhB0Z,WAAY,CACRzc,UAAW,OAEf0c,gBAAiB,CACbC,cAAe,MACfxgB,YAAa,OAEjBygB,mBAAoB,CAChB9c,QAAS,OACTE,UAAW,OACXsc,aAAc,OACdvZ,WAAY,OACZ8Z,eAAgB,QAEpBC,YAAa,CACTtqB,MAAO,OACPsM,OAAQ,QAEZie,YAAa,CACT7a,OAAQ,MACR9G,SAAU,WACVtI,gBAAiBR,EAAMe,QAAQuS,WAAW2U,MAC1C/nB,MAAO,QAEXwqB,UAAW,CACPja,WAAY,OACZvQ,MAAO,SAEX0lB,gBAAc,GACV+E,UAAW,QADD,cAET3qB,EAAMI,YAAYkd,GAAG,MAAQ,CAC1B9Q,OAAQ,mCAHF,cAMTxM,EAAMI,YAAYC,KAAK,MAAQ,CAC5BuqB,UAAW,mCAPL,MAyvBNjY,CAAmByK,YAAW2H,OAE3B2D,S,+RCx/BfmC,oBAAU,CACNC,WAAY,KAGhB,IAgEMC,EAAS,CACXC,OAAQ,SAGNC,E,kDACF,WAAY1qB,GAAQ,IAAD,8BACf,cAAMA,IAOV2qB,SAAW,CACPF,OAAQ,SAACztB,GACDoc,IAAWvd,WAAW,EAAKmE,MAAMpH,SAASygB,UAC1C,EAAKiP,eAEL,EAAKsC,cAET5tB,EAAE+B,OAAO8rB,SAfE,EAmBnBxW,aAAe,SAAC9I,GAAW,IACftO,EAAkBsO,EAAlBtO,cACR,EAAKsa,MAAQhM,EAAMxM,OAAOJ,MAC1B,EAAKga,SAAS,CACVxN,SAAUlO,EACVsa,MAAOhM,EAAMxM,OAAOJ,SAxBT,EA4BnBmsB,cAAgB,WACZ,EAAKnS,SAAS,CACVpB,MAAO,MA9BI,EAkCnB+Q,aAAe,WACX,EAAKtoB,MAAMsoB,aAAa,YAAc,EAAK/Q,QAnC5B,EAsCnBqT,YAAc,WACV,EAAK5qB,MAAMkD,QAAQ6O,KACf,oBAAsB+H,mBAAmB,EAAKvC,SAtClD,EAAK3Y,MAAQ,CACTuM,SAAU,KACVoM,MAAO,IAJI,E,0CA4CnB,WAAU,IAAD,OACGhX,EAAY1I,KAAKmI,MAAjBO,QACA4K,EAAatT,KAAK+G,MAAlBuM,SACFpN,EAA0B,KAArBlG,KAAK+G,MAAM2Y,MAAe,gBAAkB,KACjD1b,EAAaud,IAAWvd,WAAWhE,KAAKmI,MAAMpH,SAASygB,UAE7D,OACI,yBAAKjZ,UAAWG,EAAQsd,QACpB,yBAAKzd,UAAWG,EAAQwqB,YACpB,kBAAC,IAAD,OAEJ,kBAAC,UAAD,CAASP,OAAQA,EAAQG,SAAU9yB,KAAK8yB,UACpC,kBAAC,IAAD,CACIxO,YAAY,kBACZ5b,QAAS,CACL8R,KAAM9R,EAAQyqB,UACdzT,MAAOhX,EAAQ0qB,YAEnB/c,SAAUrW,KAAKwc,aACf6W,OAAQrzB,KAAKizB,cACbnsB,MAAO9G,KAAK+G,MAAM2Y,SAG1B,kBAAC,IAAD,CACIxZ,GAAIA,EACJvE,KAA2B,KAArB3B,KAAK+G,MAAM2Y,MACjBpM,SAAUA,EACV/K,UAAWG,EAAQ4qB,WACnBtC,YAAU,IAET,gBAAGuC,EAAH,EAAGA,gBAAH,OACG,kBAAC,IAAD,iBAAUA,EAAV,CAA2BC,QAAS,MAChC,kBAAC,IAAD,CAAOC,QAAQ,GACVzvB,GACG,kBAAC,IAAD,CAAUuN,QAAS,EAAKkf,cACpB,kBAAC,IAAD,CAAcloB,UAAWG,EAAQ6H,MAC7B,kBAAC,IAAD,OAEJ,kBAAC,IAAD,CACI7H,QAAS,CACL2U,QAAS3U,EAAQ2U,SAErBA,QACI,kBAAC,IAAD,CAAYgO,QAAM,GAAlB,mDACa,IACT,gCACK,EAAKtkB,MAAM2Y,WAQpC,kBAAC,IAAD,CAAUnO,QAAS,EAAKwhB,aACpB,kBAAC,IAAD,CAAcxqB,UAAWG,EAAQ6H,MAC7B,kBAAC,IAAD,OAEJ,kBAAC,IAAD,CACI7H,QAAS,CAAE2U,QAAS3U,EAAQ2U,SAC5BA,QACI,kBAAC,IAAD,CAAYgO,QAAM,GAAlB,mDACa,IACT,gCACK,EAAKtkB,MAAM2Y,qB,GA7G/BiF,aAgI3B+O,EAAY7O,aApMM,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHwtB,aAAc,SAACjqB,GACXvD,EAASwtB,YAAajqB,QA6LhBqe,CAGhBtK,aA3La,SAAC3S,GAAD,YAAY,CACvBoe,QAAM,mBACDpe,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAFX,yBAIQ,YAJR,6BAKYxN,EAAM+rB,MAAMvO,cALxB,gCAMewO,eAAKhsB,EAAMe,QAAQkrB,OAAOC,MAAO,MANhD,cAOF,UAAW,CACP1rB,gBAAiBwrB,eAAKhsB,EAAMe,QAAQkrB,OAAOC,MAAO,OARpD,4BAUWlsB,EAAM+M,QAAQ,IAVzB,2BAWU,GAXV,sBAYK,QAZL,cAaD/M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1B7M,WAAYzQ,EAAM+M,QAAQ,KAC1B7M,MAAO,SAfT,GAkBNorB,WAAY,CACRprB,MAAOF,EAAM+M,QAAQ,GACrBP,OAAQ,OACR1D,SAAU,WACVqjB,cAAe,OACf3e,QAAS,OACTF,WAAY,SACZ8e,eAAgB,UAEpBb,UAAW,CACPpnB,MAAO,UACPjE,MAAO,QAEXsrB,WAAW,aACPa,WAAYrsB,EAAM+M,QAAQ,GAC1Buf,aAActsB,EAAM+M,QAAQ,GAC5Bwf,cAAevsB,EAAM+M,QAAQ,GAC7B8c,YAAa7pB,EAAM+M,QAAQ,GAC3Bqc,WAAYppB,EAAMqpB,YAAYxxB,OAAO,SACrCqI,MAAO,QACNF,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,IACP,UAAW,CACPA,MAAO,OAInBwrB,WAAY,CACR7b,OAAQ,OACR3P,MAAO,QA2IbyS,CAAmByK,YAAW6N,KAEjBa,O,iNC9JTU,E,4MACFrtB,MAAQ,CACJstB,QAAS,EACTC,KAAM,KACNC,MAAO,KACPC,YAAY,G,EAGhBC,WAAY,E,EAEZ7H,kBAAoB,WACZ,EAAK6H,WAAa,EAAKtsB,MAAMmkB,UAC7B,EAAKmI,WAAa,EAAKA,UACvB,EAAKC,iB,EAQbzT,iCAAmC,SAACC,IAE3B,EAAK/Y,MAAMmkB,SAAW,EAAKnkB,MAAMwsB,UAAYzT,EAAUyT,SACvD,EAAKxsB,MAAMmkB,UAAYpL,EAAUoL,SAAWpL,EAAUoL,UAEvD,EAAKoI,gB,EAIbA,aAAe,WACX,IAAIL,EAAU,EACdxd,IAAImJ,IAAI,iBACHjJ,MAAK,SAACxW,GACCA,EAASG,KAAK4zB,KAAO/zB,EAASG,KAAK6zB,OAAS,GAC5CF,EAAU,IACV,EAAKlsB,MAAMgL,eACP,MACA,QACA,2KACA,YAGJkhB,EAAW9zB,EAASG,KAAK4zB,KAAO/zB,EAASG,KAAK6zB,MAAS,IAE3D,EAAKzT,SAAS,CACVuT,QAASA,EACTC,KAAMxqB,YAAavJ,EAASG,KAAK4zB,MACjCC,MAAOzqB,YAAavJ,EAASG,KAAK6zB,YAIzCvd,OAAM,gB,0DAnCf,WACIhX,KAAKy0B,WAAY,I,oBAqCrB,WAAU,IAAD,OACG/rB,EAAY1I,KAAKmI,MAAjBO,QACR,OACI,yBACIksB,aAAc,kBAAM,EAAK9T,SAAS,CAAE0T,YAAY,KAChDK,aAAc,kBAAM,EAAK/T,SAAS,CAAE0T,YAAY,KAChDjsB,UAAWG,EAAQ2pB,aAEnB,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAY9gB,QAAS,kBAAM,EAAKpJ,MAAMkD,QAAQ6O,KAAK,YAC/C,yBAAK3R,UAAWG,EAAQosB,kBACpB,kBAAC,IAAD,CAAavsB,UAAWG,EAAQ+kB,UAChC,yBAAKllB,UAAWG,EAAQqsB,QAAxB,2BACS,MACJ/0B,KAAK+G,MAAMytB,YACR,kBAAC,IAAD,CAAMxzB,KAAM,OAAQ+K,MAAO,aAA3B,gBAIJ,kBAAC,IAAD,CACIxD,UAAWG,EAAQssB,IACnBjpB,MAAM,YACN4K,QAAQ,cACR7P,MAAO9G,KAAK+G,MAAMstB,UAEtB,yBAAK9rB,UAAWG,EAAQ8gB,MACpB,kBAAC,IAAD,CACIpY,MACI,uBACqB,OAApBpR,KAAK+G,MAAMutB,KACN,OACAt0B,KAAK+G,MAAMutB,MACjB,aACsB,OAArBt0B,KAAK+G,MAAMwtB,MACN,OACAv0B,KAAK+G,MAAMwtB,OAErBljB,UAAU,OAEV,kBAAC,IAAD,CACIsF,QAAQ,UACR0U,QAAM,EACNtf,MAAM,iBAHV,qBAKQ,IACiB,OAApB/L,KAAK+G,MAAMutB,KACN,OACAt0B,KAAK+G,MAAMutB,gB,GAtGvB3P,aAsH5BsQ,EAAapQ,aA1KK,SAAC9d,GACrB,MAAO,CACH4tB,QAAS5tB,EAAM3D,WAAW8xB,eAC1B5I,QAASvlB,EAAM3D,WAAWkpB,YAIP,SAACrpB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QAgK5C8Y,CAGjBtK,aA9Ja,SAAC3S,GAAD,YAAY,CACvB6lB,QAAS,CACLpV,WAAY,OACZ5G,YAAa,OACb1F,MAAOnE,EAAMe,QAAQ6P,KAAK3D,UAC1BS,UAAW,OAEf6f,QAAS,CACLptB,QAAS,eAEb+sB,iBAAkB,CACd1f,QAAS,OACTE,UAAW,OACXyP,UAAW,OACX6M,aAAc,QAElBmD,OAAQ,CACJjtB,MAAO,OACP2J,YAAa,QAEjB+X,MAAI,GACA1hB,MAAO,QACPstB,SAAU,SACVC,aAAc,YAHd,cAICztB,EAAMI,YAAYC,KAAK,MAAQ,CAC5BH,MAAO,UALX,0BAOW,OAPX,GASJktB,IAAK,CACD1f,UAAW,OAEf+c,YAAa,CACTjqB,gBAAiBR,EAAMe,QAAQuS,WAAW2U,UA6HhDtV,CAAmByK,YAAWoP,KAEjBa,O,4ICvGTK,E,4MACFnJ,aAAe,SAAChnB,GACZ,EAAKgD,MAAMqiB,eAAerlB,EAAEC,gB,4CAGhC,WAAU,IACEsD,EAAY1I,KAAKmI,MAAjBO,QACF4jB,EAAU1rB,IAAK2I,MAAMvJ,KAAKmI,MAAMmkB,SAChCzB,EAAOjqB,IAAKoI,QAAQhJ,KAAKmI,MAAMmkB,SAErC,OACI,yBAAK/jB,UAAWG,EAAQ6sB,SACpB,yBAAKhtB,UAAWG,EAAQ8sB,YAEpB,uBAAGjkB,QAASvR,KAAKmsB,aAAc5jB,UAAWG,EAAQwP,QAC7CoU,GACG,kBAAC,IAAD,CACIjY,IAAK,uBAAyBwW,EAAK3kB,GAAK,KACxCqC,UAAWG,EAAQ+sB,aAGzBnJ,GACE,kBAAC,IAAD,CACIjY,IAAK,0BACL9L,UAAWG,EAAQ+sB,aAI/B,kBAAC,IAAD,CAAkB/kB,SAAS,UAE/B,yBAAKnI,UAAWG,EAAQgtB,eACpB,kBAAC,IAAD,CACIntB,UAAWG,EAAQitB,SACnBxf,UAAU,KACVkV,QAAM,GAELiB,EAAUzB,EAAKS,SAAW,sBAE/B,kBAAC,IAAD,CACI/iB,UAAWG,EAAQktB,UACnBzf,UAAU,KACVpK,MAAM,gBACNsf,QAAM,GAELiB,EAAUzB,EAAKhJ,MAAM1f,KAAO,sB,GA5CrBwiB,aAwD1BkR,EAAWhR,aA1IO,SAAC9d,GACrB,MAAO,CACHulB,QAASvlB,EAAM3D,WAAWkpB,YAIP,SAACrpB,GACxB,MAAO,CACHunB,eAAgB,SAACmB,GACb1oB,EAASunB,YAAemB,QAiInB9G,CAGftK,aA/Ha,SAAC3S,GAAD,MAAY,CACvB2tB,QAAS,CACLnhB,OAAQ,QACRhM,gBAAiBR,EAAMe,QAAQ0U,QAAQsM,KACvC5hB,QAAS,gBACT+tB,gBACI,gHACAluB,EAAMe,QAAQ0U,QAAQvI,MAAMjI,QAAQ,IAAK,OACzC,2DACAjF,EAAMe,QAAQ0U,QAAQhV,KAAKwE,QAAQ,IAAK,OACxC,6DACAjF,EAAMe,QAAQkM,UAAU8U,KAAK9c,QAAQ,IAAK,OAC1C,0DACAjF,EAAMe,QAAQkM,UAAUxM,KAAKwE,QAAQ,IAAK,OAC1C,0DACAjF,EAAMe,QAAQkM,UAAUC,MAAMjI,QAAQ,IAAK,OAC3C,4DACAjF,EAAMe,QAAQkM,UAAU8U,KAAK9c,QAAQ,IAAK,OAC1C,6DACAjF,EAAMe,QAAQ0U,QAAQhV,KAAKwE,QAAQ,IAAK,OACxC,0DACAjF,EAAMe,QAAQ0U,QAAQsM,KAAK9c,QAAQ,IAAK,OACxC,0DACAjF,EAAMe,QAAQkM,UAAUC,MAAMjI,QAAQ,IAAK,OAC3C,6DACAjF,EAAMe,QAAQkM,UAAUxM,KAAKwE,QAAQ,IAAK,OAC1C,6DACAjF,EAAMe,QAAQkM,UAAU8U,KAAK9c,QAAQ,IAAK,OAC1C,2DACAjF,EAAMe,QAAQkM,UAAUxM,KAAKwE,QAAQ,IAAK,OAC1C,uDACJkpB,eAAgB,SAEpB7d,OAAQ,CACJ9C,QAAS,QACTtN,MAAO,OACPsM,OAAQ,OACRqG,OAAQ,kBACR2K,aAAc,MACdgQ,SAAU,SACV1a,UACI,+DAER+a,UAAW,CACP3tB,MAAO,OACPsM,OAAQ,QAEZuhB,SAAU,CACN5pB,MAAO,OACPsM,WAAY,OACZ/C,UAAW,OACXjC,SAAU,QAEdmiB,WAAY,CACRpgB,QAAS,OACT4e,eAAgB,gBAChB9e,WAAY,OAEhB0gB,UAAW,CACPvd,WAAY,OACZtM,MAAO,UACPyE,QAAS,QAEbklB,cAAe,CACX5tB,MAAO,YA+DbyS,CAAmB+a,IAENO,O,4ZCxGTvb,EAAiBC,YAAW,CAC9BC,KAAM,CACFvE,SAAU,OACVyE,UAAW,OACX,qBAAsB,CAClBC,aAAc,GAElB,WAAY,CACRvF,QAAS,QAEb,aAAc,CAAEV,OAAQ,IAE5BkG,SAAU,IAZSL,CAapBM,KAEGC,EAAwBP,YAAW,CACrCC,KAAM,CACFgY,UAAW,EACXzqB,QAAS,EAET,aAAc,CACVyqB,UAAW,IAGnBzX,QAAS,CACL9E,SAAU,OACVvB,OAAQ,EACRU,QAAS,QACT,aAAc,CACVV,OAAQ,MAGhBkG,SAAU,IAjBgBL,CAkB3BS,KAEGC,EAAwBV,aAAW,SAAC3S,GAAD,MAAY,CACjD4S,KAAM,CACFpF,QAAS,QACTrN,QAASH,EAAM+M,QAAQ,OAHD4F,CAK1Ba,KAEE1T,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCmgB,OAAQ,CACJ3S,QAAS,OACT4b,WAAY,wBAEhBpW,SAAU,CACNxF,QAAS,QACT4gB,UAAW,iBAEfvI,QAAS,CACLpV,WAAY,QAEhB4d,aAAc,CACV7gB,QAAS,QAEb8gB,QAAS,CACL7d,WAAYzQ,EAAM+M,QAAQ,IAE9BwhB,SAAU,CACNC,WAAY,SACZhB,SAAU,SACVC,aAAc,gBAIhBgB,EAAQ,CACVC,OAAQA,IACRC,cAAeA,IACfC,MAAOA,IACPC,aAAcA,IACdC,QAASA,IACTC,eAAgBA,IAChBC,SAAUA,IACVC,gBAAiBA,IACjBC,QAASA,IACTC,eAAgBA,IAChBC,OAAQA,IACRC,cAAeA,IACfC,SAAUA,IACVC,gBAAiBA,IACjBC,mBAAoBA,KAGlBC,EAAS3b,IAAM0M,MAAK,kBAAM,mCAEjB,SAASkP,IAAW,IAAD,EACxB5uB,EAAUhB,IAEV3G,EAAW8kB,cACXxa,EAAUksB,cAEVvzB,EAAaud,IAAWvd,WAAWjD,EAASygB,UANpB,EAQA7c,oBAAS,GART,mBAQvB6yB,EARuB,KAQdC,EARc,OASQ9yB,oBAAS,GATjB,mBASvB+yB,EATuB,KASVC,EATU,OAUEhzB,mBAAS,MAVX,mBAUvBizB,EAVuB,KAUbC,EAVa,OAWNlzB,mBACpB/D,IAAKoI,UAAU8uB,KAAOl3B,IAAKoI,UAAU8uB,KAAO,IAZlB,mBAWvBA,EAXuB,KAWjBC,GAXiB,KAexB90B,GAAW6N,cACXknB,GAAehnB,uBAAY,SAACuF,GAAD,OAAOtT,GAASwtB,YAAala,MAAK,CAC/DtT,KAEEg1B,GAAajnB,uBAAY,SAACuF,GAAD,OAAOtT,GAASksB,YAAW5Y,MAAK,CAACtT,KAE1D6S,GAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,GAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,KA8CL,OACI,oCACI,kBAAC,WAAD,CAAU8lB,SAAU,IAChB,kBAACsO,EAAD,CACIa,UA5BM,SAACC,GACnB,IAAMC,EAAO,sBAAON,GAAP,CAAaK,IAC1BJ,GAAQK,GACR,IAAMvN,EAAOjqB,IAAKoI,UAClB6hB,EAAKiN,KAAOM,EACZx3B,IAAKmI,QAAQ8hB,IAwBDlpB,KAAM+1B,EACNlkB,QAAS,kBAAMmkB,GAAe,OAGtC,kBAACrd,EAAD,CACImZ,QAAM,EACN7Y,SAAU4c,GAAWxzB,EACrBqS,SAAU,kBAAMrS,GAAcyzB,GAAYD,KAE1C,kBAAC1c,EAAD,CACIkC,gBAAc,kBACd9W,GAAG,kBAEH,kBAAC,IAAD,CACIgX,QAAM,EACNvT,IAAI,2BACJ4H,QAAS,kBACJvN,GAAcqH,EAAQ6O,KAAK,oBAGhC,kBAAC,IAAD,KACI,kBAAC,IAAD,CACI3R,UAAW+I,KAAU,mBAEZ5I,EAAQkS,SACL4c,GAAWxzB,GAHF,cAIZ0E,EAAQ+kB,SAAU,GAJN,GAMjB/kB,EAAQqf,YAGbyP,GAAWxzB,IACV,kBAAC,IAAD,CAAcuE,UAAWG,EAAQ+kB,WAGzC,kBAAC,IAAD,CAAcpQ,QAAQ,8BAE1B,kBAAC,IAAD,OAGJ,kBAACpC,EAAD,KACI,kBAAC,IAAD,CAAM4Z,aAAc,kBAAMgD,EAAY,QAClC,kBAAC,IAAD,CACI3a,QAAM,EACNhX,GAAG,YACHqC,UAAWG,EAAQutB,cAEnB,kBAAC,IAAD,KACI,kBAAC,IAAD,OAEJ,kBAAC,IAAD,OAEJ,kBAAC,IAAD,CACI/Y,QAAM,EACNhX,GAAG,aACHqC,UAAWG,EAAQutB,cAEnB,kBAAC,IAAD,KACI,kBAAC,IAAD,OAEJ,kBAAC,IAAD,OAEH,CACG,CACItsB,IAAK,eACLzD,GAAI,QACJqK,KACI,kBAAC,IAAD,CACIhI,UAAW,CACPG,EAAQ+kB,QACR/kB,EAAQ2vB,cAKxB,CACI1uB,IAAK,eACLzD,GAAI,QACJqK,KACI,kBAAC,IAAD,CACIhI,UAAW,CACPG,EAAQ+kB,QACR/kB,EAAQ4vB,YAKxB,CACI3uB,IAAK,eACLzD,GAAI,QACJqK,KACI,kBAAC,IAAD,CACIhI,UAAW,CACPG,EAAQ+kB,QACR/kB,EAAQ6vB,cAKxB,CACI5uB,IAAK,eACLzD,GAAI,MACJqK,KACI,kBAAC,IAAD,CACIhI,UAAW,CACPG,EAAQ+kB,QACR/kB,EAAQ8vB,aAK1B1qB,KAAI,SAAC+B,GAAD,OACF,kBAAC,IAAD,CACIqN,QAAM,EACNvT,IAAKkG,EAAElG,IACP4H,QAAS,kBAAMymB,GAAanoB,EAAE3J,GAAK,eAEnC,kBAAC,IAAD,CAAcqC,UAAWG,EAAQwtB,SAC5BrmB,EAAEU,MAEP,kBAAC,IAAD,CAAc8M,QAASxN,EAAElG,UAGhCmuB,EAAKhqB,KAAI,SAAC+B,GAAD,OACN,kBAAC,IAAD,CACIqN,QAAM,EACNvT,IAAKkG,EAAE3J,GACP0uB,aAAc,kBAAMiD,EAAYhoB,EAAE3J,KAClCqL,QAAS,WACU,IAAX1B,EAAEvO,KACF02B,GAAa,OAASnoB,EAAE3J,IAExB+xB,GAAWpoB,EAAE4oB,cAIrB,kBAAC,IAAD,CAAclwB,UAAWG,EAAQwtB,SAxL7C,SAAC3lB,EAAMxE,GACnB,GAAIsqB,EAAM9lB,GAAO,CACb,IAAMmoB,EAAgBrC,EAAM9lB,GAC5B,OACI,kBAACmoB,EAAD,CACInwB,UAAW,CAACG,EAAQ+kB,SACpBpd,MACItE,EACM,CACIA,MAAOA,GAEX,KAKtB,OAAO,kBAAC,IAAD,CAAQxD,UAAW,CAACG,EAAQ+kB,WAyKNkL,CACc,IAAX9oB,EAAEvO,KACIuO,EAAEU,KACF,qBACK,IAAXV,EAAEvO,KAAauO,EAAE9D,MAAQ,OAGjC,kBAAC,IAAD,CACIxD,UAAWG,EAAQytB,SACnB9Y,QAASxN,EAAE1N,OAGdy1B,IAAa/nB,EAAE3J,IACZ,kBAAC,IAAD,CACIqL,QAAS,kBA5KvBrL,EA4K0C2J,EAAE3J,QA3K9D2Q,IAAIyL,OAAO,QAAUpc,GAChB6Q,MAAK,WACF,IAAMqhB,EAAUN,EAAKx0B,QAAO,SAACuM,GACzB,OAAOA,EAAE3J,KAAOA,KAEpB6xB,GAAQK,GACR,IAAMvN,EAAOjqB,IAAKoI,UAClB6hB,EAAKiN,KAAOM,EACZx3B,IAAKmI,QAAQ8hB,MAEhB7T,OAAM,SAACjX,GACJ+V,GAAe,MAAO,QAAS/V,EAAMF,QAAS,YAZrC,IAACqG,IA8Kc,kBAAC,IAAD,CACIlE,KAAM,QACNic,KAAK,MACL7H,aAAW,UAEX,kBAAC,IAAD,YAOpB,kBAAC,IAAD,CAAU8G,QAAM,EAAC3L,QAAS,kBAAMomB,GAAe,KAC3C,kBAAC,IAAD,CAAcpvB,UAAWG,EAAQwtB,SAC7B,kBAAC,IAAD,CAAS3tB,UAAWG,EAAQ+kB,WAEhC,kBAAC,IAAD,CAAcpQ,QAAS,kCAEvB,IACR,kBAAC,IAAD,W,gCC9XpB,sXAAO,IAAMub,EAAmB,CAC5B,MACA,MACA,MACA,MACA,OACA,MACA,QAESC,EAAqB,CAC9B,MACA,OACA,MACA,MACA,OACA,OACA,OAESC,EAAqB,CAAC,MAAO,OAE7BC,EAAqB,CAAC,MAAO,MAAO,QACpCC,EAAmB,CAAC,OACpBC,EAAa,CAAC,KAAM,OACpBtQ,EAAoB,CAC7BuQ,KAAM,OACNC,IAAK,MACLC,GAAI,SACJC,IAAK,MACLC,IAAK,MACLhtB,EAAG,MACHwC,EAAG,MACHyqB,GAAI,SACJC,IAAK,MACLC,WAAY,aACZC,GAAI,KACJC,KAAM,OACNC,IAAK,MACLC,KAAM,OACNC,GAAI,aACJC,IAAK,aACLC,KAAM,OACNC,IAAK,MACLC,GAAI,QACJC,IAAK,MACLC,IAAK,MACLC,KAAM,QAEGC,EAAY,CACrBC,MAAO,CAAC,MAAO,OAAQ,MAAO,MAAO,MAAO,OAC5CC,MAAO,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,OAAQ,MAAO,OAChEC,MAAO,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,MAAO,MAAO,QACjEC,IAAK,CAAC,OACNC,KAAM,CAAC,MAAO,QACdC,IAAK,CAAC,MAAO,QACbC,MAAO,CAAC,MAAO,OAAQ,OACvBriB,KAAM,CAAC,MAAO,KAAM,QACpBsiB,QAAS,CAAC,WACVC,IAAK,CAAC,MAAO,KAAM,MAAO,MAAO,MACjCC,OAAQ,CAAC,OACTC,QAAS,CAAC,OACV9B,IAAK,CAAC,OACNO,GAAI,CAAC,MACLwB,OAAQ,CAAC,MACT5B,IAAK,CAAC,OACNhtB,EAAG,CAAC,KACJwtB,GAAI,CAAC,KAAM,QAEFqB,EAAgB,CACzBC,MAAO,eACPC,OAAQ,eACRC,MAAO,eACPC,MAAO,qBACPC,IAAK,yBACLC,IAAK,qBACLC,SAAU,WACVC,GAAI,aAEK3M,EAAgB,SAAC7sB,GAC1B,IAAMiJ,EAASjJ,EAAK8K,MAAM,KAAKkB,MAAMytB,cACrC,OAA0C,IAAtChD,EAAiB3tB,QAAQG,GAClB,OACwC,IAAxCytB,EAAmB5tB,QAAQG,GAC3B,SACwC,IAAxC0tB,EAAmB7tB,QAAQG,GAC3B,SACwC,IAAxC2tB,EAAmB9tB,QAAQG,GAC3B,SACgC,IAAhC6tB,EAAWhuB,QAAQG,GACnB,QACsC,IAAtC4tB,EAAiB/tB,QAAQG,GACzB,OACoD,IAApDhL,OAAO0oB,KAAKH,GAAmB1d,QAAQG,IACvC,QAIFywB,EAAY,SAAC15B,GACtB,IAAMiJ,EAASjJ,EAAK8K,MAAM,KAAKkB,MAAMytB,cACrC,OAA2C,IAAvCtB,EAAUQ,QAAQ7vB,QAAQG,IAMrB0wB,EAAiB,SAAC35B,GAE3B,MAAkB,QADHA,EAAK8K,MAAM,KAAKkB,MAAMytB,eAInCG,EAAa,CAAC,qBAAO,qBAAO,eAAM,eAAM,sBACxCC,EAAW,CAAC,eAAM,qBAAO,2BAAQ,uCAAU,wCAC3CC,EAAe,CACjB,qBACA,qBACA,2BACA,qBACA,qBACA,qBACA,sBAGSC,EAAgB,SAACjkB,GAC1B,OAAO8jB,EAAW9jB,IAGTkkB,EAAc,SAAClkB,GACxB,OAAO+jB,EAAS/jB,IAGPmkB,EAAkB,SAAC96B,EAAM2W,GAClC,OAAa,IAAT3W,EACO,uBAAU2W,EAAS,GAAK,sBAE5BgkB,EAAahkB,IAGX3B,EAAgB,CACzB,2BACA,2BACA,eACA,uCACA,iB,2EChIS+lB,EAAwB,SAAC90B,GAClC,MAAO,CACHjG,KAAM,yBACNiG,YAIK+0B,EAAqB,SAACj1B,GAC/B,MAAO,CACH/F,KAAM,uBACN+F,YAIKsnB,EAAoB,SAACtnB,GAC9B,MAAO,CACH/F,KAAM,sBACN+F,YAmBK4nB,EAAc,WACvB,OAAO,SAAChsB,EAAUC,GAAc,IAAD,EAMvBA,IAJYyC,EAFW,EAEvB/B,SAAY+B,SAEI6b,EAJO,EAGvB+a,OACIx7B,SAAYygB,SAGdgb,EAAUjb,IAAWrd,YAAYsd,GACvC,GAAIgb,EAAS,CACT,IAAK57B,IAAK2I,QAGN,OAFAtG,EAASkQ,EAAe,MAAO,QAAS,2BAAQ,iBAChDlQ,EAASwsB,EAAkB,QAAQ,IAGvC,IAAM5E,EAAOjqB,IAAKoI,UAClB,IAAKpI,IAAK2I,SAAWshB,IAASA,EAAKhJ,MAAM4a,cAGrC,OAFAx5B,EAASkQ,EAAe,MAAO,QAAS,2BAAQ,iBAChDlQ,EAASwsB,EAAkB,QAAQ,IAK3CxsB,EAASwsB,EAAkB,QAAQ,IACnC,IAAMiN,EACmB,MAArB/2B,EAAS,GAAG1B,KACN0B,EAAS,GAAG1B,KAAO0B,EAAS,GAAGxD,KAC/BwD,EAAS,GAAG1B,KAAO,IAAM0B,EAAS,GAAGxD,KAC/C,OAAQ6sB,YAAcrpB,EAAS,GAAGxD,OAC9B,IAAK,MAED,YADAc,EAAS0tB,EAAehrB,EAAS,KAErC,IAAK,QACD,OAAI62B,OACAv5B,EACIiX,YACIvU,EAAS,GAAGgE,IACR,aACAsY,mBAAmBtc,EAAS,GAAGxD,MAC/B,eACA8f,mBAAmBya,UAKnCz5B,EACIiX,YACI,UACI+H,mBAAmBya,GACnB,OACA/2B,EAAS,GAAGO,KAI5B,IAAK,QAED,YADAjD,EAASytB,KAEb,IAAK,QACD,OAAI8L,OACAv5B,EACIiX,YACIvU,EAAS,GAAGgE,IACR,eACAsY,mBAAmBtc,EAAS,GAAGxD,MAC/B,eACA8f,mBAAmBya,UAKnCz5B,EACIiX,YACI,YACI+H,mBAAmBya,GACnB,OACA/2B,EAAS,GAAGO,KAI5B,IAAK,MACD,OAAIs2B,OACAv5B,EACIiX,YACIvU,EAAS,GAAGgE,IACR,aACAsY,mBAAmBtc,EAAS,GAAGxD,MAC/B,eACA8f,mBAAmBya,UAKnCz5B,EACIiX,YACI,UACI+H,mBAAmBya,GACnB,OACA/2B,EAAS,GAAGO,KAI5B,IAAK,OACD,OAAIs2B,OACAv5B,EACIiX,YACIvU,EAAS,GAAGgE,IACR,cACAsY,mBAAmBtc,EAAS,GAAGxD,MAC/B,eACA8f,mBAAmBya,UAKnCz5B,EACIiX,YACI,WACI+H,mBAAmBya,GACnB,OACA/2B,EAAS,GAAGO,KAI5B,IAAK,OACD,OAAIs2B,OACAv5B,EACIiX,YACIvU,EAAS,GAAGgE,IACR,cACAsY,mBAAmBtc,EAAS,GAAGxD,MAC/B,eACA8f,mBAAmBya,UAKnCz5B,EACIiX,YACI,WACI+H,mBAAmBya,GACnB,OACA/2B,EAAS,GAAGO,KAI5B,QAEI,YADAjD,EAAS6f,EAAkB,+CAM9B6Z,EAAa,SAAC12B,EAAMyN,EAAOkpB,GAAe,IAC3CC,EAA+BnpB,EAA/BmpB,QAASC,EAAsBppB,EAAtBopB,QAASC,EAAarpB,EAAbqpB,SAC1B,OAAO,SAAC95B,EAAUC,GAEd,KAAI,CAAC25B,EAASC,EAASC,GAAUz5B,OAAOiQ,SAAS3M,OAAS,GAA1D,CAGA,IAAMo2B,EAAYltB,cACVlM,EAAaV,IAAbU,SAEJ+B,EAKA/B,EALA+B,SACAK,EAIApC,EAJAoC,WACA3C,EAGAO,EAHAP,QACAG,EAEAI,EAFAJ,SAEAI,EADAwC,iBAEJ,GACI22B,IACCF,IACAC,GACmB,IAApBn3B,EAASiB,QAETX,EAAK3E,OAAS0E,EAAWC,KAAK3E,KAChC,CAGE2B,EAASo5B,EAAsB12B,EAASmI,KAAI,SAAC+B,GAAD,OAAOA,EAAE3J,QAErD,IAAM+2B,EAAQhzB,KAAK6U,IAAI9Y,EAAWG,MAAOy2B,GACnCM,EAAMjzB,KAAKkzB,IAAIn3B,EAAWG,MAAOy2B,GAEjCQ,GADqB,QAAdn3B,EAAK3E,KAAiB+B,EAAUG,GACf0J,MAAM+vB,EAAOC,EAAM,GACjD,OAAOj6B,EAASq5B,EAAmBc,IAIvC,OAFAn6B,EAzMqB,SAACgD,EAAME,GAChC,MAAO,CACH7E,KAAM,kBACN2E,OACAE,SAqMSk3B,CAAcp3B,EAAM22B,IAC7B35B,EAlM2B,SAACmD,GAChC,MAAO,CACH9E,KAAM,yBACN8E,oBA+LSk3B,CAAoB,KACxBT,IAAYG,GAAeF,GAAWE,EAM5B/5B,GADW,IAHD0C,EAASqd,WAAU,SAAClc,GACrC,OAAOA,EAAMZ,KAAOD,EAAKC,MAGTm2B,EAAsB,CAACp2B,EAAKC,KAEhCo2B,EAAmB,CAACr2B,KAGjChD,EAAS0rB,EAAkB,CAAC1oB,QCxP3C,o5CAEO,IAAMs3B,EAAe,SAACt5B,EAAMu5B,GAC/B,MAAO,CACHl8B,KAAM,gBACN2C,OACAu5B,qBAIKrO,EAAa,SAAClrB,GACvB,OAAO,SAAChB,EAAUC,GACd,IAAM6D,EAAQ7D,IACRs6B,EAAmBv5B,IAAS8C,EAAM1E,UAAU4B,KAClDhB,EAASs6B,EAAat5B,EAAMu5B,MAIvBC,EAAa,WACtB,OAAO,SAACx6B,EAAUC,GACd,IAAM6D,EAAQ7D,IACRw6B,EAAY32B,EAAM1E,UAAU4B,KAAKgJ,MAAM,KAC7CywB,EAAUvvB,MACV,IAAMwvB,EAA+B,IAArBD,EAAU92B,OAAe,IAAM82B,EAAUvwB,KAAK,KACxDqwB,EAAmBG,IAAY52B,EAAM1E,UAAU4B,KACrDhB,EAASs6B,EAAaI,EAASH,MAI1BjN,EAAqB,SAAC5uB,GAC/B,MAAO,CACHL,KAAM,gBACNK,KAAMA,IAIDi8B,EAAc,SAACz2B,EAAQD,GAChC,MAAO,CACH5F,KAAM,gBACN6F,OAAQA,EACRD,OAAQA,IAIHgL,EAAmB,SAACzQ,GAC7B,MAAO,CACHH,KAAM,qBACNG,OAAQA,IAIHwP,EAAqB,WAC9B,MAAO,CACH3P,KAAM,yBAIDmuB,EAAoB,SAACnuB,EAAMK,GACpC,MAAO,CACHL,KAAM,sBACNu8B,SAAUv8B,EACVK,KAAMA,IAIDm8B,EAA4B,SAAC7lB,GACtC,MAAO,CACH3W,KAAM,+BACN2W,OAAQA,IAIH8lB,EAAoB,SAAC9lB,EAAQhX,GACtC,MAAO,CACHK,KAAM,sBACN2W,OAAQA,EACRhX,IAAKA,IAIAuvB,EAAyB,WAClC,MAAO,CACHlvB,KAAM,8BAID08B,EAAuB,WAChC,MAAO,CACH18B,KAAM,4BAIDkpB,EAAiB,SAACmB,GAC3B,MAAO,CACHrqB,KAAM,mBACNqqB,OAAQA,IAIHpZ,EAAsB,SAACoZ,GAChC,MAAO,CACHrqB,KAAM,yBACNqqB,OAAQA,IAIH2D,EAAmB,WAC5B,MAAO,CACHhuB,KAAM,uBAID+Q,EAAmB,SAAC1I,GAC7B,MAAO,CACHrI,KAAM,qBACNqI,IAAKA,IAIA4lB,EAAiB,WAC1B,MAAO,CACHjuB,KAAM,qBAIDkuB,EAAmB,WAC5B,MAAO,CACHluB,KAAM,uBAID+tB,EAAkB,WAC3B,MAAO,CACH/tB,KAAM,sBAID28B,EAAc,SAACr2B,GACxB,MAAO,CACHtG,KAAM,cACNsG,MAAOA,IAIFgjB,EAAmB,SAAC3S,GAC7B,MAAO,CACH3W,KAAM,qBACN2W,OAAQA,IAIHyY,EAAkB,WAC3B,MAAO,CACHpvB,KAAM,sBAID48B,EAA2B,WACpC,MAAO,CACH58B,KAAM,gCAID68B,EAA4B,WACrC,MAAO,CACH78B,KAAM,iCAID88B,EAAuB,WAChC,MAAO,CACH98B,KAAM,2BAID+8B,EAAqB,WAC9B,MAAO,CACH/8B,KAAM,yBAIDg9B,EAAqB,WAC9B,MAAO,CACHh9B,KAAM,yBAID8tB,EAAsB,WAC/B,MAAO,CACH9tB,KAAM,2BAIDi9B,EAAiB,WAC1B,MAAO,CACHj9B,KAAM,qBAIDwhB,EAAoB,SAACtK,GAC9B,MAAO,CACHlX,KAAM,sBACNkX,KAAMA,IAIDoK,EAAiB,WAC1B,MAAO,CACHthB,KAAM,qBAID6R,EAAiB,SAACF,EAAUC,EAAYjS,EAAK8K,GACtD,MAAO,CACHzK,KAAM,kBACN2R,SAAUA,EACVC,WAAYA,EACZjS,IAAKA,EACL8K,MAAOA,IAIFyyB,EAAqB,WAC9B,MAAO,CACHl9B,KAAM,yBAID+X,EAAmB,SAACpB,GAC7B,MAAO,CACH3W,KAAM,qBACN2W,OAAQA,IAIHsB,EAAkB,WAC3B,MAAO,CACHjY,KAAM,sBAIDmvB,EAAe,SAACjqB,GACzB,MAAO,CACHlF,KAAM,iBACNkF,SAAUA,IAILmqB,EAAiB,SAACrqB,GAC3B,MAAO,CACHhF,KAAM,mBACNgF,MAAOA,IAIF8b,EAAiB,WAC1B,MAAO,CACH9gB,KAAM,oBAIDytB,EAAW,WACpB,MAAO,CACHztB,KAAM,cAIDm9B,EAAgB,SAACC,GAC1B,MAAO,CACHp9B,KAAM,kBACNo9B,OAAQA,K,6KChPVC,E,4MACF53B,MAAQ,CACJkT,MAAO,GACP2kB,WAAY,EACZC,QAAQ,G,EAGZ5d,iCAAmC,SAACC,GAChC,IAAMjH,EAAQ,GACV6kB,EAAW,EACf,GAA2B,KAAvB5d,EAAU5a,MAAMJ,GAAW,CAC3B,GACIqb,IAAWrd,YAAY,EAAKiE,MAAMpH,SAASygB,YAC1CN,EAAU5a,MAAMrC,KACnB,CACE,IAAM86B,EAAS,CACXC,MAAO9d,EAAU5a,MAAMnE,KACvBkS,IAAKhV,IAAU,kBAAoB6hB,EAAU5a,MAAMqD,KASvD,OAPAm1B,EAAW,EACX7kB,EAAMC,KAAK6kB,QACX,EAAKje,SAAS,CACV8d,WAAYE,EACZ7kB,MAAOA,EACP4kB,QAAQ,IAKhB3d,EAAU3a,MAAMuH,KAAI,SAAChH,GACjB,IAAMm4B,EAAWn4B,EAAM3E,KAAK8K,MAAM,KAAKkB,MAAMytB,cAC7C,IAA4C,IAAxChD,IAAiB3tB,QAAQg0B,GAAkB,CAC3C,IAAI5qB,EAAM,GAGNA,EAFAkN,IAAWrd,YAAY,EAAKiE,MAAMpH,SAASygB,WAC3CnN,EAAMhV,IAAU,kBAAoByH,EAAM6C,KAGtC,SACAsY,mBACmB,MAAfnb,EAAM7C,KACA6C,EAAM7C,KAAO6C,EAAM3E,KACnB2E,EAAM7C,KAAO,IAAM6C,EAAM3E,MAGjC9C,IAAU,iBAAmByH,EAAMZ,GAE7C,IAAM64B,EAAS,CACXC,MAAOl4B,EAAM3E,KACbkS,IAAKA,GAGLvN,EAAM7C,OAASid,EAAU5a,MAAMrC,MAC/B6C,EAAM3E,OAAS+e,EAAU5a,MAAMnE,OAE/B28B,EAAW7kB,EAAMrT,QAErBqT,EAAMC,KAAK6kB,OAGnB,EAAKje,SAAS,CACV8d,WAAYE,EACZ7kB,MAAOA,EACP4kB,QAAQ,M,EAKpB1U,YAAc,WACV,EAAKhiB,MAAMwoB,eAAe/sB,YAAmByC,WAAWC,OACxD,EAAKwa,SAAS,CACV+d,QAAQ,K,4CAIhB,WAAU,IAAD,SACiC7+B,KAAK+G,MAAnC63B,EADH,EACGA,WAAYC,EADf,EACeA,OAAQ5kB,EADvB,EACuBA,MAE5B,OACI,6BACK4kB,GACG,kBAAC,IAAD,CACIK,OAAQjlB,EACRklB,QAASN,EACTrrB,QAAS,kBAAM,EAAK2W,eACpBhkB,MAAOy4B,EACPQ,cAAe,SAACC,GAAD,OACX,EAAKve,SAAS,CACV8d,WAAYS,Y,GAvFT1a,aAqG7B2a,EAAaza,aApHK,SAAC9d,GACrB,MAAO,CACHT,MAAOS,EAAMnD,SAASyC,WAAWC,MACjCC,MAAOQ,EAAMnD,SAASyC,WAAWE,UAId,SAACtD,GACxB,MAAO,CACH0tB,eAAgB,SAACrqB,GACbrD,EAAS0tB,YAAerqB,QA0GjBue,CAGjBtK,aAzHa,iBAAO,KAyHpBA,CAAmByK,YAAW2Z,KAEjBW,a,sHCvIFC,EAAa,SAACC,GAAD,MAAwB,oBAARA,GAE7BC,EAAO,aAEPC,EAAY,SAACrrB,GAAD,OAAS,SAACvL,GAC/B,IAAM62B,EAAah1B,SAASi1B,cAAc,UAC1C,GAAmB,kBAARvrB,EAAkB,CAEzB,IAAK,IAAM1K,KAAO0K,EACVjU,OAAOD,UAAU0/B,eAAeC,KAAKzrB,EAAK1K,KAC1Cg2B,EAAWh2B,GAAO0K,EAAI1K,IAG9B0K,EAAMA,EAAIA,SAEVsrB,EAAWtrB,IAAMA,EAKrB,OAHAsrB,EAAWz6B,iBAAiB,QAAQ,kBAAM4D,EAAG,KAAMuL,MACnDsrB,EAAWz6B,iBAAiB,SAAS,kBAAM4D,GAAG,EAAMuL,MACpD1J,SAASo1B,KAAKC,YAAYL,GACnBA,IAGLM,EAAc,SAACC,GACjB,IAAMpX,EAAO1oB,OAAO0oB,KAAKoX,GACrBl2B,GAAK,EACT,MAAO,CACHm2B,KADG,WAGC,QADAn2B,GACS8e,EAAKliB,OAAe,KACjBkiB,EAAK9e,MAMhBo2B,EAAW,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAc,SAACC,GAAD,OAAU,SAACx3B,GAC7C,IAAIy3B,GAAW,EACXC,EAAY,EACVC,EAAM,IACZJ,EAAQA,EAAM/8B,OAAOi8B,IAEX34B,QAAU,EAAGkC,EAAG,MAEtBu3B,EAAMx5B,SAAQ,SAAC65B,EAAM12B,GACH02B,GACR,SAACC,GAAkB,IAAD,uBAATC,EAAS,iCAATA,EAAS,kBAChBD,EAAKJ,GAAW,GAGZK,EAAKh6B,QAAU,IAAGg6B,EAAOA,EAAK,IAElCH,EAAIz2B,GAAK42B,EACTJ,KAGAjB,EAAWe,IAAOA,EAAKR,KAAK,KAAMa,EAAKC,EAAM52B,GAE7Cu2B,EAAUz3B,GAAG,GACRu3B,EAAMz5B,SAAW45B,GACtB13B,EAAG,KAAM23B,YAQhBI,EAAS,sCAAIR,EAAJ,yBAAIA,EAAJ,uBAAc,SAACC,GAAD,OAAU,SAACx3B,GAC3Cu3B,EAAQA,EAAM/8B,QAAO,SAACk8B,GAAD,OAAgB,MAAPA,KAC9B,IAUI71B,EAAKm3B,EAVHC,EAAUd,EAAYI,GACtBW,EAAY,WACd,IAAMr3B,EAAMo3B,EAAQZ,OAChBW,EAAQT,EAAM12B,GAKlB,OAHIif,MAAMqY,QAAQH,KAEdA,EAAQV,EAASxzB,MAAM,KAAMk0B,GAAOhB,KAAK,KAAMQ,IAC5C,EAAE32B,EAAKm3B,IAGdX,EAAOa,IAGX,GAFAr3B,EAAMw2B,EAAK,GAEE,OADbW,EAAQX,EAAK,IACM,OAAOr3B,EAAG,MAE7B,IAAM23B,EAAM,IACK,SAAXS,IACFJ,GAAM,SAACH,GAAkB,IAAD,uBAATC,EAAS,iCAATA,EAAS,kBAIpB,GAHIA,EAAKh6B,QAAU,IAAGg6B,EAAOA,EAAK,IAC9BrB,EAAWe,IAAOA,EAAKR,KAAK,KAAMa,EAAKC,EAAMj3B,GAE7Cg3B,EAAK73B,EAAG63B,OACP,CAOD,GALAF,EAAIvmB,KAAK0mB,GAETT,EAAOa,IACPr3B,EAAMw2B,EAAK,GAEE,OADbW,EAAQX,EAAK,IACM,OAAOr3B,EAAG,KAAM23B,GAE9BS,QAIjBA,MCtGEC,EAAe,GACfC,EAAiB,GACnBC,EAAe,GAEbC,EAAW,SAACC,GACVJ,EAAal2B,QAAQs2B,GAAS,GAC9BJ,EAAajnB,KAAKqnB,IAIpBC,EAAqB,WACnBH,EAAaz6B,OAAS,IACtBy6B,EAAax6B,SAAQ,SAAC46B,GAClB,IAAMC,EAAO/2B,SAASqB,cAAT,sBAAsCy1B,EAAtC,OACD,MAARC,GACAA,EAAKC,WAAWC,YAAYF,MAIpCL,EAAe,KA0CvB,IAsEeQ,EAtEQ,kBAAM,SAACC,GAAsB,IAC1CC,EADyC,kDAU3C,WAAY55B,EAAO65B,GAAU,IAAD,8BACxB,cAAM75B,EAAO65B,IAERj7B,MAAQ,CACTk7B,gBAAgB,EAChBC,qBAAqB,GAGzB,EAAKC,YAAa,EARM,EAVe,qDAqB3C,WAAqB,IAAD,OAChBniC,KAAKmiC,YAAa,EA5DvB,SAA6BC,GAA6B,IAApBC,EAAmB,uDAAN5C,EAEhD6C,EAAgB,SAACb,GACnB,IAAMptB,EAAwB,kBAAXotB,EAAsBA,EAAOptB,IAAMotB,EACtD,GAAIN,EAAal2B,QAAQoJ,GAAO,EAC5B,OAAO,SAACkuB,GACJ,IAAMC,EAAYpB,EAAe/sB,IAAQ,GAGzC,GAFAmuB,EAAUtoB,KAAKqoB,GACfnB,EAAe/sB,GAAOmuB,EACG,IAArBA,EAAU57B,OACV,OAAO84B,EAAU+B,EAAV/B,EAAkB,SAACiB,GACtBS,EAAe/sB,GAAKxN,SAAQ,SAACiC,GAAD,OAAQA,EAAG63B,EAAKtsB,aACrC+sB,EAAe/sB,QAMpCgsB,EAAQ+B,EAAQt0B,KAAI,SAACuG,GACvB,OAAIuU,MAAMqY,QAAQ5sB,GACPA,EAAIvG,IAAIw0B,GACLA,EAAcjuB,MAGhCwsB,EAAM,WAAN,cAAUR,GAAVQ,EAAiB,SAACF,EAAKtsB,GACfssB,EACAU,EAAannB,KAAK7F,GAEduU,MAAMqY,QAAQ5sB,GACdA,EAAIxN,QAAQy6B,GACTA,EAASjtB,KANxBwsB,EAQG,SAACF,GACAa,IACAa,EAAW1B,MAkCP8B,CAPgB,CACZ,CAAC,gCACD,CAAC,uCACD,CAAC,qCACD,CAAC,6BACD,CAAC,gCAAkC3hC,OAAO4hC,WAAa,SAE9B,SAAC/B,GACtB,EAAKwB,YACL,EAAKrhB,SACD,CACImhB,gBAAgB,EAChBC,qBAAsBvB,IAE1B,WACSA,GACD,EAAKx4B,MAAMw6B,yBAvCQ,kCA+C3C,WACI3iC,KAAKmiC,YAAa,IAhDqB,gCAmD3C,WAEI,OAAOniC,KAAK4iC,KAAKC,kBArDsB,oBAwD3C,WACI,IAAM16B,EAAK,uCACJnI,KAAKmI,OACLnI,KAAK+G,OAFD,IAGPugB,IAAK,oBAGT,OAAO,kBAACwa,EAAqB35B,OA/DU,GACpBwc,aAkE3B,OAlEMod,EAKKe,aAAe,CAClBH,eAAgBlD,GA4DjBsD,IAAahB,EAAcD,K,0PCtDhCkB,G,4MACFj8B,MAAQ,CACJpF,MAAM,EACNshC,MAAO,I,EA6EXC,aAAe,WACN,EAAKn8B,MAAMpF,MACZ,EAAKmf,SAAS,CAAEnf,MAAM,K,EAI9BwhC,aAAe,SAACl9B,GACZ,EAAKkC,MAAMg7B,aAAal9B,GACxB,EAAKm9B,QAAQn9B,I,EAGjBo9B,QAAU,SAACp9B,GACP,EAAKkC,MAAMk7B,QAAQp9B,GACnB,EAAKm9B,QAAQn9B,I,EAGjBkkB,YAAc,WACV,EAAKrJ,SAAS,CAAEnf,MAAM,K,EAG1B2hC,WAAa,WACT34B,SAAS44B,uBAAuB,kBAAkB,GAAGC,S,EAGzDC,sBAAwB,WACpB,MAAyC,UAAlC,EAAKt7B,MAAMP,MAAMe,QAAQrH,KAC1BoiC,kBAAQ,EAAKv7B,MAAMP,MAAMe,QAAQ0U,QAAQsM,KAAM,IAC/Cga,iBAAO,EAAKx7B,MAAMP,MAAMe,QAAQuS,WAAW2U,MAAO,K,6CApG5D,SAAQoT,GACJjjC,KAAK8gB,SAAS,CACVmiB,MAAM,GAAD,mBAAMjjC,KAAK+G,MAAMk8B,OAAjB,YAA2BA,Q,qBAIxC,SAAQh9B,GACJ,IAAM29B,EAAQ,YAAO5jC,KAAK+G,MAAMk8B,OAC1BY,EAASD,EAAS5gB,WAAU,SAAC8gB,GAC/B,OAAOA,EAAE59B,KAAOD,EAAKC,OAET,IAAZ29B,IACAD,EAASG,OAAOF,EAAQ,GACxB7jC,KAAK8gB,SAAS,CACVmiB,MAAOW,EACPjiC,KAA0B,IAApBiiC,EAASh9B,Y,0BAK3B,SAAaX,GACT,IAAM29B,EAAQ,YAAO5jC,KAAK+G,MAAMk8B,OAC1BY,EAASD,EAAS5gB,WAAU,SAAC8gB,GAC/B,OAAOA,EAAE59B,KAAOD,EAAKC,OAEpBD,EAAK+9B,QAAU/9B,EAAKg+B,UACjBL,EAASC,KAAYD,EAASC,GAAQG,SACtCJ,EAASC,GAAU59B,EACnBjG,KAAK8gB,SAAS,CACVmiB,MAAOW,KAIf39B,EAAKg+B,WAAY,I,yBAIzB,SAAYh+B,GACR,IAAM29B,EAAQ,YAAO5jC,KAAK+G,MAAMk8B,OAC1BY,EAASD,EAAS5gB,WAAU,SAAC8gB,GAC/B,OAAOA,EAAE59B,KAAOD,EAAKC,OAET,IAAZ29B,GACgC,IAA5BD,EAASC,GAAQ5rB,SACjB2rB,EAASC,GAAQ5rB,OAAS,EAC1BjY,KAAK8gB,SAAS,CACVmiB,MAAOW,O,sBAMvB,SAAS39B,EAAM+9B,GACX,IAAMJ,EAAQ,YAAO5jC,KAAK+G,MAAMk8B,OAC1BY,EAASD,EAAS5gB,WAAU,SAAC8gB,GAC/B,OAAOA,EAAE59B,KAAOD,EAAKC,OAET,IAAZ29B,GACAD,EAASC,GAAQ5rB,OAAS,EAC1B2rB,EAASC,GAAQG,OAASA,IAE1B/9B,EAAKgS,OAAS,EACdhS,EAAK+9B,OAASA,EACdJ,EAAS1pB,KAAKjU,IAElBjG,KAAK8gB,SAAS,CACVmiB,MAAOW,M,wBAIf,SAAWz7B,GACP,OAAO,kBAAC+7B,EAAA,EAAD,eAAOC,UAAU,MAASh8B,M,oBAgCrC,WAAU,IAAD,OACGO,EAAY1I,KAAKmI,MAAjBO,QACAZ,EAAU9H,KAAKmI,MAAfL,MAUR,OARA9H,KAAKmI,MAAMi8B,MAAM,CACblB,aAAcljC,KAAKkjC,aAAamB,KAAKrkC,MACrCskC,QAAStkC,KAAKskC,QAAQD,KAAKrkC,MAC3B00B,aAAc10B,KAAK00B,aAAa2P,KAAKrkC,MACrCukC,YAAavkC,KAAKukC,YAAYF,KAAKrkC,MACnCwkC,SAAUxkC,KAAKwkC,SAASH,KAAKrkC,QAI7B,kBAAC0Y,EAAA,EAAD,CACI+rB,WAAYC,YAAY,KAAM58B,GAC9BnG,KAAM3B,KAAK+G,MAAMpF,KACjB6R,QAASxT,KAAKmqB,YACdwa,oBAAqB3kC,KAAK4kC,YAE1B,kBAACC,EAAA,EAAD,CAAQt8B,UAAWG,EAAQ2lB,QACvB,kBAACyW,EAAA,EAAD,KACI,kBAAC9mB,EAAA,EAAD,CACIjS,MAAM,UACNwF,QAASvR,KAAKmqB,YACd/T,aAAW,SAEX,kBAAC,IAAD,OAEJ,kBAACwI,EAAA,EAAD,CACIjI,QAAQ,KACR5K,MAAM,UACNxD,UAAWG,EAAQq8B,MAHvB,4BAOA,kBAAC/mB,EAAA,EAAD,CAAYjS,MAAM,UAAUwF,QAASvR,KAAKsjC,YACtC,kBAAC,IAAD,SAIZ,kBAAC3qB,EAAA,EAAD,CAAepQ,UAAWG,EAAQs8B,eAC9B,kBAACjoB,EAAA,EAAD,CAAMxU,UAAWG,EAAQu8B,UACpBjlC,KAAK+G,MAAMk8B,MAAMn1B,KAAI,SAACo3B,EAAMl7B,GAAP,OAClB,yBAAKL,IAAKK,EAAGzB,UAAWG,EAAQy8B,mBACX,IAAhBD,EAAKjtB,QACF,yBACI5H,MAAO,CACHjI,gBAAiB,EAAKq7B,wBACtB37B,MAAOo9B,EAAK7Q,QAAU,KAE1B9rB,UAAWG,EAAQ08B,WAG3B,kBAACnoB,EAAA,EAAD,CACI1U,UAAWG,EAAQ28B,gBACnBnoB,QAAM,GAEN,kBAACooB,EAAA,EAAD,CAAU9lB,SAAU0lB,EAAK/iC,KAAMojC,UAAQ,IACtB,IAAhBL,EAAKjtB,QACF,kBAACmF,EAAA,EAAD,CACI7U,UAAWG,EAAQ88B,WACnBnoB,QACI,0BACI9U,UAAWG,EAAQ8W,UAElB0lB,EAAK/iC,MAGd0S,UAAW,wDAGF,IAAhBqwB,EAAKjtB,QACF,kBAACmF,EAAA,EAAD,CACI7U,UAAWG,EAAQ88B,WACnBnoB,QACI,0BACI9U,UAAWG,EAAQ8W,UAElB0lB,EAAK/iC,MAGd0S,UACI,6BACKqwB,EAAK7Q,SAAW,IACb,oCACKvzB,OAAO2kC,SACHC,WACGR,EAAKS,OAER31B,cALT,wBAMW,IACNlP,OAAO2kC,SACHC,WACGR,EAAKU,QAER51B,cAAe,IAXxB,WAYQ,IACHlP,OAAO2kC,SACHC,WACGR,EAAKljC,MAERgO,cAAe,IAjBxB,KAkBOk1B,EAAK7Q,QAlBZ,IAkBsB,KAGzB6Q,EAAK7Q,QAAU,IACZ,yDAMH,IAAhB6Q,EAAKjtB,QACF,kBAACmF,EAAA,EAAD,CACI7U,UAAWG,EAAQ88B,WACnBnoB,QACI,0BACI9U,UAAWG,EAAQ8W,UAElB0lB,EAAK/iC,MAGd0S,UAAWqwB,EAAKjtB,SAGP,IAAhBitB,EAAKjtB,QACF,kBAACmF,EAAA,EAAD,CACI7U,UAAWG,EAAQ88B,WACnBnoB,QACI,0BACI9U,UAAWG,EAAQ8W,UAElB0lB,EAAK/iC,MAGd0S,UACI,yBACItM,UACIG,EAAQm9B,aAGXX,EAAKlB,OACN,gCAKC,IAAhBkB,EAAKjtB,QACF,kBAACmF,EAAA,EAAD,CACI7U,UAAWG,EAAQ88B,WACnBnoB,QACI,0BACI9U,UAAWG,EAAQ8W,UAElB0lB,EAAK/iC,MAGd0S,UACI,yBACItM,UACIG,EAAQo9B,eAFhB,qBAMI,gCAKhB,kBAACxoB,EAAA,EAAD,CACI/U,UAAWG,EAAQ4Z,QAEF,IAAhB4iB,EAAKjtB,QACF,kBAAC+F,EAAA,EAAD,CACI5H,aAAW,SACX7E,QAAS,kBACL,EAAK4xB,aAAa+B,KAGtB,kBAAC,IAAD,OAGS,IAAhBA,EAAKjtB,QACF,kBAAC8F,EAAA,EAAD,CAAS3M,MAAO,gBACZ,kBAAC4M,EAAA,EAAD,CACI5H,aAAW,SACX7E,QAAS,kBACL,EAAK8xB,QAAQ6B,KAGjB,kBAAC,IAAD,UAMpB,kBAACpoB,EAAA,EAAD,iB,GAlTT6H,aA6TRpK,gBAjXA,SAAC3S,GAAD,YAAY,CACvBymB,OAAQ,CACJ3d,SAAU,YAEdq0B,KAAM,CACFA,KAAM,GAEVgB,YAAa,CACTzwB,UAAW,GAEf2vB,UAAQ,mBACHr9B,EAAMI,YAAYkd,GAAG,MAAQ,CAC1B1Q,SAAU,MAFV,wBAIK,GAJL,GAMRwwB,cAAe,CACXj9B,QAAS,GAEb+9B,cAAe,CACX/5B,MAAO,WAEX85B,YAAa,CACT95B,MAAO,UACPi6B,UAAW,aAEfR,WAAY,CACRntB,WAAY,GACZ5G,YAAa,IAEjB6Q,OAAQ,CACJ7K,OAAQ,GAEZ0tB,kBAAmB,CACfz0B,SAAU,YAEd20B,gBAAiB,CACb30B,SAAU,WACV+G,OAAQ,GAEZ2tB,SAAU,CACNpU,WAAY,mBACZvZ,OAAQ,EACRrD,OAAQ,OACR1D,SAAU,WACVsE,KAAM,EACND,IAAK,GAETyK,SAAU,CACNwmB,UAAW,gBAgUJzrB,CAAmB0rB,cAAYrV,YAAUoS,M,sJC1XlDt7B,GAAYC,cAAW,iBAAO,CAChC2P,IAAK,CACD5C,OAAQ,EACRK,IAAK,OACLwC,MAAO,GACPC,OAAQ,GACRxC,KAAM,OACNyC,OAAQ,EACR/G,SAAU,SAEdgH,MAAO,CACHhH,SAAU,WACV8G,OAAQ,GACRzC,IAAK,OACL0C,OAAQ,KACRF,MAAO,GAEX,UAAW,CACP,yCAA0C,CACtCzP,MAAO,UAKJ,SAASo+B,GAAa/9B,GAAQ,IAAD,EAChBxD,oBAAS,GADO,oBACjChD,EADiC,KAC3BwkC,EAD2B,OAEZxhC,mBAAS,GAFG,oBAEjCyhC,EAFiC,KAEzBC,EAFyB,KAGlC39B,EAAUhB,KACVzE,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECqjC,EAAsBt1B,uBACxB,kBAAM/N,EAASutB,iBACf,CAACvtB,IAECsjC,EAAoBv1B,uBACtB,kBAAM/N,EAAS+6B,iBACf,CAAC/6B,IAGLgC,qBAAU,WACNohC,EAAUl+B,EAAMq+B,UACjB,CAACr+B,EAAMq+B,SAEV,IAAMC,EAAa,SAACvgC,GAChB,IAAMwgC,EAAe/7B,SAAS44B,uBAAuBr9B,GAAI,GACrDyE,SAASo1B,KAAK4G,SAASD,GACvBA,EAAalD,QAEb1tB,EAAe,MAAO,QAAS,+DAAc,YAG/C8wB,EAAgB,WACdjlC,IACe,IAAXykC,EACAj+B,EAAM+6B,eAENuD,EAAW,oBAavB,OACI,kBAACjiC,GAAA,EAAD,CAAYE,QAAM,GACd,kBAACmiC,GAAA,EAAD,CACIC,aAAcV,EACd19B,QAAS,CACLgP,MAAOhP,EAAQgP,OAEnBnP,UAAWG,EAAQ4O,IACnByvB,UAAsB,IAAXX,EACXr6B,MAAM,WAEN,kBAACi7B,GAAA,EAAD,CAAUrlC,KAAMA,GAAQoC,KAAaO,aACrC,kBAAC2iC,GAAA,EAAD,CACIC,UAAU,6BACVtiC,QAAQ,EACRuiC,aAAa,2BACb52B,KACI,kBAAC62B,GAAA,EAAD,CACIC,UACKtjC,KAAaO,YAAc,kBAAC,KAAD,QAIxCkP,QA3BI,WAChB2yB,GAAQ,IA2BImB,SAAU,CACN/1B,QAAS,kBACJxN,KAAaO,YAAcsiC,KAChC76B,MAAO,aAEXgkB,OArCG,WACfoW,GAAQ,IAqCIxkC,KAAMA,GAELoC,KAAaO,YACV,kBAACijC,GAAA,EAAD,CACI59B,IAAI,aACJ4G,KAAM,kBAAC,KAAD,MACNi3B,aAAW,EACXL,aAAa,2BACb51B,QAAS,kBAAMq1B,KACfx1B,MAAO,8BAGbrN,KAAaO,YACX,kBAACijC,GAAA,EAAD,CACI59B,IAAI,eACJ4G,KAAM,kBAAC,KAAD,MACNi3B,aAAW,EACXL,aAAa,2BACb51B,QAAS,kBAAMk1B,EAAW,qBAC1Br1B,MAAO,6BAGf,kBAACm2B,GAAA,EAAD,CACI59B,IAAI,YACJ4G,KAAM,kBAAC,KAAD,MACNi3B,aAAW,EACXL,aAAa,2BACb51B,QAAS,kBAAM+0B,KACfl1B,MAAO,6BAEX,kBAACm2B,GAAA,EAAD,CACI59B,IAAI,UACJ4G,KAAM,kBAAC,KAAD,MACNi3B,aAAW,EACXL,aAAa,2BACb51B,QAAS,kBAAMg1B,KACfn1B,MAAO,gC,aCpJ3Bw0B,IAAS,EAuBP6B,G,kDACF,WAAYt/B,GAAQ,IAAD,8BACf,cAAMA,IAcVk7B,QAAU,SAACp9B,GACP,EAAKyhC,SAASC,QAAQ1hC,EAAKqb,aAC3B,EAAKnZ,MAAMgL,eACP,MACA,QACA,2EACA,SArBW,EAmCnBy0B,QAAU,SAAC1iB,EAAI+d,GACX,IAAMh/B,EAAOnD,OAAO+mC,WAAa/mC,OAAO+mC,WAAa,EAAK1/B,MAAMlE,KAChE,GAC4B,KAAxB,EAAKkE,MAAM3B,UACX1F,OAAOC,SAASygB,SAASoa,cAAcz3B,WAAW,SACpD,CACErD,OAAO0C,SAAP,eACA,IAAMskC,EAAa7E,EAEd3/B,QAAO,SAAC2C,GACL,IAAM8hC,EAAwC,cAA5B9hC,EAAK9D,KAAKy5B,cAI5B,OAHImM,GACA7iB,EAAG8iB,WAAW/hC,IAEV8hC,KAEXj6B,KAAI,SAAC7H,GACF,IAAMkB,EAASlB,EAAKqb,YAYpB,OAXIna,EAAO8gC,cAAwC,KAAxB9gC,EAAO8gC,cAC9BhiC,EAAKhC,KAAOgK,aACRP,aAAS,CAACzJ,EAAMkD,EAAO8gC,gBAE3BnnC,OAAOonC,UAAUjiC,EAAKC,IAAM+H,aACxBP,aAAS,CAACzJ,EAAMkD,EAAO8gC,kBAG3BnnC,OAAOonC,UAAUjiC,EAAKC,IAAMjC,EAC5BgC,EAAKhC,KAAOA,GAETgC,KAEfnF,OAAO0C,SAAP,QAA2BskC,QAE3BhnC,OAAO2kC,SAASnF,KAAK2C,GAAO,SAACA,GACzB/d,EAAG8iB,WAAW/E,OArEP,EA6KnBC,aAAe,WACXpiC,OAAO0C,SAAP,gBA5KA,EAAKuD,MAAQ,CACTq/B,OAAQ,GAHG,E,0CAOnB,SAAO5G,GACH1+B,OAAO0C,SAAWg8B,I,0BAGtB,SAAav5B,GACTjG,KAAK0nC,SAASM,WAAW/hC,K,0BAa7B,SAAay8B,GACT,MAAmB,UAAfA,EACO,QAEQ,aAAfA,EACO,UAEJ,I,8CA0CX,YAA2E,IAAD,OAAvCT,EAAuC,EAAvCA,eAAgBC,EAAuB,EAAvBA,oBAC/C,GAAID,IAAmBjiC,KAAKmI,MAAM85B,eAE9B,GAAIC,EAAqB,CACrB,GAAI0D,GACA,OAEJA,IAAS,EACT,IAAM/a,EAAOjqB,KAAKoI,UAClBhJ,KAAK0nC,SAAW5mC,OAAOqnC,MAAMT,SAAS,CAClCU,SAAU,QACVC,cAAe,CAAC,YAAa,cAC7BzY,UAAW,YACX0Y,aAAc,YACdC,cAC4B,WAAxB1d,EAAK2d,OAAOC,QACN,EACA5d,EAAK2d,OAAOC,QACtBC,UAAU,EACVC,WAAY3oC,KAAK4oC,aAAa/d,EAAK2d,OAAOK,UAC1CC,QAAS,CACLC,WACgC,OAA5Ble,EAAK2d,OAAOQ,aACuB,IAAnCne,EAAK2d,OAAOQ,YAAYpiC,OAClB,GACA,CACI,CACIwK,MAAO,QACP63B,WAAYpe,EAAK2d,OAAOQ,YAAY77B,KAChC,QAM1B+7B,iBAAiB,EACjBC,YAAa,iCACbC,QAAkC,UAAzBve,EAAK2d,OAAOK,SAAuB,QAAU,KACtDQ,OAAQ,IACRC,YAAa,EACbC,iBAAiB,EACjBC,YAAY,EACZC,UAAW,EACXC,KAAM,CACFC,WAAY3pC,KAAK4nC,QAGjBgC,aAAc,aACdC,aAAc,SAAC3kB,GACX,EAAKpE,SAAS,CAAEslB,OAAQlhB,EAAGqP,MAAM6R,UAErC0D,eAAgB,SAAC5kB,EAAIjf,GACjBnF,OAAO0C,SAAP,aAAgCyC,IAEpC8jC,eAAgB,SAAC7kB,EAAIjf,GACjB,GAAoB,IAAhBA,EAAKW,OAAT,CAGAwgB,QAAQjd,IACJ,iBACAlE,EAAK,GAAGgS,OACRhS,EAAK,IAET,IAAK,IAAI+D,EAAI,EAAGA,EAAI/D,EAAKW,OAAQoD,IACN,IAAnB/D,EAAK+D,GAAGiO,QACRnX,OAAO0C,SAAP,YAA+ByC,EAAK+D,IAKf,aAAzB6gB,EAAK2d,OAAOK,UACa,QAAzBhe,EAAK2d,OAAOK,WAEZ,EAAK1gC,MAAMoR,kBACX,EAAKpR,MAAMia,oBAGnB4nB,MAAO,WACH,EAAK7hC,MAAMoR,kBACX,EAAKpR,MAAMia,kBAGf6nB,aAAc,aACd/pC,MAAO,SAACglB,EAAIyb,EAAKuJ,GACbppC,OAAO0C,SAAP,eACA1C,OAAO0C,SAAP,SAA4Bm9B,EAAI16B,KAAMikC,IAG1CC,aAAc,qBAInBnqC,KAAKoqC,Y,qBAKpB,c,oBAMA,WACI,OACI,6BACI,kBAAC,GAAD,CACIhG,MAAOpkC,KAAKqqC,OAAOhG,KAAKrkC,MACxBmjC,aAAcnjC,KAAKmjC,aAAakB,KAAKrkC,MACrCqjC,QAASrjC,KAAKqjC,QAAQgB,KAAKrkC,QAEN,KAAxBA,KAAKmI,MAAM3B,UACR,kBAAC0/B,GAAD,CACIM,OAAQxmC,KAAK+G,MAAMq/B,OACnBlD,aAAcljC,KAAKkjC,oB,GA7LXve,aAqM1B2lB,GAAWzlB,aA1NO,SAAC9d,GACrB,MAAO,CACH9C,KAAM8C,EAAM1E,UAAU4B,KACtBuC,SAAUO,EAAMnD,SAAS4C,aAIN,SAACvD,GACxB,MAAO,CACHsW,gBAAiB,WACbtW,EAASsW,gBAEb6I,eAAgB,WACZnf,EAASmf,gBAEbjP,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QA0MD,KAAM,CAChEw+B,YAAY,GADC1lB,CAEdgd,IAAiB4F,KAEL6C,Q,gCCzOf,IA6GIv+B,EA7GJ,6JA2BMsqB,EAAQ,CACVkE,MAAO,CACHxuB,MAAO,UACPwE,KAAMi6B,KAEVhQ,MAAO,CACHzuB,MAAO,UACPwE,KAAMk6B,KAEVhQ,MAAO,CACH1uB,MAAO,UACPwE,KAAMm6B,KAEVhQ,IAAK,CACD3uB,MAAO,UACPwE,KAAMo6B,KAEVhQ,KAAM,CACF5uB,MAAO,UACPwE,KAAMq6B,KAEVhQ,IAAK,CACD7uB,MAAO,mBACPwE,KAAMs6B,KAEVhQ,MAAO,CACH9uB,MAAO,UACPwE,KAAMu6B,KAEVtyB,KAAM,CACFzM,MAAO,UACPwE,KAAMw6B,KAEVjQ,QAAS,CACL/uB,MAAO,UACPwE,KAAMy6B,KAEVjQ,IAAK,CACDhvB,MAAO,UACPwE,KAAM06B,KAEVjQ,OAAQ,CACJjvB,MAAO,UACPwE,KAAM26B,KAEVjQ,QAAS,CACLlvB,MAAO,UACPwE,KAAM46B,KAEVllC,KAAM,CACF8F,MAAO,UACPwE,KAAM66B,KAEVjS,IAAK,CACDptB,MAAO,UACPwE,KAAM86B,KAEV3R,GAAI,CACA3tB,MAAO,UACPwE,KAAM+6B,KAEVpQ,OAAQ,CACJnvB,MAAO,UACPwE,KAAMg7B,KAEVj/B,EAAG,CACCP,MAAO,UACPwE,KAAMi7B,KAEVlS,IAAK,CACDvtB,MAAO,UACPwE,KAAMk7B,KAEV3R,GAAI,CACA/tB,MAAO,UACPwE,KAAMm7B,MAsDCpG,IA7CE,SAACn9B,GACd,IAAMP,EAAQa,MAERkjC,EAAaxjC,EAAMqX,SAASvS,MAAM,KAAKkB,MAAMytB,cAC/CqD,EAAW,OACf7+B,OAAO0oB,KAAKwR,KAAWzzB,SAAQ,SAAC0P,IACc,IAAtC+jB,IAAU/jB,GAAGtL,QAAQ0gC,KACrB1M,EAAW1oB,MAGnB,IAAMmiB,EAAgBrC,EAAM4I,GAAU1uB,KAMtC,OALAxE,EAhBa,SAACnE,EAAOmE,GAAR,MACU,UAAvBnE,EAAMe,QAAQrH,KAAmByK,EAAQ23B,YAAQ33B,EAAO,IAehD6/B,CAAShkC,EAAOyuB,EAAM4I,GAAUlzB,OACpC5D,EAAM0jC,eACN1jC,EAAM0jC,cAAc9/B,GAIpB,oCACK5D,EAAMo9B,UACH,kBAAC,IAAD,CACIh9B,UAAWJ,EAAMI,UACjB8H,MAAO,CACHjI,gBAAiB2D,IAGrB,kBAAC2sB,EAAD,CACInwB,UAAWJ,EAAM2jC,cACjBz7B,MAAO,CACHtE,MAAOnE,EAAMe,QAAQuS,WAAW2U,WAK9C1nB,EAAMo9B,UACJ,kBAAC7M,EAAD,CACInwB,UAAWJ,EAAMI,UACjB8H,MAAO,CACHtE,MAAOA,Q,gPC5FzBggC,E,4MACFhlC,MAAQ,CACJ2S,YAAa,IACbrW,QAAS,GACT2oC,eAAgB,M,EAGpBpf,kBAAoB,WAChB,IAAMqf,EAAW,EAAK9jC,MAAMuR,YAC5B,EAAKwyB,YAAoC,KAAxB,EAAK/jC,MAAM3B,SAAkBylC,EAAW,M,EAG7DE,KAAO,WACH,IAAMC,EAAQ,EAAKrlC,MAAM2S,YAAYzM,MAAM,KAC3Cm/B,EAAMj+B,MACN,IAAM89B,EAAWG,EAAMj/B,KAAK,KAC5B,EAAK++B,YAAyB,KAAbD,EAAkB,IAAMA,I,EAG7CC,YAAc,SAACD,GAGA,KAFKnrC,OAAOC,SAASC,KACbiM,MAAM,KAClB,KAASg/B,EAAW,KAC3Bp1B,IAAImJ,KACC,EAAK7X,MAAMkkC,IAAM,EAAKlkC,MAAMkkC,IAAM,cAC/BpqB,mBAAmBgqB,IAEtBl1B,MAAK,SAACxW,GACH,IAAM8C,EAAU9C,EAASG,KAAK4rC,QAAQhpC,QAAO,SAACC,GAC1C,MACe,QAAXA,EAAEjC,OAKM,IAJR,EAAK6G,MAAMxC,SAASqd,WAAU,SAAClc,GAC3B,OACIA,EAAM3E,OAASoB,EAAEpB,MAAQ2E,EAAM7C,OAASV,EAAEU,WAKzC,MAAbgoC,GACA5oC,EAAQkpC,QAAQ,CAAEpqC,KAAM,IAAK8B,KAAM,KAEvC,EAAK6c,SAAS,CACVpH,YAAauyB,EACb5oC,QAASA,EACT2oC,eAAgB,UAGvBh1B,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,e,EAKhB2sC,aAAe,SAACrmC,GACZ,EAAK2a,SAAS,CAAEkrB,eAAgB7lC,IAChC,EAAKgC,MAAMwR,SAAS,EAAK5S,MAAM1D,QAAQ8C,K,4CAG3C,WAAU,IAAD,OACGuC,EAAY1I,KAAKmI,MAAjBO,QAER,OACI,yBAAKH,UAAWG,EAAQknB,WACpB,kBAAC,IAAD,CAAUrnB,UAAWG,EAAQ+jC,UACG,MAA3BzsC,KAAK+G,MAAM2S,aACR,kBAAC,IAAD,CAAUnI,QAASvR,KAAKmsC,MACpB,kBAAC,IAAD,KACI,kBAAC,IAAD,OAEJ,kBAAC,IAAD,CAAc9uB,QAAQ,oCAG7Brd,KAAK+G,MAAM1D,QAAQyK,KAAI,SAAChH,EAAOX,GAAR,OACpB,kBAAC,IAAD,CACIuC,QAAS,CACL/C,SAAU+C,EAAQ/C,UAEtBgE,IAAKxD,EACLR,SAAU,EAAKoB,MAAMilC,iBAAmB7lC,EACxCoL,QAAS,kBAAM,EAAKi7B,aAAarmC,KAEjC,kBAAC,IAAD,CAAcoC,UAAWG,EAAQ6H,MAC7B,kBAAC,IAAD,OAEJ,kBAAC,IAAD,CACI7H,QAAS,CAAE2U,QAAS3U,EAAQ2U,SAC5BA,QAASvW,EAAM3E,KACfuqC,uBAAwB,CACpBr8B,MAAO,CAAE+lB,WAAY,aAGb,MAAftvB,EAAM3E,MACH,kBAAC,IAAD,CACIoG,UAAWG,EAAQikC,YAEnB,kBAAC,IAAD,CACIpkC,UAAW+I,IAAW,eACjB5I,EAAQkkC,UACL,EAAK7lC,MAAMilC,iBACX7lC,IAERoL,QAAS,kBACL,EAAK26B,YACc,MAAfplC,EAAM7C,KACA6C,EAAM7C,KAAO6C,EAAM3E,KACnB2E,EAAM7C,KACF,IACA6C,EAAM3E,QAIxB,kBAAC,IAAD,kB,GAnHJwiB,aAqIrBE,iBAzKS,SAAC9d,GACrB,MAAO,CACHP,SAAUO,EAAMnD,SAAS4C,aAIN,SAACvD,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QAgKhD8Y,CAGbtK,aA9Ja,SAAC3S,GAAD,MAAY,CACvBglC,UAAW,CACP7gC,MAAOnE,EAAMe,QAAQkrB,OAAOC,OAEhCnuB,SAAU,CACNyC,gBAAiBR,EAAMe,QAAQ0U,QAAQsM,KAAO,aAC9C,sBAAuB,CACnB5d,MAAOnE,EAAMe,QAAQkrB,OAAOC,QAGpCzW,QAAS,GACT9M,KAAM,GACNo8B,WAAY,GACZF,SAAU,CACNj4B,SAAU,SAEdob,UAAW,CACP9K,UAAW,QACXyN,UAAW,YA4IjBhY,CAAmBwxB,K,sHCrLrB,SAASc,EAAgBC,EAAOpO,GAC5Br8B,UAAU0qC,cACLC,SAASF,GACT/1B,MAAK,SAACk2B,GACHA,EAAaC,cAAgB,WACzB,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACE,cAA3BF,EAAiBpmC,QACb1E,UAAU0qC,cAAcO,YAIxBlmB,QAAQjd,IACJ,iHAKAu0B,GAAUA,EAAO6O,UACjB7O,EAAO6O,SAASN,KAMpB7lB,QAAQjd,IAAI,sCAGRu0B,GAAUA,EAAOxG,WACjBwG,EAAOxG,UAAU+U,WAOxCj2B,OAAM,SAACjX,GACJqnB,QAAQrnB,MAAM,4CAA6CA,MAiCvE,IAAMytC,EAAcj6B,QACa,cAA7BzS,OAAOC,SAAS0sC,UAEiB,UAA7B3sC,OAAOC,SAAS0sC,UAEhB3sC,OAAOC,SAAS0sC,SAASC,MACrB,2D,6DClEGC,MApBf,YAA2C,IAAtBlpC,EAAqB,EAArBA,SAAampC,EAAQ,4BACtC,OACI,kBAAC,IAAD,iBACQA,EADR,CAEIC,OAAQ,gBAAG9sC,EAAH,EAAGA,SAAH,OACJH,IAAK2I,MAAMqkC,EAAKthB,SACZ7nB,EAEA,kBAAC,IAAD,CACIqpC,GAAI,CACAtsB,SAAU,SACVza,MAAO,CAAEqF,KAAMrL,W,gGCXrC2G,EAAYC,aAAW,SAACC,GAAD,YAAY,CACrCC,QAAM,GACFC,MAAO,OADL,cAEDF,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,SAHT,0BAMS,IANT,OAUJI,EAAW,SAACC,GACd,OACI,kBAAC,IAAD,CACIC,gBAAiBD,EAAME,KAAO,OAAS,UACvCC,gBAAiBH,EAAME,KAAO,UAAY,OAC1CE,UAAWJ,EAAMI,aAuBdwlC,MAlBf,WACI,IAAMnmC,EAAQa,cACRC,EAAUhB,IAEhB,OACI,yBACI2I,MAAO,CACH0U,UAAW,WAGf,kBAAC,EAAD,CACI1c,KAA6B,SAAvBT,EAAMe,QAAQrH,KACpBiH,UAAWG,EAAQb,W,2CChC7BH,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrC2I,KAAM,CACF8C,SAAU,SAEd26B,eAAgB,CACZx2B,OAAQ,IACRpD,OAAQ,QACRM,OAAQ,YACR5M,MAAO,QACPiE,MAAO23B,YAAQ97B,EAAMe,QAAQ6P,KAAKvB,SAAU,IAC5C8N,UAAW,SACXkP,WAAY,QAEhBga,aAAc,CACV56B,SAAU,OACVtH,MAAO23B,YAAQ97B,EAAMe,QAAQ6P,KAAKvB,SAAU,KAEhDiN,IAAI,CACApc,MAAO,OACPsM,OAAQ,GACR0Q,UAAW,GACXC,UAAW,SACXzP,UAAW,cAIJ,SAAS44B,EAAO/lC,GAC3B,IAAMO,EAAUhB,IAChB,OACI,yBAAKa,UAAWG,EAAQslC,gBACpB,kBAAC,IAAD,CAA+BzlC,UAAWG,EAAQ6H,OAClD,yBAAKhI,UAAWG,EAAQulC,cAAe9lC,EAAMlH,KAC7C,yBAAKsH,UAAWG,EAAQwb,KACpB,kBAAC,IAAQC,MAAT,CAAeC,KAAK,e,mKC3B9B+pB,GAAiB,SAACt9B,GACpB,QAAwBlQ,IAApBkQ,EAAWga,OAAuBha,EAAWga,KAAKrhB,UAAW,CAC7D,IAAM4kC,EAASnlC,KAAKpG,MAAMgO,EAAWu9B,QAC/BvjB,EAAOha,EAAWga,YACjBha,EAAWga,KAIc,KAA5BA,EAAI,sBACgClqB,IAApCytC,EAAOvjB,EAAI,mBAEXha,EAAWjJ,MAAQwmC,EAAOvjB,EAAI,kBAIlCjqB,IAAKiI,aAAagiB,GAKtB,YAHwBlqB,IAApBkQ,EAAWga,MAAsBha,EAAWga,KAAKrhB,WACjD5I,IAAKmI,QAAQ8H,EAAWga,MAErBha,GAqBJ,SAASw9B,KAEZ,IAAMxjB,EAAOjqB,IAAKoI,UAClBlI,OAAO4hC,WAAsB,OAAT7X,EAAgBA,EAAK2d,OAAOK,SAAW,QAC3D/nC,OAAOwtC,aAAwB,OAATzjB,EAAgBA,EAAK2d,OAAS,GACpD1nC,OAAOonC,UAAY,G,+CAGhB,WAAgCqG,GAAhC,SAAAzsC,EAAA,sDACH+U,IAAImJ,IAAI,gBACHjJ,MAAK,SAAUxW,GACZ,IAAM6tC,EAASnlC,KAAKpG,MAAMtC,EAASG,KAAK0tC,QACxC7tC,EAASG,KAAKkH,MAAQwmC,EAAO7tC,EAASG,KAAK8tC,cAC3CjuC,EAASG,KAAOytC,GAAe5tC,EAASG,MACxC6tC,EAAMtrC,SAASw7B,YAAcl+B,EAASG,OACtCwI,aAAaG,QACT,kBACAJ,KAAKK,UAAU/I,EAASG,OAI5B,IAAM+tC,EAAmB7tC,IAAKiJ,cAAc,eACxC4kC,EACAF,EAAMtrC,SAASiP,YAAiBu8B,IAE5BltB,KAAWrd,YAAYpD,OAAOC,SAASygB,UACvC+sB,EAAMtrC,SACFiP,YAAiB3R,EAASG,KAAKguC,oBAGnCH,EAAMtrC,SACFiP,YAAiB3R,EAASG,KAAKiuC,sBAK9C33B,OAAM,SAAUjX,GACbwuC,EAAMtrC,SACFkQ,YACI,MACA,QACA,yDAAcpT,EAAMF,QACpB,aAIXkX,MAAK,WACFs3B,KACAE,EAAMtrC,SAASu7B,kBAxCpB,4C,qECtDD92B,GAAYC,aAAW,iBAAO,CAChCinC,IAAK,CACD7mC,QAAS,WACT2I,SAAU,WACV8G,OAAQ,OAIHq3B,GAAY,WACrB,IAAMC,EAAYl+B,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWi+B,aACpDpmC,EAAUhB,KACV3G,EAAW8kB,cAHU,EAIHlhB,oBAAS,GAJN,mBAIpBoqC,EAJoB,KAIdC,EAJc,KAa3B,OAPA/pC,qBAAU,WAEN,IAAMf,EAAc+qC,KAAW/qC,YAAYnD,EAASygB,UAC9Cnd,EAAc4qC,KAAW5qC,YAAYtD,EAASygB,UACpDwtB,EAAQF,IAAc5qC,GAAeG,MACtC,CAACyqC,EAAW/tC,IAEVguC,EAID,yBAAKxmC,UAAWG,EAAQkmC,KAAxB,uBAEI,kBAACM,EAAA,EAAD,CACIluC,KAAK,6BACLmuC,IAAI,sBACJjoC,OAAO,UAEN4nC,IAVF,sCCzBT5mC,GAAW,kBACb,kBAAC,IAAD,CACIkM,OAAQ,GACRtM,MAAO,IACP69B,MAAO,EACPyJ,aAAa,UACbC,eAAe,WAEf,0BAAM9rC,EAAE,IAAIiL,EAAE,IAAI8gC,GAAG,IAAIC,GAAG,IAAIznC,MAAM,MAAMsM,OAAO,UAQ5Co7B,OAJf,WACI,OAAO,kBAAC,GAAD,OCFLC,GAAgBlF,sBAAW,WAE7BjjB,GACD,IAFGooB,EAEJ,EAFIA,WAAY75B,EAEhB,EAFgBA,WAGRnN,EAAUinC,KADlB,EAGgChrC,mBAAS,IAHzC,mBAGSirC,EAHT,KAGkBC,EAHlB,OAIwClrC,mBAAS,MAJjD,mBAISmrC,EAJT,KAIsBC,EAJtB,KAMQ9sC,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGC+sC,EAAiB,WACnBn5B,IAAImJ,IAAI,iBACHjJ,MAAK,SAACxW,GACHwvC,EAAexvC,EAASG,MACxBmV,GAAW,MAEdmB,OAAM,SAACjX,GACJ+V,EACI,MACA,QACA,mDAAa/V,EAAMF,QACnB,aAchB,OATAoF,qBAAU,WACNqiB,EAAIpH,QAAU8vB,EACdA,MACD,IAEH/qC,qBAAU,WACNyqC,EAAWxvB,QAAQ+vB,YAAcL,IAClC,CAACA,IAGA,yBAAKrnC,UAAWG,EAAQwnC,kBACpB,kBAACzyB,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,WAApB,sBACA,kBAACyyB,EAAA,EAAD,CACIjuC,KAAK,UACLkU,SAAU,SAAClR,GAAD,OAAO0qC,EAAW1qC,EAAE+B,OAAOJ,QACrCxF,KAAK,OACL4E,GAAG,UACHY,MAAO8oC,EACPS,cAAY,KAEL,IACf,6BACqB,OAAhBP,GACG,yBAAKvnC,UAAWG,EAAQ4nC,oBACpB,kBAAC,GAAD,OAGS,OAAhBR,GACG,yBACIz7B,IAAKy7B,EACLS,IAAI,UACJh/B,QAASy+B,S,kDC3EZQ,G,oDACjB,aAAe,IAAD,+BACV,gBACKC,cAAgB,EAAKA,cAAcpM,KAAnB,iBACrB,EAAKqM,cAAgB,EAAKA,cAAcrM,KAAnB,iBACrB,EAAK7nB,aAAe,EAAKA,aAAa6nB,KAAlB,iBACpB,EAAKsM,mBAAqB,EAAKA,mBAAmBtM,KAAxB,iBALhB,E,6CAQd,WACI,OAAIrkC,KAAKmI,MAAMyoC,iBAAiCjwC,IAAnBX,KAAK6wC,UACvB7wC,KAAKmI,MAAMyoC,WAAWE,YAAY9wC,KAAK6wC,WAE3C,O,yBAGX,WACI,OAAI7wC,KAAKmI,MAAMyoC,iBAAiCjwC,IAAnBX,KAAK6wC,UACvB7wC,KAAK6wC,UAET,O,qBAGX,WAAW,IACCD,EAAe5wC,KAAKmI,MAApByoC,WAER,GAAIA,QAAiCjwC,IAAnBX,KAAK6wC,UACnB,OAAOD,EAAWG,QAAQ/wC,KAAK6wC,WAE/B7wC,KAAKgxC,mBAAoB,I,mBAIjC,WACQhxC,KAAKmI,MAAMyoC,iBAAiCjwC,IAAnBX,KAAK6wC,WAC9B7wC,KAAKmI,MAAMyoC,WAAWK,MAAMjxC,KAAK6wC,a,2BAIzC,WACQ7wC,KAAKmI,MAAM+oC,UACXlxC,KAAKmI,MAAM+oC,YAEXlxC,KAAKwc,aAAa,Q,2BAI1B,WACQxc,KAAKmI,MAAMgpC,WAAWnxC,KAAKmI,MAAMgpC,c,0BAGzC,SAAaC,GACLpxC,KAAKmI,MAAMkO,UAAUrW,KAAKmI,MAAMkO,SAAS+6B,K,4BAGjD,WACI,GACIpxC,KAAKmI,MAAMyoC,YACX5wC,KAAKmI,MAAMyoC,WAAW/C,aACHltC,IAAnBX,KAAK6wC,UACP,CACE,IAAMp8B,EAAU9J,SAASi1B,cAAc,OACvC5/B,KAAK6wC,UAAY7wC,KAAKmI,MAAMyoC,WAAW/C,OAAOp5B,EAAS,CACnD48B,QAASrxC,KAAKmI,MAAMkpC,QACpBl6B,SAAUnX,KAAKwc,aACf5U,MAAO5H,KAAKmI,MAAMP,MAClBtG,KAAMtB,KAAKmI,MAAM7G,KACjBgwC,SAAUtxC,KAAKmI,MAAMmpC,SACrB,mBAAoBtxC,KAAKywC,cACzB,iBAAkBzwC,KAAK0wC,cACvB1uC,KAAMhC,KAAKmI,MAAMnG,KACjBuvC,OAAQvxC,KAAKmI,MAAMopC,OACnBC,GAAIxxC,KAAKmI,MAAMqpC,GACf95B,MAAO1X,KAAKmI,MAAMuP,QAEtB1X,KAAK4vC,QAAQ5P,YAAYvrB,GAGzBzU,KAAKgxC,mBACLhxC,KAAKmI,MAAMyoC,iBACQjwC,IAAnBX,KAAK6wC,YAEL7wC,KAAKgxC,mBAAoB,EACzBhxC,KAAK+wC,a,+BAIb,WACI/wC,KAAKyxC,mB,gCAGT,WACIzxC,KAAKyxC,mB,kCAGT,gBAC2B9wC,IAAnBX,KAAK6wC,YACL7wC,KAAK0xC,+BACL1xC,KAAKixC,W,0CAIb,WACI,IAAMU,EAAgBhnC,SAASi1B,cAAc,OAK7C,IAJAj1B,SAASo1B,KAAKC,YAAY2R,GAC1BA,EAActhC,MAAM+E,QAAU,OAGvBpV,KAAK4vC,QAAQgC,YAChBD,EAAc3R,YAAYhgC,KAAK4vC,QAAQgC,YAI3C77B,YAAW,WACPpL,SAASo1B,KAAK6B,YAAY+P,KAC3B,O,gCAGP,SAAmBE,GACf7xC,KAAK4vC,QAAUiC,I,oBAGnB,WAAS,MAkBD7xC,KAAKmI,MADF2pC,GAjBF,EAKDT,QALC,EAMDh7B,SANC,EAODzO,MAPC,EAQDtG,KARC,EASDgwC,SATC,EAUDJ,UAVC,EAWDC,UAXC,EAYDnvC,KAZC,EAaDuvC,OAbC,EAcDX,WAdC,EAeDl5B,MAfC,EAgBD85B,GAhBC,mIAoBL,OAAO,yCAASM,EAAT,CAAqBxqB,IAAKtnB,KAAK2wC,0B,GA9IPj1B,IAAMiJ,WAkJ7C6rB,GAAUuB,YAAc,YAexBvB,GAAU1N,aAAe,CAErBzsB,SAAU,aACVzO,MAAO,QACPtG,KAAM,QACNgwC,SAAU,EACVtvC,KAAM,SACN0V,MAAO,e,cChKIs6B,qBALf,WAEI,MAAM,WAAN,OADiB,gBACjB,oCALiB,iBAKjB,sBAGyC,CACzCC,aATiB,iBAUjBC,WATe,cAOJF,CAGZxB,ICRG2B,GAAY,SAAC,GAAgC,IAA9BzC,EAA6B,EAA7BA,WAAY75B,EAAiB,EAAjBA,WACvBnN,EAAUinC,KAD8B,EAGhBhrC,mBAAS,IAHO,mBAGvCirC,EAHuC,KAG9BC,EAH8B,KAKxCuC,EAAexhC,aACjB,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWwhC,wBAShC,OANAptC,qBAAU,WACNyqC,EAAWxvB,QAAQ+vB,YAAcL,IAClC,CAACA,IAEJ3qC,qBAAU,kBAAM4Q,GAAW,KAAQ,IAG/B,yBAAKtN,UAAWG,EAAQwnC,kBACpB,kBAACzyB,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,6BACI,kBAACo8B,GAAD,CACIjiC,MAAO,CACH+E,QAAS,gBAEbi8B,QAASe,EACT/7B,SAAU,SAACvP,GAAD,OAAW+oC,EAAW/oC,IAChCZ,GAAG,UACH/D,KAAK,cAGF,M,yBC/BrBowC,GAAWhI,sBAAW,WAExBjjB,GACD,IAFGooB,EAEJ,EAFIA,WAAY75B,EAEhB,EAFgBA,WAAY28B,EAE5B,EAF4BA,cAAeC,EAE3C,EAF2CA,UAGnCC,EAAQ9hC,aACV,SAAC7J,GAAD,OAAWA,EAAM8J,WAAW8hC,2BAqBhC,OACI,kBAAC,KAAD,CACI3nC,IAAK,yCACL4nC,OAtBO,WACX,IACItrB,EAAIpH,QAAU,IAAIpf,OAAO+xC,eAAeH,GAAO,SAAUI,GACrC,IAAZA,EAAIrS,KACJiP,EAAWxvB,QAAQ6yB,OAASD,EAAIC,OAChCrD,EAAWxvB,QAAQ8yB,QAAUF,EAAIE,QAEjCR,EAActyB,QAAQ+yB,YAAa,EACnCR,EAAUvyB,QAAQgzB,SAClB9rB,QAAQjd,IAAIsoC,IAEZA,EAAUvyB,QAAQrK,YAAW,MAGvC,MAAO1Q,GACLiiB,QAAQrnB,MAAMoF,GAElB0Q,GAAW,SCrBZ,IAAM85B,GAAWhoC,aAAW,SAACC,GAAD,MAAY,CAC3CsoC,iBAAiB,aACb96B,QAAS,OACTE,UAAW,QACV1N,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,cAMR+9B,GAAkB,SAACD,EAAQr9B,KAE3Bu9B,GAAa,WACtB,IAAMC,EAAcziC,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWyiC,gBADhC,EAGgB3uC,oBAAS,GAHzB,mBAGrB4uC,EAHqB,KAGLC,EAHK,KAKtBC,EAAoBC,kBAAO,eAE3BC,EL2DK,SAA0BF,EAAmB59B,GACxD,IAAMo9B,EAAaS,iBAAO,CACtBT,YAAY,IAGVW,EAAmBF,iBAAO,CAC5BzD,YAAa,KAGX4D,EAAgB7iC,uBAClB,WACI,OACI,kBAAC,GAAD,CACI0+B,WAAYkE,EACZtsB,IAAKmsB,EACL59B,WAAYA,MAIxB,CAAC+9B,EAAkBH,EAAmB59B,IAG1C,MAAO,CACHo9B,aACAa,SAAUX,GACVS,mBACAC,iBKrFWE,CAAiBN,EAAmBD,GAC7CQ,EFYK,SAAsBn+B,GACjC,IAAMo9B,EAAaS,iBAAO,CACtBT,YAAY,IAGVW,EAAmBF,iBAAO,CAC5BzD,YAAa,KAGX4D,EAAgB7iC,uBAClB,WACI,OACI,kBAAC,GAAD,CACI0+B,WAAYkE,EACZ/9B,WAAYA,MAIxB,CAAC+9B,EAAkB/9B,IAGvB,MAAO,CACHo9B,aACAa,SAAUX,GACVS,mBACAC,iBErCcI,CAAaT,GACzBU,EDSK,SAAqBr+B,GAChC,IAAMo9B,EAAaS,iBAAO,CACtBT,YAAY,IAEVW,EAAmBF,iBAAO,CAC5BX,OAAQ,GACRC,QAAS,KAEPP,EAAYiB,iBAAO,CAErBR,OAAQ,aAERr9B,WAAY,eAGV65B,EAAagE,mBAEbG,EAAgB7iC,uBAClB,WACI,OACI,kBAAC,GAAD,CACI0+B,WAAYkE,EACZ/9B,WAAYA,EACZ28B,cAAeS,EACfR,UAAWA,EACXnrB,IAAKooB,MAIjB,CAACkE,EAAkB/9B,EAAYo9B,EAAYR,EAAW/C,IAG1D,MAAO,CACHuD,WAAYA,EACZa,SAAU,SAACZ,EAAQr9B,GACf48B,EAAUvyB,QAAQgzB,OAASA,EAC3BT,EAAUvyB,QAAQrK,WAAaA,EAC/B65B,EAAWxvB,QAAQ6uB,QAEvB6E,mBACAC,iBCjDaM,CAAYX,GAE7B,OAAQH,GACJ,IAAK,SACD,OAAO,2BAAKM,GAAZ,IAAoBF,oBAAmBF,mBAC3C,IAAK,YACD,OAAO,2BAAKS,GAAZ,IAAuBP,oBAAmBF,mBAC9C,IAAK,WACD,OAAO,2BAAKW,GAAZ,IAAsBT,oBAAmBF,mBAC7C,QACI,OAAO,2BAAKI,GAAZ,IAAoBF,oBAAmBF,qBCR7C7rC,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,QACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,KAVZ,GAYNoe,MAAO,CACHva,UAAW1N,EAAM+M,QAAQ,GACzBS,QAAS,OACTg/B,cAAe,SACfl/B,WAAY,SACZnN,QAAQ,GAAD,OAAKH,EAAM+M,QAAQ,GAAnB,cAA2B/M,EAAM+M,QAAQ,GAAzC,cAAiD/M,EAAM+M,QAC1D,GADG,OAIXuD,OAAQ,CACJxD,OAAQ9M,EAAM+M,QAAQ,GACtBvM,gBAAiBR,EAAMe,QAAQkM,UAAU8U,MAE7C0qB,KAAM,CACFvsC,MAAO,OACPwN,UAAW1N,EAAM+M,QAAQ,IAE7Bu+B,OAAQ,CACJ59B,UAAW1N,EAAM+M,QAAQ,IAE7BmT,KAAM,CACFxS,UAAW,OACXF,QAAS,OACTtN,MAAO,OACPksB,eAAgB,iBAEpBkc,iBAAiB,aACb96B,QAAS,OACTE,UAAW,QACV1N,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,UAGjBk7B,mBAAoB,CAChBxoC,MAAO,KAEXwsC,gBAAiB,CACbl/B,QAAS,QAEbm/B,UAAW,CACPxvB,UAAW,SACXzP,UAAW,QAqZJk/B,OA7Yf,WAAsB,IAAD,EACS7vC,mBAAS,IADlB,mBACV8vC,EADU,KACHC,EADG,OAEK/vC,mBAAS,IAFd,mBAEVgwC,EAFU,KAELC,EAFK,OAGajwC,oBAAS,GAHtB,mBAGViR,EAHU,KAGDC,EAHC,OAIelR,oBAAS,GAJxB,mBAIVkwC,EAJU,KAIAC,EAJA,OAKSnwC,oBAAS,GALlB,mBAKVowC,EALU,KAKHC,EALG,OAMWrwC,mBAAS,IANpB,mBAMVswC,EANU,KAMFC,EANE,KAQXC,EAAevkC,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWskC,gBACvD/jC,EAAQR,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWO,SAChDgkC,EAAUxkC,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWukC,WAClDC,EAAQzkC,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWwkC,SAEhDpyC,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECqyC,EAActkC,uBAAY,SAACpJ,GAAD,OAAW3E,EAASg7B,YAAYr2B,MAAS,CACrE3E,IAEEsyC,EAAmBvkC,uBACrB,SAACiH,GAAD,OAAYhV,EAAS2nB,YAAiB3S,MACtC,CAAChV,IAGCoI,EAAUksB,cACVx2B,EAAW8kB,cA5BA,GAoCbutB,KANAG,GA9Ba,GA8BbA,eACAN,GA/Ba,GA+BbA,WACAa,GAhCa,GAgCbA,SACAD,GAjCa,GAiCbA,cACAJ,GAlCa,GAkCbA,kBACAG,GAnCa,GAmCbA,iBAEE9tB,GAxCC,IAAIC,gBAAgBF,cAAcG,QA0CnCtd,GAAUhB,KAEhBzC,qBAAU,WACNyvC,EAAS5uB,GAAM9F,IAAI,eACpB,CAACjf,IAEJ,IAAMy0C,GAAa,SAAC90C,GAChBE,IAAKiI,aAAanI,GAGc,KAA5BA,EAAI,iBACJ40C,EAAY50C,EAAI,iBAEpB2tC,KAGAkH,GAAiB,GAEjBlqC,EAAQ6O,KAAK,SACbpE,EAAe,MAAO,QAAS,2BAAQ,WAEvC5M,aAAausC,WAAW,oBAmIxBC,GAAWN,EAKf,MAJyB,MAbR,SAACjzC,GAIV,IAHJ,IACU+rB,EADQvjB,SAASC,OACKqC,MAAM,MAExBjD,EAAI,EAAGA,EAAIkkB,EAAUtnB,OAAQoD,IAAK,CACxC,IAAMmkB,EAAMD,EAAUlkB,GAAGiD,MAAM,KAC/B,GAAIkhB,EAAI,IAAMhsB,EACV,OAAOisB,SAASD,EAAI,IAGhC,OAAO,KAGRF,CAAU,aACTynB,IAAW,GAIX,yBAAKntC,UAAWG,GAAQuc,SAClB8vB,GACE,oCACI,kBAACY,EAAA,EAAD,CAAOptC,UAAWG,GAAQmnB,OACtB,kBAAC1E,EAAA,EAAD,CAAQ5iB,UAAWG,GAAQwP,QACvB,kBAAC,IAAD,OAEJ,kBAAC0G,EAAA,EAAD,CAAYzI,UAAU,KAAKQ,QAAQ,MAAnC,gBACQvF,IAENyjC,GACE,0BAAMtsC,UAAWG,GAAQ2rC,KAAM5wB,SApFzC,SAARmyB,EAASzwC,GACXA,EAAE4U,iBACFlE,GAAW,GACNo9B,GAAW/yB,QAAQ+yB,aAAckC,EAItCt+B,IAAIC,KAAK,gBAAT,aACI++B,SAAUpB,EACVqB,SAAUnB,GACPf,GAAiB1zB,UAEnBnJ,MAAK,SAACxW,GACHsV,GAAW,GACmB,MAA1BtV,EAASE,QAAQX,KACjBk1C,GAAS,GAETQ,GAAWj1C,EAASG,SAG3BsW,OAAM,SAACjX,GACJ8V,GAAW,GACXC,EAAe,MAAO,QAAS/V,EAAMF,QAAS,WAC9C4zC,GAAkBvzB,aAnBtB4zB,IAAS,kBAAM8B,EAAMzwC,KAAI0Q,KAiFL,kBAAC4H,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,SAApB,4BAGA,kBAACyyB,EAAA,EAAD,CACIlqC,GAAG,QACH5E,KAAK,QACLa,KAAK,QACLkU,SAAU,SAAClR,GAAD,OACNuvC,EAASvvC,EAAE+B,OAAOJ,QAEtBupC,cAAY,EACZvpC,MAAO2tC,EACPp9B,WAAS,KAGjB,kBAACoG,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,YAApB,gBAGA,kBAACyyB,EAAA,EAAD,CACIjuC,KAAK,WACLkU,SAAU,SAAClR,GAAD,OAAOyvC,EAAOzvC,EAAE+B,OAAOJ,QACjCxF,KAAK,WACL4E,GAAG,WACHY,MAAO6tC,EACPtE,cAAY,KAGnB8E,GAAgB,kBAACtB,GAAD,MAChB6B,IACG,yBAAKntC,UAAWG,GAAQ4rC,iBACpB,kBAACx6B,EAAA,EAAD,CACIxY,KAAK,SACLqV,QAAQ,YACR5K,MAAM,UACNkL,SAAUrB,EACVrN,UAAWG,GAAQwqC,QALvB,gBASA,kBAACp5B,EAAA,EAAD,CACInD,QAAQ,YACR5K,MAAM,YACNsE,MAAO,CAAEgI,WAAY,QACrBpB,SAAUrB,EACVrN,UAAWG,GAAQwqC,OACnB3hC,QAzGpB,WAChBsE,GAAW,GACXgB,IAAIC,KAAK,YACJC,MAAK,SAACxW,GACHO,OAAOC,SAASC,KAAOT,EAASG,QAEnCsW,OAAM,SAACjX,GACJ8V,GAAW,GACXC,EAAe,MAAO,QAAS/V,EAAMF,QAAS,gBA2FtB,gCAYN61C,IACE,kBAAC57B,EAAA,EAAD,CACIxY,KAAK,SACL4U,WAAS,EACTS,QAAQ,YACR5K,MAAM,UACNkL,SAAUrB,EACVrN,UAAWG,GAAQwqC,QANvB,iBAaX2B,GACG,0BAAMtsC,UAAWG,GAAQ2rC,MACrB,kBAAC52B,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,SAApB,4BAGA,kBAACyyB,EAAA,EAAD,CACIlqC,GAAG,QACH5E,KAAK,QACLa,KAAK,QACLkU,SAAU,SAAClR,GAAD,OACNuvC,EAASvvC,EAAE+B,OAAOJ,QAEtBupC,cAAY,EACZvpC,MAAO2tC,EACPp9B,WAAS,KAGjB,kBAACyC,EAAA,EAAD,CACIxY,KAAK,SACL4U,WAAS,EACTS,QAAQ,YACR5K,MAAM,UACNkL,SACIrB,KACCu/B,GAAe5B,GAEpBhiC,QAhPb,SAACpM,GAChBA,EAAE4U,iBACG1X,UAAU0zC,aAMflgC,GAAW,GAEXgB,IAAImJ,IAAI,eAAiBy0B,GACpB19B,MAAK,SAACxW,GACH,IAAMy1C,EAA2Bz1C,EAASG,KAW1C,OAVA0mB,QAAQjd,IAAI6rC,GACZA,EAAyBC,UAAUC,UAAYhqC,YAC3C8pC,EAAyBC,UAAUC,WAEvCF,EAAyBC,UAAUE,iBAAiBtvC,SAChD,SAAUuvC,GACNA,EAASlwC,GAAKgG,YAAakqC,EAASlwC,OAIrC7D,UAAU0zC,YAAY/1B,IAAI,CAC7Bi2B,UAAWD,EAAyBC,eAG3Cl/B,MAAK,SAACs/B,GACH,IAAMC,EAAWD,EAAU91C,SAASg2C,kBAC9BC,EAAiBH,EAAU91C,SAASi2C,eACpCC,EAAQJ,EAAUI,MAClBC,EAAML,EAAU91C,SAASo2C,UACzBC,EAAaP,EAAU91C,SAASq2C,WAEtC,OAAO//B,IAAIC,KACP,sBAAwB29B,EACxBxrC,KAAKK,UAAU,CACXpD,GAAImwC,EAAUnwC,GACduwC,MAAOjqC,YAAaiqC,GACpBn1C,KAAM+0C,EAAU/0C,KAChBf,SAAU,CACNg2C,kBAAmB/pC,YAAa8pC,GAChCE,eAAgBhqC,YAAagqC,GAC7BG,UAAWnqC,YAAakqC,GACxBE,WAAYpqC,YAAaoqC,UAKxC7/B,MAAK,SAACxW,GACHi1C,GAAWj1C,EAASG,SAEvBsW,OAAM,SAACjX,GACJqnB,QAAQjd,IAAIpK,GACZ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,cAEjDkX,MAAK,WACFlB,GAAW,OAtDfC,EAAe,MAAO,QAAS,qEAAe,YA8OtBvN,UAAWG,GAAQwqC,QAVvB,uBAgBR,kBAACp2B,EAAA,EAAD,MACA,yBAAKvU,UAAWG,GAAQof,MACpB,6BACI,kBAAConB,EAAA,EAAD,CAAMluC,KAAM,WAAZ,6BAEJ,6BACI,kBAACkuC,EAAA,EAAD,CAAMluC,KAAM,WAAZ,8BAIR,kBAAC,GAAD,OAGHq0C,GACG,yBAAK9sC,UAAWG,GAAQ6rC,WACpB,kBAACz6B,EAAA,EAAD,CACI/N,MAAM,UACNwF,QAAS,kBAAMujC,GAAaD,MAE1BA,GACE,oCACI,kBAACgC,GAAA,EAAD,CACIxmC,MAAO,CACHoB,YAAa,KAHzB,0DASHojC,GACG,oCACI,kBAACiC,GAAA,EAAD,CACIzmC,MAAO,CACHoB,YAAa,KAHzB,2CAcvBsjC,GACG,kBAACY,EAAA,EAAD,CAAOptC,UAAWG,GAAQmnB,OACtB,kBAAC1E,EAAA,EAAD,CAAQ5iB,UAAWG,GAAQwP,QACvB,kBAAC,KAAD,OAEJ,kBAAC0G,EAAA,EAAD,CAAYzI,UAAU,KAAKQ,QAAQ,MAAnC,4BAGA,0BAAMpO,UAAWG,GAAQ2rC,KAAM5wB,SAvM5B,SAACte,GAChBA,EAAE4U,iBACFlE,GAAW,GACXgB,IAAIC,KAAK,YAAa,CAClBhX,KAAMm1C,IAELl+B,MAAK,SAACxW,GACHsV,GAAW,GACX2/B,GAAWj1C,EAASG,SAEvBsW,OAAM,SAACjX,GACJ8V,GAAW,GACXC,EAAe,MAAO,QAAS/V,EAAMF,QAAS,gBA4LtC,kBAAC4d,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,QAApB,sEAGA,kBAACyyB,EAAA,EAAD,CACIlqC,GAAG,OACH5E,KAAK,SACLa,KAAK,OACLkU,SAAU,SAAC3C,GAAD,OACNwhC,EAAUxhC,EAAMxM,OAAOJ,QAE3BupC,cAAY,EACZvpC,MAAOmuC,EACP59B,WAAS,KAGjB,kBAACyC,EAAA,EAAD,CACIxY,KAAK,SACL4U,WAAS,EACTS,QAAQ,YACR5K,MAAM,UACNkL,SAAUrB,EACVrN,UAAWG,GAAQwqC,QANvB,4BASU,KACN,IACR,kBAACp2B,EAAA,EAAD,S,qGCheL,IACXi6B,WACAC,a,8GCGEtvC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqvC,WAAY,CACRlrC,MAAO,WAEXmrC,OAAQ,CACJx8B,UAAW,aAAe9S,EAAMe,QAAQ0U,QAAQvI,OAEpDoI,OAAQ,CACJi6B,cAAe,YAIR,SAASC,GAAWjvC,GAC/B,IAAMkvC,EAAW37B,IAAMg4B,OAAO,MADQ,EAGF4D,aAAQ,CACxCC,OAAQ,SACRC,KAAM,WACF,IAAIrvC,EAAMsvC,KAGN,MAAO,CACH79B,OAAQ,CACJ1T,IAAK,EACLjC,KAAMkE,EAAMlE,KACZ9B,KAAuB,MAAjBgG,EAAMyR,OAAiB,GAAKzR,EAAMyR,SANhDy9B,EAASn3B,QAAQsjB,SAWzBkU,QAAS,SAACC,GAAD,MAAc,CACnBC,OAAQD,EAAQC,SAChBC,QAASF,EAAQE,cApBa,0BAG7BA,EAH6B,EAG7BA,QAASD,EAHoB,EAGpBA,OAAUJ,EAHU,KAwBhCM,EAAWD,GAAWD,EAE5B3yC,qBAAU,WACFkD,EAAMsvC,MAAQK,GACdT,EAASn3B,QAAQsjB,UAGtB,CAACsU,IAEJ,IAAMpvC,EAAUhB,KAChB,OACI,0BAAM6J,QAASpJ,EAAMoJ,QAAS+V,IAAK+vB,GAC/B,kBAACv9B,EAAA,EAAD,CACIwN,IAAKkwB,EACLjvC,UAAW+I,KAAW,eAEb5I,EAAQwuC,OAASY,GAEtBpvC,EAAQwU,QAEZ/G,UAAU,OACV/E,MAAOjJ,EAAMiJ,OAEZjJ,EAAMsvC,MAAQ,kBAAC,KAAD,OACbtvC,EAAMsvC,MACJ,oCACKtvC,EAAMyR,OACNzR,EAAM4vC,MACH,kBAAC,KAAD,CAAYxvC,UAAWG,EAAQuuC,gB,iCCjErDvvC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCsvC,OAAQ,CACJz8B,OAAQ,aAAe7S,EAAMe,QAAQ0U,QAAQvI,WAItC,SAASkjC,GAAa7vC,GAAQ,IAAD,EACJmvC,aAAQ,CACxCC,OAAQ,SACRC,KAAM,WACFpwB,QAAQjd,IAAI,CACRyP,OAAQ,CACJ1T,IAAK,EACLjC,KAAMkE,EAAMlE,KACZ9B,KAAuB,MAAjBgG,EAAMyR,OAAiB,GAAKzR,EAAMyR,WAIpD89B,QAAS,SAACC,GAAD,MAAc,CACnBC,OAAQD,EAAQC,SAChBC,QAASF,EAAQE,cAde,0BAC/BA,EAD+B,EAC/BA,QAASD,EADsB,EACtBA,OAAUJ,EADY,KAkBlCM,EAAWD,GAAWD,EAE5B3yC,qBAAU,WACNkD,EAAM8vC,gBAAgB9vC,EAAMjC,GAAI4xC,KAEjC,CAACA,IAEJ,IAAMpvC,EAAUhB,KAChB,OACI,kBAACiX,GAAA,EAAD,CACI2I,IAAKkwB,EACLjvC,UAAW+I,KAAW,eACjB5I,EAAQwuC,OAASY,IAEtBvmC,QAAS,SAACpM,GAAD,OAAOgD,EAAMgnB,WAAWhqB,EAAGgD,EAAMjC,MAE1C,kBAACiX,GAAA,EAAD,KACI,kBAAC,KAAD,OAEJ,kBAACC,GAAA,EAAD,CAAcC,QAASlV,EAAMyR,UC/C1B,SAASs+B,GAAS/vC,GAI7B,IAHA,IAAIgwC,EACA7xC,EAAQ6B,EAAM4E,QAAQnG,OACpBqR,EAAS,GACN9R,EAAQ,EAAGA,EAAQgC,EAAM4E,QAAQnG,OAAQT,IAC9C8R,EAAO9R,IAAS,EAGpB,IAAM8xC,EAAkB,SAAC/xC,EAAIY,GAEzB,GADAmR,EAAO/R,GAAMY,EACTA,EACAsxC,aAAaD,OACV,CACH,IAAIE,GAAc,EAClBpgC,EAAOpR,SAAQ,SAACyxC,GACRA,IACAD,GAAc,MAGlBA,IACI/xC,GAAS,EACT6xC,EAAQpiC,YAAW,WACf5N,EAAMqL,YACP,KAEHlN,KAIZ8gB,QAAQjd,IAAI8N,IAGhB,OACI,oCACK9P,EAAM4E,QAAQe,KAAI,SAAC8L,EAAQ1T,GAAT,OAEf,kBAAC8xC,GAAD,CACI/zC,KAAM,IAAMkE,EAAM4E,QAAQG,MAAM,EAAGhH,GAAIiH,KAAK,KAC5CgiB,WAAYhnB,EAAMgnB,WAClBjpB,GAAIA,EACJ+xC,gBAAiBA,EACjBr+B,OAAQA,Q,kCCqFtB2+B,G,oDAaF,WAAYpwC,GAAQ,IAAD,+BACf,cAAMA,IAbV3B,SAAW,GAYQ,EAXnBgyC,UAAY,EAWO,EATnBzxC,MAAQ,CACJnC,QAAQ,EACR6zC,cAAe,GACf1rC,QAAS,GACTuG,SAAU,KACVolC,YAAY,EACZC,aAAc,MAGC,EAKnB/rB,kBAAoB,WAChB,IACMtgB,EADM,IAAIssC,IAAItuC,YAAWxJ,OAAOC,SAASC,OACjC63C,aAAa74B,IAAI,QAC/B,EAAK84B,WAAiB,OAANxsC,EAAa,IAAMA,GAE9B,EAAKnE,MAAMq0B,SAEZ,EAAKr0B,MAAMomB,qBAAoB,GAInCztB,OAAOi4C,WAAa,WAChB,IACMzsC,EADM,IAAIssC,IAAItuC,YAAWxJ,OAAOC,SAASC,OACjC63C,aAAa74B,IAAI,QACrB,OAAN1T,GACA,EAAKnE,MAAM6wC,eAAe1sC,KApBnB,EAyBnBwsC,WAAa,WAAkB,IAAjB70C,EAAgB,uDAAT,KACjB,EAAKkE,MAAM41B,mBAAkB,EAAO,MACpC,EAAKjd,SAAS,CACV/T,QACa,OAAT9I,EACMA,EAAK+I,OAAO,GAAGC,MAAM,KACrB,EAAK9E,MAAMlE,KAAK+I,OAAO,GAAGC,MAAM,OAE9C,IAAI0wB,EAAmB,OAAT15B,EAAgBA,EAAO,EAAKkE,MAAMlE,KAC1Cg1C,EAAS,EAAK9wC,MAAM0J,MACpB,eAAiB,EAAK1J,MAAM0J,MAAMlI,IAChB,KAAlB,EAAKnD,SACL,aACA,gBACNm3B,EAA4B,KAAlB,EAAKn3B,SAAkBm3B,EAAU,EAAKn3B,SAEhDqQ,IAAImJ,IAAIi5B,EAASh3B,mBAAmB0b,IAC/B5mB,MAAK,SAACxW,GACH,EAAKi4C,UAAYj4C,EAASG,KAAKw4C,OAC/B,EAAK/wC,MAAMnF,eAAezC,EAASG,KAAK4rC,SACxC,EAAKnkC,MAAM21B,2BAA0B,GACrC,IAAMqb,GAAqB,OAATl1C,EACZA,EAAK+I,OAAO,GAAGC,MAAM,KACrB,EAAK9E,MAAMlE,KAAK+I,OAAO,GAAGC,MAAM,MACpCE,KAAK,KACP5C,YAAU,WAAY0X,mBAAmBk3B,GAAW,GAC9B,KAAlB,EAAK3yC,UACLqE,YAAgB,OAAQoX,mBAAmB0b,OAGlD3mB,OAAM,SAACjX,GACJ,EAAKoI,MAAM41B,mBAAkB,EAAMh+B,MAG3C,EAAKq5C,eAAc,IA3DJ,EA8DnBC,QAAU,SAACp1C,GACP,EAAKkE,MAAM21B,2BAA0B,GACrC,EAAK31B,MAAM41B,mBAAkB,EAAO,SACpC,EAAK+a,WAAW70C,IAjED,EAoEnBgd,iCAAmC,SAACC,GAC5B,EAAK/Y,MAAM3B,WAAa0a,EAAU1a,WAClC,EAAKA,SAAW0a,EAAU1a,UAE1B,EAAK2B,MAAMlE,OAASid,EAAUjd,MAC9B,EAAK60C,WAAW53B,EAAUjd,MAE1B,EAAKkE,MAAMwsB,UAAYzT,EAAUyT,SACjC,EAAK0kB,QAAQn4B,EAAUjd,OA5EZ,EAoFnBq1C,mBAAqB,SAACC,EAAWC,GAtIvB,IAACC,EAuIH,EAAK1yC,MAAMgG,UAAYysC,EAAWzsC,SAClC,EAAKqsC,eAAc,GAEnB,EAAKjxC,MAAMuxC,oBAAsBH,EAAUG,oBA1IxCD,EA2IG,IA3II,IAAIv4C,SAAQ,SAACwlB,GAAD,OAAa3Q,WAAW2Q,EAAS+yB,OA2I5C1iC,MAAK,kBAAM,EAAKqiC,oBAzFhB,EA6FnBA,cAAgB,SAACO,GACb,KAAI,EAAKC,kBAAqBD,IAGD,OAAzB,EAAKrB,QAAQp4B,QAAkB,CAC/B,IAAM25B,EACF,EAAKvB,QAAQp4B,QAAQ45B,aACjB,EAAKxB,QAAQp4B,QAAQ65B,cACzB,EAAKzB,QAAQp4B,QAAQ85B,YACjB,EAAK1B,QAAQp4B,QAAQ+5B,YACzBJ,IACA,EAAKD,kBAAmB,EACxB,EAAK94B,SAAS,CAAE43B,YAAY,MAE3BmB,GAA0B,EAAK9yC,MAAM2xC,YACtC,EAAK53B,SAAS,CAAE43B,YAAY,MA5GrB,EAiHnBvpB,WAAa,SAACzb,EAAOxN,GACbA,IAAO,EAAKa,MAAMgG,QAAQnG,OAAS,EAEnC,EAAKka,SAAS,CAAExN,SAAUI,EAAMtO,iBAExB,IAARc,GAC8B,IAA9B,EAAKa,MAAMgG,QAAQnG,QACO,KAA1B,EAAKG,MAAMgG,QAAQ,IAEnB,EAAK5E,MAAMoR,kBACX,EAAK4Q,gBACU,IAARjkB,GACP,EAAKiC,MAAM6wC,eAAe,KAC1B,EAAK7uB,gBAEL,EAAKhiB,MAAM6wC,eACP,IAAM,EAAKjyC,MAAMgG,QAAQG,MAAM,EAAGhH,EAAK,GAAGiH,KAAK,MAEnD,EAAKgd,gBAnIM,EAuInBA,YAAc,WACV,EAAKrJ,SAAS,CAAExN,SAAU,KAAMqlC,aAAc,KAAMnmC,WAAY,QAxIjD,EA2InB0nC,eAAiB,SAAC/0C,GACd,EAAK2b,SAAS,CAAE63B,aAAcxzC,EAAEC,iBA5IjB,EA+InB+0C,cAAgB,SAACh1C,GAEb,GADA,EAAKglB,cACK,YAANhlB,EAAJ,CAIA,IAAMuU,EAAc,EAAKvR,MAAMlE,KAAKgJ,MAAM,KACpCmtC,EAAY,CACd,CACIl0C,GAAI,EAAKsyC,UACTl3C,KAAM,MACNa,KAAMuX,EAAYvL,MAClBlK,KAA6B,IAAvByV,EAAY9S,OAAe,IAAM8S,EAAYvM,KAAK,OAIhE,OAAQhI,GACJ,IAAK,QACD,EAAKgD,MAAMwmB,kBAAkByrB,GAC7B,EAAKjyC,MAAMknB,kBACX,MACJ,IAAK,YACD,EAAKlnB,MAAMqoB,yBACX,MACJ,IAAK,WACD,EAAKroB,MAAMwmB,kBAAkByrB,GAC7B,EAAKjyC,MAAMk2B,qBACX,MACJ,IAAK,UACD,EAAKl2B,MAAM61B,6BA1Bf,EAAKqb,WAhJT,EAAKf,QAAU58B,IAAMkK,YAFN,E,yDAgFnB,WACI5lB,KAAKmI,MAAMnF,eAAe,M,oBAkG9B,WAAU,IAAD,OACG0F,EAAY1I,KAAKmI,MAAjBO,QACF1E,EAAaud,KAAWvd,WAAWhE,KAAKmI,MAAMpH,SAASygB,UACvDqJ,EAAOjqB,IAAKoI,UAEZqxC,EACF,kBAACC,GAAA,EAAD,CACIp0C,GAAG,oBACHoN,SAAUtT,KAAK+G,MAAMuM,SACrB3R,KAAM4R,QAAQvT,KAAK+G,MAAMuM,UACzBE,QAASxT,KAAKmqB,YACdowB,sBAAsB,GAEtB,kBAAC57B,GAAA,EAAD,CAAUpN,QAAS,kBAAM,EAAK4oC,cAAc,aACxC,kBAACh9B,GAAA,EAAD,KACI,kBAAC,KAAD,OAFR,gBAMyB,KAAxBnd,KAAKmI,MAAM3B,UAAmBxC,GAC3B,6BACI,kBAAC8Y,EAAA,EAAD,MACA,kBAAC6B,GAAA,EAAD,CAAUpN,QAAS,kBAAM,EAAK4oC,cAAc,WACxC,kBAACh9B,GAAA,EAAD,KACI,kBAAC,KAAD,OAFR,gBAMC0N,EAAKhJ,MAAM4C,UACR,kBAAC9F,GAAA,EAAD,CACIpN,QAAS,kBAAM,EAAK4oC,cAAc,cAElC,kBAACh9B,GAAA,EAAD,KACI,kBAACq9B,GAAA,EAAD,OAJR,gBASJ,kBAAC19B,EAAA,EAAD,MACA,kBAAC6B,GAAA,EAAD,CACIpN,QAAS,kBAAM,EAAK4oC,cAAc,eAElC,kBAACh9B,GAAA,EAAD,KACI,kBAAC,KAAD,OAJR,kCASA,kBAACwB,GAAA,EAAD,CAAUpN,QAAS,kBAAM,EAAK4oC,cAAc,aACxC,kBAACh9B,GAAA,EAAD,KACI,kBAAC,KAAD,OAFR,8BAWhB,OACI,yBACI5U,UAAW+I,KAAW,eAEb5I,EAAQ+xC,YAAcz6C,KAAKmI,MAAMq0B,SAEtC9zB,EAAQknB,YAGZ,yBAAKrnB,UAAWG,EAAQgyC,oBACpB,yBAAKnyC,UAAWG,EAAQiyC,IAAKrzB,IAAKtnB,KAAKs4C,SACnC,8BACI,kBAAClB,GAAD,CACIx9B,OAAO,IACP3V,KAAK,IACLsN,QAAS,SAACpM,GAAD,OAAO,EAAKgqB,WAAWhqB,GAAI,MAExC,kBAAC,KAAD,CAAWoD,UAAWG,EAAQkyC,aAEjC56C,KAAK+G,MAAM2xC,YACR,8BACI,kBAACtB,GAAD,CACIK,MAAI,EACJrmC,MAAM,2BACNG,QAASvR,KAAKk6C,iBAElB,kBAACI,GAAA,EAAD,CACIp0C,GAAG,iBACHoN,SAAUtT,KAAK+G,MAAM4xC,aACrBh3C,KAAM4R,QAAQvT,KAAK+G,MAAM4xC,cACzBnlC,QAASxT,KAAKmqB,YACdowB,sBAAsB,GAEtB,kBAACrC,GAAD,CACI1kC,QAASxT,KAAKmqB,YACdpd,QAAS/M,KAAK+G,MAAMgG,QAAQG,MACxB,GACC,GAELiiB,WAAYnvB,KAAKmvB,cAGzB,kBAAC,KAAD,CAAW5mB,UAAWG,EAAQkyC,YAK9B,kBAACxD,GAAD,CACIx9B,OAAQ5Z,KAAK+G,MAAMgG,QAAQG,OAAO,GAClCjJ,KACI,IACAjE,KAAK+G,MAAMgG,QACNG,MAAM,GAAI,GACVC,KAAK,KAEd4qC,MAAM,EACNxmC,QAAS,SAACpM,GAAD,OACL,EAAKgqB,WACDhqB,EACA,EAAK4B,MAAMgG,QAAQnG,OAAS,MAIvCyzC,IAGPr6C,KAAK+G,MAAM2xC,YACT14C,KAAK+G,MAAMgG,QAAQe,KAAI,SAAC8L,EAAQ1T,EAAI6G,GAAb,OACnB,0BAAMpD,IAAKzD,GACK,KAAX0T,GACG,8BACI,kBAACw9B,GAAD,CACIx9B,OAAQA,EACR3V,KACI,IACA8I,EACKG,MAAM,EAAGhH,GACTiH,KAAK,KAEd4qC,KAAM7xC,IAAO6G,EAAQnG,OAAS,EAC9B2K,QAAS,SAACpM,GAAD,OACL,EAAKgqB,WAAWhqB,EAAGe,MAG1BA,IAAO6G,EAAQnG,OAAS,GACrByzC,EACHn0C,IAAO6G,EAAQnG,OAAS,GACrB,kBAAC,KAAD,CACI2B,UACIG,EAAQkyC,kBAS5C,yBAAKryC,UAAWG,EAAQmyC,iBACpB,kBAAClpC,GAAA,EAAD,CAAYC,SAAO,EAACC,MAAO7R,KAAKmI,MAAM0J,UAG9C,kBAACiL,EAAA,EAAD,W,GAjWiB6H,aAiXlBm2B,GALGj2B,aArcM,SAAC9d,GACrB,MAAO,CACH9C,KAAM8C,EAAM1E,UAAU4B,KACtB0wB,QAAS5tB,EAAM1E,UAAUsyB,QACzB+kB,kBAAmB3yC,EAAM3D,WAAWzB,KACpCoQ,WAAYhL,EAAM3D,WAAW4O,mBAC7BxL,SAAUO,EAAMnD,SAAS4C,SACzBrD,WAAY4D,EAAM3D,WAAWD,eAIV,SAACF,GACxB,MAAO,CACH+1C,eAAgB,SAAC/0C,GACbhB,EAASksB,YAAWlrB,KAExBw5B,WAAY,WACRx6B,EAASw6B,gBAEbM,kBAAmB,SAAC9lB,EAAQhX,GACxBgC,EAAS86B,YAAkB9lB,EAAQhX,KAEvC+B,eAAgB,SAAC3B,GACb4B,EAASW,GAASmzC,QAAQ/zC,eAAe3B,KAE7Cy8B,0BAA2B,SAAC7lB,GACxBhV,EAAS66B,YAA0B7lB,KAEvCsB,gBAAiB,WACbtW,EAASsW,gBAEboV,kBAAmB,SAACznB,GAChBjE,EAAS0rB,YAAkBznB,KAE/BspB,uBAAwB,WACpBvtB,EAASutB,gBAEbwN,qBAAsB,WAClB/6B,EAAS+6B,gBAEb3O,gBAAiB,WACbpsB,EAASosB,gBAEbd,oBAAqB,SAAC5sB,GAClBsB,EAASstB,YAAmB5uB,KAEhC08B,mBAAoB,WAChBp7B,EAASo7B,mBAsZHxZ,CAGhBtK,cAlZa,SAAC3S,GAAD,MAAY,CACvBgoB,UAAW,CAIPxb,OAAQ,OACRghB,SAAU,SACVhtB,gBAAiBR,EAAMe,QAAQuS,WAAW2U,OAE9C6qB,mBAAoB,CAChBtlC,QAAS,OACT4e,eAAgB,iBAEpB2mB,IAAK,CACDvmC,OAAQ,OACRrM,QAAS,WACTqN,QAAS,QAEbylC,gBAAiB,CACb5mB,WAAY,MACZxiB,YAAa,QAEjBmpC,UAAW,CACPtlC,UAAW,MACX2c,cAAe,MACflmB,MAAO,WAEXkrC,WAAY,CACRlrC,MAAO,WAEX0uC,YAAa,CACTr1B,aAAc,kBAmXpB7K,CAAmByK,YAAWuzB,M,qGCrZ1BwC,G,+MACFh0C,MAAQ,G,6CAER,WAAU,IAAD,aACG2B,EAAY1I,KAAKmI,MAAjBO,QACFsyC,GAGM,IAFRh7C,KAAKmI,MAAMxC,SAASqd,WAAU,SAAClc,GAC3B,OAAOA,IAAU,EAAKqB,MAAMlC,QAE9B3B,EAAWP,KAAaO,WAE9B,OACI,kBAAC22C,GAAA,EAAD,CACIC,aAAW,EACX3yC,UAAW+I,MAAU,mBAEZ5I,EAAQ/C,SAAWq1C,GAFP,cAGZtyC,EAAQyyC,aAAeH,GAHX,GAKjBtyC,EAAQwU,SAGZ,yBACI3L,QAASvR,KAAKmI,MAAMizC,YACpB7yC,UAAW+I,KAAW5I,EAAQ6H,MAAT,mBAChB7H,EAAQ2yC,aAAeL,GADP,cAEhBtyC,EAAQ4yC,iBAAmBN,GAFX,OAKlBA,IAAe12C,IACd,oCACKtE,KAAKmI,MAAMozC,UAAY,kBAAC,KAAD,OACtBv7C,KAAKmI,MAAMozC,UACT,kBAACjW,GAAA,EAAD,CAAU9lB,SAAUxf,KAAKmI,MAAMlC,KAAK9D,QAI/C64C,GAAc12C,GACX,kBAACkoB,GAAA,EAAD,CAAMlnB,GAAI01C,GAAc12C,GACpB,kBAAC,KAAD,CACIiE,UAAWG,EAAQ8yC,cAKnC,kBAACz9B,GAAA,EAAD,CACI3M,MAAOpR,KAAKmI,MAAMlC,KAAK9D,KACvBiU,aAAYpW,KAAKmI,MAAMlC,KAAK9D,MAE5B,kBAACyc,EAAA,EAAD,CACIrW,UAAW+I,KAAW5I,EAAQ+yC,YAAT,mBAChB/yC,EAAQgzC,mBAAqBV,GADb,cAEhBtyC,EAAQizC,uBAAyBX,GAFjB,IAIrBrkC,QAAQ,SAEP3W,KAAKmI,MAAMlC,KAAK9D,Y,GAxDRwiB,aA0ElBi3B,GALG/2B,aA/EM,SAAC9d,GACrB,MAAO,CACHpB,SAAUoB,EAAMnD,SAAS+B,aAIN,WACvB,MAAO,KAwEOkf,CAGhBtK,cAjJa,SAAC3S,GAAD,MAAY,CACvBgoB,UAAW,CACP7nB,QAAS,OAGbpC,SAAU,CACN,UAAW,CACP8U,OAAQ,qBAEZrS,gBAAiBwrB,YACbhsB,EAAMe,QAAQ0U,QAAQsM,KACC,SAAvB/hB,EAAMe,QAAQrH,KAAkB,GAAM,MAG9C65C,YAAa,CACT,UAAW,CACP/yC,gBAAiBR,EAAMe,QAAQuS,WAAWC,QAC1CV,OAAQ,qBAEZrS,gBAAiBR,EAAMe,QAAQuS,WAAW2U,OAG9C3S,OAAQ,CACJ9I,OAAQ,OACRqG,OAAQ,aAAe7S,EAAMe,QAAQkzC,QACrC/zC,MAAO,OACPsd,aAAc,MACd02B,UAAW,aACX9qB,WACI,0JACJ5b,QAAS,OACT4e,eAAgB,OAChB9e,WAAY,WAEhB3E,KAAM,CACFmE,OAAQ,sBACRN,OAAQ,OACRI,SAAU,OACVpM,gBAAiBR,EAAMe,QAAQuS,WAAW2U,MAC1CzK,aAAc,MACd6O,WAAY,MACZloB,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B6mC,mBAAoB,CAChB3vC,MAC2B,SAAvBnE,EAAMe,QAAQrH,KAAkB,OAASsG,EAAMe,QAAQ0U,QAAQhV,KACnE0zC,WAAY,OAEhBJ,sBAAuB,CACnB5vC,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B4mC,WAAY,CACRnmC,UAAW,OACX+f,aAAc,WACde,WAAY,SACZhB,SAAU,SACV3jB,YAAa,QAEjB+pC,UAAW,CACPzvC,MAAOnE,EAAMe,QAAQ0U,QAAQsM,SAsFnCpP,CAAmBwgC,K,UC7BfiB,G,+MAKFj1C,MAAQ,CACJ6O,SAAS,EACTqmC,aAAa,G,6CAGjB,WAAU,IAAD,eACGvzC,EAAY1I,KAAKmI,MAAjBO,QACFsyC,GAGM,IAFRh7C,KAAKmI,MAAMxC,SAASqd,WAAU,SAAClc,GAC3B,OAAOA,IAAU,EAAKqB,MAAMlC,QAE9B/B,EAAcqd,KAAWrd,YAC3BlE,KAAKmI,MAAMpH,SAASygB,UAElBld,EAAWP,KAAaO,WAE9B,OACI,yBAAKiE,UAAWG,EAAQknB,WACpB,kBAACqrB,GAAA,EAAD,CACIC,aAAW,EACX3yC,UAAW+I,MAAU,mBAEZ5I,EAAQ/C,SAAWq1C,GAFP,cAGZtyC,EAAQyyC,aAAeH,GAHX,GAKjBtyC,EAAQwU,SAGa,KAAxBld,KAAKmI,MAAMlC,KAAKi2C,MACZl8C,KAAK+G,MAAMk1C,aACY,MAAxBj8C,KAAKmI,MAAMlC,KAAKi2C,KACQ,cAAxBl8C,KAAKmI,MAAMlC,KAAKi2C,KACZ,yBAAK3zC,UAAWG,EAAQ2T,SACpB,kBAAC,iBAAD,CACI9T,UAAW+I,MAAU,mBAChB5I,EAAQyzC,KAAOn8C,KAAK+G,MAAM6O,SADV,cAEhBlN,EAAQ0zC,YAAcp8C,KAAK+G,MACvB6O,SAHY,IAKrBvB,IACIhV,KACC6E,EACK,gBACApD,OAAO0K,UAAU7B,IACjB,IACA3J,KAAKmI,MAAMlC,KAAKC,GAChB,SACA+b,mBACIjiB,KAAKmI,MAAMlC,KAAKhC,MAEpB,eACAjE,KAAKmI,MAAMlC,KAAKC,IAE1Bm2C,UAAW,kBACP,EAAKv7B,SAAS,CAAElL,SAAS,KAE7B0mC,WAAY,kBACR,EAAKx7B,SAAS,CAAElL,SAAS,KAE7Bw0B,QAAS,kBACL,EAAKtpB,SAAS,CAAEm7B,aAAa,OAGrC,kBAAC,IAAD,CACI7nC,OAAQ,IACRtM,MAAO,IACPS,UAAW+I,KAAW,eAEb5I,EAAQyzC,MAAQn8C,KAAK+G,MAAM6O,SAEhClN,EAAQ6zC,mBAGZ,0BACIh5C,EAAE,IACFiL,EAAE,IACF1G,MAAM,OACNsM,OAAO,WAKD,KAAxBpU,KAAKmI,MAAMlC,KAAKi2C,KACdl8C,KAAK+G,MAAMk1C,aACa,MAAxBj8C,KAAKmI,MAAMlC,KAAKi2C,KACQ,cAAxBl8C,KAAKmI,MAAMlC,KAAKi2C,MAChB,yBAAK3zC,UAAWG,EAAQ8zC,aACpB,kBAAClX,GAAA,EAAD,CACI/8B,UAAWG,EAAQ+zC,QACnBj9B,SAAUxf,KAAKmI,MAAMlC,KAAK9D,SAIZ,KAAxBnC,KAAKmI,MAAMlC,KAAKi2C,KACdl8C,KAAK+G,MAAMk1C,aACa,MAAxBj8C,KAAKmI,MAAMlC,KAAKi2C,KACQ,cAAxBl8C,KAAKmI,MAAMlC,KAAKi2C,MAAwB,kBAACp/B,EAAA,EAAD,MAC5C,yBAAKvU,UAAWG,EAAQg0C,WAClB18C,KAAKmI,MAAM0J,OACT,yBACIN,QAASvR,KAAKmI,MAAMizC,YACpB7yC,UAAW+I,KAAW5I,EAAQ6H,MAAT,mBAChB7H,EAAQ2yC,aAAeL,GADP,cAEhBtyC,EAAQ4yC,iBAAmBN,GAFX,OAKlBA,IAAe12C,IACd,kBAACghC,GAAA,EAAD,CAAU9lB,SAAUxf,KAAKmI,MAAMlC,KAAK9D,OAEvC64C,GAAc12C,GACX,kBAACkoB,GAAA,EAAD,CAAMlnB,GAAI01C,GAAc12C,GACpB,kBAAC,KAAD,CACIiE,UAAWG,EAAQ8yC,cAMvC,kBAACz9B,GAAA,EAAD,CACI3M,MAAOpR,KAAKmI,MAAMlC,KAAK9D,KACvBiU,aAAYpW,KAAKmI,MAAMlC,KAAK9D,MAE5B,kBAACyc,EAAA,EAAD,CACIjI,QAAQ,QACRpO,UAAW+I,KAAW5I,EAAQ+yC,YAAT,mBAChB/yC,EAAQgzC,mBAAqBV,GADb,cAEhBtyC,EAAQizC,uBAAyBX,GAFjB,cAGhBtyC,EAAQi0C,SAAW38C,KAAKmI,MAAM0J,OAHd,KAMpB7R,KAAKmI,MAAMlC,KAAK9D,c,GAvIjBwiB,aAA1Bq3B,GACKlZ,aAAe,CAClBjxB,OAAO,GAoJf,IAKe+qC,GALE/3B,aAjKO,SAAC9d,GACrB,MAAO,CACH9C,KAAM8C,EAAM1E,UAAU4B,KACtB0B,SAAUoB,EAAMnD,SAAS+B,aAIN,WACvB,MAAO,KAyJMkf,CAGftK,cAxQa,SAAC3S,GAAD,MAAY,CACvBgoB,UAAW,CACP7nB,QAAS,OAGbpC,SAAU,CACN,UAAW,CACP8U,OAAQ,qBAEZrS,gBAAiBwrB,YACbhsB,EAAMe,QAAQ0U,QAAQsM,KACC,SAAvB/hB,EAAMe,QAAQrH,KAAkB,GAAM,MAI9C65C,YAAa,CACT,UAAW,CACP/yC,gBAAiBR,EAAMe,QAAQuS,WAAWC,QAC1CV,OAAQ,qBAEZrS,gBAAiBR,EAAMe,QAAQuS,WAAW2U,OAG9C3S,OAAQ,CACJzC,OAAQ,aAAe7S,EAAMe,QAAQkzC,QACrC/zC,MAAO,OACPsd,aAAc,MACd02B,UAAW,aACX9qB,WACI,0JACJ9b,WAAY,UACZE,QAAS,WAEbsmC,mBAAoB,CAChB3vC,MAC2B,SAAvBnE,EAAMe,QAAQrH,KAAkB,OAASsG,EAAMe,QAAQ0U,QAAQhV,KACnE0zC,WAAY,OAEhBJ,sBAAuB,CACnB5vC,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B4mC,WAAY,CACRnmC,UAAW,OACX+f,aAAc,WACde,WAAY,SACZhB,SAAU,SACV3jB,YAAa,QAEjB4K,QAAS,CACL+Y,SAAU,SACVhhB,OAAQ,QACRtM,MAAO,OACPsd,aAAc,cACdhd,gBAAiBR,EAAMe,QAAQuS,WAAWC,SAE9CqhC,YAAa,CACTpnB,SAAU,SACVhhB,OAAQ,QACRtM,MAAO,OACPsd,aAAc,cACdhd,gBAAiBR,EAAMe,QAAQuS,WAAW2U,MAC1CoE,WAAY,QAEhBwoB,QAAS,CACLppC,SAAU,IAEd+oC,WAAY,CACRS,UAAW,QACX/0C,MAAO,OACPsM,OAAQ,QAEZsoC,SAAU,CACNtoC,OAAQ,OACRgB,QAAS,QAEb7E,KAAM,CACFmE,OAAQ,sBACRN,OAAQ,OACRI,SAAU,OACVpM,gBAAiBR,EAAMe,QAAQuS,WAAW2U,MAC1CzK,aAAc,MACd6O,WAAY,MACZloB,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9BsnC,KAAM,CACF/mC,QAAS,QAEbmnC,iBAAkB,CACdn3B,aAAc,cACdhR,OAAQ,OACRtM,MAAO,QAEX60C,SAAU,CACNtkC,WAAY,QAEhBmjC,UAAW,CACPzvC,MAAOnE,EAAMe,QAAQ0U,QAAQsM,SAwKnCpP,CAAmByK,YAAWg3B,MChR1Bt0C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCgoB,UAAW,CACP7nB,QAAS,OAGbpC,SAAU,CACN,UAAW,CACP8U,OAAQ,qBAEZrS,gBAAiBwrB,YACbhsB,EAAMe,QAAQ0U,QAAQsM,KACC,SAAvB/hB,EAAMe,QAAQrH,KAAkB,GAAM,MAI9C65C,YAAa,CACT,UAAW,CACP/yC,gBAAiBR,EAAMe,QAAQuS,WAAWC,QAC1CV,OAAQ,qBAEZrS,gBAAiBR,EAAMe,QAAQuS,WAAW2U,OAG9C3S,OAAQ,CACJ9I,OAAQ,OACRqG,OAAQ,aAAe7S,EAAMe,QAAQkzC,QACrC/zC,MAAO,OACPsd,aAAc,MACd02B,UAAW,aACX9qB,WACI,4GACJ5b,QAAS,OACT4e,eAAgB,OAChB9e,WAAY,WAEhB3E,KAAM,CACFmE,OAAQ,sBACRN,OAAQ,OACRI,SAAU,OACVpM,gBAAiBR,EAAMe,QAAQuS,WAAW2U,MAC1CzK,aAAc,MACd6O,WAAY,MACZloB,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B6mC,mBAAoB,CAChB3vC,MAC2B,SAAvBnE,EAAMe,QAAQrH,KAAkB,OAASsG,EAAMe,QAAQ0U,QAAQhV,KACnE0zC,WAAY,OAEhBJ,sBAAuB,CACnB5vC,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B4mC,WAAY,CACRnmC,UAAW,OACX+f,aAAc,WACde,WAAY,SACZhB,SAAU,SACV3jB,YAAa,QAEjBylC,OAAQ,CACJx8B,UAAW,aAAe9S,EAAMe,QAAQ0U,QAAQvI,OAEpD0mC,UAAW,CACPzvC,MAAOnE,EAAMe,QAAQ0U,QAAQsM,UAItB,SAASmzB,GAAT,GAAoD,IAAD,MAAjCljC,EAAiC,EAAjCA,OAAQk+B,EAAyB,EAAzBA,SAAUsD,EAAe,EAAfA,YACzCz1C,EAAWiL,aAAY,SAAC7J,GAAD,OAAWA,EAAMnD,SAAS+B,YACjD+C,EAAUhB,KACVpD,EAAWP,KAAaO,WACxB02C,GAGM,IAFRr1C,EAASqd,WAAU,SAAClc,GAChB,OAAOA,IAAU8S,KAGzB,OACI,kBAACqhC,GAAA,EAAD,CACIC,aAAW,EACX3yC,UAAW+I,MAAU,mBAEZ5I,EAAQ/C,SAAWq1C,GAFP,cAGZtyC,EAAQyyC,aAAeH,GAHX,cAIZtyC,EAAQwuC,OAASY,GAJL,GAMjBpvC,EAAQwU,SAGZ,yBACI3L,QAAS6pC,EACT7yC,UAAW+I,KAAW5I,EAAQ6H,MAAT,mBAChB7H,EAAQ2yC,aAAeL,GADP,cAEhBtyC,EAAQ4yC,iBAAmBN,GAFX,OAKlBA,IAAe12C,IAAa,kBAAC,KAAD,MAC9B02C,GAAc12C,GACX,kBAAC,KAAD,CAAwBiE,UAAWG,EAAQ8yC,aAGnD,kBAACz9B,GAAA,EAAD,CAAS3M,MAAOwI,EAAOzX,KAAMiU,aAAYwD,EAAOzX,MAC5C,kBAACyc,EAAA,EAAD,CACIjI,QAAQ,QACRpO,UAAW+I,KAAW5I,EAAQ+yC,YAAT,mBAChB/yC,EAAQgzC,mBAAqBV,GADb,cAEhBtyC,EAAQizC,uBAAyBX,GAFjB,KAKpBphC,EAAOzX,QCpH5B,IAAMuF,GAAYC,aAAW,iBAAO,CAChCo1C,SAAU,CACNj1C,MAAO,SAEXk1C,YAAa,CACTtsC,SAAU,WACV,mBAAoB,mBAItBusC,GAAc,SAACC,EAAQnrC,EAAYrJ,GACrC,MAAoB,QAAhBw0C,EAAO57C,KAEH,yBAAKiH,UAAWG,EAAQq0C,UACpB,kBAAC,GAAD,CAAW92C,KAAMi3C,EAAQ3B,UAAQ,KAIzB,SAAhB2B,EAAO57C,MAAkC,SAAfyQ,EAEtB,yBAAKxJ,UAAWG,EAAQq0C,UACpB,kBAAC,GAAD,CAAU92C,KAAMi3C,KAKP,SAAhBA,EAAO57C,MAAkC,cAAfyQ,GACZ,SAAfA,EAGI,yBAAKxJ,UAAWG,EAAQq0C,UACpB,kBAAC,GAAD,CAAW92C,KAAMi3C,UAN7B,GAyCWC,GA7BC,SAACh1C,GACb,IAAMxC,EAAWiL,aAAY,SAAC7J,GAAD,OAAWA,EAAMnD,SAAS+B,YACjDoM,EAAanB,aACf,SAAC7J,GAAD,OAAWA,EAAM3D,WAAW4O,sBAE1BtJ,EAAUhB,KAChB,OACI,oCACyB,IAApB/B,EAASiB,QACNq2C,GAAY90C,EAAM+0C,OAAQnrC,EAAYrJ,GACzC/C,EAASiB,OAAS,GACf,oCACKjB,EAASuH,MAAM,EAAG,GAAGY,KAAI,SAACsvC,EAAMpzC,GAAP,OACtB,yBACIL,IAAKyzC,EAAKl3C,GACVqC,UAAWG,EAAQs0C,YACnB3sC,MAAO,CACHoH,OAAQ9R,EAASiB,OAASoD,EAC1BgsB,UAAU,WAAD,OAAkB,KAAJhsB,EAAd,UAGZizC,GAAYG,EAAMrrC,EAAYrJ,UC7DrD20C,GAAc,CAChB3sC,SAAU,QACVqjB,cAAe,OACftc,OAAQ,IACRzC,KAAM,EACND,IAAK,EACLjN,MAAO,OACPsM,OAAQ,QAGZ,SAASkpC,GACLC,EACAC,EACAC,EACA1rC,GAEA,IAAKwrC,IAAkBC,EACnB,MAAO,CACHpoC,QAAS,QAHnB,IAMQ7R,EAASi6C,EAATj6C,EAAGiL,EAAMgvC,EAANhvC,EACU,SAAfuD,IACAxO,GAAKk6C,EAAcl6C,EAAIg6C,EAAch6C,EACrCiL,GAAKivC,EAAcjvC,EAAI+uC,EAAc/uC,GAGzC,IAAMwnB,EAAS,oBAAgBzyB,EAAhB,eAAwBiL,EAAxB,OACf,MAAO,CACHgC,QAAS,GACTwlB,YACA0nB,gBAAiB1nB,GAGzB,IA6Ce2nB,GA7CS,SAACx1C,GAAW,IAAD,EAQ3By1C,cAAa,SAACjG,GAAD,MAAc,CAC3BzS,KAAMyS,EAAQxuC,UACd00C,SAAUlG,EAAQmG,cAClBP,cAAe5F,EAAQoG,+BACvBP,cAAe7F,EAAQqG,wBACvBP,cAAe9F,EAAQsG,yBACvBC,WAAYvG,EAAQuG,iBAZpBL,EAF2B,EAE3BA,SACAK,EAH2B,EAG3BA,WACAhZ,EAJ2B,EAI3BA,KACAqY,EAL2B,EAK3BA,cACAC,EAN2B,EAM3BA,cACAC,EAP2B,EAO3BA,cASE1rC,EAAanB,aACf,SAAC7J,GAAD,OAAWA,EAAM3D,WAAW4O,sBAUhC,OAAKksC,EAID,yBAAK7tC,MAAOgtC,IACR,yBACIhtC,MAAOitC,GACHC,EACAC,EACAC,EACA1rC,IAlBhB,WACI,OAAQ8rC,GACJ,IAAK,SACD,OAAO,kBAAC,GAAD,CAASX,OAAQhY,EAAKgY,SACjC,QACI,OAAO,MAgBNiB,KAZF,M,oDCuBTC,G,+MACFr3C,MAAQ,G,6CAER,WAAU,IAAD,QAIDwJ,EAJC,OACG7H,EAAY1I,KAAKmI,MAAjBO,QACF8zB,EAAUjb,KAAWrd,YAAYlE,KAAKmI,MAAMpH,SAASygB,UAIvDjR,EADyB,QAAzBvQ,KAAKmI,MAAMlC,KAAK3E,KACT,kBAAC,KAAD,CAAYiH,UAAWG,EAAQ6H,OACN,OAAzBvQ,KAAKmI,MAAMlC,KAAK3E,KAChB,kBAAC,KAAD,CAAoBiH,UAAWG,EAAQ6H,OAG1C,kBAAC+0B,GAAA,EAAD,CACI/8B,UAAWG,EAAQ21C,UACnB7+B,SAAUxf,KAAKmI,MAAMlC,KAAK9D,OAItC,IAAM64C,GAGM,IAFRh7C,KAAKmI,MAAMxC,SAASqd,WAAU,SAAClc,GAC3B,OAAOA,IAAU,EAAKqB,MAAMlC,QAE9B3B,EAAWP,KAAaO,WAE9B,OACI,kBAACg6C,GAAA,EAAD,CACIh3B,IAAKtnB,KAAKmI,MAAMo2C,KAChBC,cAAex+C,KAAKmI,MAAMs2C,YAC1BltC,QAASvR,KAAKmI,MAAMu2C,YACpBC,cAAe3+C,KAAKmI,MAAMy2C,kBAAkBva,KAAKrkC,MACjDuI,UAAW+I,MAAU,mBAChB5I,EAAQ/C,SAAWq1C,IAAexe,GADlB,cAEhB9zB,EAAQm2C,eAAiB7D,GAAcxe,GAFvB,cAGhB9zB,EAAQyyC,aAAeH,GAHP,cAIhBtyC,EAAQwuC,OAASl3C,KAAKmI,MAAM2vC,UAJZ,KAOrB,kBAACgH,GAAA,EAAD,CACIx3B,IAAKtnB,KAAKmI,MAAM42C,KAChB5oC,UAAU,KACV6oC,MAAM,MACNz2C,UAAWG,EAAQu2C,UAEnB,kBAACrgC,EAAA,EAAD,CACIjI,QAAQ,QACRpO,UAAW+I,KAAW5I,EAAQ+yC,YAAT,mBAChB/yC,EAAQgzC,mBAAqBV,GADb,cAEhBtyC,EAAQizC,uBAAyBX,GAFjB,KAKrB,yBACIzpC,QAC6B,OAAzBvR,KAAKmI,MAAMlC,KAAK3E,KACVtB,KAAKmI,MAAMizC,YACX,QAGPJ,IAAe12C,IAAaiM,EAC9ByqC,GAAc12C,GACX,kBAACkoB,GAAA,EAAD,CAAMlnB,GAAI01C,GAAc12C,GACpB,kBAAC,KAAD,CACIiE,UAAW+I,KACP5I,EAAQ8yC,UACR9yC,EAAQ6H,UAM3BvQ,KAAKmI,MAAMlC,KAAK9D,OAGzB,kBAAC28C,GAAA,EAAD,CACIv2C,UAAW+I,KAAW5I,EAAQw2C,SAAUx2C,EAAQu2C,WAEhD,kBAACrgC,EAAA,EAAD,CACIjI,QAAQ,QACRpO,UAAW+I,KAAW5I,EAAQ+yC,YAAT,mBAChB/yC,EAAQgzC,mBAAqBV,GADb,cAEhBtyC,EAAQizC,uBAAyBX,GAFjB,KAKpB,IACyB,QAAzBh7C,KAAKmI,MAAMlC,KAAK3E,MACY,OAAzBtB,KAAKmI,MAAMlC,KAAK3E,MAChBwI,YAAa9J,KAAKmI,MAAMlC,KAAKjE,QAGzC,kBAAC88C,GAAA,EAAD,CACIv2C,UAAW+I,KAAW5I,EAAQw2C,SAAUx2C,EAAQu2C,WAEhD,kBAACrgC,EAAA,EAAD,CACIjI,QAAQ,QACRpO,UAAW+I,KAAW5I,EAAQ+yC,YAAT,mBAChB/yC,EAAQgzC,mBAAqBV,GADb,cAEhBtyC,EAAQizC,uBAAyBX,GAFjB,KAKpB,IACAh7C,KAAKmI,MAAMlC,KAAKnD,Y,GArGT6hB,aAuHjBw6B,GALGt6B,aA5HM,SAAC9d,GACrB,MAAO,CACHpB,SAAUoB,EAAMnD,SAAS+B,aAIN,WACvB,MAAO,KAqHOkf,CAGhBtK,cAvLa,SAAC3S,GAAD,MAAY,CACvBjC,SAAU,CACN,UAAW,GACXyC,gBAAiBwrB,YAAKhsB,EAAMe,QAAQ0U,QAAQsM,KAAM,MAGtDk1B,eAAgB,CACZ,UAAW,GACXz2C,gBAAiBwrB,YAAKhsB,EAAMe,QAAQ0U,QAAQsM,KAAM,MAGtDwxB,YAAa,CACT,UAAW,CACP/yC,gBAAiBR,EAAMe,QAAQuS,WAAWC,UAGlD5K,KAAM,CACF0hB,cAAe,SACfxgB,YAAa,OACb1F,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9BwpC,UAAW,CACP5sC,YAAa,OACbwgB,cAAe,UAEnBypB,mBAAoB,CAChB3vC,MAC2B,SAAvBnE,EAAMe,QAAQrH,KAAkB,OAASsG,EAAMe,QAAQ0U,QAAQhV,KACnE0zC,WAAY,MACZqD,WAAY,QAEhBzD,sBAAuB,CACnB5vC,MAAOnE,EAAMe,QAAQ6P,KAAK3D,UAC1BuqC,WAAY,QAEhB3D,WAAY,CACRhqC,YAAa,OACb2D,QAAS,OACTF,WAAY,UAEhBgqC,SAAS,eACJt3C,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjB6pC,SAAU,CACNl3C,QAAS,aAEbyzC,UAAW,CACPzvC,MAAOnE,EAAMe,QAAQ0U,QAAQsM,MAEjCutB,OAAQ,CACJ9uC,gBAAiBwrB,YAAKhsB,EAAMe,QAAQ0U,QAAQsM,KAAM,QAmIxDpP,CAAmByK,YAAWo5B,M,8BCzMjB,SAASiB,GAAT,GASX,IARAC,EAQD,EARCA,WACA1lC,EAOD,EAPCA,OACAwhC,EAMD,EANCA,YACAqD,EAKD,EALCA,YACAC,EAID,EAJCA,YACAE,EAGD,EAHCA,kBACAr2C,EAED,EAFCA,UACAg2C,EACD,EADCA,KACD,EACqCjH,aAAQ,CACxCC,OAAQ,SACRC,KAAM,iBAAO,CAAE59B,WACf89B,QAAS,SAACC,GAAD,MAAc,CACnBC,OAAQD,EAAQC,SAChBC,QAASF,EAAQE,cAN1B,0BACUA,EADV,EACUA,QAASD,EADnB,EACmBA,OAAUJ,EAD7B,KASOM,EAAWD,GAAWD,EAC5B,OAAK0H,EAYD,kBAAC,GAAD,CACIf,KAAMA,EACNQ,KAAMvH,EACNjvC,UAAWA,EACX6yC,YAAaA,EACbqD,YAAaA,EACbC,YAAaA,EACbE,kBAAmBA,EACnB34C,KAAM2T,EACNk+B,SAAUA,IAnBV,yBAAKxwB,IAAKkwB,GACN,kBAAC,GAAD,CACI59B,OAAQA,EACRwhC,YAAaA,EACbtD,SAAUA,KCF9B,IAAMpwC,GAAYC,aAAW,iBAAO,CAChCioB,UAAW,CACP7nB,QAAS,OAEbw3C,QAAS,CACL/qC,SAAU,GAEduoC,SAAU,CACNvsC,QAAS,QAIF,SAASgvC,GAAWr3C,GAAQ,IAAD,EAChClE,EAAO2M,aAAY,SAAC7J,GAAD,OAAWA,EAAM1E,UAAU4B,QAC9C0B,EAAWiL,aAAY,SAAC7J,GAAD,OAAWA,EAAMnD,SAAS+B,YACjDoM,EAAanB,aACf,SAAC7J,GAAD,OAAWA,EAAM3D,WAAW4O,sBAE1BytC,EAAgB7uC,aAAY,SAAC7J,GAAD,OAAWA,EAAM1E,UAAU4B,QACvDlD,EAAW8kB,cAEX5iB,EAAW6N,cACX4uC,EAAc1uC,uBAChB,SAAC1P,EAAMK,GAAP,OAAgBsB,EAASwsB,YAAkBnuB,EAAMK,MACjD,CAACsB,IAEC08C,EAAoB3uC,uBACtB,SAAC3J,GAAD,OAAapE,EAAS0rB,YAAkBtnB,MACxC,CAACpE,IAGC28C,EAAa5uC,uBAAY,SAAC3J,GAAD,OAAapE,EAASksB,YAAW9nB,MAAW,CACvEpE,IAEE6S,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAEC48C,EAAc7uC,uBAChB,SAAC7J,EAAQD,GAAT,OAAoBjE,EAAS26B,YAAYz2B,EAAQD,MACjD,CAACjE,IAECgP,EAAoBjB,uBACtB,SAACwH,GAAD,OAAUvV,EAAS6f,YAAkBtK,MACrC,CAACvV,IAEC68C,EAAc9uC,uBAAY,kBAAM/N,EAASgsB,iBAAgB,CAAChsB,IAE1DyF,EAAUhB,KAEV+2C,EAAc,SAACt5C,GACO,OAApBgD,EAAMlC,KAAK3E,OAGf6D,EAAE4U,kBAIU,IAFRpU,EAASqd,WAAU,SAAClc,GAChB,OAAOA,IAAUqB,EAAMlC,SAG3B05C,EAAkB,CAACx3C,EAAMlC,OAE7By5C,EAAY,QAAQ,KAGlB/iB,EAAa,SAACx3B,GAChBlC,EAAS88C,YAAiB53C,EAAMlC,KAAMd,EAAGgD,EAAMhC,SAE7C+lC,EAAc,WAChB0T,EACa,MAAT37C,EAAeA,EAAOkE,EAAMlC,KAAK9D,KAAO8B,EAAO,IAAMkE,EAAMlC,KAAK9D,OAGlEu8C,EAAc,SAACv5C,GAIjB,GAHwB,OAApBgD,EAAMlC,KAAK3E,MACXs+C,EAAW9yC,YAAS2yC,IAGpB17C,KAAaO,YACbP,KAAaG,YAAYnD,EAASygB,WAGlC,GADAmb,EAAWx3B,GACa,QAApBgD,EAAMlC,KAAK3E,OAAmB6D,EAAE03B,QAEhC,YADAqP,SAIJvP,EAAWx3B,IAIby5C,EAAoB,WACtB,GAAwB,OAApBz2C,EAAMlC,KAAK3E,KAGf,GAAwB,QAApB6G,EAAMlC,KAAK3E,KAAf,CAKA,GADgByC,KAAaG,YAAYnD,EAASygB,UACrC,CACT,IAAMqJ,EAAOjqB,IAAKoI,UAClB,IAAKpI,IAAK2I,SAAWshB,IAASA,EAAKhJ,MAAM4a,cAErC,YADA3mB,EAAe,MAAO,QAAS,2BAAQ,YAI3ChV,OAAO0K,WAAc1K,OAAO0K,UAAU6Q,QAK1CyjC,IAJI7tC,EAAkB,gDAZlBi6B,KAmBF8T,EAAkB,SAAC76C,GACrB,GAAIpB,KAAaO,WAIb,OAHAa,EAAE86C,kBACF96C,EAAE03B,SAAU,EACZF,EAAWx3B,IACJ,GA7GuB,EAiHE+6C,aAAQ,CAC5Chb,KAAM,CACFgY,OAAQ/0C,EAAMlC,KACd3E,KAAM,SACNqE,SAAS,aAAKA,GACdoM,WAAYA,GAEhBmrB,IAAK,SAACgI,EAAMyS,GACR,IAAMwI,EAAaxI,EAAQyI,gBACvBlb,GAAQib,GACJA,EAAWvmC,SAEPsrB,EAAKgY,OAAOh3C,KAAOi6C,EAAWvmC,OAAO1T,IACrCg/B,EAAKgY,OAAO57C,OAAS6+C,EAAWvmC,OAAOtY,MAEvCu+C,EAAY3a,EAAKgY,OAAQiD,EAAWvmC,UAKpDymC,QAAS,WACL,OACKt8C,KAAaO,YACdP,KAAaC,WAAWjD,EAASygB,WAGzCk2B,QAAS,SAACC,GAAD,MAAc,CACnBuG,WAAYvG,EAAQuG,iBA5IU,mBAiH7BA,EAjH6B,KAiH7BA,WAAcoC,EAjHe,KAiHTjkC,EAjHS,KAqJtC,OALApX,qBAAU,WACNoX,EAAQkkC,eAAiB,CAAEC,sBAAsB,MAElD,IAEgB,SAAfzuC,EAEI,oCACyB,QAApB5J,EAAMlC,KAAK3E,MACR,kBAAC,GAAD,CACIg+C,YAAY,EACZf,KAAM+B,EACN/3C,UAAW+I,KAAW5I,EAAQknB,UAAT,eAChBlnB,EAAQq0C,SAAWmB,IAExB9C,YAAa4E,EACbvB,YAAaA,EACbC,YAAaA,EACbE,kBAAmBA,EAAkBva,KAAKrkC,MAC1C4Z,OAAQzR,EAAMlC,OAGD,QAApBkC,EAAMlC,KAAK3E,MACR,kBAAC,GAAD,CACIi9C,KAAM+B,EACN/3C,UAAW+I,KAAW5I,EAAQknB,UAAT,eAChBlnB,EAAQq0C,SAAWmB,IAExB9C,YAAa4E,EACbvB,YAAaA,EACbC,YAAaA,EACbE,kBAAmBA,EAAkBva,KAAKrkC,MAC1CiG,KAAMkC,EAAMlC,QAQ5B,yBACIqhB,IAAKg5B,EACL/3C,UAAW+I,MAAU,mBAChB5I,EAAQknB,UAA2B,SAAf7d,GADJ,cAEhBrJ,EAAQq0C,SAAWmB,GAFH,KAKrB,yBACI31C,UAAWG,EAAQ62C,QACnBf,cAAeC,EACfltC,QAASmtC,EACTC,cAAeC,EAAkBva,KAAKrkC,OAEjB,QAApBmI,EAAMlC,KAAK3E,MAAiC,SAAfyQ,GAC1B,kBAAC,GAAD,CACIutC,YAAY,EACZlE,YAAa4E,EACbpmC,OAAQzR,EAAMlC,OAGD,SAApBkC,EAAMlC,KAAK3E,MAAkC,SAAfyQ,GAC3B,kBAAC,GAAD,CACIqpC,YAAa4E,EACb14B,IAAKg5B,EACLr6C,KAAMkC,EAAMlC,OAGC,SAApBkC,EAAMlC,KAAK3E,MAAkC,cAAfyQ,GAC3B,kBAAC,GAAD,CACIqpC,YAAa4E,EACb/5C,KAAMkC,EAAMlC,S,sNCzL9Bw6C,GAAqBlmC,aAAW,CAClCC,KAAM,CACFhG,SAAU,KAFS+F,CAIxB4C,MA4FGujC,G,+MACFC,EAAI,E,EACJC,EAAI,E,EAEJ75C,MAAQ,G,EAER6lB,kBAAoB,WAChB9rB,OAAO6J,SAASzF,iBAAiB,YAAa,EAAK27C,W,EAGvDA,SAAW,SAAC17C,GACR,EAAKy7C,EAAIz7C,EAAE27C,QACX,EAAKH,EAAIx7C,EAAE47C,S,EAGfC,oBAAsB,WAClB,EAAK74C,MAAMsnB,kBAAkB,QAAQ,GACrC,EAAKtnB,MAAM2a,kBAAkB,0B,EAGjCkK,aAAe,WACX,IAAKzhB,cAQD,OAPA,EAAKpD,MAAMgL,eACP,MACA,QACA,yDACA,gBAEJ,EAAKhL,MAAMsnB,kBAAkB,QAAQ,GAGzC,EAAKtnB,MAAMsnB,kBAAkB,QAAQ,GACrC,EAAKtnB,MAAM2a,kBAAkB,4C,EAGjCopB,YAAc,WACV,EAAK/jC,MAAMgnB,WACa,MAApB,EAAKhnB,MAAMlE,KACL,EAAKkE,MAAMlE,KAAO,EAAKkE,MAAMxC,SAAS,GAAGxD,KACzC,EAAKgG,MAAMlE,KAAO,IAAM,EAAKkE,MAAMxC,SAAS,GAAGxD,O,EAI7D8+C,YAAc,SAAC/6C,GACX,EAAKiC,MAAMsnB,kBAAkB,SAAS,GACtC,IAAMiX,EAAe/7B,SAAS44B,uBAAuBr9B,GAAI,GACrDyE,SAASo1B,KAAK4G,SAASD,GACvBA,EAAalD,QAEb,EAAKr7B,MAAMgL,eACP,MACA,QACA,+DACA,Y,EAOZ+tC,gBAAkB,SAACjnC,GACf,IAAM64B,EAAM,GACRnpC,EAAM,EA0BV,MAxBA,CAAC,MAAO,SAAU,UAAU9C,SAAQ,SAAC6J,GACjC,IAAIywC,EAAe,EACnBlnC,EAAMvJ,GAAU7J,SAAQ,SAACq+B,GACjBA,EAAKkc,YACLtO,EAAI54B,KACA,kBAACyE,GAAA,EAAD,CAAU0iC,OAAK,EAAC13C,IAAKA,EAAK4H,QAAS2zB,EAAK3zB,SACpC,kBAAC4L,GAAA,EAAD,KAAe+nB,EAAK30B,MACpB,kBAACqO,EAAA,EAAD,CAAYjI,QAAQ,WACfuuB,EAAK1sB,QAIlB7O,IACAw3C,QAGJA,EAAe,GAAiB,UAAZzwC,IACpBoiC,EAAI54B,KACA,kBAAC4C,EAAA,EAAD,CAASnT,IAAKA,EAAKpB,UAAW,EAAKJ,MAAMO,QAAQmzC,WAErDlyC,QAIDmpC,G,6CAGX,WAAU,IAAD,OACGpqC,EAAY1I,KAAKmI,MAAjBO,QACFmiB,EAAOjqB,IAAKoI,UACZhF,EAAaud,KAAWvd,WAAWhE,KAAKmI,MAAMpH,SAASygB,UAY1C,KAQA,KAMA,KAIIqJ,EAAKhJ,MAAMy/B,oBAEf,KAQA,KAMA,KAMnB,OACI,6BACI,kBAAChH,GAAA,EAAD,CACIpqB,aAAW,EACXvuB,KAAM3B,KAAKmI,MAAMo5C,SACjB/tC,QAAS,kBACL,EAAKrL,MAAMsnB,kBAAkB,EAAKtnB,MAAM01B,UAAU,IAEtD2jB,gBAAgB,iBAChBC,eAAgB,CAAE1sC,IAAK/U,KAAK4gD,EAAG5rC,KAAMhV,KAAK2gD,GAC1Cv2B,aAAc,CACVnX,SAAU,MACVC,WAAY,QAEhB6X,gBAAiB,CACb9X,SAAU,MACVC,WAAY,SAGS,UAAxBlT,KAAKmI,MAAM01B,UACR,6BACI,kBAAClf,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,WACL,EAAKpJ,MAAMoR,kBACX,EAAKpR,MAAMsnB,kBACP,EAAKtnB,MAAM01B,UACX,KAIR,kBAAC4iB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,iBAEJ,kBAACmG,EAAA,EAAD,CAASvU,UAAWG,EAAQmzC,UAC5B,kBAACl9B,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAK0vC,YAAY,oBAGrB,kBAACR,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,6BAIJ,kBAACgI,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAK0vC,YAAY,sBAGrB,kBAACR,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,6BAIHkU,EAAKhJ,MAAMy/B,qBACR,kBAAC3iC,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAM+1B,6BAGf,kBAACuiB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,6BAMR,kBAACmG,EAAA,EAAD,CAASvU,UAAWG,EAAQmzC,UAC5B,kBAACl9B,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMqoB,2BAGf,kBAACiwB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,mCAIJ,kBAACgI,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAM61B,yBAGf,kBAACyiB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,8BAMa,UAAxB3W,KAAKmI,MAAM01B,UACR,8BACM79B,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMrC,YAClC,6BACI,kBAAC6Y,GAAA,EAAD,CAAU0iC,OAAK,EAAC9vC,QAASvR,KAAKksC,aAC1B,kBAACuU,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,iBAIH3S,GACG,kBAAC8Y,EAAA,EAAD,CAASvU,UAAWG,EAAQmzC,YAItC77C,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMpC,YACT/F,KAAKmI,MAAM0J,OACT7R,KAAKmI,MAAM0J,MAAMwK,UACrB2S,aAAchvB,KAAKmI,MAAMxC,SAAS,GAAGxD,OACjC,6BACI,kBAACwc,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAM8mB,gBAGf,kBAACwxB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,mBAOd3W,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMpC,UAClC,6BACI,kBAAC4Y,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBAAM,EAAKyb,iBAEpB,kBAACyzB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,iBAIH3S,GACG,kBAAC8Y,EAAA,EAAD,CAASvU,UAAWG,EAAQmzC,YAKtC77C,KAAKmI,MAAMtC,YAAc7F,KAAKmI,MAAMrC,cACjC+kB,EAAKhJ,MAAMqN,uBACPlrB,IACD,kBAAC2a,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKyvC,wBAGT,kBAACP,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,8BAMV3W,KAAKmI,MAAMtC,YACT7F,KAAKmI,MAAMpC,UACX/B,GACI,kBAAC2a,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMinB,wBAGf,kBAACqxB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,8BAMV3W,KAAKmI,MAAMtC,YACT7B,GACA6mB,EAAKhJ,MAAMy/B,qBACXthD,KAAKmI,MAAMpC,UACX81B,aAAU77B,KAAKmI,MAAMxC,SAAS,GAAGxD,OAC7B,kBAACwc,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMg2B,8BAGf,kBAACsiB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,sDAKV3W,KAAKmI,MAAMtC,YACT7B,GACA6mB,EAAKhJ,MAAM4C,UACXzkB,KAAKmI,MAAMpC,UACX+1B,aAAe97B,KAAKmI,MAAMxC,SAAS,GAAGxD,OAClC,kBAACwc,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMi2B,yBAGf,kBAACqiB,GAAD,KACI,kBAACiB,GAAA,EAAD,OAEJ,kBAAC9iC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,uBAMX3S,GAAc6mB,EAAKhJ,MAAM4C,UACtB,kBAAC9F,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMk2B,uBAGf,kBAACoiB,GAAD,KACI,kBAACjG,GAAA,EAAD,OAEJ,kBAAC57B,EAAA,EAAD,CAAYjI,QAAQ,WAApB,yCAMP3S,GAAc6mB,EAAKhJ,MAAM6C,UACtB,kBAAC/F,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMm2B,uBAGf,kBAACmiB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,0CAMN3W,KAAKmI,MAAMtC,YAAc7B,GACvB,kBAAC2a,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBAAM,EAAKpJ,MAAMknB,oBAE1B,kBAACoxB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,0CAMN3W,KAAKmI,MAAMtC,YAAc7B,GACvB,kBAAC2a,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMtE,yBAAwB,KAGvC,kBAAC48C,GAAD,KACI,kBAACkB,GAAA,EAAD,OAEJ,kBAAC/iC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,8BAMN3W,KAAKmI,MAAMtC,YAAc7B,GACvB,kBAAC8Y,EAAA,EAAD,CAASvU,UAAWG,EAAQmzC,WAG9B77C,KAAKmI,MAAMtC,YAAc7B,GACvB,6BACI,kBAAC2a,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMmnB,qBAGf,kBAACmxB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,uBAIqB,KAAxB3W,KAAKmI,MAAM3B,UACR,kBAACmY,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMo2B,mBAGf,kBAACkiB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,kBAOf3S,GACG,6BAC6B,KAAxBhE,KAAKmI,MAAM3B,UACR,kBAACmY,GAAA,EAAD,CACI0iC,OAAK,EACL9vC,QAAS,kBACL,EAAKpJ,MAAMonB,mBAGf,kBAACkxB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,iBAMR,kBAACmG,EAAA,EAAD,CAASvU,UAAWG,EAAQmzC,UAC5B,kBAACl9B,GAAA,EAAD,CACI0iC,OAAK,EACL94C,UAAWG,EAAQk5C,SACnBrwC,QAAS,kBACL,EAAKpJ,MAAMqnB,qBAGf,kBAACixB,GAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC7hC,EAAA,EAAD,CAAYjI,QAAQ,WAApB,yB,GAlgBLgO,aA0hBpB+6B,GALK76B,aA/mBI,SAAC9d,GACrB,MAAO,CACH82B,SAAU92B,EAAM3D,WAAWy+C,YAC3BN,SAAUx6C,EAAM3D,WAAW0+C,YAC3Bj8C,WAAYkB,EAAMnD,SAASgC,YAAYC,WACvCC,WAAYiB,EAAMnD,SAASgC,YAAYE,WACvCC,SAAUgB,EAAMnD,SAASgC,YAAYG,SACrC9B,KAAM8C,EAAM1E,UAAU4B,KACtB0B,SAAUoB,EAAMnD,SAAS+B,SACzBa,SAAUO,EAAMnD,SAAS4C,aAIN,SAACvD,GACxB,MAAO,CACHwsB,kBAAmB,SAACnuB,EAAMK,GACtBsB,EAASwsB,YAAkBnuB,EAAMK,KAErCm8B,0BAA2B,SAAC7lB,GACxBhV,EAAS66B,YAA0B7lB,KAEvC0W,kBAAmB,SAACtnB,GAChBpE,EAAS0rB,YAAkBtnB,KAE/B8nB,WAAY,SAAClrB,GACThB,EAASksB,YAAWlrB,KAExBusB,uBAAwB,WACpBvtB,EAASutB,gBAEbwN,qBAAsB,WAClB/6B,EAAS+6B,gBAEb1O,iBAAkB,WACdrsB,EAASqsB,gBAEbC,eAAgB,WACZtsB,EAASssB,gBAEbC,iBAAkB,WACdvsB,EAASusB,gBAEbH,gBAAiB,WACbpsB,EAASosB,gBAEbsB,eAAgB,SAACrqB,GACbrD,EAAS0tB,YAAerqB,KAE5BoqB,gBAAiB,WACbztB,EAASytB,gBAEbvd,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvDmyB,yBAA0B,WACtBj7B,EAASi7B,gBAEbC,0BAA2B,WACvBl7B,EAASk7B,gBAEb/O,oBAAqB,WACjBnsB,EAASmsB,gBAEbmP,eAAgB,WACZt7B,EAASs7B,gBAEbzb,kBAAmB,SAACtK,GAChBvV,EAAS6f,YAAkBtK,KAE/B4lB,qBAAsB,WAClBn7B,EAASm7B,gBAEbC,mBAAoB,WAChBp7B,EAASo7B,gBAEb9kB,gBAAiB,WACbtW,EAASsW,gBAEb+kB,mBAAoB,WAChBr7B,EAASq7B,gBAEbrP,YAAa,WACThsB,EAASgsB,gBAEbprB,wBAAyB,SAAClC,GACtBsB,EAASY,mCAAwBlC,QA0hBzBkjB,CAGlBtK,cAhoBa,iBAAO,CAClBqnC,SAAU,GACV/F,QAAS,CACLvmC,UAAW,EACXsc,aAAc,MA4nBpBrX,CAAmByK,YAAW07B,M,2GC9gB1BqB,G,oDACF,aAAe,IAAD,+BACV,gBAiCJtD,YAAc,SAACt5C,GACXA,EAAE4U,iBAE0B,KAAxB,EAAK5R,MAAM3B,UACV+a,KAAWrd,YAAY,EAAKiE,MAAMpH,SAASygB,WAEvC,EAAKrZ,MAAMyN,SACZ,EAAKzN,MAAMsnB,kBAAkB,SAAS,IAzCpC,EAkDduyB,UAAY,SAAC78C,GACOA,EAAE+B,OACN+6C,QAAQC,WAChB,EAAK/5C,MAAMwmB,kBAAkB,KAnDjC,EAAKgE,OAAS,CACVwvB,YAAa,MACbC,WAAW,GAAD,OAAKtyC,cAAU,UAAY,OAA3B,OAGd,EAAKgjB,SAAW,CACZqvB,YAAa,WACL,EAAKh6C,MAAMxC,SAASiB,OAAS,IAAM,EAAKuB,MAAM0J,OAC9C,EAAK1J,MAAMqnB,oBAGnB4yB,WAAY,SAACj9C,GACTA,EAAE4U,iBAEE,EAAK5R,MAAMxC,SAASiB,QACpB,EAAKuB,MAAM9E,QAAQuD,OAAS,EAAKuB,MAAM3E,SAASoD,OAEhD,EAAKuB,MAAMwmB,kBAAkB,IAE7B,EAAKxmB,MAAMwmB,kBAAX,uBACO,EAAKxmB,MAAM9E,SADlB,aAEO,EAAK8E,MAAM3E,cAM9BivB,qBAAU,CACNC,WAAY,CAAC,QAAS,SAAU,cA9B1B,E,uDA8Cd,WACI1yB,KAAKqiD,KAAO,I,oBAUhB,WAAU,IAAD,SACG35C,EAAY1I,KAAKmI,MAAjBO,QACF1E,EAAaud,KAAWvd,WAAWhE,KAAKmI,MAAMpH,SAASygB,UAEvD8gC,GACDtiD,KAAKmI,MAAMyN,UACmB,IAA9B5V,KAAKmI,MAAM9E,QAAQuD,QACe,IAA/B5G,KAAKmI,MAAM3E,SAASoD,QACtB27C,EACF,kBAACC,GAAA,EAAD,CAAOj6C,UAAWG,EAAQ+5C,OACtB,kBAACC,GAAA,EAAD,KACI,kBAACpE,GAAA,EAAD,KACI,kBAACQ,GAAA,EAAD,KACI,kBAAC6D,GAAA,EAAD,CACIzL,OAC8B,YAA1Bl3C,KAAKmI,MAAMhF,YACe,YAA1BnD,KAAKmI,MAAMhF,WAEfghC,UAC8B,YAA1BnkC,KAAKmI,MAAMhF,WACL,MACA,MAEVoO,QAAS,WACL,EAAKpJ,MAAMy6C,WACmB,YAA1B,EAAKz6C,MAAMhF,WACL,UACA,aAdlB,eAmB+B,YAA1BnD,KAAKmI,MAAMhF,YACc,YAA1BnD,KAAKmI,MAAMhF,WACP,0BAAMoF,UAAWG,EAAQm6C,gBACM,YAA1B7iD,KAAKmI,MAAMhF,WACN,oBACA,oBAEV,OAGZ,kBAAC27C,GAAA,EAAD,CAAWv2C,UAAWG,EAAQw2C,UAC1B,kBAACyD,GAAA,EAAD,CACIzL,OAC8B,YAA1Bl3C,KAAKmI,MAAMhF,YACe,YAA1BnD,KAAKmI,MAAMhF,WAEfghC,UAC8B,YAA1BnkC,KAAKmI,MAAMhF,WACL,MACA,MAEVoO,QAAS,WACL,EAAKpJ,MAAMy6C,WACmB,YAA1B,EAAKz6C,MAAMhF,WACL,UACA,aAdlB,eAmB+B,YAA1BnD,KAAKmI,MAAMhF,YACc,YAA1BnD,KAAKmI,MAAMhF,WACP,0BAAMoF,UAAWG,EAAQm6C,gBACM,YAA1B7iD,KAAKmI,MAAMhF,WACN,oBACA,oBAEV,OAGZ,kBAAC27C,GAAA,EAAD,CAAWv2C,UAAWG,EAAQw2C,UAC1B,kBAACyD,GAAA,EAAD,CACIzL,OAC8B,YAA1Bl3C,KAAKmI,MAAMhF,YACe,YAA1BnD,KAAKmI,MAAMhF,WAEfghC,UAC8B,YAA1BnkC,KAAKmI,MAAMhF,WACL,MACA,MAEVoO,QAAS,WACL,EAAKpJ,MAAMy6C,WACmB,YAA1B,EAAKz6C,MAAMhF,WACL,UACA,aAdlB,eAmB+B,YAA1BnD,KAAKmI,MAAMhF,YACc,YAA1BnD,KAAKmI,MAAMhF,WACP,0BAAMoF,UAAWG,EAAQm6C,gBACM,YAA1B7iD,KAAKmI,MAAMhF,WACN,oBACA,oBAEV,SAKpB,kBAAC2/C,GAAA,EAAD,KACKvhC,KAAWjd,YAAkC,MAApBtE,KAAKmI,MAAMlE,MACjC,kBAACu7C,GAAD,CACIv5C,KAAM,CACF3E,KAAM,KACNa,KAAM,8BAIjBnC,KAAKmI,MAAM9E,QAAQyK,KAAI,SAAChH,EAAOX,GAAR,OACpB,kBAACq5C,GAAD,CAAY71C,IAAK7C,EAAMZ,GAAID,KAAMa,EAAOX,MAAOA,OAElDnG,KAAKmI,MAAM3E,SAASsK,KAAI,SAAChH,EAAOX,GAAR,OACrB,kBAACq5C,GAAD,CAAY71C,IAAK7C,EAAMZ,GAAID,KAAMa,EAAOX,MAAOA,SAMzD48C,EACF,yBAAKx6C,UAAWG,EAAQs6C,SACW,IAA9BhjD,KAAKmI,MAAM9E,QAAQuD,QAChB,oCACI,kBAACgY,EAAA,EAAD,CACIqkC,iBAAgB,OAChBtsC,QAAQ,QACRpO,UAAWG,EAAQw6C,YAHvB,sBAOA,kBAACC,GAAA,EAAD,CACIF,iBAAgB,OAChBrzB,WAAS,EACTjb,QAAS,EACTO,WAAW,cAEVlV,KAAKmI,MAAM9E,QAAQyK,KAAI,SAAChH,EAAOX,GAAR,OACpB,kBAACg9C,GAAA,EAAD,CACIx5C,IAAK7C,EAAMZ,GACXg/B,MAAI,EACJke,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAEJ,kBAAC/D,GAAD,CACI71C,IAAK7C,EAAMZ,GACXD,KAAMa,EACNX,MAAOA,UAOC,IAA/BnG,KAAKmI,MAAM3E,SAASoD,QACjB,oCACI,kBAACgY,EAAA,EAAD,CACIqkC,iBAAgB,OAChBtsC,QAAQ,QACRpO,UAAWG,EAAQw6C,YAHvB,gBAOA,kBAACC,GAAA,EAAD,CACIF,iBAAgB,OAChBrzB,WAAS,EACTjb,QAAS,EACTO,WAAW,cAEVlV,KAAKmI,MAAM3E,SAASsK,KAAI,SAAChH,EAAOX,GAAR,OACrB,kBAACg9C,GAAA,EAAD,CACIx5C,IAAK7C,EAAMZ,GACXg/B,MAAI,EACJke,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,GAEJ,kBAAC/D,GAAD,CACI71C,IAAK7C,EAAMZ,GACXC,MAAOA,EACPF,KAAMa,WAShC08C,EAAiC,SAA1BxjD,KAAKmI,MAAM4J,WAAwBwwC,EAAWQ,EAC3D,OACI,yBACIvE,cAAex+C,KAAKy+C,YACpBltC,QAASvR,KAAKgiD,UACdz5C,UAAW+I,MAAU,mBAEZ5I,EAAQ8R,KAAiC,SAA1Bxa,KAAKmI,MAAM4J,YAFd,cAGZrJ,EAAQ+6C,UAAsC,SAA1BzjD,KAAKmI,MAAM4J,YAHnB,cAIZrJ,EAAQg7C,UAAY1jD,KAAKmI,MAAM0J,OAJnB,GAMjBnJ,EAAQwU,SAGZ,kBAAC,iBAAD,CAAe4V,SAAU9yB,KAAK8yB,SAAUH,OAAQ3yB,KAAK2yB,SACrD,kBAAC,GAAD,CAAa9gB,MAAO7R,KAAKmI,MAAM0J,QAC/B,kBAAC,WAAD,MACC7R,KAAKmI,MAAMw7C,gBACR,kBAAChO,EAAA,EAAD,CAAOtuB,UAAW,EAAG9e,UAAWG,EAAQk7C,UACpC,kBAAChlC,EAAA,EAAD,CAAYjI,QAAQ,KAAKR,UAAU,MAAnC,iDAGA,kBAACyI,EAAA,EAAD,CACI7S,MAAO,gBACPxD,UAAWG,EAAQm7C,UAElB7jD,KAAKmI,MAAM27C,kBAAkBjkD,UAKzCG,KAAKmI,MAAMyN,UAAY5V,KAAKmI,MAAMw7C,gBAC/B,yBAAKp7C,UAAWG,EAAQkN,SACpB,kBAACiD,GAAA,EAAD,OAIiB,KAAxB7Y,KAAKmI,MAAM3B,UACRxC,GAC8B,IAA9BhE,KAAKmI,MAAM9E,QAAQuD,QACY,IAA/B5G,KAAKmI,MAAM3E,SAASoD,SACnB5G,KAAKmI,MAAMyN,UACX5V,KAAKmI,MAAMw7C,gBACR,yBAAKp7C,UAAWG,EAAQslC,gBACpB,kBAAC,KAAD,CAAWzlC,UAAWG,EAAQq7C,YAC9B,yBAAKx7C,UAAWG,EAAQulC,cAAxB,wCAGA,yBAAK1lC,UAAWG,EAAQs7C,gBAAxB,kHAKe,KAAxBhkD,KAAKmI,MAAM3B,UACoB,IAA9BxG,KAAKmI,MAAM9E,QAAQuD,QACY,IAA/B5G,KAAKmI,MAAM3E,SAASoD,SACnB5G,KAAKmI,MAAMyN,UACX5V,KAAKmI,MAAMw7C,gBACmB,IAA9B3jD,KAAKmI,MAAM9E,QAAQuD,QACe,IAA/B5G,KAAKmI,MAAM3E,SAASoD,SACnB5G,KAAKmI,MAAMyN,UACX5V,KAAKmI,MAAMw7C,iBACX3/C,IACL,yBAAKuE,UAAWG,EAAQslC,gBACpB,kBAAC,IAAD,CAASzlC,UAAWG,EAAQq7C,YAC5B,yBAAKx7C,UAAWG,EAAQulC,cAAxB,+CAKPqU,GAAYkB,O,GAnUG7+B,aAmVjBs/B,GALEp/B,aAtXO,SAAC9d,GACrB,MAAO,CACH9C,KAAM8C,EAAM1E,UAAU4B,KACtBy1C,kBAAmB3yC,EAAM3D,WAAWzB,KACpCoQ,WAAYhL,EAAM3D,WAAW4O,mBAC7B7O,WAAY4D,EAAM3D,WAAWD,WAC7BK,SAAUuD,EAAMnD,SAASJ,SACzBH,QAAS0D,EAAMnD,SAASP,QACxBuS,QAAS7O,EAAM3D,WAAWo6B,iBAC1BmmB,eAAgB58C,EAAM3D,WAAWugD,eACjCG,kBAAmB/8C,EAAM3D,WAAW0gD,kBACpCt9C,SAAUO,EAAMnD,SAAS4C,SACzBb,SAAUoB,EAAMnD,SAAS+B,aAIN,SAAC1C,GACxB,MAAO,CACH+1C,eAAgB,SAAC/0C,GACbhB,EAASksB,YAAWlrB,KAGxBwrB,kBAAmB,SAACnuB,EAAMK,GACtBsB,EAASwsB,YAAkBnuB,EAAMK,KAErC87B,WAAY,WACRx6B,EAASw6B,gBAEb9O,kBAAmB,SAACtnB,GAChBpE,EAAS0rB,YAAkBtnB,KAE/BmoB,iBAAkB,WACdvsB,EAASusB,gBAEbozB,WAAY,SAACnhD,GACTwB,EAASW,GAASmzC,QAAQpzC,iBAAiBlC,QAmVtCojB,CAGftK,cA7da,SAAC3S,GAAD,cAAY,CACvBioB,MAAO,CACH9nB,QAASH,EAAM+M,QAAQ,GACvBoQ,UAAW,SACXhZ,MAAOnE,EAAMe,QAAQ6P,KAAK3D,UAC1BH,OAAQ,QAEZ8F,MAAI,GACA+W,SAAU,EACVxpB,QAAS,OACTwqB,UAAW,OACXne,OAAQ,uBAJR,cAKCxM,EAAMI,YAAYkd,GAAG,MAAQ,CAC1BqN,UAAW,OACXne,OAAQ,wBAPZ,cASCxM,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmM,OAAQ,SAVZ,GAaJqvC,WAAS,GACL17C,QAAS,MACTK,gBAAiBR,EAAMe,QAAQuS,WAAW2U,MAAMiE,OAF3C,cAGJlsB,EAAMI,YAAYkd,GAAG,MAAQ,CAC1BqN,UAAW,OACXne,OAAQ,wBALP,cAOJxM,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmM,OAAQ,SARP,GAWT8uC,WAAY,CACRxuC,OAAQ,YACR3I,MAAO,UACPgwC,WAAY,OAEhBnmC,QAAS,CACLoe,eAAgB,SAChB5e,QAAS,OACTE,UAAW,QAEfsuC,SAAU,CACN77C,QAASH,EAAM+M,QAAQ,IAE3BkvC,SAAU,CACNvuC,UAAW,QAEf04B,eAAgB,CACZx2B,OAAQ,IACRpD,OAAQ,QACRM,OAAQ,YACR5M,MAAO,QACPiE,MAAOnE,EAAMe,QAAQ6P,KAAKvB,SAC1B8N,UAAW,SACXkP,WAAY,QAEhB8vB,UAAW,CACP1wC,SAAU,SAEd46B,aAAc,CACV56B,SAAU,OACVtH,MAAOnE,EAAMe,QAAQ6P,KAAKvB,UAE9B+sC,eAAgB,CACZj4C,MAAOnE,EAAMe,QAAQ6P,KAAK0rC,MAE9BhF,SAAS,eACJt3C,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjB4tC,QAAS,CACLxuC,SAAU,GAEd2vC,SAAU,CACN9rC,WAAY,OACZ/C,UAAW,OACXsc,aAAc,QAElBwyB,UAAW,CACPhwC,OAAQ,OACRtM,MAAO,QAEX47C,UAAW,CACPtvC,OAAQ,OACRoe,UAAW,KAEfqwB,eAAgB,CACZpoC,OAAQ,EACR4pC,KAAM,gBACNjwC,OAAQ,EACRM,QAAS,EACT0gB,SAAU,SACVrtB,QAAS,EACT2I,SAAU,WACVqE,IAAK,GACLjN,MAAO,MA6XbyS,CAAmByK,YAAW+8B,M,yFC5f1Br6C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,OAAQ,CACJC,MAAO,YASTI,GAAW,SAACC,GAAD,OACb,kBAAC,IAAD,CACIC,gBAAiBD,EAAME,KAAO,OAAS,UACvCC,gBAAiBH,EAAME,KAAO,UAAY,OAC1CE,UAAWJ,EAAMI,aAkBV+7C,OAdf,WACI,IAAM18C,EAAQa,cACRC,EAAUhB,KAEhB,OACI,6BACI,kBAAC,GAAD,CACIW,KAA6B,SAAvBT,EAAMe,QAAQrH,KACpBiH,UAAWG,EAAQb,W,0CCJ7BH,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC0lB,OAAQ,CACJxlB,MAJY,IAKZ+oB,WAAY,GAEhBf,YAAa,CACThoB,MARY,IASZ4S,UACI,6GAER6pC,gBAAiB,CACbnvB,SAAU,QAEdnK,OAAQ,CACJ7V,QAAS,OACTrN,QAASH,EAAM+M,QAAQ,GACvB6vC,aAAc,iBAElBC,SAAU,CAAE38C,MAAO,GAAIsM,OAAQ,IAC/BswC,YAAa,CAAErxC,SAAU,IACzBsxC,WAAY,CACR54C,MAAOnE,EAAMe,QAAQ6P,KAAK3D,UAC1B/M,MAAO,GACPsM,OAAQ,IAEZoL,SAAU,CACNnH,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,GAC3BqxB,UAAW,YACXzU,SAAU,GAEdqzB,UAAW,CACPC,UAAW,aACXvvC,UAAW,GAEfwvC,eAAgB,CACZ/8C,QAASH,EAAM+M,QAAQ,IAE3BowC,WAAY,CACRh5C,MAAOnE,EAAMe,QAAQ6P,KAAK3D,UAC1B9M,QAASH,EAAM+M,QAAQ,IAE3BqwC,UAAW,CACPj5C,MAAOnE,EAAMe,QAAQ6P,KAAKvB,SAC1BlP,QAASH,EAAM+M,QAAQ,IAE3BswC,WAAY,CACRl9C,QAASH,EAAM+M,QAAQ,GACvBqxB,UAAW,aAEf3X,OAAQ,CACJ3d,SAAU,YAEdU,MAAO,CACHiH,WAAYzQ,EAAM+M,QAAQ,GAC1BowB,KAAM,OAIRH,GAAalpB,IAAM6uB,YAAW,SAAoBpiC,EAAOmf,GAC3D,OAAO,kBAAC4c,GAAA,EAAD,eAAOC,UAAU,KAAK7c,IAAKA,GAASnf,OAGhC,SAAS+8C,KACpB,IAAMjiD,EAAW6N,cACXpK,EAAckK,aAAY,SAAC7J,GAAD,OAAWA,EAAMnD,SAAS8C,eACpDf,EAAWiL,aAAY,SAAC7J,GAAD,OAAWA,EAAMnD,SAAS+B,YACjDw/C,EAAan0C,uBAAY,SAACrP,GAAD,OAAUsB,EAASvB,sBAAWC,MAAQ,CACjEsB,IAEE6S,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECg1B,EAAajnB,uBAAY,SAACuF,GAAD,OAAOtT,EAASksB,YAAW5Y,MAAK,CAACtT,IAC1DuD,EAAWoK,aAAY,SAAC7J,GAAD,OAAWA,EAAMnD,SAAS4C,YAbtB,EAcL7B,mBAAS,MAdJ,mBAc1BuC,EAd0B,KAclBk+C,EAdkB,OAeHzgD,mBAAS,MAfN,mBAe1B0gD,EAf0B,KAejBC,EAfiB,KAiCjCrgD,qBAAU,WAjBQ,IAACi4C,EAkBfoI,EAAW,MACP5+C,IACwB,IAApBf,EAASiB,OACTu+C,GAAW,IAEXC,EAAUz/C,EAAS,IAvBZu3C,EAwBGv3C,EAAS,GAvB3BkR,IAAImJ,IACA,oBACIk9B,EAAOh3C,GACP,gBACc,KAAbM,EAAkB,OAAS,SAC5B,eACiB,QAAhB02C,EAAO57C,MAAgBkM,YAE3BuJ,MAAK,SAACxW,GACH+kD,EAAW/kD,EAASG,SAEvBsW,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,gBAcvD,CAAC8F,EAAUe,IAEd,IAAMgC,EAAUhB,KACV69C,EAAY,CACd,CACI9uC,MAAO,eACP3P,MAAO,SAAC8H,EAAG42C,GAAJ,OACH17C,YAAa8E,EAAE5M,MACf,MACA4M,EAAE5M,KAAKyjD,iBACP,kBACJ1W,KAAM,SAACngC,GAAD,OAAO,IAEjB,CACI6H,MAAO,2BACP3P,MAAO,SAAC8H,EAAG42C,GAAJ,OAAU52C,EAAE45B,QACnBuG,KAAM,SAACngC,GAAD,MAAkB,SAAXA,EAAEtN,OAEnB,CACImV,MAAO,2BACP3P,MAAO,SAAC8H,EAAG42C,GAAJ,OAAU52C,EAAE82C,iBAAiBD,iBAAnB72C,WACjBmgC,KAAM,SAACngC,GAAD,MAAkB,QAAXA,EAAEtN,OAEnB,CACImV,MAAO,2BACP3P,MAAO,SAAC8H,EAAG42C,GAAJ,OAAU52C,EAAE+2C,eAAeF,iBAAjB72C,WACjBmgC,KAAM,SAACngC,GAAD,MAAkB,QAAXA,EAAEtN,OAEnB,CACImV,MAAO,2BAEP3P,MAAO,SAAC8H,EAAG42C,GACP,IAAMvhD,EAAkB,KAAX2K,EAAE3K,KAAcuhD,EAAEvhD,KAAO2K,EAAE3K,KAClC9B,EAAOiM,YAASnK,GACtB,OACI,kBAAC8Z,GAAA,EAAD,CAAS3M,MAAOnN,GACZ,kBAACirC,EAAA,EAAD,CACIluC,KAAM,kBACNuQ,QAAS,kBAAM0mB,EAAWh0B,KAEhB,KAAT9B,EAAc,qBAAQA,KAKvC4sC,KAAM,SAACngC,GAAD,OAAO,IAEjB,CACI6H,MAAO,qBACP3P,MAAO,SAAC8H,EAAG42C,GAAJ,OACHI,KAAOC,UAAUj3C,EAAEk3C,YAAYC,OAAO,wBAC1ChX,KAAM,SAACngC,GAAD,OAAO,IAEjB,CACI6H,MAAO,qBACP3P,MAAO,SAAC8H,GAAD,OACHg3C,KAAOC,UAAUj3C,EAAEo3C,YAAYD,OAAO,wBAC1ChX,KAAM,SAACngC,GAAD,OAAO,KAGfmM,EACF,kBAACooC,GAAA,EAAD,CAAMvzB,WAAS,EAACrnB,UAAWG,EAAQo8C,iBAC7BO,GAAW,kBAAC,GAAD,MACZA,GACG,oCACKE,EAAUz3C,KAAI,SAACo3B,GACZ,GAAIA,EAAK6J,KAAK7nC,GACV,OACI,oCACI,kBAACi8C,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,EACJ76C,UAAWG,EAAQq8C,YAElB7f,EAAKzuB,OAEV,kBAAC0sC,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,EACJ76C,UAAWG,EAAQu8C,YAElB/f,EAAKp+B,MAAMu+C,EAASn+C,QAMxB,QAAhBA,EAAO5F,MACJ,kBAAC6hD,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,GAAI76C,UAAWG,EAAQs8C,WAAtC,qBACQ,IACJ,kBAAC,KAAD,CACIiB,SAAUZ,EAAQa,WAClBC,OAAO,aAQnC,OACI,oCACI,kBAACC,GAAA,EAAD,CAAQ12B,MAAI,GACR,kBAAChX,GAAA,EAAD,CACI+rB,YAAU,EACV9iC,KAAM+E,EACNi+B,oBAAqBC,IAEpB19B,GACG,oCACI,kBAAC29B,GAAA,EAAD,CAAQt8B,UAAWG,EAAQ2lB,QACvB,kBAACyW,GAAA,EAAD,KACI,kBAAC9mB,GAAA,EAAD,CACIC,KAAK,QACLlS,MAAM,UACNwF,QAAS,kBAAM4zC,GAAW,IAC1B/uC,aAAW,SAEX,kBAACiwC,GAAA,EAAD,OAEJ,kBAACznC,EAAA,EAAD,CACIjI,QAAQ,KACRpO,UAAWG,EAAQ0I,OAElBlK,EAAO/E,QAInB4Y,KAKjB,kBAACqrC,GAAA,EAAD,CAAQj2B,QAAM,GACV,kBAACm2B,GAAA,EAAD,CACI/9C,UAAWG,EAAQ4kB,OACnB3W,QAAQ,aACRjO,QAAS,CACLmnB,MAAOnnB,EAAQonB,aAEnBnuB,KAAM+E,EACNilB,OAAO,SAEP,kBAACmZ,GAAA,EAAD,MACA,yBAAKv8B,UAAWG,EAAQ67C,iBACnBr9C,GACG,oCACI,yBAAKqB,UAAWG,EAAQuiB,QACH,QAAhB/jB,EAAO5F,MACJ,kBAAC,KAAD,CACIiH,UAAWG,EAAQi8C,aAGV,QAAhBz9C,EAAO5F,MACJ,kBAACgkC,GAAA,EAAD,CACIC,UAAQ,EACRh9B,UAAWG,EAAQ+7C,SACnB3Y,cAAepjC,EAAQg8C,YACvBllC,SAAUtY,EAAO/E,OAGzB,yBAAKoG,UAAWG,EAAQ8W,UACpB,kBAACZ,EAAA,EAAD,CAAYjI,QAAQ,KAAK4vC,cAAY,GAChCr/C,EAAO/E,OAGhB,kBAAC6b,GAAA,EAAD,CACIzM,QAAS,kBAAM4zC,GAAW,IAC1B58C,UAAWG,EAAQk8C,UACnBxuC,aAAW,QACXpU,KAAM,SAEN,kBAACqkD,GAAA,EAAD,SAKhB,kBAACvpC,EAAA,EAAD,MACC/B,M,cCzQnByrC,G,oDACF,WAAYr+C,GAAQ,wCACVA,G,yDAGV,WACInI,KAAKmI,MAAMwmB,kBAAkB,IAC7B3uB,KAAKmI,MAAMya,iBACX5iB,KAAKmI,MAAMgnB,WAAW,O,+BAG1B,WACQ5N,KAAWvd,WAAWhE,KAAKmI,MAAMpH,SAASygB,WAC1CxhB,KAAKmI,MAAMge,eAAe,Q,oBAIlC,WACI,OACI,6BACI,kBAACsgC,GAAA,EAAD,CAAaC,QAASC,MAClB,kBAAC/hC,GAAA,QAAD,CAAQ/S,MAAO7R,KAAKmI,MAAM0J,QAC1B,kBAAC,GAAD,CACI2qB,QAASx8B,KAAKmI,MAAMq0B,QACpB3qB,MAAO7R,KAAKmI,MAAM0J,QAEtB,kBAAC,GAAD,CAAUA,MAAO7R,KAAKmI,MAAM0J,QAC5B,kBAAC+0C,GAAD,MACA,kBAAC,KAAD,OAEJ,kBAAC1B,GAAD,W,GA9BUvgC,aAsCXE,gBA5DS,iBAAO,MAEJ,SAAC5hB,GACxB,MAAO,CACHkjB,eAAgB,SAAC3N,GACbvV,EAASkjB,aAAe3N,KAE5BmW,kBAAmB,SAACtnB,GAChBpE,EAAS0rB,YAAkBtnB,KAE/B8L,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvD6W,eAAgB,WACZ3f,EAAS2f,gBAEbuM,WAAY,SAAClrB,GACThB,EAASksB,YAAWlrB,QA2CjB4gB,CAGbtK,cAjEa,iBAAO,KAiEpBA,CAAmByK,YAAWwhC,M,UC5E1B9+C,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,IAVZ,GAYN0T,OAAQ,CACJC,aAAc,MACdN,UAAW,KAEfZ,IAAI,CACApc,MAAO,OACPsM,OAAQ,GACR0Q,UAAW,GACXC,UAAW,SACXzP,UAAW,cAQJ,SAASuxC,KACpB,IAAMphC,EAAOC,cACP3kB,EAAW8kB,cACXC,EANC,IAAIC,gBAAgBF,cAAcG,QAOjC9f,EAAO+f,cAAP/f,GACFjD,EAAW6N,cACXoV,EAAclV,uBAChB,SAACI,GAAD,OAAWnO,EAASkjB,aAAe/U,MACnC,CAACnO,IAELgC,qBAAU,WACN,GAAKsc,KAAWrd,YAAYnD,EAASygB,UAIjC0E,EAAYJ,EAAM9F,IAAI,aAJsB,CAC5C,IAAM/b,EAAO6hB,EAAM9F,IAAI,KAAK/S,MAAM,KAClCiZ,EAAYjiB,EAAKA,EAAK2C,OAAS,OAKpC,CAAC6e,EAAKW,OAAO,GAAIrlB,IAEpB,IAAM2H,EAAUhB,KAChB,OACI,yBAAKa,UAAWG,EAAQuc,QACpB,kBAAC0wB,EAAA,EAAD,CAAOptC,UAAWG,EAAQ8R,KAAM6M,UAAW,GACvC,kBAAC,KAAD,CACI9e,UAAWG,EAAQyc,OACnBlF,QAAS,CACLua,MAAO,CACHxvB,IACI1L,eACCiiB,KAAWrd,YAAYnD,EAASygB,UAC3B,kBACAtb,GAC6B,KAA5B4f,EAAM9F,IAAI,cACL,SACAiC,mBACI6D,EAAM9F,IAAI,eAEd,IACN,iBAAmB8F,EAAM9F,IAAI,YAKvD,yBAAKzX,UAAWG,EAAQwb,KACpB,kBAAC,IAAQ4iC,OAAT,CACIz2C,MAAO,CAAE+E,QAAQ,eAAeZ,SAAS,IAAIyB,SAAS,IAAInO,MAAM,OAAOsM,OAAO,IAC9E2yC,OAAO,0BACP3iC,KAAK,aACL2hC,OAAO,O,+CChErBr+C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCo/C,cAAe,CACXj/C,QAASH,EAAM+M,QAAQ,IAE3ByoC,KAAM,CACFnnC,SAAU,IACVvB,OAAQ,UAEZqiC,QAAS,CACL3hC,QAAS,QAEb6P,OAAO,aACHnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAC1B/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SAGrBw1C,WAAY,CACRhxC,SAAU,SAEdixC,WAAY,CACR9+C,gBAAiBR,EAAMe,QAAQ0U,QAAQvI,OAE3CqyC,aAAc,CACV/+C,gBAAiBR,EAAMe,QAAQkM,UAAUC,OAE7CsyC,KAAM,CACF9xC,UAAW,QAEf+xC,SAAU,CACNtiC,UAAW,QACXzP,UAAW,OACXsc,aAAc,QAElBla,MAAO,CACHW,WAAYzQ,EAAM+M,QAAQ,GAC1BP,OAAQ,IAEZkzC,YAAa,CACTviC,UAAW,QACXzP,UAAW,OAQJ,SAASiyC,KACpB,IAAM7+C,EAAUhB,KACVzE,EAAW6N,cAEXgV,EAPC,IAAIC,gBAAgBF,cAAcG,QAQnCjlB,EAAW8kB,cACXxa,EAAUksB,cANmB,EAQX5yB,mBAAS,GARE,mBAQ5B6iD,EAR4B,KAQtBC,EARsB,OAST9iD,mBAAS,GATA,mBAS5B4vB,EAT4B,KASrBmzB,EATqB,OAUD/iD,mBAAS,IAVR,mBAU5BgjD,EAV4B,KAUjBC,EAViB,OAWLjjD,mBAAS,mBAXJ,mBAW5BkjD,EAX4B,KAWnBC,EAXmB,KAa7BhyC,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGC+iB,EAAS,SAACxf,EAAUghD,EAAMK,GAC5B,IAAME,EAAQF,EAAQ56C,MAAM,KAC5B4J,IAAImJ,IACA,sBACIwnC,EACA,aACAO,EAAM,GACN,UACAA,EAAM,GACN,aACA9lC,mBAAmBzb,IAEtBuQ,MAAK,SAACxW,GACgC,IAA/BA,EAASG,KAAKuZ,MAAMrT,QACpBkP,EACI,MACA,QACA,+DACA,QAGR4xC,EAASnnD,EAASG,KAAK6zB,OACvBqzB,EAAarnD,EAASG,KAAKuZ,UAE9BjD,OAAM,WACHlB,EAAe,MAAO,QAAS,2BAAQ,aAInD7Q,qBAAU,WACN,IAAMuB,EAAWsf,EAAM9F,IAAI,YACvBxZ,EACAwf,EAAOxf,EAAUghD,EAAMK,GAEvB/xC,EAAe,MAAO,QAAS,mDAAY,aAEhD,CAAC/U,IAcJ,OACI,yBAAKwH,UAAWG,EAAQuc,QACpB,kBAACk+B,GAAA,EAAD,CAAMvzB,WAAS,GACX,kBAACuzB,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,GACb,kBAACxkC,EAAA,EAAD,CAAY7S,MAAM,gBAAgB4K,QAAQ,MAA1C,6BAIJ,kBAACwsC,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,EAAG76C,UAAWG,EAAQ4+C,aACnC,kBAAC7pC,EAAA,EAAD,KACI,kBAACgB,GAAA,EAAD,CACI1S,MAAO,YACPsK,SAlBE,SAAC3C,GACvBo0C,EAAWp0C,EAAMxM,OAAOJ,OACxB,IAAMN,EAAWsf,EAAM9F,IAAI,YAC3BgG,EAAOxf,EAAUghD,EAAM9zC,EAAMxM,OAAOJ,QAgBhBA,MAAO+gD,GAEP,kBAAClpC,GAAA,EAAD,CAAU7X,MAAO,mBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,kBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,kBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,iBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,cAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,aAAjB,wDAOhB,kBAACq8C,GAAA,EAAD,CAAMvzB,WAAS,EAACjb,QAAS,GAAIpM,UAAWG,EAAQ0+C,MAC3CO,EAAU75C,KAAI,SAAChH,GAAD,OACX,kBAACq8C,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,GACJE,GAAI,EACJ35C,IAAK7C,EAAMZ,GACXqC,UAAWG,EAAQs+C,eAEnB,kBAACgB,GAAA,EAAD,CAAMz/C,UAAWG,EAAQ00C,MACrB,kBAAC6K,GAAA,EAAD,CACI/vC,OACI,8BACMpR,EAAMuY,QACJ,kBAACimB,GAAA,EAAD,CACI9lB,SACI1Y,EAAMK,OACAL,EAAMK,OAAOhF,KACb,GAEVojC,UAAQ,IAEb,IACFz+B,EAAMuY,QACH,kBAAC8L,EAAA,EAAD,CACI5iB,UAAWG,EAAQy+C,cAEnB,kBAAC,KAAD,QAKhBngD,OACI,kBAAC+W,GAAA,EAAD,CAAS1M,UAAU,MAAMD,MAAM,gBAC3B,kBAAC4M,GAAA,EAAD,CACIzM,QAAS,kBACLlG,EAAQ6O,KAAK,MAAQpT,EAAM6C,OAG/B,kBAAC,KAAD,QAIZyH,MACI,kBAAC2M,GAAA,EAAD,CACI1M,UAAU,MACVD,MACItK,EAAMK,OACAL,EAAMK,OAAOhF,KACb,gDAGV,kBAACyc,EAAA,EAAD,CACIyM,QAAM,EACN9iB,UAAWG,EAAQu+C,YAElBngD,EAAMK,OACDL,EAAMK,OAAOhF,KACb,+CAAa,MAI/B+lD,UACI,mDACQ,IACJ,kBAAC,KAAD,CACIjC,SAAUn/C,EAAMqhD,YAChBhC,OAAO,mBASvC,yBAAK59C,UAAWG,EAAQ2+C,UACpB,kBAACe,GAAA,EAAD,CACIC,MAAOp+C,KAAK8U,KAAKwV,EAAQ,IACzBle,SAhIS,SAAC3C,EAAO5M,GAC7B2gD,EAAQ3gD,GACR,IAAMN,EAAWsf,EAAM9F,IAAI,YAC3BgG,EAAOxf,EAAUM,EAAO+gD,IA8HZ97C,MAAM,eAEP,K,kKCxKbu8C,G,+MACFvhD,MAAQ,CACJygD,KAAM,EACNjzB,MAAO,EACPozB,UAAW,GACXY,QAAS,KACTV,QAAS,mB,EAGbj7B,kBAAoB,WAChB,EAAK47B,SAAS,EAAG,EAAKzhD,MAAM8gD,U,EAGhCU,QAAU,SAAC5T,GACP,EAAK7zB,SAAS,CAAEynC,QAAS5T,K,EAG7BxqB,YAAc,WACV,EAAKrJ,SAAS,CAAEynC,QAAS,Q,EAG7BE,YAAc,SAACviD,GACX2Q,IAAIyL,OAAO,UAAYpc,GAClB6Q,MAAK,WACF,IAAI2xC,EAAU,EAAK3hD,MAAM4gD,UACzBe,EAAUA,EAAQplD,QAAO,SAACwD,GACtB,OAAOA,EAAM6C,MAAQzD,KAEzB,EAAK4a,SAAS,CACV6mC,UAAWe,EACXn0B,MAAO,EAAKxtB,MAAMwtB,MAAQ,IAE9B,EAAKpsB,MAAMgL,eACP,MACA,QACA,iCACA,WAEmB,IAAnBu1C,EAAQ9hD,QACR,EAAK4hD,SAAS,EAAG,EAAKzhD,MAAM8gD,YAGnC7wC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,a,EAKhB8oD,iBAAmB,SAACziD,GAChB,IAAM0iD,EAAS3+C,KAAKwF,SAASjC,SAAS,IAAIR,OAAO,GAAGE,MAAM,EAAG,GACvDw7C,EAAU,EAAK3hD,MAAM4gD,UACrBkB,EAAaH,EAAQ1lC,WAAU,SAAClc,GAClC,OAAOA,EAAM6C,MAAQzD,KAEzB2Q,IAAI6L,MAAM,UAAYxc,EAAI,CACtBuW,KAAM,WACN3V,MAAwC,KAAjC4hD,EAAQG,GAAY/sC,SAAkB8sC,EAAS,KAErD7xC,MAAK,SAACxW,GACHmoD,EAAQG,GAAY/sC,SAAWvb,EAASG,KACxC,EAAKogB,SAAS,CACV6mC,UAAWe,OAGlB1xC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,a,EAKhBipD,oBAAsB,SAAC5iD,GACnB,IAAMwiD,EAAU,EAAK3hD,MAAM4gD,UACrBkB,EAAaH,EAAQ1lC,WAAU,SAAClc,GAClC,OAAOA,EAAM6C,MAAQzD,KAEzB2Q,IAAI6L,MAAM,UAAYxc,EAAI,CACtBuW,KAAM,kBACN3V,MAAO4hD,EAAQG,GAAYxsC,QAAU,QAAU,SAE9CtF,MAAK,SAACxW,GACHmoD,EAAQG,GAAYxsC,QAAU9b,EAASG,KACvC,EAAKogB,SAAS,CACV6mC,UAAWe,OAGlB1xC,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,a,EAKhB2oD,SAAW,SAAChB,EAAMK,GACd,IAAME,EAAQF,EAAQ56C,MAAM,KAC5B4J,IAAImJ,IACA,eACIwnC,EACA,aACAO,EAAM,GACN,UACAA,EAAM,IAEThxC,MAAK,SAACxW,GACgC,IAA/BA,EAASG,KAAKuZ,MAAMrT,QACpB,EAAKuB,MAAMgL,eACP,MACA,QACA,iCACA,QAGR,EAAK2N,SAAS,CACVyT,MAAOh0B,EAASG,KAAK6zB,MACrBozB,UAAWpnD,EAASG,KAAKuZ,WAGhCjD,OAAM,WACH,EAAK7O,MAAMgL,eAAe,MAAO,QAAS,2BAAQ,a,EAI9D41C,iBAAmB,SAACr1C,EAAO5M,GACvB,EAAKga,SAAS,CACV0mC,KAAM1gD,IAEV,EAAK0hD,SAAS1hD,EAAO,EAAKC,MAAM8gD,U,EAGpCmB,kBAAoB,SAACt1C,GACjB,EAAKoN,SAAS,CACV+mC,QAASn0C,EAAMxM,OAAOJ,QAE1B,EAAK0hD,SAAS,EAAKzhD,MAAMygD,KAAM9zC,EAAMxM,OAAOJ,Q,EAGhDmiD,UAAY,SAACp3C,GACT,OAAOA,EAAMuK,QAAU,GAAgC,IAA3BvK,EAAMq3C,kB,6CAGtC,WAAU,IAAD,OACGxgD,EAAY1I,KAAKmI,MAAjBO,QAER,OACI,yBAAKH,UAAWG,EAAQuc,QACpB,kBAACk+B,GAAA,EAAD,CAAMvzB,WAAS,GACX,kBAACuzB,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,GACb,kBAACxkC,EAAA,EAAD,CAAY7S,MAAM,gBAAgB4K,QAAQ,MAA1C,6BAIJ,kBAACwsC,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,EAAG76C,UAAWG,EAAQ4+C,aACnC,kBAAC7pC,EAAA,EAAD,KACI,kBAACgB,GAAA,EAAD,CACI1S,MAAO,YACPsK,SAAUrW,KAAKgpD,kBACfliD,MAAO9G,KAAK+G,MAAM8gD,SAElB,kBAAClpC,GAAA,EAAD,CAAU7X,MAAO,mBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,kBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,kBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,iBAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,cAAjB,oDAGA,kBAAC6X,GAAA,EAAD,CAAU7X,MAAO,aAAjB,wDAOhB,kBAACq8C,GAAA,EAAD,CAAMvzB,WAAS,EAACjb,QAAS,GAAIpM,UAAWG,EAAQ0+C,MAC3CpnD,KAAK+G,MAAM4gD,UAAU75C,KAAI,SAAChH,GAAD,OACtB,kBAACq8C,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,GACJE,GAAI,EACJ35C,IAAK7C,EAAMZ,GACXqC,UAAWG,EAAQs+C,eAEnB,kBAACgB,GAAA,EAAD,CAAMz/C,UAAWG,EAAQ00C,MACrB,kBAAC6K,GAAA,EAAD,CACI/vC,OACI,8BACMpR,EAAMuY,QACJ,kBAACimB,GAAA,EAAD,CACI9lB,SACI1Y,EAAMK,OACAL,EAAMK,OAAOhF,KACb,GAEVojC,UAAQ,IAEb,IACFz+B,EAAMuY,QACH,kBAAC8L,EAAA,EAAD,CACI5iB,UACIG,EAAQy+C,cAGZ,kBAAC,KAAD,QAKhB/1C,MACI,kBAAC2M,GAAA,EAAD,CACI1M,UAAU,MACVD,MACItK,EAAMK,OACAL,EAAMK,OAAOhF,KACb,gDAGV,kBAACyc,EAAA,EAAD,CACIyM,QAAM,EACN9iB,UAAWG,EAAQu+C,YAElBngD,EAAMK,OACDL,EAAMK,OAAOhF,KACb,+CAAa,MAI/B+lD,UACI,8BACKphD,EAAMqhD,YACN,EAAKc,UAAUniD,IACZ,kBAAC0kB,GAAA,EAAD,CACIxpB,KAAK,QACLuG,UAAWG,EAAQgP,MACnBjB,MAAM,0BAM1B,kBAACqG,EAAA,EAAD,MACA,kBAACqsC,GAAA,EAAD,CACIC,sBAAoB,EACpB/4C,MAAO,CACH+E,QAAS,QACT2P,UAAW,UAGf,kBAAChH,GAAA,EAAD,CAAS1M,UAAU,MAAMD,MAAM,gBAC3B,kBAAC4M,GAAA,EAAD,CACIzM,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KACf,MACIpT,EAAM6C,KACc,KAAnB7C,EAAMgV,SACD,GACA,aACAhV,EAAMgV,aAIxB,kBAAC,KAAD,CAAUzI,SAAU,YAEjB,IACS,KAAnBvM,EAAMgV,UACH,oCACI,kBAACiC,GAAA,EAAD,CACI1M,UAAU,MACVD,MAAM,6CACNG,QAAS,kBACL,EAAKo3C,iBACD7hD,EAAM6C,OAId,kBAACqU,GAAA,EAAD,KACI,kBAAC,KAAD,CACI3K,SAAU,YAItB,kBAAC0K,GAAA,EAAD,CACI1M,UAAU,MACVD,MAAM,2BACNG,QAAS,kBACL,EAAKg3C,QAAQzhD,EAAMgV,YAGvB,kBAACkC,GAAA,EAAD,KACI,kBAAC84B,GAAA,EAAD,CACIzjC,SAAU,aAMV,KAAnBvM,EAAMgV,UACH,kBAACiC,GAAA,EAAD,CACI1M,UAAU,MACVD,MAAM,6CACNG,QAAS,kBACL,EAAKo3C,iBAAiB7hD,EAAM6C,OAGhC,kBAACqU,GAAA,EAAD,KACI,kBAAC,KAAD,CACI3K,SAAU,YAK1B,kBAAC0K,GAAA,EAAD,CACI1M,UAAU,MACVD,MACItK,EAAMuV,QACA,2BACA,2BAEV9K,QAAS,kBACL,EAAKu3C,oBAAoBhiD,EAAM6C,OAGnC,kBAACqU,GAAA,EAAD,KACI,kBAAC,KAAD,CACIG,GAAIrX,EAAMuV,QACV+B,OACI,kBAAC,KAAD,CACI/K,SAAU,UAGlBiL,QACI,kBAACC,GAAA,EAAD,CACIlL,SAAU,cAM9B,kBAAC0K,GAAA,EAAD,CACI1M,UAAU,MACVD,MAAM,2BACNG,QAAS,kBACL,EAAKk3C,YAAY3hD,EAAM6C,OAG3B,kBAACqU,GAAA,EAAD,KACI,kBAAC,KAAD,CAAY3K,SAAU,mBAQlD,yBAAK9K,UAAWG,EAAQ2+C,UACpB,kBAACe,GAAA,EAAD,CACIC,MAAOp+C,KAAK8U,KAAK/e,KAAK+G,MAAMwtB,MAAQ,IACpCle,SAAUrW,KAAK+oD,iBACfh9C,MAAM,eAEP,IACP,kBAAC2M,GAAA,EAAD,CACI/W,KAA6B,OAAvB3B,KAAK+G,MAAMwhD,QACjB/0C,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,mCAAkC,IAClC,kBAACb,GAAA,EAAD,KACI,kBAACqG,GAAA,EAAD,CACI9Y,GAAG,gBACHY,MAAO9G,KAAK+G,MAAMwhD,QAClB7zC,OAAO,SACP2C,WAAS,KAEA,IACjB,kBAACwC,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,eACO,KACG,KACG,KACX,S,GA3YK4Y,aAsZhB0kC,GALCxkC,aA7ZQ,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QAsZ/C8Y,CAGdtK,cAhda,SAAC3S,GAAD,MAAY,CACvBo/C,cAAe,CACXj/C,QAASH,EAAM+M,QAAQ,IAE3ByoC,KAAM,CACFnnC,SAAU,IACVvB,OAAQ,UAEZqiC,QAAS,CACL3hC,QAAS,QAEb6P,OAAO,aACHnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAC1B/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SAGrBw1C,WAAY,CACRhxC,SAAU,SAEdixC,WAAY,CACR9+C,gBAAiBR,EAAMe,QAAQ0U,QAAQvI,OAE3CqyC,aAAc,CACV/+C,gBAAiBR,EAAMe,QAAQkM,UAAUC,OAE7CsyC,KAAM,CACF9xC,UAAW,QAEf+xC,SAAU,CACNtiC,UAAW,QACXzP,UAAW,OACXsc,aAAc,QAElBla,MAAO,CACHW,WAAYzQ,EAAM+M,QAAQ,GAC1BP,OAAQ,IAEZkzC,YAAa,CACTviC,UAAW,QACXzP,UAAW,MAmajBiF,CAAmByK,YAAWsjC,M,kKCxe1B5gD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCkR,WAAY,CACR/Q,QAAS,sBAEb0M,QAAS,CACLC,OAAQ9M,EAAM+M,QAAQ,GACtBjE,SAAU,YAEdkE,eAAgB,CACZ7I,MAAOnE,EAAMe,QAAQkM,UAAUC,MAC/BpE,SAAU,WACVqE,IAAK,MACLC,KAAM,MACNM,WAAY,GACZ+C,YAAa,IAEjB0C,QAAS,CACLhT,QAAS,OAIF,SAASuhD,GAAiBnhD,GAAQ,IAAD,EAClBxD,mBAASwD,EAAM86B,OADG,mBACrCA,EADqC,KAC9BsmB,EAD8B,KAG5CtkD,qBAAU,WACNskD,EAASphD,EAAM86B,SAChB,CAAC96B,EAAM86B,QAEV,IAyBMv6B,EAAUhB,KAEhB,OACI,kBAACgR,GAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAACwD,GAAA,EAAD,CAAatT,GAAG,qBAAhB,oDACA,kBAACyS,GAAA,EAAD,CAAe6wC,SAAU,QAASjhD,UAAWG,EAAQqS,SAChDkoB,EAAMn1B,KAAI,SAAC+B,EAAG0G,GACX,OACI,kBAACoI,GAAA,EAAD,CAAUhV,IAAK4M,GACX,kBAACkzC,GAAA,EAAD,CAAWC,KAAG,GACV,kBAACC,GAAA,EAAD,CACInzC,QACI,kBAAC+G,GAAA,EAAD,CACIlH,UA1ClBlQ,EA0CyC0J,EAAE1J,MA1CjC,SAACuN,GAC7B,IAAMk2C,EAAS,aAAO3mB,GAEtB2mB,EAAU97C,KAAI,SAAC+B,EAAG0G,GACV1G,EAAE1J,QAAUA,IACZyjD,EAAUrzC,GAAV,2BACOqzC,EAAUrzC,IADjB,IAEI5Q,SAAU+N,EAAMxM,OAAOsW,QAAU,OAAS,cAItD+rC,EAASK,KAgC2BpsC,QAAwB,SAAf3N,EAAElK,SACXmB,MAAM,aAGd2P,MAAO5G,EAAE5L,SA/CpB,IAACkC,MAsDd,kBAAC0T,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASpJ,EAAMqL,SAAvB,gBACA,yBAAKjL,UAAWG,EAAQ+L,SACpB,kBAACqF,EAAA,EAAD,CACI/N,MAAM,UACNwF,QA7CL,WACX,IAAMpL,EAAQ,GAEd88B,EAAMn1B,KAAI,SAAC+B,GACY,SAAfA,EAAElK,UACFQ,EAAM+T,KAAK3M,SAASsC,EAAE1J,WAG9BgC,EAAMsb,SAAStd,IAsCC8Q,SAAU9O,EAAMkS,eAHpB,eAMKlS,EAAMkS,eACH,kBAACxB,GAAA,EAAD,CACI7W,KAAM,GACNuG,UAAWG,EAAQkM,qBCxEnD,IAAM0F,GAAiBC,KAAW,CAC9BC,KAAM,CACFvE,SAAU,OACVyE,UAAW,OACX,qBAAsB,CAClBC,aAAc,GAElB,WAAY,CACRvF,QAAS,QAEb,aAAc,IAElBwF,SAAU,IAZSL,CAapBM,MAEGC,GAAwBP,KAAW,CACrCC,KAAM,CACFgY,UAAW,EACXzqB,QAAS,EAET,aAAc,CACVyqB,UAAW,KAGnBzX,QAAS,CACL9E,SAAU,OACVvB,OAAQ,EACRU,QAAS,OACT,aAAc,CACVV,OAAQ,MAGhBkG,SAAU,IAjBgBL,CAkB3BS,MAEGC,GAAwBV,MAAW,SAAC3S,GAAD,MAAY,CACjD4S,KAAM,CACFpF,QAAS,QACTrN,QAASH,EAAM+M,QAAQ,OAHD4F,CAK1Ba,MAEE1T,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCw1C,KAAM,CACF9nC,UAAW,OACX0e,eAAgB,iBAEpB61B,cAAc,aACV/hD,MAAO,OACPsM,OAAQ,OACRrM,QAAS,uBACT0pB,YAAa,QACZ7pB,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjB2F,QAAQ,aACJjT,MAAO,OACP0M,SAAU,GACT5M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1B4kC,kBAAmB,OAASliD,EAAMe,QAAQkzC,QAAU,WAG5DkO,YAAY,aACRv1C,SAAU,EACVyf,WAAY,OACZC,aAAc,QACbtsB,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjBqnC,QAAS,CACLppC,SAAU,QAEd22C,aAAc,CACV32C,SAAU,OACVtH,MAAO,WAEXq5B,SAAU,CACN9vB,UAAW,EACXsc,aAAc,GAElB7J,OAAQ,CACJiJ,WAAY,8BAEhBpW,SAAU,CACNob,UAAW,kBAEfi0B,YAAa,CACT70C,QAAS,QAEb80C,YAAa,CACTz4C,YAAa,QAEjB04C,OAAQ,CACJ53B,UAAW,QAEfvrB,OAAQ,CACJe,QAASH,EAAM+M,QAAQ,GACvBoQ,UAAW,SAEfqlC,aAAc,CACV/xC,WAAYzQ,EAAM+M,QAAQ,IAE9B6U,KAAM,CACFzhB,QAASH,EAAM+M,QAAQ,IAE3B01C,UAAW,CACPtO,WAAY,KAEhBuO,UAAW,CACPv+C,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B01C,OAAQ,CACJziD,MAAO,OACPsM,OAAQ,OACRhM,gBAAiBR,EAAMe,QAAQuS,WAAWC,aAInC,SAASqvC,GAAgBriD,GACpC,IAAMsiD,EAAY/uC,IAAMkK,YAClBld,EAAUhB,KACVE,EAAQa,cACR4C,EAAUksB,cAJ2B,EAMX7b,IAAM/W,SAAS,IANJ,mBAMpCiW,EANoC,KAM1Be,EAN0B,OAOnBD,IAAM/W,SAASwD,EAAMu4B,MAPF,mBAOpCA,EAPoC,KAO9BgqB,EAP8B,OAQbhvC,IAAM/W,UAAS,GARF,mBAQpCiR,EARoC,KAQ3BC,EAR2B,OASK6F,IAAM/W,UAAS,GATpB,mBASpCgmD,EAToC,KASlBC,EATkB,OAUKlvC,IAAM/W,SAAS,IAVpB,mBAUpCkmD,EAVoC,KAUlBC,EAVkB,KAgBrC7nD,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGLgC,qBAAU,WACNylD,EAAQviD,EAAMu4B,QACf,CAACv4B,EAAMu4B,OAEVz7B,qBAAU,WACN,GAA2B,KAAvBy7B,EAAKlX,KAAKuhC,SAAd,CAGA,IAAI17C,EAAS,GACbqxB,EAAKlX,KAAKuhC,SAASrd,MAAM,WAAW7mC,SAAQ,SAACmkD,GACzC37C,GAAUhC,YAAQ29C,MAEtB,IAAMC,EAASR,EAAUvqC,QACnB8hB,EAAUipB,EAAOC,WAAW,MAClClpB,EAAQmpB,UAAU,EAAG,EAAGF,EAAOnjD,MAAOmjD,EAAO72C,QAC7C4tB,EAAQopB,YAAcxjD,EAAMe,QAAQ0U,QAAQsM,KAC5C,IAAK,IAAI3f,EAAI,EAAGA,EAAIihD,EAAOnjD,MAAOkC,IAAK,CACnC,IAAIqhD,EACAh8C,EACIpF,KAAKqhD,OAAQthD,EAAI,GAAKihD,EAAOnjD,MAAS44B,EAAKlX,KAAK+hC,YAG5C,OADZF,EAAMA,GAAYh8C,EAAOnC,OAAO,MAE5B80B,EAAQwpB,YACRxpB,EAAQypB,OAAOzhD,EAAG,GAClBg4B,EAAQ0pB,OAAO1hD,EAAGihD,EAAO72C,QACzB4tB,EAAQ2pB,cAIjB,CAACjrB,EAAKlX,KAAKuhC,SAAUrqB,EAAKlX,KAAK+hC,UAAW3jD,IAE7C,IA3CsB+U,EA2ChBivC,EAAa,SAACC,EAAWt3B,GAC3B,OAAc,IAAVA,EACO,EAEHs3B,EAAYt3B,EAAS,KAG3Bu3B,EAAc96C,uBAAY,WAC5B,OAAO0vB,EAAKlX,KAAKyZ,MAAM3/B,QAAO,SAACuM,GAAD,MAAsB,SAAfA,EAAElK,cACxC,CAAC+6B,EAAKlX,KAAKyZ,QA2CR8oB,EAAkB/6C,uBAAY,WAChC,MAAuC,KAAnC0vB,EAAKlX,KAAKwiC,WAAWxiC,KAAKrnB,KACnBu+B,EAAKlX,KAAKwiC,WAAWxiC,KAAKrnB,KAEhB,MAAdu+B,EAAKv+B,KAAe,iBAASu+B,EAAKv+B,OAC1C,CAACu+B,IAEE/H,EAAU3nB,uBAAY,WACxB,MAAkC,UAA9B0vB,EAAKlX,KAAKwiC,WAAWC,KAEjB,kBAACplB,GAAA,EAAD,CAAOC,aAAcglB,IAAcllD,OAAQmF,MAAM,aAC7C,kBAAC,KAAD,CAAexD,UAAWG,EAAQshD,gBAKtC,kBAAC1kB,GAAA,EAAD,CACI/8B,UAAWG,EAAQ+zC,QACnBj9B,SAAUusC,EAAgBrrB,OAKvC,CAACA,EAAMh4B,IA2CV,OACI,kBAACs/C,GAAA,EAAD,CAAMz/C,UAAWG,EAAQ00C,MACrB,kBAACkM,GAAD,CACI3nD,KAAMgpD,EACNn3C,QAAS,kBAAMo3C,GAAoB,IACnCvwC,cAAezE,EACfqtB,MAAO4nB,EACPpnC,SA7Be,SAACmZ,GACxB/mB,GAAW,GACXgB,IAAIqL,IAAI,iBAAmBwe,EAAKlX,KAAK0iC,IAAK,CACtCC,QAASvvB,IAER7lB,MAAK,WACFjB,EACI,MACA,QACA,iFACA,WAEJ80C,GAAoB,MAEvB5zC,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAEjDkX,MAAK,WACFlB,GAAW,SAaf,kBAAC,GAAD,CACI4d,QAAM,EACN7Y,SAAUA,IAAa8lB,EAAKlX,KAAK0iC,IACjC71C,UA7KUsG,EA6Ka+jB,EAAKlX,KAAK0iC,IA7Kb,SAACx4C,EAAO04C,GACpCzwC,IAAYywC,GAAczvC,MA8KlB,kBAAC,GAAD,CACIK,gBAAc,kBACd9W,GAAG,kBAEH,yBAAKqC,UAAWG,EAAQmhD,eAAgBlxB,KACxC,kBAAC0zB,GAAA,EAAD,CAAa9jD,UAAWG,EAAQqS,SAC5B,kBAAC6D,EAAA,EAAD,CAAY7S,MAAM,UAAUsf,QAAM,GAC9B,kBAACtN,GAAA,EAAD,CAAS3M,MAAO26C,KACZ,8BAAOA,OAGf,kBAACO,GAAA,EAAD,CACIvgD,MAAM,YACN4K,QAAQ,cACRpO,UAAWG,EAAQ08B,SACnBt+B,MAAO8kD,EAAWlrB,EAAK1f,WAAY0f,EAAKnM,SAE5C,kBAAC3V,EAAA,EAAD,CACIjI,QAAQ,QACR5K,MAAM,gBACNsf,QAAM,GAELqV,EAAKnM,MAAQ,GACV,8BACKq3B,EACGlrB,EAAK1f,WACL0f,EAAKnM,OACPlqB,QAAQ,GAJd,MAKQ,IACiB,IAApBq2B,EAAK1f,WACA,SACAlX,YAAa42B,EAAK1f,YAR5B,IAUoB,IAAf0f,EAAKnM,MACA,SACAzqB,YAAa42B,EAAKnM,OAAQ,IAZpC,IAaM,IACc,MAAfmM,EAAKiF,MACA,OACA77B,YAAa42B,EAAKiF,OAAS,MAGzB,IAAfjF,EAAKnM,OAAe,uCAG7B,kBAAC83B,GAAA,EAAD,CAAa9jD,UAAWG,EAAQqhD,aAC5B,kBAAC/rC,GAAA,EAAD,KACI,kBAAC,KAAD,CACIzV,UAAW+I,KAAW,eAEb5I,EAAQkS,SACLA,IAAa8lB,EAAKlX,KAAK0iC,KAE/BxjD,EAAQqf,aAM5B,kBAAC,GAAD,KACI,kBAACjL,EAAA,EAAD,MAC+B,UAA9B4jB,EAAKlX,KAAKwiC,WAAWC,MAClB,yBAAK1jD,UAAWG,EAAQyhD,QACpB,kBAAC3H,GAAA,EAAD,CAAOxgD,KAAK,SACR,kBAAC8gD,GAAA,EAAD,KACKgJ,IAAch+C,KAAI,SAAChH,GAChB,OACI,kBAACw3C,GAAA,EAAD,CACI30C,IAAK7C,EAAMX,MACXkK,MAAO,CACH6K,WACI,8BAEA,SADCtT,EAAMe,QAAQrH,KAETqiC,YACI/7B,EAAMe,QACD0U,QACAsM,KACL,IAEJ+Z,YACI97B,EAAMe,QACD0U,QACAsM,KACL,MAEV,QAEA,SADC/hB,EAAMe,QAAQrH,KAETqiC,YACI/7B,EAAMe,QACD0U,QACAsM,KACL,IAEJ+Z,YACI97B,EAAMe,QACD0U,QACAsM,KACL,MAEV,IACAiiC,EACI9kD,EAAMylD,gBACNzlD,EAAMF,QACRyD,QAAQ,GACV,KACAzC,EAAMe,QAAQuS,WACT2U,MACL,IACA+7B,EACI9kD,EAAMylD,gBACNzlD,EAAMF,QACRyD,QAAQ,GACV,KACAzC,EAAMe,QAAQuS,WACT2U,MACL,WAGR,kBAACivB,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEN,kBAACpgC,EAAA,EAAD,CACIrW,UACIG,EAAQuhD,aAGZ,kBAAC3kB,GAAA,EAAD,CACI/8B,UACIG,EAAQwhD,YAEZ1qC,SACI1Y,EAAM7C,OAGb6C,EAAM7C,OAGf,kBAAC66C,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEN,kBAACpgC,EAAA,EAAD,CAAYyM,QAAM,GACb,IACAvhB,YACGhD,EAAMF,UAIlB,kBAACk4C,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEN,kBAACpgC,EAAA,EAAD,CAAYyM,QAAM,GACbugC,EACG9kD,EAAMylD,gBACNzlD,EAAMF,QACRyD,QAAQ,GAJd,MAQJ,kBAACy0C,GAAA,EAAD,KACI,kBAAC/gC,GAAA,EAAD,CAAS3M,MAAM,kCACX,kBAAC4M,GAAA,EAAD,CACIzM,QAAS,kBA/R9C,SAACpL,GAChB0P,GAAW,GACX,IAAMqK,EAAU4rC,IACVU,EAAW,GACXC,EAAW,GAEjBvsC,EAAQpS,KAAI,SAAC+B,GACLA,EAAE1J,QAAUA,GAAS0J,EAAElK,UACvB6mD,EAAStyC,KAAK3M,SAASsC,EAAE1J,QACzBsmD,EAASvyC,KAAT,2BACOrK,GADP,IAEIlK,SAAU,WAGd8mD,EAASvyC,KAAT,2BACOrK,GADP,IAEIlK,SAAU,cAItBkR,IAAIqL,IAAI,iBAAmBwe,EAAKlX,KAAK0iC,IAAK,CACtCC,QAASK,IAERz1C,MAAK,WACF2zC,EAAQ,2BACDhqB,GADA,IAEHlX,KAAK,2BACEkX,EAAKlX,MADR,IAEAyZ,MAAOwpB,OAGf32C,EAAe,MAAO,QAAS,iCAAS,cAE3CkB,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAEjDkX,MAAK,WACFlB,GAAW,MA2PqC62C,CACI5lD,EAAMX,QAGd8Q,SAAUrB,EACV5T,KAAM,SAEN,kBAAC2qD,GAAA,EAAD,gBAYxC,yBAAKpkD,UAAWG,EAAQ1B,QACpB,kBAAC8S,EAAA,EAAD,CACIvR,UAAWG,EAAQ0hD,aACnBzzC,QAAQ,WACR5K,MAAM,YACNwF,QAAS,kBACLlG,EAAQ6O,KACJ,gBACI+H,mBAAmBye,EAAKtmB,QAPxC,wCAa+B,UAA9BsmB,EAAKlX,KAAKwiC,WAAWC,MAClB,kBAACnyC,EAAA,EAAD,CACIvR,UAAWG,EAAQ0hD,aACnBzzC,QAAQ,WACR5K,MAAM,YACNkL,SAAUrB,EACVrE,QAAS,WACLq5C,GAAoB,GACpBE,EAAoB,aACb3iD,EAAMu4B,KAAKlX,KAAKyZ,UAR/B,oDAeJ,kBAACnpB,EAAA,EAAD,CACIvR,UAAWG,EAAQ0hD,aACnB74C,QAjRT,WACXsE,GAAW,GACXgB,IAAIyL,OAAO,eAAiBoe,EAAKlX,KAAK0iC,KACjCn1C,MAAK,WACFjB,EACI,MACA,QACA,uFACA,cAGPkB,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAEjDkX,MAAK,WACFlB,GAAW,OAmQCc,QAAQ,YACR5K,MAAM,YACNkL,SAAUrB,GALd,6BAUJ,kBAACkH,EAAA,EAAD,MACA,yBAAKvU,UAAWG,EAAQ8gB,MACI,KAAvBkX,EAAKlX,KAAKuhC,UACP,4BACIjjD,MAAO,MACPsM,OAAQ,MACRkT,IAAKmjC,EACLliD,UAAWG,EAAQ6hD,SAI3B,kBAACpH,GAAA,EAAD,CAAMvzB,WAAS,GACX,kBAACuzB,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ2hD,WAArC,4BAGA,kBAAClH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ4hD,WACjC,kBAAC,KAAD,CACIrE,SAAU14C,SAASmzB,EAAKksB,OAAS,OACjCzG,OAAO,YAInB,kBAAChD,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ2hD,WAArC,kCAGA,kBAAClH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ4hD,WAChCxgD,YAAa42B,EAAKlX,KAAKqjC,gBAGhC,kBAAC1J,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ2hD,WAArC,kCAGA,kBAAClH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ4hD,WAChCxgD,YAAa42B,EAAKlX,KAAKsjC,aAD5B,SAI2B,KAA9BpsB,EAAKlX,KAAKwiC,WAAWC,MAClB,oCACI,kBAAC9I,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CACIje,MAAI,EACJoe,GAAI,EACJF,GAAI,EACJ76C,UAAWG,EAAQ2hD,WAJvB,kBAQA,kBAAClH,GAAA,EAAD,CACIje,MAAI,EACJoe,GAAI,GACJF,GAAI,EACJ/yC,MAAO,CACH21B,UAAW,aAEfz9B,UAAWG,EAAQ4hD,WAElB5pB,EAAKlX,KAAKujC,WAGnB,kBAAC5J,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,EACJ76C,UAAWG,EAAQ2hD,WAHvB,4BAOA,kBAAClH,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,EACJ76C,UAAWG,EAAQ4hD,WAElB5pB,EAAKlX,KAAKwjC,aAGnB,kBAAC7J,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,EACJ76C,UAAWG,EAAQ2hD,WAHvB,4BAOA,kBAAClH,GAAA,EAAD,CACIje,MAAI,EACJke,GAAI,EACJ76C,UAAWG,EAAQ4hD,WAEG,SAArB5pB,EAAKlX,KAAKyjC,OACL,SACA,YAKtB,kBAAC9J,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ2hD,WAArC,kCAGA,kBAAClH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ4hD,WAChCxgD,YAAa42B,EAAKlX,KAAK0jC,eAGhC,kBAAC/J,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ2hD,WAArC,kCAGA,kBAAClH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ4hD,WAChC5pB,EAAKlX,KAAK+hC,iBCzoB/C,IAAMjxC,GAAiBC,KAAW,CAC9BC,KAAM,CACFvE,SAAU,OACVyE,UAAW,OACX,qBAAsB,CAClBC,aAAc,GAElB,WAAY,CACRvF,QAAS,QAEb,aAAc,IAElBwF,SAAU,IAZSL,CAapBM,MAEGC,GAAwBP,KAAW,CACrCC,KAAM,CACFgY,UAAW,EACXzqB,QAAS,EAET,aAAc,CACVyqB,UAAW,KAGnBzX,QAAS,CACL9E,SAAU,OACVvB,OAAQ,EACRU,QAAS,OACT,aAAc,CACVV,OAAQ,MAGhBkG,SAAU,IAjBgBL,CAkB3BS,MAEGC,GAAwBV,MAAW,SAAC3S,GAAD,MAAY,CACjD4S,KAAM,CACFpF,QAAS,QACTrN,QAASH,EAAM+M,QAAQ,OAHD4F,CAK1Ba,MAEE1T,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCw1C,KAAM,CACF9nC,UAAW,OACX0e,eAAgB,iBAEpB61B,cAAc,aACV/hD,MAAO,OACPsM,OAAQ,OACRrM,QAAS,uBACT0pB,YAAa,QACZ7pB,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjB2F,SAAO,GACHjT,MAAO,OACP0M,SAAU,GAFP,cAGF5M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1B4kC,kBAAmB,OAASliD,EAAMe,QAAQkzC,QAAU,WAJrD,0BAMQ,QANR,GAQPkO,YAAY,aACRv1C,SAAU,EACVyf,WAAY,OACZC,aAAc,QACbtsB,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjBqnC,QAAS,CACLppC,SAAU,QAEd22C,aAAc,CACV32C,SAAU,OACVtH,MAAO,WAEXq5B,SAAU,CACN9vB,UAAW,EACXsc,aAAc,GAElB7J,OAAQ,CACJiJ,WAAY,8BAEhBpW,SAAU,CACNob,UAAW,kBAEfi0B,YAAa,CACT70C,QAAS,QAEb80C,YAAa,CACTz4C,YAAa,QAEjB04C,OAAQ,CACJ53B,UAAW,QAEfvrB,OAAQ,CACJe,QAASH,EAAM+M,QAAQ,GACvBoQ,UAAW,SAEfqlC,aAAc,CACV/xC,WAAYzQ,EAAM+M,QAAQ,IAE9B6U,KAAM,CACFzhB,QAASH,EAAM+M,QAAQ,IAE3B01C,UAAW,CACPtO,WAAY,KAEhBuO,UAAW,CACPv+C,MAAOnE,EAAMe,QAAQ6P,KAAK3D,eAInB,SAASs4C,GAAahlD,GACjC,IAAMO,EAAUhB,KACVE,EAAQa,cACR4C,EAAUksB,cAHwB,EAKR7b,IAAM/W,UAAS,GALP,mBAKjCiW,EALiC,KAKvBe,EALuB,OAMVD,IAAM/W,UAAS,GANL,mBAMjCiR,EANiC,KAMxBC,EANwB,KAQlC5S,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IA4BC8oD,EAAkB/6C,uBAAY,WAChC,MAA2B,MAApB7I,EAAMu4B,KAAKv+B,KAAe,iBAASgG,EAAMu4B,KAAKv+B,OACtD,CAACgG,EAAMu4B,KAAKv+B,OAET2pD,EAAc96C,uBAAY,WAC5B,OAAO7I,EAAMu4B,KAAKuC,MAAM3/B,QAAO,SAACuM,GAAD,MAAsB,SAAfA,EAAElK,cACzC,CAACwC,EAAMu4B,KAAKuC,QAETtK,EAAU3nB,uBAAY,WACxB,OAAI7I,EAAMu4B,KAAKuC,MAAMr8B,OAAS,EAEtB,kBAACigC,GAAA,EAAD,CAAOC,aAAcglB,IAAcllD,OAAQmF,MAAM,aAC7C,kBAAC,KAAD,CAAexD,UAAWG,EAAQshD,gBAKtC,kBAAC1kB,GAAA,EAAD,CACI/8B,UAAWG,EAAQ+zC,QACnBj9B,SAAUusC,EAAgB5jD,EAAMu4B,UAI7C,CAACv4B,EAAMu4B,KAAMh4B,IAWhB,OACI,kBAACs/C,GAAA,EAAD,CAAMz/C,UAAWG,EAAQ00C,MACrB,kBAAC,GAAD,CACI3pB,QAAM,EACN7Y,SAAUA,EACVvE,SAhEe,SAAC3C,EAAO04C,GAC/BzwC,IAAcywC,KAiEN,kBAAC,GAAD,CACIpvC,gBAAc,kBACd9W,GAAG,kBAEH,yBAAKqC,UAAWG,EAAQmhD,eAAgBlxB,KACxC,kBAAC0zB,GAAA,EAAD,CAAa9jD,UAAWG,EAAQqS,SAC5B,kBAAC6D,EAAA,EAAD,CAAY7S,MAAM,UAAUsf,QAAM,GAC9B,kBAACtN,GAAA,EAAD,CAAS3M,MAAO26C,KACZ,8BAAOA,OAGQ,IAAtB5jD,EAAMu4B,KAAKzoB,QACR,kBAAC8F,GAAA,EAAD,CAAS3M,MAAOjJ,EAAMu4B,KAAK3gC,OACvB,kBAAC6e,EAAA,EAAD,CACIjI,QAAQ,QACR5K,MAAM,QACNsf,QAAM,GAHV,iCAKUljB,EAAMu4B,KAAK3gC,QAIN,IAAtBoI,EAAMu4B,KAAKzoB,QACR,kBAAC2G,EAAA,EAAD,CACIjI,QAAQ,QACR5K,MAAM,gBACNsf,QAAM,GAHV,qBAM0B,KAArBljB,EAAMu4B,KAAK3gC,OACR,uCAAQoI,EAAMu4B,KAAK3gC,QAIR,IAAtBoI,EAAMu4B,KAAKzoB,QACmB,IAA3B9P,EAAMu4B,KAAK0sB,aACP,kBAACxuC,EAAA,EAAD,CACIjI,QAAQ,QACRtG,MAAO,CACHtE,MAAOnE,EAAMe,QAAQwgB,QAAQQ,MAEjC0B,QAAM,GALV,sBAUe,IAAtBljB,EAAMu4B,KAAKzoB,QACmB,IAA3B9P,EAAMu4B,KAAK0sB,aACP,kBAACxuC,EAAA,EAAD,CACIjI,QAAQ,QACRtG,MAAO,CACHtE,MAAOnE,EAAMe,QAAQwgB,QAAQrU,OAEjCuW,QAAM,GALV,0DAUe,IAAtBljB,EAAMu4B,KAAKzoB,QACmB,IAA3B9P,EAAMu4B,KAAK0sB,aACP,kBAACxuC,EAAA,EAAD,CACIjI,QAAQ,QACRtG,MAAO,CACHtE,MAAOnE,EAAMe,QAAQwgB,QAAQrU,OAEjCuW,QAAM,GALV,0DAUe,IAAtBljB,EAAMu4B,KAAKzoB,QACmB,IAA3B9P,EAAMu4B,KAAK0sB,aACP,kBAACxuC,EAAA,EAAD,CACIjI,QAAQ,QACR5K,MAAO,QACPsf,QAAM,GA3FjB,SAACtrB,GAClB,IACI,IAAM+yC,EAAM7pC,KAAKpG,MAAM9C,GACvB,OAAO+yC,EAAI7xC,IAAM,SAAM6xC,EAAI/yC,MAC7B,MAAOoF,GACL,MAAO,wCAwFkBkoD,CAAallD,EAAMu4B,KAAK4sB,cAIzC,kBAACjB,GAAA,EAAD,CAAa9jD,UAAWG,EAAQqhD,aAC5B,kBAAC/rC,GAAA,EAAD,KACI,kBAAC,KAAD,CACIzV,UAAW+I,KAAW,eAEb5I,EAAQkS,SAAWA,GAExBlS,EAAQqf,aAM5B,kBAAC,GAAD,KACI,kBAACjL,EAAA,EAAD,MACC3U,EAAMu4B,KAAKuC,MAAMr8B,OAAS,GACvB,yBAAK2B,UAAWG,EAAQyhD,QACpB,kBAAC3H,GAAA,EAAD,KACI,kBAACM,GAAA,EAAD,KACKgJ,IAAch+C,KAAI,SAAChH,GAChB,OACI,kBAACw3C,GAAA,EAAD,CAAU30C,IAAK7C,EAAMX,OACjB,kBAAC24C,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEN,kBAACpgC,EAAA,EAAD,CACIrW,UACIG,EAAQuhD,aAGZ,kBAAC3kB,GAAA,EAAD,CACI/8B,UACIG,EAAQwhD,YAEZ1qC,SACI1Y,EAAM7C,OAGb6C,EAAM7C,OAGf,kBAAC66C,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEN,kBAACpgC,EAAA,EAAD,CAAYyM,QAAM,GACb,IACAvhB,YACGhD,EAAMF,UAIlB,kBAACk4C,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEN,kBAACpgC,EAAA,EAAD,CAAYyM,QAAM,IA1L9CwgC,EA4LoC/kD,EAAMylD,gBA5L/Bh4B,EA6LyBztB,EAAMF,OA5L7C,GAAT2tB,EACO,EAEHs3B,EAAYt3B,EAAS,KA0LqBlqB,QAAQ,GAJd,OA1L7B,IAACwhD,EAAWt3B,QA0Mf,yBAAKhsB,UAAWG,EAAQ1B,QACpB,kBAAC8S,EAAA,EAAD,CACIvR,UAAWG,EAAQ0hD,aACnBzzC,QAAQ,WACR5K,MAAM,YACNwF,QAAS,kBACLlG,EAAQ6O,KACJ,cACI+H,mBAAmB9Z,EAAMu4B,KAAKtmB,QAP9C,wCAaA,kBAACN,EAAA,EAAD,CACIvR,UAAWG,EAAQ0hD,aACnB74C,QAxOT,WACXsE,GAAW,GACXgB,IAAIyL,OAAO,eAAiBna,EAAMu4B,KAAKwrB,KAClCn1C,MAAK,WACFjB,EAAe,MAAO,QAAS,2BAAQ,cAE1CkB,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAEjDkX,MAAK,WACFjW,OAAOC,SAAS4pB,aA+NJhU,QAAQ,YACR5K,MAAM,YACNkL,SAAUrB,GALd,6BAUJ,kBAACkH,EAAA,EAAD,MACA,yBAAKvU,UAAWG,EAAQ8gB,MACpB,kBAAC25B,GAAA,EAAD,CAAMvzB,WAAS,GACX,kBAACuzB,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ2hD,WAArC,kCAGA,kBAAClH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ4hD,WAChCniD,EAAMu4B,KAAKjhC,SAGpB,kBAAC0jD,GAAA,EAAD,CAAMvzB,WAAS,EAACwzB,GAAI,GAAIE,GAAI,GACxB,kBAACH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ2hD,WAArC,kCAGA,kBAAClH,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,EAAG76C,UAAWG,EAAQ4hD,WAChCniD,EAAMu4B,KAAKksB,c,mCC9Z1CllD,GAAYC,aAAW,iBAAO,CAChC2P,IAAK,CACD5C,OAAQ,EACRK,IAAK,OACLwC,MAAO,GACPC,OAAQ,GACRxC,KAAM,OACNyC,OAAQ,EACR/G,SAAU,aAIH,SAAS68C,KACpB,IAAM7kD,EAAUhB,KACVzE,EAAW6N,cAEX08C,EAA2Bx8C,uBAC7B,kBAAM/N,EAASi7B,iBACf,CAACj7B,IAGL,OACI,oCACI,kBAAC2hB,GAAA,QAAD,MACA,kBAACpgB,GAAA,EAAD,CAAYE,QAAM,GACd,kBAAC+oD,GAAA,EAAD,CACIllD,UAAWG,EAAQ4O,IACnBvL,MAAM,YACNwF,QAAS,kBAAMi8C,MAEf,kBAACE,GAAA,EAAD,SC5BpB,IA4DMC,G,+MACFnG,KAAO,E,EACPoG,SAAW,E,EAEX7mD,MAAQ,CACJ8mD,YAAa,GACbj4C,SAAS,EACTk4C,aAAc,GACdC,UAAU,G,EAGdnhC,kBAAoB,WAChB,EAAKohC,kBACL,EAAK3G,Y,EAOT2G,gBAAkB,WACd,EAAKltC,SAAS,CACVlL,SAAS,IAEbiB,IAAImJ,IAAI,sBACHjJ,MAAK,SAACxW,GACH,EAAKugB,SAAS,CACV+sC,YAAattD,EAASG,KACtBkV,SAAS,IAGbwiC,aAAa,EAAKwV,UACdrtD,EAASG,KAAKkG,OAAS,IACvB,EAAKgnD,SAAW73C,WACZ,EAAKi4C,gBACL,IAAOztD,EAASG,KAAK,GAAGktD,cAInC52C,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,a,EAKhBwnD,SAAW,WACP,EAAKvmC,SAAS,CACVlL,SAAS,IAEbiB,IAAImJ,IAAI,2BAA4B,EAAKwnC,MACpCzwC,MAAK,SAACxW,GACH,EAAKugB,SAAS,CACVgtC,aAAa,GAAD,oBACL,EAAK/mD,MAAM+mD,cADN,aAELvtD,EAASG,OAEhBkV,SAAS,EACTm4C,SAAUxtD,EAASG,KAAKkG,QAAU,QAGzCoQ,OAAM,WACH,EAAK7O,MAAMgL,eAAe,MAAO,QAAS,2BAAQ,SAClD,EAAK2N,SAAS,CACVlL,SAAS,Q,2DAnDzB,WACIwiC,aAAap4C,KAAK4tD,Y,oBAuDtB,WAAU,IACEllD,EAAY1I,KAAKmI,MAAjBO,QACFmiB,EAAOjqB,IAAKoI,UAElB,OACI,yBAAKT,UAAWG,EAAQuc,QACnB4F,EAAKhJ,MAAMy/B,qBAAuB,kBAACiM,GAAD,MACnC,kBAAC3uC,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,KACRpO,UAAWG,EAAQ0I,OAHvB,qBAMI,kBAAC4M,GAAA,EAAD,CACI/G,SAAUjX,KAAK+G,MAAM6O,QACrBrE,QAASvR,KAAKguD,iBAEd,kBAAC,KAAD,QAGPhuD,KAAK+G,MAAM8mD,YAAY//C,KAAI,SAAChH,EAAOyP,GAAR,OACxB,kBAACi0C,GAAD,CAAiB7gD,IAAK4M,EAAGmqB,KAAM55B,OAEnC,kBAAC8X,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,KACRpO,UAAWG,EAAQ0I,OAHvB,sBAOA,yBAAK7I,UAAWG,EAAQ2+C,UACnBrnD,KAAK+G,MAAM+mD,aAAahgD,KAAI,SAAChH,EAAOyP,GACjC,OAAIzP,EAAMm8B,MACC,kBAACkqB,GAAD,CAAcxjD,IAAK4M,EAAGmqB,KAAM55B,IAEhC,QAEX,kBAACgT,EAAA,EAAD,CACI9X,KAAK,QACLuG,UAAWG,EAAQgM,OACnBuC,UAAWjX,KAAK+G,MAAMgnD,SACtBx8C,QAASvR,KAAKqnD,UAJlB,kC,GA7GY1iC,aAgIjBhD,GALEkD,aAvIO,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QAgI9C8Y,CAGftK,cA1La,SAAC3S,GAAD,MAAY,CACvBmvC,QAAS,CACL3hC,QAAS,QAEbhE,MAAO,CACHkE,UAAW,QAEf2P,OAAO,aACHnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAC1B/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SAGrBw1C,WAAY,CACRhxC,SAAU,SAEdixC,WAAY,CACR9+C,gBAAiBR,EAAMe,QAAQ0U,QAAQvI,OAE3CqyC,aAAc,CACV/+C,gBAAiBR,EAAMe,QAAQkM,UAAUC,OAE7CsyC,KAAM,CACF9xC,UAAW,QAEf6mC,KAAM,CACF/mC,QAAS,QAEbmnC,iBAAkB,CACdn3B,aAAc,eAElBu3B,SAAU,CACNtkC,WAAY,QAEhBgvC,SAAU,CACNtiC,UAAW,SACXzP,UAAW,OACXsc,aAAc,QAElBld,OAAQ,CACJY,UAAW1N,EAAM+M,QAAQ,OA6I/B4F,CAAmBozC,KCvIfM,G,oDACF,WAAY9lD,GAAQ,IAAD,wBACf,cAAMA,IAOVqU,aAAe,SAACra,GAAD,OAAU,SAACuR,GACtB,EAAKoN,SAAL,eAAiB3e,EAAOuR,EAAMxM,OAAOJ,UATtB,EAYnBosC,OAAS,SAAC/tC,GACNA,EAAE4U,iBACqB,KAAnB,EAAKhT,MAAM4tC,KAGf,EAAKxsC,MAAM+lD,YAAY,EAAKnnD,MAAM4tC,MAflC,IAAM7uB,EAAQ,IAAIC,gBAAgB,EAAK5d,MAAMpH,SAASilB,QAFvC,OAGf,EAAKjf,MAAQ,CACT4tC,IAAK7uB,EAAM9F,IAAI,aAJJ,E,2CAoBnB,WAAU,IACEtX,EAAY1I,KAAKmI,MAAjBO,QAER,OACI,yBAAKH,UAAWG,EAAQuc,QACpB,kBAAC+iC,GAAA,EAAD,CAAMz/C,UAAWG,EAAQ00C,MACrB,kBAAC6K,GAAA,EAAD,CACI/vC,OACI,kBAACiT,EAAA,EAAD,CACI/U,aAAW,SACX/B,IACI,uBACArU,KAAKmI,MAAM0J,MAAMqC,QAAQvK,IACzB,OAIZyH,MAAOpR,KAAKmI,MAAM0J,MAAMqC,QAAQC,KAAO,kCACvC+zC,UAAWloD,KAAKmI,MAAM0J,MAAMs2C,cAEhC,kBAACrrC,EAAA,EAAD,MACA,kBAACuvC,GAAA,EAAD,KACI,0BAAM5oC,SAAUzjB,KAAKkzC,QACjB,kBAACl0B,GAAA,EAAD,CACI9Y,GAAG,MACHuQ,MAAM,uCACN3P,MAAO9G,KAAK+G,MAAM4tC,IAClBt+B,SAAUrW,KAAKwc,aAAa,OAC5B9H,OAAO,SACPpT,KAAK,WACL+V,WAAS,EACTnB,WAAS,EACTnK,MAAM,gBAIlB,kBAACo9C,GAAA,EAAD,CACI5gD,UAAWG,EAAQquC,QACnBqS,sBAAoB,GAEpB,kBAACtvC,EAAA,EAAD,CACIvI,QAASvR,KAAKkzC,OACdnnC,MAAM,YACNxD,UAAWG,EAAQqlD,SACnBp3C,QAAQ,YACRM,SACuB,KAAnBjX,KAAK+G,MAAM4tC,KAAc30C,KAAKmI,MAAMyN,SAN5C,kBAaR,yBAAKrN,UAAWG,EAAQwb,KACpB,kBAAC,IAAQ4iC,OAAT,CACIz2C,MAAO,CAAE+E,QAAQ,eAAeZ,SAAS,IAAIyB,SAAS,IAAInO,MAAM,OAAOsM,OAAO,IAC9E2yC,OAAO,0BACP3iC,KAAK,aACL2hC,OAAO,W,GA/EGphC,aA4FnBwpC,GALItpC,aAnGK,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QA4F5C8Y,CAGjBtK,cAtIa,SAAC3S,GAAD,MAAY,CACvBw1C,KAAM,CACFnnC,SAAU,IACVvB,OAAQ,UAEZqiC,QAAS,CACL3hC,QAAS,QAEb6P,OAAO,aACHnd,MAAO,OACPwN,UAAW,QACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAC1B/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SAGrBs8C,SAAU,CACN11C,WAAY,OACZ5G,YAAa,OACb28C,aAAc,QAElBlqC,IAAI,CACApc,MAAO,OACPsM,OAAQ,GACR0Q,UAAW,GACXC,UAAW,SACXzP,UAAW,aAyGjBiF,CAAmByK,YAAWipC,M,UClJ1BvmD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCymD,UAAW,CACPtpC,UAAW,SACXhd,QAAS,IAEbmQ,OAAQ,CACJ9P,gBAAiBR,EAAMe,QAAQkM,UAAU8U,KACzCjV,OAAQ,SACR5M,MAAO,GACPsM,OAAQ,GACRk6C,OAAQ,WAEZC,SAAU,CACNj5C,UAAW,IAEf9J,UAAW,CACPO,MAAOnE,EAAMe,QAAQ6P,KAAKvB,SAC1B5D,SAAU,QAIH,SAASm7C,GAAQrmD,GAC5B,IAAMO,EAAUhB,KACV2D,EAAUksB,cAcVk3B,EAAc,WAChBpjD,EAAQ6O,KAAK,YAAc/R,EAAM0J,MAAMqC,QAAQvK,KAC/CxB,EAAMqL,SAAWrL,EAAMqL,WAG3B,OACI,yBAAKjL,UAAWG,EAAQ2lD,WACpB,kBAACljC,EAAA,EAAD,CACI5iB,UAAWG,EAAQwP,OACnBq4B,IAAKpoC,EAAM0J,MAAMqC,QAAQC,KACzBE,IAAK,uBAAyBlM,EAAM0J,MAAMqC,QAAQvK,IAAM,KACxD4H,QAAS,kBAAMk9C,OAEnB,kBAAC7vC,EAAA,EAAD,CAAYjI,QAAQ,KAAKpO,UAAWG,EAAQ6lD,UACvCpmD,EAAMozC,UACH,+DACS,IACL,kBAACrM,EAAA,EAAD,CACI39B,QAAS,kBAAMk9C,KACfztD,KAAM,qBACN+K,MAAM,WAEL5D,EAAM0J,MAAMqC,QAAQC,MACjB,IARZ,iBAYFhM,EAAMozC,UACJ,oCACK,IACD,kBAACrM,EAAA,EAAD,CACI39B,QAAS,kBAAMk9C,KACfztD,KAAM,qBACN+K,MAAM,WAEL5D,EAAM0J,MAAMqC,QAAQC,MACjB,IARZ,wDAaR,kBAACyK,EAAA,EAAD,CAAYrW,UAAWG,EAAQ8C,WAC1BrD,EAAM0J,MAAM68C,MADjB,8BAC+BvmD,EAAM0J,MAAMkK,UAD3C,6BAC4D,IArD5D5T,EAAM0J,MAAMuK,OAAS,EACjBjU,EAAM0J,MAAMuK,QAAU,MAElBnS,KAAKqhD,MAAMnjD,EAAM0J,MAAMuK,OAAZ,OAAoC,4BAGhDnS,KAAKqhD,MAAMnjD,EAAM0J,MAAMuK,OAAS,MAAQ,kCAE5CjU,EAAM0J,MAAMs2C,c,mCCf3Bl4C,cACA,IA6GM2U,GAASlJ,IAAM0M,MAAK,kBAAM,4CAC1BumC,GAAajzC,IAAM0M,MAAK,kBAAM,4CAE9BwmC,G,+MACF7nD,MAAQ,CACJuM,SAAU,KACV3R,MAAM,EACNif,iBAAkB,KAClBhL,SAAS,EACThD,YAAY,G,EAGhBoO,YAAa,E,EAGb3E,QAAU,WACN,GAAIkF,KAAWrd,YAAY,EAAKiE,MAAMpH,SAASygB,UAAW,CACtD,IAAK5gB,IAAK2I,QAON,YANA,EAAKpB,MAAMgL,eACP,MACA,QACA,2BACA,WAIR,IAAM0X,EAAOjqB,IAAKoI,UAClB,IAAKpI,IAAK2I,SAAWshB,IAASA,EAAKhJ,MAAM4a,cAOrC,YANA,EAAKt0B,MAAMgL,eACP,MACA,QACA,2BACA,WAMZ,OAAQ6b,aAAc,EAAK7mB,MAAM0J,MAAM1K,OAAOhF,OAC1C,IAAK,MAKD,YAJA,EAAKgG,MAAMwoB,eAAe,CACtBhnB,IAAK,EAAKxB,MAAM0J,MAAMlI,IACtBxH,KAAM,EAAKgG,MAAM0J,MAAM1K,OAAOhF,OAGtC,IAAK,QAMD,YALA,EAAKgG,MAAMkD,QAAQ6O,KACf,EAAK/R,MAAM0J,MAAMlI,IACb,aACAsY,mBAAmB,EAAK9Z,MAAM0J,MAAM1K,OAAOhF,OAGvD,IAAK,QAQD,OAPA,EAAKgG,MAAMwmB,kBAAkB,CACzB,CACIhlB,IAAK,EAAKxB,MAAM0J,MAAMlI,IACtBrI,KAAM,gBAGd,EAAK6G,MAAMuoB,kBAEf,IAAK,QAMD,YALA,EAAKvoB,MAAMkD,QAAQ6O,KACf,EAAK/R,MAAM0J,MAAMlI,IACb,eACAsY,mBAAmB,EAAK9Z,MAAM0J,MAAM1K,OAAOhF,OAGvD,IAAK,OAMD,YALA,EAAKgG,MAAMkD,QAAQ6O,KACf,EAAK/R,MAAM0J,MAAMlI,IACb,cACAsY,mBAAmB,EAAK9Z,MAAM0J,MAAM1K,OAAOhF,OAGvD,IAAK,MAMD,YALA,EAAKgG,MAAMkD,QAAQ6O,KACf,EAAK/R,MAAM0J,MAAMlI,IACb,aACAsY,mBAAmB,EAAK9Z,MAAM0J,MAAM1K,OAAOhF,OAGvD,IAAK,OAMD,YALA,EAAKgG,MAAMkD,QAAQ6O,KACf,EAAK/R,MAAM0J,MAAMlI,IACb,cACAsY,mBAAmB,EAAK9Z,MAAM0J,MAAM1K,OAAOhF,OAGvD,QAOI,YANA,EAAKgG,MAAMgL,eACP,MACA,QACA,6CACA,a,EAUhB07C,YAAc,SAAC13C,GAAD,OAAc,SAACzD,GACzB,GAAI,EAAKvL,MAAM0J,MAAMuF,MAAQ,EAAG,CAC5B,IAAKxW,IAAK2I,QAON,YANA,EAAKpB,MAAMgL,eACP,MACA,QACA,yDACA,WAIR,IAAKvS,IAAKoI,UAAU6Y,MAAMC,YAAc,EAAKd,WASzC,YARA,EAAKF,SAAS,CACVF,iBAAkB,WACd,EAAKE,SAAS,CACVF,iBAAkB,OAEtBzJ,EAASzD,MAMzByD,EAASzD,K,EAGbo7C,SAAW,WACP,EAAKhuC,SAAS,CAAElL,SAAS,IACzBiB,IAAIqL,IAAI,mBAAqB,EAAK/Z,MAAM0J,MAAMlI,KACzCoN,MAAK,SAACxW,GACH,EAAKygB,YAAa,EAClBlgB,OAAOC,SAASkG,OAAO1G,EAASG,SAEnCsW,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,cAGPkX,MAAK,WACF,EAAK+J,SAAS,CAAElL,SAAS,Q,EAIrCm5C,QAAU,WACDnuD,IAAK2I,QASVzI,OAAOsS,aAAa,EAAKjL,MAAM0J,MAAMlI,KARjC,EAAKxB,MAAMgL,eACP,MACA,QACA,yDACA,Y,2DAxDZ,WACInT,KAAKmI,MAAMwmB,kBAAkB,M,oBA8DjC,WAAU,IAAD,OACGjmB,EAAY1I,KAAKmI,MAAjBO,QACFmiB,EAAOjqB,IAAKoI,UACZsjB,EAAU1rB,IAAK2I,QAErB,OACI,yBAAKhB,UAAWG,EAAQuc,QACpB,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAACzB,GAAA,EAAD,CACIrM,SAAUnX,KAAK+G,MAAM6Z,iBACrBxJ,MAAOpX,KAAKmI,MAAM0J,MAAMuF,MACxB5D,QAAS,kBAAM,EAAKsN,SAAS,CAAEF,iBAAkB,UAErD,kBAACrL,GAAA,EAAD,CACI5T,KAAM3B,KAAK+G,MAAM6L,WACjBf,MAAO7R,KAAKmI,MAAM0J,MAClB2B,QAAS,kBAAM,EAAKsN,SAAS,CAAElO,YAAY,OAE/C,yBAAKrK,UAAWG,EAAQsmD,KACpB,kBAACR,GAAD,CAAS38C,MAAO7R,KAAKmI,MAAM0J,QAC3B,kBAACiL,EAAA,EAAD,MACA,yBAAKvU,UAAWG,EAAQumD,YACpB,kBAAC3pB,GAAA,EAAD,CACI/8B,UAAWG,EAAQ6H,KACnBg1B,UAAQ,EACR/lB,SAAUxf,KAAKmI,MAAM0J,MAAM1K,OAAOhF,OAEtC,yBAAKoG,UAAWG,EAAQ8W,UACpB,kBAACZ,EAAA,EAAD,CAAYvO,MAAO,CAAE21B,UAAW,cAC3BhmC,KAAKmI,MAAM0J,MAAM1K,OAAOhF,MAE7B,kBAACyc,EAAA,EAAD,CAAYrW,UAAWG,EAAQwmD,UAC1BplD,YAAa9J,KAAKmI,MAAM0J,MAAM1K,OAAOnF,SAIlD,kBAAC8a,EAAA,EAAD,MACA,yBAAKvU,UAAWG,EAAQymD,WACpB,yBAAK5mD,UAAWG,EAAQ0mD,YACpB,kBAACt1C,EAAA,EAAD,CACIvI,QAAS,kBACL,EAAKpJ,MAAMknD,WAAW,EAAKlnD,MAAM0J,MAAMlI,MAE3CoC,MAAM,aAJV,4BAQA,kBAAC+N,EAAA,EAAD,CACIvI,QAAS,kBACL,EAAKuP,SAAS,CAAElO,YAAY,KAEhC7G,MAAM,aAJV,iBASJ,yBAAKxD,UAAWG,EAAQquC,SACpB,kBAAC/4B,GAAA,EAAD,CAAYjS,MAAM,YAAYsE,MAAO,CAAEtI,QAAQ,QAAQmsB,aAAa,QAAS9iB,MAAM,eAAKgF,aAAW,YAAY7E,QAAS,kBAAM,EAAKw9C,YACjI,kBAAC,KAAD,OAED/uD,KAAKmI,MAAM0J,MAAMwK,SACd,kBAACvC,EAAA,EAAD,CACInD,QAAQ,WACR5K,MAAM,YACNwF,QAASvR,KAAK6uD,YAAY7uD,KAAKqc,SAC/BpF,SAAUjX,KAAK+G,MAAM6O,SAJzB,gBASJ,kBAACkE,EAAA,EAAD,CACInD,QAAQ,YACR5K,MAAM,YACNxD,UAAWG,EAAQ4mD,eACnB/9C,QAASvR,KAAK6uD,YAAY7uD,KAAK8uD,UAC/B73C,SAAUjX,KAAK+G,MAAM6O,SALzB,eAQK5V,KAAKmI,MAAM0J,MAAMuF,MAAQ,KACpBkV,IAAYzB,EAAKhJ,MAAMC,YACzB,KAAO9hB,KAAKmI,MAAM0J,MAAMuF,MAAQ,gBACnCpX,KAAKmI,MAAM0J,MAAMuF,MAAQ,GACtBkV,GACAzB,EAAKhJ,MAAMC,WACX,4BAKpB,yBAAKvZ,UAAWG,EAAQwb,KACpB,kBAAC,IAAQ4iC,OAAT,CACIz2C,MAAO,CAAE+E,QAAQ,eAAeZ,SAAS,IAAIyB,SAAS,IAAInO,MAAM,OAAOsM,OAAO,IAC9E2yC,OAAO,0BACP3iC,KAAK,aACL2hC,OAAO,W,GA/PGphC,aA4QnB4qC,GALI1qC,aAlSK,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvD2kB,gBAAiB,WACbztB,EAASytB,gBAEb/B,kBAAmB,SAACtnB,GAChBpE,EAAS0rB,YAAkBtnB,KAE/BspB,eAAgB,SAACrqB,GACbrD,EAAS0tB,YAAerqB,KAE5B+oD,WAAY,SAAC1lD,GACT1G,EAASoP,YAAiB1I,QA+QnBkb,CAGjBtK,cA1Xa,SAAC3S,GAAD,cAAY,CACvBqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPwN,UAAW,OACX+C,WAAY,OACZ5G,YAAa,SATf,cAWD7J,EAAMI,YAAYC,KAAK,MAAQ,CAC5BqN,UAAW,EACX+C,WAAY,EACZ5G,YAAa,IAdf,+BAgBc,UAhBd,wBAiBO,QAjBP,8BAkBa,UAlBb,2BAmBU,UAnBV,GAqBN0T,OAAQ,CACJC,aAAc,OAElBoqC,aAAc,CACV1nD,MAAO,QACP4M,OAAQ,UAEZ+6C,eAAgB,CACZ3nD,MAAO,QACP4M,OAAQ,SACRqQ,UAAW,SACXzP,UAAW,QAEfua,MAAO,CACH9nB,QAASH,EAAM+M,QAAQ,IAE3BpE,KAAM,CACF6U,aAAc,MACd9P,UAAW,GAGf05C,KAAG,GACClnD,MAAO,OACPmO,SAAU,IACV7N,gBAAiBR,EAAMe,QAAQuS,WAAW2U,MAC1CzK,aAAc,GACd1K,UAAW,iCALZ,cAME9S,EAAMI,YAAYC,KAAK,MAAQ,CAE5Bmd,aAAc,EACdnP,SAAU,MATf,wBAWU,QAXV,8BAYgB,UAZhB,GAcHg5C,WAAY,CACRlnD,QAAS,GACTqN,QAAS,OACT2vB,KAAM,KAEVvlB,SAAU,CACNnH,WAAY,IAEhB62C,SAAU,CACNnjD,MAAOnE,EAAMe,QAAQ6P,KAAKvB,SAC1B5D,SAAU,IAEd87C,UAAW,CACP/5C,QAAS,OACTrN,QAAS,YACTisB,eAAgB,iBAEpBs7B,eAAgB,CACZj3C,WAAY,GAEhB6L,IAAI,CACApc,MAAO,OACPsM,OAAQ,GACR0Q,UAAW,GACXC,UAAW,SACXzP,UAAW,aAwSjBiF,CAAmByK,YAAW4pC,M,sBC/V1Bc,GAASh0C,IAAM0M,MAAK,kBAAM,mCAgC1BunC,G,+MACF5oD,MAAQ,G,EAWR6oD,gBAAkB,WACTruC,KAAWjd,YACZ,EAAK6D,MAAMwmB,kBAAkB,K,gEAXrC,WACI7tB,OAAO0K,UAAYxL,KAAKmI,MAAM0J,Q,kCAGlC,WACI/Q,OAAO0K,UAAY,KACnBxL,KAAKmI,MAAMwmB,kBAAkB,M,oBASjC,WAAU,IAAD,OACGjmB,EAAY1I,KAAKmI,MAAjBO,QACJmnD,GAAe,EACb3pD,EAA6B,OAAxBlG,KAAKmI,MAAMmL,SAAoB,sBAAmB3S,EAE7D,OACI,yBAAK4H,UAAWG,EAAQuc,QACpB,kBAAC6qC,GAAA,EAAD,CAAmBC,YAAa/vD,KAAK4vD,iBACjC,kBAACja,EAAA,EAAD,CAAOptC,UAAWG,EAAQsnD,kBACtB,kBAAC,GAAD,CAAaxzB,SAAO,EAAC3qB,MAAO7R,KAAKmI,MAAM0J,UAI9C7R,KAAKmI,MAAM3E,SAASsK,KAAI,SAAChH,GACtB,IACkC,cAA7BA,EAAM3E,KAAKy5B,eACqB,eAA7B90B,EAAM3E,KAAKy5B,iBACdi0B,EAGD,OADAA,GAAe,EACR,kBAACH,GAAD,CAAQ79C,MAAO,EAAK1J,MAAM0J,MAAO5L,KAAMa,OAGtD,kBAACgkB,GAAA,EAAD,CACI5kB,GAAIA,EACJvE,KAA8B,OAAxB3B,KAAKmI,MAAMmL,SACjBA,SAAUtT,KAAKmI,MAAMmL,SACrBE,QAAS,kBAAM,EAAKrL,MAAMoK,oBAAoB,OAC9C6X,aAAc,CACVnX,SAAU,SACVC,WAAY,UAEhB6X,gBAAiB,CACb9X,SAAU,MACVC,WAAY,WAGhB,kBAAC0L,EAAA,EAAD,KACI,kBAAC4vC,GAAD,CACIjT,UAAQ,EACR/nC,QAAS,kBAAM,EAAKrL,MAAMoK,oBAAoB,OAC9CV,MAAO7R,KAAKmI,MAAM0J,UAI9B,yBAAKtJ,UAAWG,EAAQwb,KACpB,kBAAC,IAAQ4iC,OAAT,CACIz2C,MAAO,CAAE+E,QAAQ,eAAeZ,SAAS,IAAIyB,SAAS,IAAInO,MAAM,OAAOsM,OAAO,IAC9E2yC,OAAO,0BACP3iC,KAAK,aACL2hC,OAAO,W,GApEKphC,aAiFrBsrC,GALMprC,aA1GG,SAAC9d,GACrB,MAAO,CACHuM,SAAUvM,EAAM3D,WAAW8sD,yBAC3B1sD,SAAUuD,EAAMnD,SAASJ,aAIN,SAACP,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvD2kB,gBAAiB,WACbztB,EAASytB,gBAEb/B,kBAAmB,SAACtnB,GAChBpE,EAAS0rB,YAAkBtnB,KAE/BspB,eAAgB,SAACrqB,GACbrD,EAAS0tB,YAAerqB,KAE5B+oD,WAAY,SAAC1lD,GACT1G,EAASoP,YAAiB1I,KAE9B4I,oBAAqB,SAACpN,GAClBlC,EAASsP,YAAoBpN,QAiFpB0f,CAGnBtK,cAjJa,SAAC3S,GAAD,YAAY,CACvBqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,GACXsc,aAAc,GACdvZ,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IALzB,cAMD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SATf,cAWD7J,EAAMI,YAAYC,KAAK,MAAQ,CAC5BqN,UAAW1N,EAAM+M,QAAQ,GACzB0D,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,KAd7B,GAiBNq7C,iBAAiB,aACbz9B,UAAW,QACV3qB,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmM,OAAQ,UAIhB8P,IAAI,CACApc,MAAO,OACPsM,OAAQ,GACR0Q,UAAW,GACXC,UAAW,SACXzP,UAAW,aAmHjBiF,CAAmByK,YAAW2qC,MCxJjB,SAASQ,KACpB,IAAMltD,EAAW6N,cACT5K,EAAO+f,cAAP/f,GAF2B,EAITvB,wBAAShE,GAJA,mBAI5BkR,EAJ4B,KAIrBu+C,EAJqB,OAKLzrD,oBAAS,GALJ,mBAK5BiR,EAL4B,KAKnBC,EALmB,OAMHlR,mBAAS,IANN,mBAM5BmX,EAN4B,KAMlBu0C,EANkB,KAQ7BnqC,EAAclV,uBAChB,SAACI,GAAD,OAAWnO,EAASkjB,aAAe/U,MACnC,CAACnO,IAGC6S,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IA+CL,OA5CAgC,qBAAU,WACF4M,EACIA,EAAMy+C,QACNpqC,EAAYrU,EAAMqC,QAAQC,KAAO,kCAChB,KAAb2H,GACAhG,EAAe,MAAO,QAAS,iCAAS,YAG5CoQ,EAAYrU,EAAM1K,OAAOhF,MAG7B+jB,MAGL,CAACrU,EAAOqU,EAAapQ,IAExB7Q,qBAAU,WACN,OAAO,WACHihB,OAGL,IAEHjhB,qBAAU,WACN4Q,GAAW,GACX,IAAI06C,EAAe,GACF,KAAbz0C,IACAy0C,EAAe,aAAez0C,GAElCjF,IAAImJ,IAAI,eAAiB9Z,EAAKqqD,GACzBx5C,MAAK,SAACxW,GACH6vD,EAAS7vD,EAASG,MAClBmV,GAAW,MAEdmB,OAAM,SAACjX,GACJ8V,GAAW,GACQ,MAAf9V,EAAMD,KACNswD,EAAS,MAETt6C,EAAe,MAAO,QAAS/V,EAAMF,QAAS,cAG3D,CAACqG,EAAI4V,EAAUhG,IAGd,kBAAC,WAAD,CAAUiT,SAAU,kBAAC,EAAD,YACLpoB,IAAVkR,GAAuB,kBAAC,EAAD,MACb,OAAVA,GAAkB,kBAACq8B,EAAD,CAAQjtC,IAAK,2DAC/B4Q,GAASA,EAAMy+C,QACZ,kBAAC,GAAD,CACI16C,QAASA,EACTs4C,YAAamC,EACbx+C,MAAOA,IAGdA,IAAUA,EAAMy+C,SAAWz+C,EAAMwN,QAC9B,kBAAC,GAAD,CAAYxN,MAAOA,IAEtBA,IAAUA,EAAMy+C,QAAUz+C,EAAMwN,QAC7B,kBAAC,GAAD,CAAcxN,MAAOA,KCjFrC,IAAMnK,GAAYC,aAAW,iBAAO,CAChCsd,OAAQ,CACJnd,MAAO,OACPwN,UAAW,SAGfsa,UAAW,CACPnV,OAAQ,OACR3S,MAAO,OACPsM,OAAQ,qBACRwd,cAAe,OAQR,SAAS4+B,KAAa,IAAD,EACV7rD,mBAAS,IADC,mBACzBqG,EADyB,KACpBylD,EADoB,KAE1BhrC,EAAOC,cACP3kB,EAAW8kB,cACXC,EAPC,IAAIC,gBAAgBF,cAAcG,QAQjC9f,EAAO+f,cAAP/f,GAEFjD,EAAW6N,cAEXoV,EAAclV,uBAChB,SAACI,GAAD,OAAWnO,EAASkjB,aAAe/U,MACnC,CAACnO,IAGC6S,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGLgC,qBAAU,WACN,GAAKsc,KAAWrd,YAAYnD,EAASygB,UAIjC0E,EAAYJ,EAAM9F,IAAI,aAJsB,CAC5C,IAAM/b,EAAO6hB,EAAM9F,IAAI,KAAK/S,MAAM,KAClCiZ,EAAYjiB,EAAKA,EAAK2C,OAAS,OAKpC,CAAC6e,EAAKW,OAAO,GAAIrlB,IAEpBkE,qBAAU,WACN,IAAIohB,EAAa,aAAeP,EAAM9F,IAAI,MACtCuB,KAAWrd,YAAYnD,EAASygB,YAChC6E,EAAa,cAAgBngB,EACG,KAA5B4f,EAAM9F,IAAI,gBACVqG,GACI,SAAWpE,mBAAmB6D,EAAM9F,IAAI,iBAGpDnJ,IAAImJ,IAAIqG,GACHtP,MAAK,SAACxW,GACHkwD,EAAOlwD,EAASG,SAEnBsW,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,cAGvD,CAAC4lB,EAAKW,OAAO,GAAIrlB,IAEpB,IAAM2H,EAAUhB,KAChB,OACI,yBAAKa,UAAWG,EAAQuc,QACX,KAARja,GACG,4BAAQoG,MAAO,KAAM7I,UAAWG,EAAQknB,UAAWvb,IAAKrJ,K,cCiClE0lD,G,+MACF3pD,MAAQ,CACJrG,KAAM,CACFiwD,MAAO,EACPr8B,KAAM,EACNC,MAAO,EACPq8B,KAAM,EACNC,GAAI,EACJC,GAAI,EACJC,GAAI,GAERC,MAAO,I,EAGXv8B,WAAY,E,wDAEZ,WAAqB,IAAD,OACZz0B,KAAKy0B,YACLz0B,KAAKy0B,WAAaz0B,KAAKy0B,UACvB5d,IAAImJ,IAAI,aACHjJ,MAAK,SAACxW,GACH,IAAI0wD,EACAC,EACAC,EAAQ,EACR5wD,EAASG,KAAK4zB,KAAO/zB,EAASG,KAAKiP,MAEnCuhD,EAAQ,EACRC,EAAQ,GAFRF,EAAQ1wD,EAASG,KAAK4zB,KAAO/zB,EAASG,KAAK6zB,QAQ3C48B,EAAQ,GAJRF,EAAQ1wD,EAASG,KAAK4zB,KAAO/zB,EAASG,KAAK6zB,QAC3C28B,GACK3wD,EAASG,KAAKiP,KAAOpP,EAASG,KAAK4zB,MACpC/zB,EAASG,KAAK6zB,OAItB,EAAKzT,SAAS,CACVpgB,KAAM,CACF4zB,KAAM/zB,EAASG,KAAK4zB,KACpBs8B,KAAMrwD,EAASG,KAAKkwD,KACpBr8B,MAAOh0B,EAASG,KAAK6zB,MACrBo8B,MAAOpwD,EAASG,KAAKiP,KACrBkhD,GAAII,EAAQ,EAAI,IAAc,IAARA,EACtBH,GAAIG,EAAQ,EAAI,EAAY,IAARC,EACpBH,GAAIE,EAAQ,EAAI,EAAY,IAARE,GAExBH,MAAOzwD,EAASG,KAAKswD,WAG5Bh6C,OAAM,SAACjX,GACJ,EAAK+gB,SAAS,CACVlL,SAAS,IAEb,EAAKzN,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,e,oBAKpB,WAAU,IAAD,OACG6I,EAAY1I,KAAKmI,MAAjBO,QAER,OACI,yBAAKH,UAAWG,EAAQuc,QACpB,kBAACrG,EAAA,EAAD,CAAY7S,MAAM,gBAAgB4K,QAAQ,MAA1C,4BAGA,kBAACwsC,GAAA,EAAD,CAAMvzB,WAAS,EAACrnB,UAAWG,EAAQ0+C,KAAMzyC,QAAS,GAC9C,kBAACwuC,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,GAAIE,GAAI,GACnB,kBAAC3N,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAACjR,EAAA,EAAD,CAAYrW,UAAWG,EAAQhI,MAC1BoJ,YAAa9J,KAAK+G,MAAMrG,KAAKiwD,QAElC,kBAAC/xC,EAAA,EAAD,qDAGR,kBAACukC,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,GAAIE,GAAI,GACnB,kBAAC3N,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAACjR,EAAA,EAAD,CAAYrW,UAAWG,EAAQhI,MAC1BoJ,YAAa9J,KAAK+G,MAAMrG,KAAKkwD,OAElC,kBAAChyC,EAAA,EAAD,6EAGR,kBAACukC,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,GAAIE,GAAI,GACnB,kBAAC3N,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAACjR,EAAA,EAAD,CAAYrW,UAAWG,EAAQhI,MAC1BoJ,YAAa9J,KAAK+G,MAAMrG,KAAK4zB,OAElC,kBAAC1V,EAAA,EAAD,yCAGR,kBAACukC,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,GAAIE,GAAI,GACnB,kBAAC3N,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAACjR,EAAA,EAAD,CAAYrW,UAAWG,EAAQhI,MAC1BoJ,YAAa9J,KAAK+G,MAAMrG,KAAK6zB,QAElC,kBAAC3V,EAAA,EAAD,6BAGR,kBAACukC,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,IACX,kBAACzN,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,yBAAKtnB,UAAWG,EAAQ0oD,QACpB,yBACI7oD,UAAWG,EAAQmoD,GACnBxgD,MAAO,CAAEvI,MAAO9H,KAAK+G,MAAMrG,KAAKmwD,GAAK,OAEzC,yBACItoD,UAAWG,EAAQooD,GACnBzgD,MAAO,CAAEvI,MAAO9H,KAAK+G,MAAMrG,KAAKowD,GAAK,OAEzC,yBACIvoD,UAAWG,EAAQqoD,GACnB1gD,MAAO,CAAEvI,MAAO9H,KAAK+G,MAAMrG,KAAKqwD,GAAK,QAG7C,yBAAK1gD,MAAO,CAAE0U,UAAW,UACrB,0BACIxc,UAAW+I,KACP5I,EAAQ2oD,SACR3oD,EAAQ4oD,cAJpB,2BAQI,0BACI/oD,UAAW+I,KACP5I,EAAQ6oD,SACR7oD,EAAQ4oD,cAXpB,6CAeI,0BACI/oD,UAAW+I,KACP5I,EAAQ8oD,SACR9oD,EAAQ4oD,cAlBpB,yEA0BZ,kBAAC1yC,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,KACRpO,UAAWG,EAAQ0I,OAHvB,kCAOA,kBAACukC,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAAC/V,EAAA,EAAD,CACInD,QAAQ,YACR5K,MAAM,YACNxD,UAAWG,EAAQwU,OACnB3L,QAAS,kBAAM,EAAKpJ,MAAMkD,QAAQ6O,KAAK,UAJ3C,kCAQA,kBAACJ,EAAA,EAAD,CACInD,QAAQ,YACRpO,UAAWG,EAAQwU,OACnB3L,QAAS,kBAAM,EAAKpJ,MAAMkD,QAAQ6O,KAAK,gBAH3C,8CAOA,yBAAK3R,UAAWG,EAAQ+5C,OACpB,kBAACD,GAAA,EAAD,KACI,kBAACE,GAAA,EAAD,KACI,kBAACpE,GAAA,EAAD,KACI,kBAACQ,GAAA,EAAD,CAAW2S,MAAM,QAAjB,kCAGA,kBAAC3S,GAAA,EAAD,CAAW2S,MAAM,UAAjB,gBACA,kBAAC3S,GAAA,EAAD,CAAW2S,MAAM,UAAjB,4BAGA,kBAAC3S,GAAA,EAAD,CAAW2S,MAAM,UAAjB,sBACA,kBAAC3S,GAAA,EAAD,CAAW2S,MAAM,UAAjB,8BAKR,kBAAC3O,GAAA,EAAD,KACK9iD,KAAK+G,MAAMiqD,MAAMljD,KAAI,SAAC47C,EAAKxjD,GAAN,OAClB,kBAACo4C,GAAA,EAAD,CAAU30C,IAAKzD,GACX,kBAAC44C,GAAA,EAAD,CAAW3oC,UAAU,KAAK6oC,MAAM,OAC3B0K,EAAIvnD,MAET,kBAAC28C,GAAA,EAAD,CAAW2S,MAAM,UACZ3nD,YAAa4/C,EAAI1nD,OAEtB,kBAAC88C,GAAA,EAAD,CAAW2S,MAAM,UACZ/H,EAAIgI,eAET,kBAAC5S,GAAA,EAAD,CAAW2S,MAAM,UACZxnD,KAAKqhD,MAAM5B,EAAIiI,WAAa,OADjC,UAIA,kBAAC7S,GAAA,EAAD,CAAW2S,MAAM,UACZ/H,EAAIkI,8B,GA1MpBjtC,aA4NdktC,GALDhtC,aAnOU,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QA4NjD8Y,CAGZtK,cAtTa,SAAC3S,GAAD,YAAY,CACvBqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,QAVZ,GAaN21C,KAAM,CACF9xC,UAAW,QAEfua,MAAO,CACH9nB,QAASH,EAAM+M,QAAQ,GACvB5I,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9BnU,KAAM,CACF2S,SAAU,OACVtH,MAAOnE,EAAMe,QAAQ0U,QAAQsM,MAEjCynC,OAAQ,CACJh9C,OAAQ,QAEZy8C,GAAI,CACAzoD,gBAAiB,UACjB4oB,WAAY,iBACZ5c,OAAQ,OACRf,SAAU,OACVy+C,WAAY,OACZC,MAAO,QAEXjB,GAAI,CACA1oD,gBAAiB,UACjB4oB,WAAY,iBACZ5c,OAAQ,OACRf,SAAU,OACVy+C,WAAY,OACZC,MAAO,QAEXhB,GAAI,CACA3oD,gBAAiB,UACjB4oB,WAAY,iBACZ5c,OAAQ,OACRf,SAAU,OACVy+C,WAAY,OACZC,MAAO,QAEXT,WAAY,CACRxpD,MAAO,OACPsM,OAAQ,OACRgB,QAAS,eACT1E,SAAU,WACV2H,WAAY,OACZ5G,YAAa,OAEjB4/C,SAAU,CACNjpD,gBAAiB,WAErBmpD,SAAU,CACNnpD,gBAAiB,WAErBopD,SAAU,CACNppD,gBAAiB,WAErBgJ,MAAO,CACHkE,UAAW,OACXsc,aAAc,QAElB1U,OAAQ,CACJxI,OAAQ9M,EAAM+M,QAAQ,IAE1B8tC,MAAO,CACHp9B,UAAW,WAyOjB9K,CAAmByK,YAAW0rC,M,0CC/R1BsB,G,gKACF,WAAU,IAAD,EACqBhyD,KAAKmI,MAAvBO,EADH,EACGA,QAASkoD,EADZ,EACYA,KACjB,OACI,kBAAC3V,GAAA,EAAD,CACI1yC,UAAW+I,KAAW5I,EAAQknB,UAAT,eAChBlnB,EAAQwuC,OAASl3C,KAAKmI,MAAM+uC,SAEjC3lC,QAASvR,KAAKmI,MAAMwR,UAEpB,yBAAKpR,UAAWG,EAAQupD,SACpB,kBAACrzC,EAAA,EAAD,CACIjI,QAAQ,YACRpO,UAAWG,EAAQwpD,UAElBtB,EAAKzuD,MAEM,IAAfyuD,EAAKx5C,OACF,kBAACwH,EAAA,EAAD,CAAYrW,UAAWG,EAAQypD,OAA/B,UACOvB,EAAKuB,MAAQ,KAAK9nD,QAAQ,IAGrB,IAAfumD,EAAKx5C,OACF,kBAACwH,EAAA,EAAD,CAAYrW,UAAWG,EAAQ0pD,gBAA/B,UACOxB,EAAKuB,MAAQ,KAAK9nD,QAAQ,GADjC,MACwCumD,EAAKx5C,MAAO,IADpD,iBAMR,yBAAK7O,UAAWG,EAAQ2pD,WACpB,kBAACzzC,EAAA,EAAD,gCACS3U,KAAK8U,KAAK6xC,EAAKriD,KAAO,OAD/B,gB,GA9BKoW,aAuCVpK,iBAhFA,SAAC3S,GAAD,MAAY,CACvBgoB,UAAW,CACPlV,UAAW,oBACX0K,aAAc,MACd4L,WAAY,iBACZlpB,MAAO,OACPsN,QAAS,SAEb8hC,OAAQ,CACJx8B,UAAW,aAAe9S,EAAMe,QAAQ0U,QAAQsM,MAEpDsoC,QAAS,CACLltC,UAAW,SACXhd,QAAS,iBACT4S,aAAc,oBACd5O,MAAOnE,EAAMe,QAAQ6P,KAAKmR,KAC1B7hB,MAAO,QAEXqqD,MAAO,CACH9+C,SAAU,OACV0oC,WAAY,MACZ+V,WAAY,OACZ/lD,MAAOnE,EAAMe,QAAQ0U,QAAQsM,MAEjCyoC,eAAgB,CACZ/+C,SAAU,OACV0oC,WAAY,MACZ+V,WAAY,OACZ/lD,MAAOnE,EAAMe,QAAQ0U,QAAQsM,MAEjCuoC,SAAU,CACN58C,UAAW,MACXsc,aAAc,OAElBygC,UAAW,CACPtmD,MAAOnE,EAAMe,QAAQ6P,KAAKmR,KAC1B5E,UAAW,SACXhd,QAAS,UA2CFwS,CAAmBy3C,I,iKCiD5BM,G,oDAEF,WAAYnqD,GAAQ,IAAD,wBACf,cAAMA,IAFVoqD,WAAa,KACM,EAyDnBC,cAAgB,WACZ,EAAK1xC,SAAS,CACVlL,SAAS,IAEbiB,IAAIC,KAAK,eAAiB,EAAK/P,MAAM0rD,YAChC17C,MAAK,WACF,EAAK+J,SAAS,CACVlL,SAAS,EACT88C,OAAQ,eAGf17C,OAAM,SAACjX,GACJ,EAAK+gB,SAAS,CACVlL,SAAS,IAEb,EAAKzN,MAAMgL,eACP,MACA,QACA,qBAAQpT,EAAMF,QACd,aA5EG,EAiFnB8yD,SAAW,WACuB,KAA1B,EAAK5rD,MAAM0rD,YASf,EAAK3xC,SAAS,CACVlL,SAAS,IAEbiB,IAAImJ,IAAI,eAAiB,EAAKjZ,MAAM0rD,YAC/B17C,MAAK,SAACxW,GACH,EAAKugB,SAAS,CACVlL,SAAS,EACT88C,OAAQ,SACRE,WAAYryD,EAASG,UAG5BsW,OAAM,SAACjX,GACJ,EAAK+gB,SAAS,CACVlL,SAAS,IAEb,EAAKzN,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,aA3BR,EAAKsI,MAAMgL,eACP,MACA,QACA,uCACA,YAvFO,EAmHnB0/C,QAAU,SAACC,GACU,SAAbA,IAAoD,IAA7B,EAAK/rD,MAAMgsD,cAStC,EAAKjyC,SAAS,CACVlL,SAAS,IAEbiB,IAAIC,KAAK,aAAc,CACnB9P,OAAQ8rD,EACRrxD,OAAQ,EAAKsF,MAAMisD,cACnB9sD,GACiB,UAAb4sD,EACM,EACa,SAAbA,EACA,EAAK/rD,MAAMiqD,MAAM,EAAKjqD,MAAMgsD,cAAc7sD,GAC1C,EAAKa,MAAMksD,OAAO,EAAKlsD,MAAMmsD,eAAehtD,GACtDitD,IACiB,UAAbL,EACMvlD,SAAS,EAAKxG,MAAMqsD,UACpB7lD,SAAS,EAAKxG,MAAMssD,SAE7Bt8C,MAAK,SAACxW,GACEA,EAASG,KAAK4yD,QAOf/yD,EAASG,KAAK6yD,UACd,EAAKzyC,SAAS,CACVlL,SAAS,EACT88C,OAAQ,KACRY,QAAS,CACLhyD,KAAM,EAAKyF,MAAMisD,cACjBnrC,IAAKtnB,EAASG,KAAK6yD,WAG3B,EAAKhB,WAAazxD,OAAO0yD,aAAY,WACjC,EAAKC,WAAWlzD,EAASG,KAAKwF,MAC/B,MAjBH,EAAK4a,SAAS,CACVlL,SAAS,EACT88C,OAAQ,eAkBnB17C,OAAM,SAACjX,GACJ,EAAK+gB,SAAS,CACVlL,SAAS,IAEb,EAAKzN,MAAMgL,eACP,MACA,QACA,qBAAQpT,EAAMF,QACd,aAvDR,EAAKsI,MAAMgL,eACP,MACA,QACA,yDACA,YAzHO,EAiLnBsgD,WAAa,SAACvtD,GACV2Q,IAAImJ,IAAI,cAAgB9Z,GACnB6Q,MAAK,SAACxW,GACmB,IAAlBA,EAASG,OACT,EAAKogB,SAAS,CACV4xC,OAAQ,YAEZ5xD,OAAO4yD,cAAc,EAAKnB,gBAGjCv7C,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACA,qBAAQpT,EAAMF,QACd,SAEJiB,OAAO4yD,cAAc,EAAKnB,gBAlMnB,EAsMnB/1C,aAAe,SAAC9I,EAAO5M,GACnB,EAAKga,SAAS,CACVkyC,cACiC,UAA7B,EAAKjsD,MAAMisD,cACL,KACA,EAAKjsD,MAAMisD,gBAEzB,EAAKlyC,SAAS,CAAEha,WA7MD,EAgNnB6sD,kBAAoB,SAACxtD,GACjB,EAAK2a,SAAS,CAAEha,MAAOX,KAjNR,EAoNnBgkB,YAAc,WACVrpB,OAAO4yD,cAAc,EAAKnB,YAC1B,EAAKzxC,SAAS,CACV4xC,OAAQ,QAvNG,EA2NnBkB,iBAAmB,SAACzxD,GAAD,OAAU,SAACuR,GAC1B,EAAKoN,SAAL,eAAiB3e,EAAOuR,EAAMxM,OAAOJ,UA5NtB,EA+NnB+sD,WAAa,SAAC3tD,GACV,EAAK4a,SAAS,CACViyC,aAAc7sD,EACd8sD,cACiC,UAA7B,EAAKjsD,MAAMisD,cACL,KACA,EAAKjsD,MAAMisD,iBArOV,EAyOnBc,YAAc,SAAC5tD,GACX,EAAK4a,SAAS,CACVoyC,cAAehtD,EACfwsD,OAAQ,WACRM,cACiC,UAA7B,EAAKjsD,MAAMisD,cACL,KACA,EAAKjsD,MAAMisD,iBAhPV,EAoPnBe,oBAAsB,SAACrgD,GACnB,EAAKoN,SAAS,CACVkyC,cAAet/C,EAAMxM,OAAOJ,SAnPhC,IACMX,EADM,IAAI4f,gBAAgB,EAAK5d,MAAMpH,SAASilB,QAClChG,IAAI,OAJP,OAMf,EAAKjZ,MAAQ,CACTD,MAAOX,EAAQoH,SAASpH,GAAS,EACjC4sD,cAAe,EACfG,eAAgB,EAChBG,MAAO,EACPD,SAAU,EACVx9C,SAAS,EACT68C,WAAY,GACZC,OAAQ,KACRY,QAAS,CACLhyD,KAAM,GACNumB,IAAK,IAETmsC,WAAY,EACZpB,WAAY,KACZ5B,MAAO,GACPiC,OAAQ,GACRgB,QAAQ,EACRC,OAAO,EACPlB,cAAe,MAzBJ,E,yDA6BnB,WACIlyD,OAAO4yD,cAAc1zD,KAAKuyD,c,+BAG9B,WAAqB,IAAD,OAChB17C,IAAImJ,IAAI,gBACHjJ,MAAK,SAACxW,GACH,EAAKugB,SAAS,CACVkwC,MAAOzwD,EAASG,KAAKswD,MACrBiC,OAAQ1yD,EAASG,KAAKuyD,OACtBgB,OAAQ1zD,EAASG,KAAKuzD,OACtBC,MAAO3zD,EAASG,KAAKwzD,MACrBF,WAAYzzD,EAASG,KAAKyzD,iBAGjCn9C,OAAM,SAACjX,GACJ,EAAK+gB,SAAS,CACVlL,SAAS,IAEb,EAAKzN,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,c,oBAsMhB,WAAU,IAAD,OACG6I,EAAY1I,KAAKmI,MAAjBO,QAEF0rD,EACF,6BACI,kBAACC,GAAA,EAAD,mDACA,kBAACC,GAAA,EAAD,CACInyD,KAAK,UACLiU,aAAW,UACXtP,MAAO9G,KAAK+G,MAAMisD,cAClB38C,SAAUrW,KAAK+zD,oBACfrK,KAAG,IAED1pD,KAAK+G,MAAMktD,SACRj0D,KAAK+G,MAAMmtD,OACS,IAArBl0D,KAAK+G,MAAMD,SACmB,IAA7B9G,KAAK+G,MAAMgsD,cAEJ,IADJ/yD,KAAK+G,MAAMiqD,MAAMhxD,KAAK+G,MAAMgsD,cAAc37C,QAEzB,IAArBpX,KAAK+G,MAAMD,SACoB,IAA9B9G,KAAK+G,MAAMmsD,eAEO,IADflzD,KAAK+G,MAAMksD,OAAOjzD,KAAK+G,MAAMmsD,eACxB97C,QACL,kBAACwH,EAAA,EAAD,mDAEP5e,KAAK+G,MAAMktD,QACR,kBAACtK,GAAA,EAAD,CACI7iD,MAAO,SACP0P,QAAS,kBAAC+9C,GAAA,EAAD,MACT99C,MAAO,mCAGdzW,KAAK+G,MAAMmtD,OACR,kBAACvK,GAAA,EAAD,CACI7iD,MAAO,QACP0P,QAAS,kBAAC+9C,GAAA,EAAD,MACT99C,MAAO,6BAGO,IAArBzW,KAAK+G,MAAMD,QACqB,IAA7B9G,KAAK+G,MAAMgsD,cAEP,IADJ/yD,KAAK+G,MAAMiqD,MAAMhxD,KAAK+G,MAAMgsD,cAAc37C,OAEtC,kBAACuyC,GAAA,EAAD,CACI7iD,MAAO,QACP0P,QAAS,kBAAC+9C,GAAA,EAAD,MACT99C,MAAO,6BAGG,IAArBzW,KAAK+G,MAAMD,QACsB,IAA9B9G,KAAK+G,MAAMmsD,eAEP,IADJlzD,KAAK+G,MAAMksD,OAAOjzD,KAAK+G,MAAMmsD,eAAe97C,OAExC,kBAACuyC,GAAA,EAAD,CACI7iD,MAAO,QACP0P,QAAS,kBAAC+9C,GAAA,EAAD,MACT99C,MAAO,8BAIvB,6BAC0B,IAArBzW,KAAK+G,MAAMD,OACR,kBAACutD,GAAA,EAAD,mDAEkB,IAArBr0D,KAAK+G,MAAMD,OACR,kBAACutD,GAAA,EAAD,oDAGc,IAArBr0D,KAAK+G,MAAMD,OACR,kBAACkY,GAAA,EAAD,CACIzW,UAAWG,EAAQ8rD,UACnBlzD,KAAK,SACLud,WAAY,CACRC,IAAK,IACLqe,IAAK,KACLs3B,KAAM,KAEV3tD,MAAO9G,KAAK+G,MAAMssD,MAClBh9C,SAAUrW,KAAK4zD,iBAAiB,WAGlB,IAArB5zD,KAAK+G,MAAMD,OACR,kBAACkY,GAAA,EAAD,CACIzW,UAAWG,EAAQ8rD,UACnBlzD,KAAK,SACLud,WAAY,CACRC,IAAK,IACL21C,KAAM,IACNt3B,IAAK,WAETr2B,MAAO9G,KAAK+G,MAAMqsD,SAClB/8C,SAAUrW,KAAK4zD,iBAAiB,eAMhD,OACI,yBAAKrrD,UAAWG,EAAQuc,QACpB,kBAACrG,EAAA,EAAD,CACI7S,MAAM,gBACNxD,UAAWG,EAAQ0I,MACnBuF,QAAQ,MAHZ,gBAOA,kBAACkuB,GAAA,EAAD,CAAQn0B,SAAS,UACb,kBAACgkD,GAAA,EAAD,CACI5tD,MAAO9G,KAAK+G,MAAMD,MAClBuP,SAAUrW,KAAKwc,aACf7F,QAAQ,aAER,kBAACg+C,GAAA,EAAD,CAAKl+C,MAAM,qBAAMlG,KAAM,kBAAC,KAAD,QACvB,kBAACokD,GAAA,EAAD,CAAKl+C,MAAM,eAAKlG,KAAM,kBAAC,KAAD,QACrBvQ,KAAK+G,MAAMitD,WAAa,GACrB,kBAACW,GAAA,EAAD,CACIl+C,MAAM,2BACNlG,KAAM,kBAACqkD,GAAA,EAAD,QAGd,kBAACD,GAAA,EAAD,CAAKl+C,MAAM,iCAAQlG,KAAM,kBAAC,KAAD,UAGX,IAArBvQ,KAAK+G,MAAMD,OACR,kBAAC6uC,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,MAAO4D,QAAQ,GACrC,kBAAC0vB,GAAA,EAAD,CAAMvzB,WAAS,EAACjb,QAAS,GACpB3U,KAAK+G,MAAMiqD,MAAMljD,KAAI,SAAChH,EAAOZ,GAAR,OAClB,kBAACi9C,GAAA,EAAD,CAAMje,MAAI,EAACke,GAAI,GAAIC,GAAI,EAAG15C,IAAKzD,GAC3B,kBAAC,GAAD,CACI0qD,KAAM9pD,EACN6S,SAAU,kBAAM,EAAKk6C,WAAW3tD,IAChCgxC,OAAQ,EAAKnwC,MAAMgsD,eAAiB7sD,SAKpD,kBAACi9C,GAAA,EAAD,CACIvzB,WAAS,EACTrnB,UAAWG,EAAQmsD,UACnBlgD,QAAS,GAET,kBAACwuC,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,IACZgR,GAEL,kBAACjR,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,IACb,yBAAK76C,UAAWG,EAAQ1B,QACpB,8DAGQ,UADHhH,KAAK+G,MAAMisD,eAER,0BAAMzqD,UAAWG,EAAQosD,WAAzB,UAGS,IADJ90D,KAAK+G,MAAMgsD,cACF,qCAEL,IADJ/yD,KAAK+G,MAAMgsD,cAER/yD,KAAK+G,MAAMssD,OAAS,IACpBrzD,KAAK+G,MAAMssD,OAAS,GAChB,+BAESrzD,KAAK+G,MACDiqD,MACDhxD,KAAK+G,MACAgsD,cACPZ,MACE,IACJnyD,KAAK+G,MAAMssD,OACbhpD,QAAQ,KAM1B,UADHrK,KAAK+G,MAAMisD,eAER,0BAAMzqD,UAAWG,EAAQosD,YAEhB,IADJ90D,KAAK+G,MAAMgsD,cACF,qCAEL,IADJ/yD,KAAK+G,MAAMgsD,cAER/yD,KAAK+G,MAAMssD,OAAS,IACpBrzD,KAAK+G,MAAMssD,OAAS,GAChB,8BACKrzD,KAAK+G,MAAMiqD,MACRhxD,KAAK+G,MACAgsD,cACP37C,MACEpX,KAAK+G,MACAssD,MAAO,IANpB,kBAapB,6BACI,kBAACv5C,EAAA,EAAD,CACI9X,KAAK,QACL2U,QAAQ,YACR5K,MAAM,YACNxD,UAAWG,EAAQwU,OACnBjG,SACIjX,KAAK+G,MAAM6O,SAEP,OADJ5V,KAAK+G,MAAMisD,cAGfzhD,QAAS,kBAAM,EAAKshD,QAAQ,UAE5B,kBAAC,KAAD,MAZJ,kCAoBF,IAArB7yD,KAAK+G,MAAMD,OACR,kBAAC6uC,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,MAAO4D,QAAQ,GACrC,kBAAC0vB,GAAA,EAAD,CAAMvzB,WAAS,EAACjb,QAAS,EAAGO,WAAW,YAClClV,KAAK+G,MAAMksD,OAAOnlD,KAAI,SAACinD,EAAM7uD,GAAP,OAEnB,kBAACi9C,GAAA,EAAD,CAAMje,MAAI,EAACv7B,IAAKzD,EAAIk9C,GAAI,GAAIE,GAAI,EAAGD,GAAI,GACnC,kBAAC2E,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CACI72C,MAAO2jD,EAAK5yD,KACZ+lD,UACI6M,EAAKC,UAAY,eAAO,KAE5BC,qBAAsB,CAClBxD,MAAO,UAEXyD,yBAA0B,CACtBzD,MAAO,UAEXzqD,OACI+tD,EAAKC,UACD,kBAAC,KAAD,MACA,KAERzsD,UAAWG,EAAQysD,aAEvB,kBAAC9I,GAAA,EAAD,KACI,yBACI9jD,UAAWG,EAAQ0sD,aAEnB,kBAACx2C,EAAA,EAAD,CACIzI,UAAU,KACVQ,QAAQ,KACR5K,MAAM,eAHV,SAKMgpD,EAAK5C,MAAQ,KAEnB,kBAACvzC,EAAA,EAAD,CACIjI,QAAQ,KACR5K,MAAM,iBAFV,IAKK9B,KAAK8U,KACFg2C,EAAKxmD,KAAO,OANpB,WAWHwmD,EAAKr/C,IAAI5H,KAAI,SAACunD,GAAD,OACV,kBAACz2C,EAAA,EAAD,CACIjI,QAAQ,YACR86C,MAAM,SACN9nD,IAAK0rD,GAEJA,OAIb,kBAAClM,GAAA,EAAD,CACI5gD,UAAWG,EAAQ4sD,aAEnB,kBAACx7C,EAAA,EAAD,CACI5D,WAAS,EACTS,QACIo+C,EAAKC,UACC,YACA,WAEVjpD,MAAM,UACNwF,QAAS,kBACL,EAAKuiD,YAAY5tD,KATzB,oCAsBN,IAArBlG,KAAK+G,MAAMD,OACR,kBAAC6uC,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,MAAO4D,QAAQ,GACrC,kBAAC0vB,GAAA,EAAD,CACIvzB,WAAS,EACTrnB,UAAWG,EAAQmsD,UACnBlgD,QAAS,GAET,kBAACwuC,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,IACZgR,GAEL,kBAACjR,GAAA,EAAD,CAAMG,GAAI,EAAGF,GAAI,IACb,yBAAK76C,UAAWG,EAAQ1B,QACpB,8DAGQ,UADHhH,KAAK+G,MAAMisD,eAER,0BAAMzqD,UAAWG,EAAQosD,WAAzB,SAEI,+BAES90D,KAAK+G,MAAMitD,WACR,IACJh0D,KAAK+G,MAAMqsD,UACb/oD,QAAQ,MAK1B,6BACI,kBAACyP,EAAA,EAAD,CACI9X,KAAK,QACL2U,QAAQ,YACR5K,MAAM,YACNxD,UAAWG,EAAQwU,OACnBjG,SACIjX,KAAK+G,MAAM6O,SAEP,OADJ5V,KAAK+G,MAAMisD,cAGfzhD,QAAS,kBACL,EAAKshD,QAAQ,WAGjB,kBAAC,KAAD,MAdJ,kCAuBF,IAArB7yD,KAAK+G,MAAMD,OACR,kBAAC6uC,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,MAAO4D,QAAQ,GACrC,yBAAKlrB,UAAWG,EAAQ6sD,iBACpB,kBAACv2C,GAAA,EAAD,CACI9Y,GAAG,gBACHuQ,MAAM,iCACN3P,MAAO9G,KAAK+G,MAAM0rD,WAClBp8C,SAAUrW,KAAK4zD,iBAAiB,cAChCl/C,OAAO,SACPmK,WAAY,CACRxO,MAAO,CAAE8mC,cAAe,cAE5BjhC,WAAS,IAEb,yBAAK3N,UAAWG,EAAQiqD,UACpB,kBAAC74C,EAAA,EAAD,CACI9X,KAAK,QACL2U,QAAQ,YACR5K,MAAM,YACNxD,UAAWG,EAAQwU,OACnBjG,SAAUjX,KAAK+G,MAAM6O,QACrBrE,QAASvR,KAAK2yD,UANlB,yBAchB,kBAACj6C,GAAA,EAAD,CACI/W,KAA4B,OAAtB3B,KAAK+G,MAAM2rD,OACjBl/C,QAASxT,KAAKmqB,YACdnU,kBAAgB,qBAChB8T,mBAAiB,4BAEjB,kBAACtQ,GAAA,EAAD,CAAatT,GAAG,sBAAhB,gBACA,kBAACyS,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAmB1S,GAAG,4BAAtB,qBAEiC,WAA5BlG,KAAK+G,MAAMusD,QAAQhyD,MAChB,oDAEyB,UAA5BtB,KAAK+G,MAAMusD,QAAQhyD,MAChB,8CANR,gKAUA,yBAAKiH,UAAWG,EAAQ8sD,eACpB,kBAAC,KAAD,CAAQ1uD,MAAO9G,KAAK+G,MAAMusD,QAAQzrC,MADtC,MAIJ,kBAAChO,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,kBAMR,kBAAC2M,GAAA,EAAD,CACI/W,KAA4B,YAAtB3B,KAAK+G,MAAM2rD,OACjBl/C,QAASxT,KAAKmqB,YACdnU,kBAAgB,qBAChB8T,mBAAiB,4BAEjB,kBAACtQ,GAAA,EAAD,CAAatT,GAAG,sBAAhB,4BACA,kBAACyS,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAmB1S,GAAG,4BAAtB,uEAIJ,kBAAC2T,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,kBAMR,kBAAC2M,GAAA,EAAD,CACI/W,KAA4B,WAAtB3B,KAAK+G,MAAM2rD,OACjBl/C,QAASxT,KAAKmqB,YACdnU,kBAAgB,qBAChB8T,mBAAiB,4BAEjB,kBAACtQ,GAAA,EAAD,CAAatT,GAAG,sBAAhB,4BACA,kBAACyS,GAAA,EAAD,KAC+B,OAA1B3Y,KAAK+G,MAAM6rD,YACR,kBAACh6C,GAAA,EAAD,CAAmB1S,GAAG,4BAClB,kBAAC0Y,EAAA,EAAD,CAAYjI,QAAQ,aAApB,kCAGA,kBAACiI,EAAA,EAAD,KACK5e,KAAK+G,MAAM6rD,WAAWzwD,MAE3B,kBAACyc,EAAA,EAAD,CAAYjI,QAAQ,aACgB,IAA/B3W,KAAK+G,MAAM6rD,WAAWtxD,KACjB,qBACA,sBAEV,kBAACsd,EAAA,EAAD,KACoC,IAA/B5e,KAAK+G,MAAM6rD,WAAWtxD,MACnB,oCAAGtB,KAAK+G,MAAM6rD,WAAWO,KAEG,IAA/BnzD,KAAK+G,MAAM6rD,WAAWtxD,MACnB,oCACK2I,KAAK8U,KACF/e,KAAK+G,MAAM6rD,WAAWrkD,KAClB,OACJvO,KAAK+G,MAAM6rD,WAAWO,IAJ9B,aAYpB,kBAACt5C,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,aAAtB,gBACA,kBAACrQ,EAAA,EAAD,CACIvI,QAASvR,KAAKwyD,cACdzmD,MAAM,UACNkL,SAAUjX,KAAK+G,MAAM6O,SAHzB,8BAUR,kBAAC8C,GAAA,EAAD,CACI/W,KAA4B,aAAtB3B,KAAK+G,MAAM2rD,OACjBl/C,QAASxT,KAAKmqB,YACdnU,kBAAgB,qBAChB8T,mBAAiB,4BAEjB,kBAACtQ,GAAA,EAAD,CAAatT,GAAG,sBAAhB,kCAGA,kBAACyS,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAmB1S,GAAG,4BAAtB,sBAEmC,IAA9BlG,KAAK+G,MAAMmsD,eACRlzD,KAAK+G,MAAMksD,OAAOjzD,KAAK+G,MAAMmsD,eACxB/wD,MAEZiyD,EACD,8DAEkC,UAA7Bp0D,KAAK+G,MAAMisD,eACR,0BAAMzqD,UAAWG,EAAQosD,WAAzB,UAEmC,IAA9B90D,KAAK+G,MAAMmsD,eACR,qCAE2B,IAA9BlzD,KAAK+G,MAAMmsD,eACRlzD,KAAK+G,MAAMssD,OAAS,IACpBrzD,KAAK+G,MAAMssD,OAAS,GAChB,+BAESrzD,KAAK+G,MAAMksD,OACRjzD,KAAK+G,MAAMmsD,eACbf,MACE,IACJnyD,KAAK+G,MAAMssD,OACbhpD,QAAQ,KAKA,UAA7BrK,KAAK+G,MAAMisD,eACR,0BAAMzqD,UAAWG,EAAQosD,YACU,IAA9B90D,KAAK+G,MAAMmsD,eACR,qCAE2B,IAA9BlzD,KAAK+G,MAAMmsD,eACRlzD,KAAK+G,MAAMssD,OAAS,IACpBrzD,KAAK+G,MAAMssD,OAAS,GAChB,8BACKrzD,KAAK+G,MAAMksD,OACRjzD,KAAK+G,MAAMmsD,eACb97C,MAAQpX,KAAK+G,MAAMssD,MAAO,IAHhC,mBAWxB,kBAACx5C,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIvI,QAASvR,KAAKmqB,YACdlT,SAAUjX,KAAK+G,MAAM6O,SAFzB,gBAMA,kBAACkE,EAAA,EAAD,CACI7C,SACIjX,KAAK+G,MAAM6O,SACkB,OAA7B5V,KAAK+G,MAAMisD,cAEfzhD,QAAS,kBAAM,EAAKshD,QAAQ,UAC5B9mD,MAAM,WANV,uB,GA1xBQ4Y,aAgzBjB8wC,GALE5wC,aAvzBO,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QAgzB9C8Y,CAGftK,cA14Ba,SAAC3S,GAAD,cAAY,CACvBqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,QAVZ,GAaN21C,KAAM,CACF9xC,UAAW,QAEfua,MAAO,CACH9nB,QAASH,EAAM+M,QAAQ,GACvB5I,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9BzD,MAAO,CACHkE,UAAW,OACXsc,aAAc,QAElB1U,OAAQ,CACJxI,OAAQ9M,EAAM+M,QAAQ,IAE1B3N,OAAQ,CACJ+d,UAAW,QACXzP,UAAW,QAEfk/C,UAAW,CACPn8C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,GAC3B7M,MAAO,GACPid,UAAW,oBAEf+vC,UAAW,CACP/oD,MAAOnE,EAAMe,QAAQkM,UAAU8U,KAC/BtW,SAAU,QAEdmiD,cAAe,CACXzwC,UAAW,SACXzP,UAAW,QAEf6/C,WAAY,CACR/sD,gBAC2B,SAAvBR,EAAMe,QAAQrH,KACRsG,EAAMe,QAAQuS,WAAWC,QACzBvT,EAAMe,QAAQ+sD,KAAK,MAEjCN,YAAa,CACThgD,QAAS,OACT4e,eAAgB,SAChB9e,WAAY,WACZ0c,aAAchqB,EAAM+M,QAAQ,IAEhC2gD,YAAY,eACP1tD,EAAMI,YAAYkd,GAAG,MAAQ,CAC1BiP,cAAevsB,EAAM+M,QAAQ,KAGrC4gD,iBAAe,mBACV3tD,EAAMI,YAAYkd,GAAG,MAAQ,CAC1B7M,WAAY,OACZ5G,YAAa,OACb3J,MAAO,SAJA,0BAMA,QANA,6BAOG,QAPH,GASf6qD,SAAU,CACN5tC,UAAW,SAEf8vC,UAAW,CACPv/C,UAAW1N,EAAM+M,QAAQ,GACzB5M,QAASH,EAAM+M,QAAQ,OA6zB7B4F,CAAmByK,YAAWstC,M,gECz6B1B5qD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC+tD,UAAW,CACPvgD,QAAS,OACTE,UAAW1N,EAAM+M,QAAQ,IAE7BihD,SAAU,CACNtgD,UAAW,GACX7D,YAAa,GACb1F,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B6K,MAAO,CACH5X,MAAO,KAEXk9B,cAAe,CACX/Q,WAAY,GACZC,aAAc,GACdC,cAAe,EACf1C,YAAa,IAEjBvU,OAAQ,CACJ5H,UAAW,OAIJ,SAASugD,GAAoB1tD,GAAQ,IAAD,EACrBxD,mBAAS,CAC/BxC,KAAM,GACN8B,KAAM,MAHqC,mBACxC6C,EADwC,KACjCgvD,EADiC,OAKCp6C,IAAM/W,UAAS,GALhB,mBAKxCoxD,EALwC,KAKtBC,EALsB,OAMPrxD,mBAAS,IANF,mBAMxCqU,EANwC,KAM1BC,EAN0B,OAQCtU,mBAAS,IARV,mBAQtBwU,GARsB,WASzCzQ,EAAUhB,KAWVmZ,EAAoB,SAAC1e,GAAD,OAAU,SAACgD,GACjC2wD,EAAS,2BACFhvD,GADC,kBAEH3E,EAAOgD,EAAE+B,OAAOJ,WAYzB,OACI,kBAAC4R,GAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAAC0C,GAAA,EAAD,CACI/W,KAAMo0D,EACNviD,QAAS,kBAAMwiD,GAAoB,IACnChgD,kBAAgB,qBAEhB,kBAACwD,GAAA,EAAD,CAAatT,GAAG,qBAAhB,4BACA,kBAACuT,GAAA,EAAD,CACIC,YAAY,IACZ/T,SAAU,GACVgU,SAvCM,SAACC,GACnB,IAAM3V,EACc,MAAhB2V,EAAO3V,KACD2V,EAAO3V,KAAO2V,EAAOzX,KACrByX,EAAO3V,KAAO,IAAM2V,EAAOzX,KACrC8W,EAAgBhV,GAChBkV,EAAoBS,EAAOzX,SAoCnB,kBAAC0X,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAAS,kBAAMykD,GAAoB,KAA3C,gBAGA,kBAACl8C,EAAA,EAAD,CACIvI,QA/BD,WACfukD,EAAS,2BACFhvD,GADC,IAEJ7C,KAAuB,OAAjB+U,EAAwB,IAAMA,KAExCg9C,GAAoB,IA2BJjqD,MAAM,UACNkL,SAA2B,KAAjB+B,GAHd,kBASR,yBAAKzQ,UAAWG,EAAQs8B,eACpB,yBAAKz8B,UAAWG,EAAQutD,eACpB,yBAAK1tD,UAAWG,EAAQitD,WACpB,yBAAKptD,UAAWG,EAAQktD,UACpB,kBAACM,GAAA,EAAD,OAGJ,kBAACl3C,GAAA,EAAD,CACIzW,UAAWG,EAAQgX,MACnB5Y,MAAOA,EAAM3E,KACbkU,SAAUwK,EAAkB,QAC5BpK,MAAM,wBAGd,yBAAKlO,UAAWG,EAAQitD,WACpB,yBAAKptD,UAAWG,EAAQktD,UACpB,kBAACO,GAAA,EAAD,OAEJ,6BACI,kBAACn3C,GAAA,EAAD,CACIlY,MAAOA,EAAM7C,KACboS,SAAUwK,EAAkB,QAC5BtY,UAAWG,EAAQgX,MACnBjJ,MAAM,mCAEV,6BACA,kBAACqD,EAAA,EAAD,CACIvR,UAAWG,EAAQwU,OACnBnR,MAAM,UACNwF,QAAS,kBAAMykD,GAAoB,KAHvC,gCAWhB,kBAACn8C,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASpJ,EAAMqL,SAAvB,gBACA,kBAACsG,EAAA,EAAD,CACI7C,SAAyB,KAAfnQ,EAAM7C,MAA8B,KAAf6C,EAAM3E,KACrC4J,MAAM,UACNwF,QAAS,kBAAMpJ,EAAMgP,SAASrQ,KAHlC,kB,eC1HVY,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC+tD,UAAW,CACPvgD,QAAS,OACTE,UAAW1N,EAAM+M,QAAQ,IAE7BihD,SAAU,CACNtgD,UAAW,GACX7D,YAAa,GACb1F,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B6K,MAAO,CACH5X,MAAO,KAEXk9B,cAAe,CACX/Q,WAAY,GACZC,aAAc,GACdC,cAAe,EACf1C,YAAa,IAEjBvU,OAAQ,CACJ5H,UAAW,OAIJ,SAAS8gD,GAAkBjuD,GAAQ,IAAD,EACnBxD,mBAAS,CAC/B6jC,OAAQ,GACRvkC,KAAM,MAHmC,mBACtC6C,EADsC,KAC/BgvD,EAD+B,OAKbnxD,mBAAS,IALI,mBAKtCmb,EALsC,KAK5BC,EAL4B,OAMGrE,IAAM/W,UAAS,GANlB,mBAMtCoxD,EANsC,KAMpBC,EANoB,OAOLrxD,mBAAS,IAPJ,mBAOtCqU,EAPsC,KAOxBC,EAPwB,OASGtU,mBAAS,IATZ,mBASpBwU,GAToB,WAWvCzQ,EAAUhB,KAEVzE,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAYC4d,EAAoB,SAAC1e,GAAD,OAAU,SAACgD,GACjC2wD,EAAS,2BACFhvD,GADC,kBAEH3E,EAAOgD,EAAE+B,OAAOJ,WAuBzB,OAXA7B,qBAAU,WACN4R,IAAImJ,IAAI,0BACHjJ,MAAK,SAACxW,GACHwf,EAAYxf,EAASG,KAAKuf,YAE7BjJ,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,cAGvD,IAGC,kBAAC6Y,GAAA,EAAD,CACI/W,KAAMwG,EAAMxG,KACZ6R,QAASrL,EAAMqL,QACfwC,kBAAgB,qBAEhB,kBAAC0C,GAAA,EAAD,CACI/W,KAAMo0D,EACNviD,QAAS,kBAAMwiD,GAAoB,IACnChgD,kBAAgB,qBAEhB,kBAACwD,GAAA,EAAD,CAAatT,GAAG,qBAAhB,4BACA,kBAACuT,GAAA,EAAD,CACIC,YAAY,IACZ/T,SAAU,GACVgU,SAlDM,SAACC,GACnB,IAAM3V,EACc,MAAhB2V,EAAO3V,KACD2V,EAAO3V,KAAO2V,EAAOzX,KACrByX,EAAO3V,KAAO,IAAM2V,EAAOzX,KACrC8W,EAAgBhV,GAChBkV,EAAoBS,EAAOzX,SA+CnB,kBAAC0X,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAAS,kBAAMykD,GAAoB,KAA3C,gBAGA,kBAACl8C,EAAA,EAAD,CACIvI,QA1CD,WACfukD,EAAS,2BACFhvD,GADC,IAEJ7C,KAAuB,OAAjB+U,EAAwB,IAAMA,KAExCg9C,GAAoB,IAsCJjqD,MAAM,UACNkL,SAA2B,KAAjB+B,GAHd,kBASR,yBAAKzQ,UAAWG,EAAQs8B,eACpB,yBAAKz8B,UAAWG,EAAQutD,eACpB,yBAAK1tD,UAAWG,EAAQitD,WACpB,yBAAKptD,UAAWG,EAAQktD,UACpB,kBAACS,GAAA,EAAD,OAEJ,kBAAC54C,EAAA,EAAD,CAAalV,UAAWG,EAAQ4f,aAC5B,kBAAC5K,EAAA,EAAD,CAAYxX,GAAG,4BAAf,4BAGA,kBAACuY,GAAA,EAAD,CACIlW,UAAWG,EAAQgX,MACnBhB,QAAQ,2BACR5X,MAAOA,EAAM0hC,OACbnyB,SAAUwK,EAAkB,WAE3Bf,EAAShS,KAAI,SAAC+B,EAAG0G,GAAJ,OACV,kBAACoI,GAAA,EAAD,CAAUhV,IAAK4M,EAAGzP,MAAO+I,EAAE3J,IACtB2J,EAAE1N,YAMvB,yBAAKoG,UAAWG,EAAQitD,WACpB,yBAAKptD,UAAWG,EAAQktD,UACpB,kBAACO,GAAA,EAAD,OAEJ,6BACI,kBAACn3C,GAAA,EAAD,CACIlY,MAAOA,EAAM7C,KACboS,SAAUwK,EAAkB,QAC5BtY,UAAWG,EAAQgX,MACnBjJ,MAAM,iBAEV,6BACA,kBAACqD,EAAA,EAAD,CACIvR,UAAWG,EAAQwU,OACnBnR,MAAM,UACNwF,QAAS,kBAAMykD,GAAoB,KAHvC,gCAWhB,kBAACn8C,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASpJ,EAAMqL,SAAvB,gBACA,kBAACsG,EAAA,EAAD,CACI7C,SAAyB,KAAfnQ,EAAM7C,MAAgC,KAAjB6C,EAAM0hC,OACrCz8B,MAAM,UACNwF,QAAS,kBAAMpJ,EAAMgP,SAASrQ,KAHlC,kBCvJhB,IAAMY,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,QAVZ,GAYNsJ,QAAS,CACLzF,UAAW1N,EAAM+M,QAAQ,IAE7B2hD,YAAa,CACTvuD,QAASH,EAAM+M,QAAQ,IAE3B4hD,eAAgB,CACZlxC,UAAW,QAEf5lB,OAAQ,CACJ6V,UAAW1N,EAAM+M,QAAQ,IAE7BiP,KAAM,CACFvL,WAAY,QAIL,SAASm+C,KAAU,IAAD,EACP7xD,mBAAS,GADF,mBACtB8xD,EADsB,KACjBC,EADiB,OAED/xD,oBAAS,GAFR,mBAEtBlF,EAFsB,KAEdk3D,EAFc,OAGHhyD,oBAAS,GAHN,mBAGtBiyD,EAHsB,KAGfC,EAHe,OAIGlyD,mBAAS,IAJZ,mBAItBmyD,EAJsB,KAIZC,EAJY,OAKCpyD,mBAAS,IALV,mBAKtBoI,EALsB,KAKbiqD,EALa,KAOvB/zD,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAQCulD,EAAW,WACb3xC,IAAImJ,IAAI,oBACHjJ,MAAK,SAACxW,GACHw2D,EAAYx2D,EAASG,KAAKo2D,UAC1BE,EAAWz2D,EAASG,KAAKqM,YAE5BiK,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,aAG1DoF,qBAAU,WACNujD,MAED,IAEH,IAmEM9/C,EAAUhB,KACVmjB,EAAOjqB,IAAKoI,UAElB,OACI,yBAAKT,UAAWG,EAAQuc,QACpB,kBAAC4wC,GAAD,CACI1+C,SA3CO,SAAC8/C,GAChBN,GAAU,GACV9/C,IAAIC,KAAK,mBAAoB,CACzB7S,KAAMgzD,EAAQhzD,KACd9B,KAAM80D,EAAQ90D,OAEb4U,MAAK,SAACxW,GACHw2D,EAAY,CACR,CACIG,GAAI32D,EAASG,KAAKwF,GAClB4vC,SAAUv1C,EAASG,KAAKob,SACxBq7C,UAAW52D,EAASG,KAAKslD,WACzBoR,KAAMH,EAAQ90D,KACdk1D,KAAMJ,EAAQhzD,OANX,oBAQJ6yD,QAGV9/C,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,aAyB9C8B,KAAMlC,EACN+T,QAAS,kBAAMmjD,GAAU,MAE7B,kBAACP,GAAD,CACIj/C,SAzBK,SAACmgD,GACdT,GAAS,GACThgD,IAAIC,KAAK,gBAAiB,CACtB7S,KAAMqzD,EAAUrzD,KAChBukC,OAAQ8uB,EAAU9uB,SAEjBzxB,MAAK,WACFyxC,OAEHxxC,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,aAgB9C8B,KAAMi1D,EACNpjD,QAAS,kBAAMqjD,GAAS,MAE5B,kBAACj4C,EAAA,EAAD,CAAY7S,MAAM,gBAAgB4K,QAAQ,MAA1C,UAGA,kBAACg/B,EAAA,EAAD,CAAOtuB,UAAW,EAAG9e,UAAWG,EAAQqS,SACpC,kBAAC25C,GAAA,EAAD,CACI5tD,MAAO2vD,EACPc,eAAe,UACfC,UAAU,UACVnhD,SAAU,SAAC3C,EAAO+jD,GAAR,OAAqBf,EAAOe,IACtCrhD,aAAW,yBAEX,kBAACu+C,GAAA,EAAD,CAAKl+C,MAAM,6BACX,kBAACk+C,GAAA,EAAD,CAAKl+C,MAAM,0CAEf,yBAAKlO,UAAWG,EAAQ4tD,aACX,IAARG,GACG,6BACI,kBAACiB,GAAA,EAAD,CAAOC,SAAS,QAAhB,uCAEK72D,OAAOC,SAAS62D,OAAS,OAF9B,+DAGe/sC,EAAKU,UAAW,IAH/B,kFAMA,kBAACssC,GAAA,EAAD,CAAgBtvD,UAAWG,EAAQ6tD,gBAC/B,kBAAC/T,GAAA,EAAD,CACIj6C,UAAWG,EAAQ+5C,MACnBrsC,aAAW,gBAEX,kBAACssC,GAAA,EAAD,KACI,kBAACpE,GAAA,EAAD,KACI,kBAACQ,GAAA,EAAD,2BACA,kBAACA,GAAA,EAAD,qBACA,kBAACA,GAAA,EAAD,CAAW2S,MAAM,SAAjB,sBAGA,kBAAC3S,GAAA,EAAD,CAAW2S,MAAM,SAAjB,4BAGA,kBAAC3S,GAAA,EAAD,CAAW2S,MAAM,SAAjB,kBAKR,kBAAC3O,GAAA,EAAD,KACKgU,EAAShpD,KAAI,SAAC47C,EAAKxjD,GAAN,OACV,kBAACo4C,GAAA,EAAD,CAAU30C,IAAKzD,GACX,kBAAC44C,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEL0K,EAAI0N,MAET,kBAACtY,GAAA,EAAD,KACK4K,EAAI5T,SACL,kBAAC5G,EAAA,EAAD,CACI3mC,UAAWG,EAAQkb,KACnBrS,QAAS,kBA9JpCiH,EAgKmCkxC,EAAI5T,SA/J5DzzC,UAAUy1D,UAAUC,UAAUv/C,QAC9B1C,EAAe,MAAO,SAAU,6CAAW,WAFvB,IAAC0C,GAmK2BxX,KAAM,mBAPV,iBAYJ,kBAAC89C,GAAA,EAAD,CAAW2S,MAAM,SACZ/H,EAAI2N,MAET,kBAACvY,GAAA,EAAD,CAAW2S,MAAM,SACb,kBAAC,KAAD,CACIxL,SAAUyD,EAAIyN,UACdhR,OAAO,WAGf,kBAACrH,GAAA,EAAD,CAAW2S,MAAM,SACb,kBAACzzC,GAAA,EAAD,CACIhc,KAAM,QACNuP,QAAS,kBAhKvC,SAACrL,GACnB,IAAM+wD,EAAUH,EAAS5wD,GACzB2Q,IAAIyL,OAAO,oBAAsB20C,EAAQC,IACpCngD,MAAK,WACF,IAAIihD,EAAW,aAAOlB,GACtBkB,EAAcA,EAAY10D,QAAO,SAACuM,EAAG7F,GACjC,OAAOA,IAAM9D,KAEjB6wD,EAAYiB,MAEfhhD,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAsJFo4D,CAAc/xD,KAGlB,kBAAC,KAAD,eAQ5B,kBAAC4T,EAAA,EAAD,CACIvI,QAAS,kBAAMolD,GAAU,IACzBpuD,UAAWG,EAAQjJ,OACnBkX,QAAQ,YACR5K,MAAM,aAJV,mCAUC,IAAR0qD,GACG,6BACI,kBAACiB,GAAA,EAAD,CAAOC,SAAS,QAAhB,sbAIA,kBAACE,GAAA,EAAD,CAAgBtvD,UAAWG,EAAQ6tD,gBAC/B,kBAAC/T,GAAA,EAAD,CACIxgD,KAAK,QACLuG,UAAWG,EAAQ+5C,MACnBrsC,aAAW,gBAEX,kBAACssC,GAAA,EAAD,KACI,kBAACpE,GAAA,EAAD,KACI,kBAACQ,GAAA,EAAD,2BACA,kBAACA,GAAA,EAAD,CAAW2S,MAAM,SAAjB,wCAGA,kBAAC3S,GAAA,EAAD,CAAW2S,MAAM,SAAjB,kBAKR,kBAAC3O,GAAA,EAAD,KACK/1C,EAAQe,KAAI,SAAC47C,EAAKxjD,GAAN,OACT,kBAACo4C,GAAA,EAAD,CAAU30C,IAAKzD,GACX,kBAAC44C,GAAA,EAAD,CACI3oC,UAAU,KACV6oC,MAAM,OAEL0K,EAAIvnD,MAET,kBAAC28C,GAAA,EAAD,CAAW2S,MAAM,SACZ/H,EAAIwO,aAET,kBAACpZ,GAAA,EAAD,CAAW2S,MAAM,SACb,kBAACzzC,GAAA,EAAD,CACIhc,KAAM,QACNuP,QAAS,kBA7MzC,SAACrL,GACjB,IAAM0T,EAAS7M,EAAQ7G,GACvB2Q,IAAIyL,OAAO,iBAAmB1I,EAAO1T,IAChC6Q,MAAK,WACF,IAAIohD,EAAU,aAAOprD,GACrBorD,EAAaA,EAAW70D,QAAO,SAACuM,EAAG7F,GAC/B,OAAOA,IAAM9D,KAEjB8wD,EAAWmB,MAEdnhD,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAmMFu4D,CAAYlyD,KAGhB,kBAAC,KAAD,eAQ5B,kBAAC4T,EAAA,EAAD,CACIvI,QAAS,kBAAMslD,GAAS,IACxBtuD,UAAWG,EAAQjJ,OACnBkX,QAAQ,YACR5K,MAAM,aAJV,sCCjT5B,IAAMrE,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,KACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,QAVZ,GAYNsJ,QAAS,CACLzF,UAAW1N,EAAM+M,QAAQ,GACzB0Q,UAAW,QAEfixC,YAAa,CACTvuD,QAASH,EAAM+M,QAAQ,IAE3B4hD,eAAgB,CACZlxC,UAAW,QAEf5lB,OAAQ,CACJ6V,UAAW1N,EAAM+M,QAAQ,IAE7B0W,OAAQ,CACJ2a,UAAW,WAEfqyB,OAAQ,CACJtwD,QAASH,EAAM+M,QAAQ,QAIhB,SAAS2jD,KAAS,IAAD,EACF3zD,mBAAS,IADP,mBACrB07B,EADqB,KACdk4B,EADc,OAEF5zD,mBAAS,GAFP,mBAErB4vB,EAFqB,KAEdmzB,EAFc,OAGJ/iD,mBAAS,GAHL,mBAGrB6iD,EAHqB,KAGfC,EAHe,KAKtBxkD,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAcLgC,qBAAU,YAXO,SAACuiD,GACd3wC,IAAImJ,IAAI,4BAA8BwnC,GACjCzwC,MAAK,SAACxW,GACHg4D,EAASh4D,EAASG,KAAK2/B,OACvBqnB,EAASnnD,EAASG,KAAK6zB,UAE1Bvd,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAKtD2oD,CAAShB,KAEV,CAACA,IAEJ,IAYM9+C,EAAUhB,KAEhB,OACI,yBAAKa,UAAWG,EAAQuc,QACpB,kBAACrG,EAAA,EAAD,CAAY7S,MAAM,gBAAgB4K,QAAQ,MAA1C,4BAGA,kBAACg/B,EAAA,EAAD,CAAOtuB,UAAW,EAAG9e,UAAWG,EAAQqS,SACpC,kBAACynC,GAAA,EAAD,CAAOj6C,UAAWG,EAAQ+5C,MAAOrsC,aAAW,gBACxC,kBAACssC,GAAA,EAAD,KACI,kBAACpE,GAAA,EAAD,KACI,kBAACQ,GAAA,EAAD,CAAW0Z,OAAO,UAAlB,sBACA,kBAAC1Z,GAAA,EAAD,CAAW0Z,OAAO,SAAS/G,MAAM,SAAjC,4BAGA,kBAAC3S,GAAA,EAAD,CAAW0Z,OAAO,SAAS/G,MAAM,SAAjC,gBAGA,kBAAC3S,GAAA,EAAD,CAAW0Z,OAAO,SAAS/G,MAAM,SAAjC,4BAGA,kBAAC3S,GAAA,EAAD,CAAW0Z,OAAO,UAAlB,8BAGR,kBAAC1V,GAAA,EAAD,KACKziB,EAAMvyB,KAAI,SAAC47C,EAAKxjD,GAAN,OACP,kBAACo4C,GAAA,EAAD,CAAU30C,IAAKzD,GACX,kBAAC44C,GAAA,EAAD,CACI0Z,OAAO,SACPriD,UAAU,KACV6oC,MAAM,OAEN,kBAAC,KAAD,CACIiH,SAAUyD,EAAIvB,YACdhC,OAAO,WAGf,kBAACrH,GAAA,EAAD,CAAW0Z,OAAO,SAAS/G,MAAM,SAC5Bt1B,aAAYutB,EAAIpoD,OAErB,kBAACw9C,GAAA,EAAD,CAAW0Z,OAAO,SAAS/G,MAAM,SAC5Bv1B,aAAcwtB,EAAIzxC,SAEvB,kBAAC6mC,GAAA,EAAD,CAAW0Z,OAAO,SAAS/G,MAAM,SAC5Br1B,aAAgBstB,EAAIpoD,KAAMooD,EAAItkB,WAEnC,kBAAC0Z,GAAA,EAAD,CAAWv2C,UAAWG,EAAQ2iB,QA1DzC,SAACtrB,GACd,GAAc,KAAVA,EACA,MAAO,IAEX,IAEI,OADYkJ,KAAKpG,MAAM9C,GACZkB,IACb,MAAOkE,GACL,MAAO,gBAmDkBszD,CAAS/O,EAAI3pD,cAMlC,yBAAKwI,UAAWG,EAAQ2vD,QACpB,kBAACjQ,GAAA,EAAD,CACIC,MAAOp+C,KAAK8U,KAAKwV,EAAQ,IACzBle,SAAU,SAAClR,EAAG0K,GAAJ,OAAU43C,EAAQ53C,IAC5B9D,MAAM,iBC/If,SAAS2sD,KACpB,IAAMtyC,EAASH,YAAU,UACxB0yC,EAAe,QACfC,EAAS,KAkBT,OACG,4BACQvoD,MAAO,CAACvI,MAAM,OAAQstB,SAAS,WAC/Bwd,OAAQ,WACnB+lB,EAAgBhuD,SAASyF,gBAAgByoD,aAAwD,KAAxCluD,SAASyF,gBAAgByoD,aAAyB,KAC3GD,EAAOxkD,OAASukD,GAEjBrxC,IAAK,SAAChb,GAAQssD,EAAStsD,GACX+H,IAVD,kBAAoB+R,EAAOpf,OAAS,UAd9B,SAAC7E,GAIV,IAHJ,IACU+rB,EADQvjB,SAASC,OACKqC,MAAM,MAExBjD,EAAI,EAAGA,EAAIkkB,EAAUtnB,OAAQoD,IAAK,CACxC,IAAMmkB,EAAMD,EAAUlkB,GAAGiD,MAAM,KAC/B,GAAIkhB,EAAI,IAAMhsB,EACV,OAAOisB,SAASD,EAAI,IAGhC,OAAO,KAIgDF,CAAU,SAWzDnmB,MAAM,OACNsM,OAAQukD,EACRG,YAAY,IACxBC,UAAU,SCdd,IA0GMC,G,+MACFjyD,MAAQ,CACJkyD,SAAU,EACVtR,UAAW,GACXH,KAAM,EACN38B,KAAM,KACN0J,MAAO,G,EAGX/X,aAAe,SAAC9I,EAAOulD,GACnB,EAAKn4C,SAAS,CAAEm4C,aACC,IAAbA,EACA,EAAKzQ,SAAS,EAAG,OACG,IAAbyQ,GACP,EAAKzQ,SAAS,EAAG,Y,EAIzB57B,kBAAoB,WAChB,EAAK47B,SAAS,EAAG,Y,EAGrBA,SAAW,SAAChB,EAAMO,GACdlxC,IAAImJ,IACA,iBACI,EAAK7X,MAAMulC,MAAMtnB,OAAOlgB,GACxB,SACAshD,EACA,SACAO,GAEHhxC,MAAK,SAACxW,GACH,EAAKugB,SAAS,CACV6mC,UAAWpnD,EAASG,KAAKuZ,MACzB4Q,KAAMtqB,EAASG,KAAKmqB,KACpB0J,MAAOh0B,EAASG,KAAK6zB,WAG5Bvd,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,a,EAKhBq5D,SAAW,WACP,EAAK1Q,SACD,EAAKzhD,MAAMygD,KAAO,EACM,IAAxB,EAAKzgD,MAAMkyD,SAAiB,UAAY,Q,EAIhDE,SAAW,WACP,EAAK3Q,SACD,EAAKzhD,MAAMygD,KAAO,EACM,IAAxB,EAAKzgD,MAAMkyD,SAAiB,UAAY,Q,6CAIhD,WAAU,IAAD,OACGvwD,EAAY1I,KAAKmI,MAAjBO,QAER,OACI,yBAAKH,UAAWG,EAAQuc,QACC,OAApBjlB,KAAK+G,MAAM8jB,MAAiB,8BACR,OAApB7qB,KAAK+G,MAAM8jB,MACR,kBAAC8qB,EAAA,EAAD,CAAOliB,QAAM,GACT,yBAAKlrB,UAAWG,EAAQ6sB,SACpB,6BACI,kBAACpK,EAAA,EAAD,CACI5iB,UAAWG,EAAQ0wD,gBACnB/kD,IACI,uBACArU,KAAK+G,MAAM8jB,KAAK3kB,GAChB,QAIZ,6BACI,kBAAC0Y,EAAA,EAAD,CAAYrW,UAAWG,EAAQitB,SAAUtK,QAAM,GAC1CrrB,KAAK+G,MAAM8jB,KAAK1W,QAI7B,kBAACugD,GAAA,EAAD,CACI5tD,MAAO9G,KAAK+G,MAAMkyD,SAClB1B,eAAe,UACfC,UAAU,UACVnhD,SAAUrW,KAAKwc,aACf68C,UAAQ,GAER,kBAAC1E,GAAA,EAAD,CAAKl+C,MAAM,6BACX,kBAACk+C,GAAA,EAAD,CAAKl+C,MAAM,6BACX,kBAACk+C,GAAA,EAAD,CAAKl+C,MAAM,8BAEU,IAAxBzW,KAAK+G,MAAMkyD,UACR,yBAAK1wD,UAAWG,EAAQ4wD,eACpB,kBAACnW,GAAA,EAAD,CAAMvzB,WAAS,EAACjb,QAAS,IACrB,kBAACwuC,GAAA,EAAD,CACIje,MAAI,EACJme,GAAI,EACJD,GAAI,GACJ76C,UAAWG,EAAQ6wD,UAEnB,kBAAC36C,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,MAFZ,OAMA,kBAACiI,EAAA,EAAD,KACK5e,KAAK+G,MAAM8jB,KAAK3kB,KAGzB,kBAACi9C,GAAA,EAAD,CACIje,MAAI,EACJme,GAAI,EACJD,GAAI,GACJ76C,UAAWG,EAAQ6wD,UAEnB,kBAAC36C,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,MAFZ,gBAMA,kBAACiI,EAAA,EAAD,KACK5e,KAAK+G,MAAM8jB,KAAK1W,OAGzB,kBAACgvC,GAAA,EAAD,CACIje,MAAI,EACJme,GAAI,EACJD,GAAI,GACJ76C,UAAWG,EAAQ6wD,UAEnB,kBAAC36C,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,MAFZ,sBAMA,kBAACiI,EAAA,EAAD,KACK5e,KAAK+G,MAAM8jB,KAAKhJ,QAGzB,kBAACshC,GAAA,EAAD,CACIje,MAAI,EACJme,GAAI,EACJD,GAAI,GACJ76C,UAAWG,EAAQ6wD,UAEnB,kBAAC36C,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,MAFZ,4BAMA,kBAACiI,EAAA,EAAD,KACK5e,KAAK+G,MAAMwtB,QAGpB,kBAAC4uB,GAAA,EAAD,CACIje,MAAI,EACJme,GAAI,EACJD,GAAI,GACJ76C,UAAWG,EAAQ6wD,UAEnB,kBAAC36C,EAAA,EAAD,CACI7S,MAAM,gBACN4K,QAAQ,MAFZ,4BAMA,kBAACiI,EAAA,EAAD,KACK5e,KAAK+G,MAAM8jB,KAAK/nB,UAMX,IAAxB9C,KAAK+G,MAAMkyD,UACe,IAAxBj5D,KAAK+G,MAAMkyD,WACX,6BACI,yBAAK1wD,UAAWG,EAAQ6tD,gBACpB,kBAAC/T,GAAA,EAAD,CAAOj6C,UAAWG,EAAQ+5C,OACtB,kBAACC,GAAA,EAAD,KACI,kBAACpE,GAAA,EAAD,KACI,kBAACQ,GAAA,EAAD,2BACA,kBAACA,GAAA,EAAD,CACIv2C,UACIG,EAAQ8wD,YAFhB,4BAOA,kBAAC1a,GAAA,EAAD,CACIv2C,UAAW,CACPG,EAAQ+wD,GACR/wD,EAAQ8wD,aAHhB,4BAQA,kBAAC1a,GAAA,EAAD,CACIv2C,UAAW,CACPG,EAAQ+wD,GACR/wD,EAAQ8wD,aAHhB,8BAUR,kBAAC1W,GAAA,EAAD,KACK9iD,KAAK+G,MAAM4gD,UAAU75C,KAClB,SAAC47C,EAAKxjD,GAAN,OACI,kBAACo4C,GAAA,EAAD,CACI30C,IAAKzD,EACLqC,UACIG,EAAQgxD,UAEZnoD,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KACf,MAAQwvC,EAAI//C,OAIpB,kBAACm1C,GAAA,EAAD,KACI,kBAAClgC,EAAA,EAAD,KACK8qC,EAAIviD,OACCuiD,EAAIviD,OACChF,KACL,yBAGd,kBAAC28C,GAAA,EAAD,CACI0Z,OAAQ,SACRjwD,UACIG,EAAQ8wD,YAGX9P,EAAIvB,aAET,kBAACrJ,GAAA,EAAD,CACIv2C,UACIG,EAAQ8wD,YAGX9P,EAAI3tC,WAET,kBAAC+iC,GAAA,EAAD,CACIv2C,UACIG,EAAQ8wD,YAGX9P,EAAIgF,cAQA,IAAhC1uD,KAAK+G,MAAM4gD,UAAU/gD,QACM,IAAxB5G,KAAK+G,MAAMkyD,UACP,yBAAK1wD,UAAWG,EAAQrG,WACpB,kBAAC+lD,GAAA,EAAD,CACIC,MAAOp+C,KAAK8U,KACR/e,KAAK+G,MAAMwtB,MAAQ,IAEvBle,SAAU,SAAClR,EAAG0K,GAAJ,OACN,EAAK24C,SACD34C,EAEI,IADJ,EAAK9I,MAAMkyD,SAEL,UACA,QAGdltD,MAAM,sB,GA3RvB4Y,aA6ShBg1C,GALC90C,aApTQ,WACpB,MAAO,MAGgB,SAAC5hB,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,QA6S/C8Y,CAGdtK,cArZa,SAAC3S,GAAD,MAAY,CACvBqd,OAAO,aACHnd,MAAO,OACPwN,UAAW,OACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,GAC3Bid,aAAc,QACbhqB,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SAGrB8jB,QAAS,CACLnhB,OAAQ,QACRhM,gBAAiBR,EAAMe,QAAQ0U,QAAQsM,KACvC5hB,QAAS,gBACT+tB,gBACI,gHACAluB,EAAMe,QAAQ0U,QAAQvI,MAAMjI,QAAQ,IAAK,OACzC,2DACAjF,EAAMe,QAAQ0U,QAAQhV,KAAKwE,QAAQ,IAAK,OACxC,6DACAjF,EAAMe,QAAQkM,UAAU8U,KAAK9c,QAAQ,IAAK,OAC1C,0DACAjF,EAAMe,QAAQkM,UAAUxM,KAAKwE,QAAQ,IAAK,OAC1C,0DACAjF,EAAMe,QAAQkM,UAAUC,MAAMjI,QAAQ,IAAK,OAC3C,4DACAjF,EAAMe,QAAQkM,UAAU8U,KAAK9c,QAAQ,IAAK,OAC1C,6DACAjF,EAAMe,QAAQ0U,QAAQhV,KAAKwE,QAAQ,IAAK,OACxC,0DACAjF,EAAMe,QAAQ0U,QAAQsM,KAAK9c,QAAQ,IAAK,OACxC,0DACAjF,EAAMe,QAAQkM,UAAUC,MAAMjI,QAAQ,IAAK,OAC3C,6DACAjF,EAAMe,QAAQkM,UAAUxM,KAAKwE,QAAQ,IAAK,OAC1C,6DACAjF,EAAMe,QAAQkM,UAAU8U,KAAK9c,QAAQ,IAAK,OAC1C,2DACAjF,EAAMe,QAAQkM,UAAUxM,KAAKwE,QAAQ,IAAK,OAC1C,uDACJkpB,eAAgB,QAChB6jC,mBAAoB,UAExBR,gBAAiB,CACbhlD,OAAQ,OACRtM,MAAO,OACP+xD,aAAc,MACdnlD,OAAQ,OACRY,UAAW,OACXoF,UACI,8DACJD,OAAQ,kBAEZkb,SAAU,CACN7tB,MAAO,QACP4M,OAAQ,OACRqQ,UAAW,SACXzP,UAAW,MACXjC,SAAU,OACVtH,MAAO,UACPyE,QAAS,QAEbipD,GAAI,CACAjlD,SAAU,SAEdglD,WAAW,eACN5xD,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,SAGjBskD,UAAW,CACPpL,OAAQ,WAEZjsD,UAAW,CACP0F,QAASH,EAAM+M,QAAQ,IAE3BmlD,SAAU,CACNxkD,UAAW,OACX+C,WAAY,QAEhBkhD,SAAU,CACN9nC,YAAa,iBACb0C,cAAe,kBAEnBmlC,cAAe,CACXhkD,UAAW,QAEfihD,eAAgB,CACZlxC,UAAW,WA0TjB9K,CAAmByK,YAAWg0C,M,0dCnZ1BtxD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCmyD,aAAc,CACV5lC,cAAe,OACfF,WAAY,QAEhB2mB,UAAW,CACPtlC,UAAW,MACX7D,YAAa,OACb1F,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9BmlD,UAAW,CACP/lC,WAAY,EACZE,cAAe,GAEnB1G,QAAS,CACLhc,YAAa,OACb4G,WAAY,MACZ7D,SAAU,IAEdylD,cAAe,CACX7kD,QAAS,YAIF,SAAS8kD,GAAM/xD,GAAQ,IAAD,EACDxD,mBAAS,IADR,mBAC1BgB,EAD0B,KAChBw0D,EADgB,OAEHx1D,oBAAS,GAFN,mBAE1By1D,EAF0B,KAEjBC,EAFiB,KAG3Bp3D,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAGCq3D,EAAmB,SAACp0D,GACtB2Q,IAAI6L,MAAM,sBAAuB,CAC7Bxc,GAAIA,IAEH6Q,MAAK,WACFjB,EAAe,MAAO,QAAS,iCAAS,WACxC3N,EAAM4b,OAAO7d,MAEhB8Q,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YAEjDkX,MAAK,WACFsjD,GAAW,OAIjB3xD,EAAUhB,KAkEhB,OACI,6BACI,kBAACgR,GAAA,EAAD,CAAQ/W,KAAMy4D,EAAS5mD,QAAS,kBAAM6mD,GAAW,KAC7C,kBAAC7gD,GAAA,EAAD,iCACA,kBAACb,GAAA,EAAD,2EACA,kBAACkB,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAAS,kBAAM8oD,GAAW,IAAQtuD,MAAM,WAAhD,gBAGA,kBAAC+N,EAAA,EAAD,CACIvI,QAAS,kBAAM+oD,EAAiB30D,IAChCoG,MAAM,WAFV,kBASR,kBAAC6S,EAAA,EAAD,CAAYrW,UAAWG,EAAQqxD,aAAcpjD,QAAQ,aAArD,kCAGA,kBAACg/B,EAAA,EAAD,KACI,kBAAC54B,GAAA,EAAD,CAAMxU,UAAWG,EAAQsxD,WACpB7xD,EAAM9G,KAAKyM,KAAI,SAAC+B,GAAD,OACZ,oCACI,kBAACoN,GAAA,EAAD,CACIC,QAAM,EACN7M,MAAO,CACH6jB,aAAc,IAElB3iB,QAAS,WACL8oD,GAAW,GACXF,EAAYtqD,EAAE3J,MAGlB,kBAACiX,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAACopB,GAAA,EAAD,OAEJ,kBAACz5B,GAAA,EAAD,CAAcC,QAASxN,EAAE0qD,cAEzB,kBAACj9C,GAAA,EAAD,CACI/L,QAAS,kBAAM+oD,EAAiBzqD,EAAE3J,KAClCqC,UAAWG,EAAQuxD,eAEnB,kBAACtN,GAAA,EAAD,CACIpkD,UAAWG,EAAQkyC,cAI/B,kBAAC99B,EAAA,EAAD,UAGR,kBAACG,GAAA,EAAD,CAAUC,QAAM,EAAC3L,QAAS,WAnHjClP,UAAU0zC,YAKfl/B,IAAIqL,IAAI,cAAe,IAClBnL,MAAK,SAACxW,GACH,IAAMi6D,EAA4Bj6D,EAASG,KAO3C,GANA85D,EAA0BvkB,UAAUC,UAAYhqC,YAC5CsuD,EAA0BvkB,UAAUC,WAExCskB,EAA0BvkB,UAAUprB,KAAK3kB,GAAKgG,YAC1CsuD,EAA0BvkB,UAAUprB,KAAK3kB,IAEzCs0D,EAA0BvkB,UAAUwkB,mBACpC,IACI,IAAIzwD,EAAI,EACRA,EACAwwD,EAA0BvkB,UAAUwkB,mBAC/B7zD,OACLoD,IAEAwwD,EAA0BvkB,UAAUwkB,mBAChCzwD,GACF9D,GAAKgG,YACHsuD,EAA0BvkB,UACrBwkB,mBAAmBzwD,GAAG9D,IAKvC,OAAO7D,UAAU0zC,YAAYt2C,OAAO,CAChCw2C,UAAWukB,EAA0BvkB,eAG5Cl/B,MAAK,SAAC2jD,GACH,IAAMC,EAAoBD,EAAWn6D,SAASo6D,kBACxCnkB,EAAiBkkB,EAAWn6D,SAASi2C,eACrCC,EAAQikB,EAAWjkB,MACzB,OAAO5/B,IAAIqL,IACP,qBACAjZ,KAAKK,UAAU,CACXpD,GAAIw0D,EAAWx0D,GACfuwC,MAAOjqC,YAAaiqC,GACpBn1C,KAAMo5D,EAAWp5D,KACjBf,SAAU,CACNo6D,kBAAmBnuD,YAAamuD,GAChCnkB,eAAgBhqC,YAAagqC,UAK5Cz/B,MAAK,SAACxW,GACH4H,EAAMyyD,IAAIr6D,EAASG,MACnBoV,EAAe,MAAO,QAAS,uCAAU,cAG5CkB,OAAM,SAACjX,GACJqnB,QAAQjd,IAAIpK,GACZ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,YA1DlDiW,EAAe,MAAO,QAAS,qEAAe,aAmHlC,kBAACqH,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAACigC,GAAA,EAAD,OAEJ,kBAACtwC,GAAA,EAAD,CAAcC,QAAQ,yCAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAAC,KAAD,CAAW1xD,UAAWG,EAAQkyC,iBCxI1D,IAyHMigB,G,oDACF,WAAY1yD,GAAQ,IAAD,+BACf,cAAMA,IAIVpB,MAAQ,CACJ+zD,aAAa,EACbC,WAAW,EACXC,gBAAgB,EAChBplD,QAAS,GACTqlD,OAAQ,GACRrS,OAAQ,GACRsS,UAAW,GACXC,aAAc,GACdC,WAAW,EACXC,SAAU,GACVC,aAAa,EACbC,YAAa,KACbC,eAAe,EACfC,oBAAoB,EACpBC,iBAAiB,EACjBC,gBAAgB,EAChBC,cAAc,EACdC,SAAU,CACNlwD,IAAK,EACLmwD,cAAe,EACftzB,OAAQ,CACJtoB,QAAS,CACL/d,KAAM,IACN+D,GAAI,IAER+Z,QAAS,IAEb87C,GAAI,GACJC,UAAU,EACVC,WAAY,GACZC,cAAe,GACfC,aAAc,GACd/tB,OAAQ,GACRiH,MAAO,KAvCI,EA2CnBlrB,YAAc,WACV,EAAKrJ,SAAS,CACVg6C,aAAa,EACbC,WAAW,EACXC,gBAAgB,EAChBplD,QAAS,GACTwlD,WAAW,EACXE,aAAa,EACbE,eAAe,EACfC,oBAAoB,EACpBC,iBAAiB,EACjBC,gBAAgB,EAChBC,cAAc,KAvDH,EA+DnB9oD,iBAAmB,WACf,IAAMC,EACwB,SAA1B,EAAK5K,MAAM4J,WACL,OAC0B,SAA1B,EAAK5J,MAAM4J,WACX,YACA,OACVnR,IAAK8I,cAAc,cAAeqJ,GAClC,EAAK5K,MAAMi0D,WAAWrpD,IAvEP,EA0EnBspD,YAAc,WACVxlD,IAAImJ,IAAI,iBACHjJ,MAAK,SAACxW,GACH,IAAMqH,EAAQqB,KAAKpG,MAAMtC,EAASG,KAAK0tC,QACvC7tC,EAASG,KAAK0tC,OAASxmC,EACvB,EAAKkZ,SAAS,CACV+6C,SAAUt7D,EAASG,UAG1BsW,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,aAxFG,EA6FnBy8D,cAAgB,WACZzlD,IAAI6L,MAAM,oBAAqB,IAC1B3L,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,6FACA,WAEJ,EAAKgX,iBAERnT,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,aA7GG,EAkHnB08D,YAAc,WACV,EAAKz7C,SAAS,CACVlL,QAAS,aAEbiB,IAAIqL,IAAI,wBACHnL,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,qEACA,WAEJ,EAAK2N,SAAS,CACVlL,QAAS,QAGhBoB,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SA1IN,EA+InBgmD,aAAe,SAAC11D,GACZ2Q,IAAI6L,MAAM,uBAAwB,CAC9Bxc,GAAIA,IAEH6Q,MAAK,WACFjW,OAAOC,SAAS4pB,YAEnB3T,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SA9JN,EAmKnB4mD,WAAa,WACT,EAAK17C,SAAS,CACVlL,QAAS,SAEbiB,IAAI6L,MAAM,qBAAsB,CAC5BvO,KAAM,EAAKpN,MAAMoN,OAEhB4C,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,qEACA,WAEJ,EAAK2N,SAAS,CACVlL,QAAS,KAEb,EAAKuU,iBAERnT,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SA9LN,EAmMnB6mD,OAAS,WACL,EAAK37C,SAAS,CACVlL,QAAS,SAEbiB,IAAI6L,MAAM,mBAAoB,IACzB3L,MAAK,SAACxW,GACmB,KAAlBA,EAASG,MACT,EAAKyH,MAAMgL,eACP,MACA,QACA,2DACA,WAEJ,EAAK2N,SAAS,CACV+6C,SAAS,2BACF,EAAK90D,MAAM80D,UADV,IAEJE,IAAI,OAIZj7D,OAAOC,SAASC,KAAOT,EAASG,KAEpC,EAAKypB,iBAERnT,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,YAGPkX,MAAK,WACF,EAAK+J,SAAS,CACVlL,QAAS,SArON,EA0OnB8mD,aAAe,WACX,EAAK57C,SAAS,CACVlL,QAAS,WAEb,IAAM+mD,EAAW,IAAIC,SACrBD,EAASE,OAAO,SAAU,EAAKC,UAAU58C,QAAQ+iB,MAAM,IACvDpsB,IAAIC,KAAK,uBAAwB6lD,EAAU,CACvCI,QAAS,CACL,eAAgB,yBAGnBhmD,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,qEACA,WAEJ,EAAK2N,SAAS,CACVlL,QAAS,QAGhBoB,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SAxQN,EA6QnBonD,aAAe,WACXnmD,IAAI6L,MAAM,yBAA0B,CAChCzK,QAAS,EAAKlR,MAAM80D,SAASG,WAE5BjlD,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,iCACA,WAEJ,EAAK2N,SAAS,CACV+6C,SAAS,2BACF,EAAK90D,MAAM80D,UADV,IAEJG,UAAW,EAAKj1D,MAAM80D,SAASG,gBAI1ChlD,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,aApSG,EAySnBo9D,WAAa,WACL,EAAKl2D,MAAM6hD,SAAW,EAAK7hD,MAAMo0D,cASrC,EAAKr6C,SAAS,CACVlL,QAAS,mBAEbiB,IAAI6L,MAAM,yBAA0B,CAChCw6C,IAAK,EAAKn2D,MAAMk0D,OAChBkC,IAAK,EAAKp2D,MAAM6hD,SAEf7xC,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,iCACA,WAEJ,EAAK2N,SAAS,CACVlL,QAAS,KAEb,EAAKuU,iBAERnT,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SAnCjB,EAAKzN,MAAMgL,eACP,MACA,QACA,yDACA,YA/SO,EAmVnBmoD,YAAc,WACV,EAAKx6C,SAAS,CACVlL,QAAS,gBAEbiB,IAAI6L,MAAM,sBAAuB,CAC7B9a,MAAO,EAAKb,MAAMw0D,cAEjBxkD,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,6CACA,WAEJ,EAAKhL,MAAM81B,YAAY,EAAKl3B,MAAMw0D,aAClC,EAAKz6C,SAAS,CACVlL,QAAS,QAGhBoB,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SA9WN,EAmXnBwnD,iBAAmB,WACf,EAAKt8C,SAAS,CACVlL,QAAS,qBAEbpW,KACKsX,KAAK,uBAAwB,CAC1B69B,IAAK,EAAK5tC,MAAMm0D,YAEnBnkD,MAAK,SAACxW,GACyB,MAAxBA,EAASG,KAAKX,OACd,EAAKoI,MAAMgL,eACP,MACA,QACA5S,EAASG,KAAKO,IACd,SAEJ,EAAK6f,SAAS,CACVlL,QAAS,OAGb,EAAKzN,MAAMgL,eACP,MACA,QACA5S,EAASG,KAAKO,IACd,WAEJ,EAAK6f,SAAS,CACVlL,QAAS,GACT8lD,iBAAiB,QAI5B1kD,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SA3ZN,EAganBynD,QAAU,WACF,EAAKt2D,MAAM80D,SAASI,WACpB,EAAKn7C,SAAS,CAAEs6C,WAAW,IAG/BvkD,IAAImJ,IAAI,qBACHjJ,MAAK,SAACxW,GACH,EAAKugB,SAAS,CACVo7C,cAAe37D,EAASG,KACxB06D,WAAW,OAGlBpkD,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,aAjbG,EAsbnBu7D,UAAY,WACR,EAAKt6C,SAAS,CACVlL,QAAS,cAEbiB,IAAI6L,MAAM,oBAAqB,CAC3B5iB,KAAM,EAAKiH,MAAMs0D,WAEhBtkD,MAAK,WACF,EAAK5O,MAAMgL,eACP,MACA,QACA,iCACA,WAEJ,EAAK2N,SAAS,CACVlL,QAAS,GACTimD,SAAS,2BACF,EAAK90D,MAAM80D,UADV,IAEJI,YAAa,EAAKl1D,MAAM80D,SAASI,eAGzC,EAAK9xC,iBAERnT,OAAM,SAACjX,GACJ,EAAKoI,MAAMgL,eACP,MACA,QACApT,EAAMF,QACN,SAEJ,EAAKihB,SAAS,CACVlL,QAAS,SArdN,EA0dnB4G,aAAe,SAACra,GAAD,OAAU,SAACuR,GACtB,EAAKoN,SAAL,eAAiB3e,EAAOuR,EAAMxM,OAAOJ,UA3dtB,EA8dnBw2D,gBAAkB,SAAC5pD,EAAO6nD,GAAR,OAAwB,EAAKz6C,SAAS,CAAEy6C,iBA9dvC,EAgenBgC,gBAAkB,SAACr9C,GACC,OAAZA,IACA,EAAK/X,MAAM8I,qBACXrQ,IAAK8I,cAAc,aAAc,QAjerC,EAAKozD,UAAYphD,IAAMkK,YAFR,E,sDA2DnB,WACI5lB,KAAKq8D,gB,oBA2aT,WAAU,IAAD,OACG3zD,EAAY1I,KAAKmI,MAAjBO,QACFmiB,EAAOjqB,IAAKoI,UACZX,EAAOzH,IAAKiJ,cAAc,cAEhC,OACI,6BACI,yBAAKtB,UAAWG,EAAQuc,QACpB,kBAACrG,EAAA,EAAD,CACIrW,UAAWG,EAAQqxD,aACnBpjD,QAAQ,aAFZ,4BAMA,kBAACg/B,EAAA,EAAD,KACI,kBAAC54B,GAAA,EAAD,CAAMxU,UAAWG,EAAQsxD,WACrB,kBAAC/8C,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CAAEg6C,aAAa,MAGjC,kBAAC7uC,GAAA,EAAD,KACI,kBAACd,EAAA,EAAD,CACI9W,IACI,uBACAwW,EAAK3kB,GACL,QAIZ,kBAACkX,GAAA,EAAD,CAAcC,QAAQ,iBACtB,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAD,CAAW/U,UAAWG,EAAQkyC,cAGtC,kBAAC99B,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,QAEtB,kBAACC,GAAA,EAAD,KACI,kBAACsB,EAAA,EAAD,CACIrW,UAAWG,EAAQ80D,iBACnBzxD,MAAM,iBAEL/L,KAAK+G,MAAM80D,SAASlwD,OAIjC,kBAACmR,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CAAEi6C,WAAW,MAG/B,kBAAC59C,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,iBAEtB,kBAACC,GAAA,EAAD,CACI/L,QAAS,kBACL,EAAKuP,SAAS,CAAEi6C,WAAW,KAE/BxyD,UAAWG,EAAQuxD,eAEnB,kBAACr7C,EAAA,EAAD,CACIrW,UAAWG,EAAQ80D,iBACnBzxD,MAAM,iBAEL8e,EAAKS,UAEV,kBAAC,KAAD,CACI/iB,UAAWG,EAAQ+0D,sBAI/B,kBAAC3gD,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,UAEtB,kBAACC,GAAA,EAAD,KACI,kBAACsB,EAAA,EAAD,CACIrW,UAAWG,EAAQg1D,SACnB3xD,MAAM,iBAEL8e,EAAKU,aAIlB,kBAACzO,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,gBAG5B,kBAACiD,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,uBAEtB,kBAACC,GAAA,EAAD,KACI,kBAACsB,EAAA,EAAD,CACIrW,UAAWG,EAAQg1D,SACnB3xD,MAAM,iBAEL8e,EAAKhJ,MAAM1f,KACXnC,KAAK+G,MAAM80D,SAASC,cACjB,GACA,8BACK,IACD,kBAAC/9C,GAAA,EAAD,CACI3M,MAAO/C,YAGC,IAFJrO,KAAK+G,MAAM80D,SACNC,gBAIT,kBAAC,KAAD,CACI7V,SACIjmD,KAAK+G,MAAM80D,SACNC,cACL,MAEJ3V,OAAO,WAEJ,IAjBf,mBAwBfnmD,KAAK+G,MAAM80D,SAASC,cAAgB,GACjC,6BACI,kBAACh/C,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CACV66C,gBAAgB,MAIxB,kBAACx+C,GAAA,EAAD,CACI5U,UAAWG,EAAQ+kB,SAEnB,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,2DAEtB,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAD,CACI/U,UAAWG,EAAQkyC,eAMvC,kBAAC99B,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CAAUC,QAAM,EAAC3L,QAAS,kBAAM,EAAKkrD,WACjC,kBAACt/C,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,mBAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAACr7C,EAAA,EAAD,CACIrW,UAAWG,EAAQ80D,iBACnBzxD,MAAM,iBAEL/L,KAAK+G,MAAM80D,SAASE,GACf,2BACA,gBAEV,kBAAC,KAAD,CACIxzD,UAAWG,EAAQ+0D,sBAI/B,kBAAC3gD,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CAAE86C,cAAc,MAGlC,kBAACz+C,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAACr7C,EAAA,EAAD,CACIrW,UAAWG,EAAQ80D,iBACnBzxD,MAAM,iBAGF/L,KAAK+G,MAAM80D,SAASrzB,OAAOtoB,QACtB/d,MAGb,kBAAC,KAAD,CACIoG,UAAWG,EAAQ+0D,sBAI/B,kBAAC3gD,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAACkwC,GAAA,EAAD,OAEJ,kBAACvgD,GAAA,EAAD,CAAcC,QAAQ,iBAEtB,kBAACC,GAAA,EAAD,KACI,kBAACsB,EAAA,EAAD,CACIrW,UAAWG,EAAQg1D,SACnB3xD,MAAM,iBAEL8e,EAAKzT,SAIlB,kBAAC0F,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,KACI,kBAACsB,EAAA,EAAD,CACIrW,UAAWG,EAAQg1D,SACnB3xD,MAAM,iBAELsC,YACGd,SAASsd,EAAKm7B,WAAa,aAOnD,kBAACpnC,EAAA,EAAD,CACIrW,UAAWG,EAAQqxD,aACnBpjD,QAAQ,aAFZ,4BAMA,kBAACg/B,EAAA,EAAD,KACI,kBAAC54B,GAAA,EAAD,CAAMxU,UAAWG,EAAQsxD,WACrB,kBAAC/8C,GAAA,EAAD,CAAUC,QAAM,GACZ,kBAACC,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,KACI,kBAACsgD,GAAA,EAAD,CACIvnD,SAAUrW,KAAKg9D,aACfx/C,QAASxd,KAAK+G,MAAM80D,SAASG,aAIzC,kBAACl/C,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CAAEk6C,gBAAgB,MAGpC,kBAAC79C,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAAC,KAAD,CAAW1xD,UAAWG,EAAQkyC,cAGtC,kBAAC99B,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CAAUC,QAAM,EAAC3L,QAAS,kBAAM,EAAK8rD,YACjC,kBAAClgD,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAACr7C,EAAA,EAAD,CACIrW,UAAWG,EAAQ80D,iBACnBzxD,MAAM,iBAEJ/L,KAAK+G,MAAM80D,SAASI,WAEhB,qBADA,sBAGV,kBAAC,KAAD,CACI1zD,UAAWG,EAAQ+0D,wBAOvC,kBAACvD,GAAD,CACI74D,KAAMrB,KAAK+G,MAAM80D,SAASxmB,MAC1BulB,IAAK,SAACF,GACF,EAAK55C,SAAS,CACV+6C,SAAS,2BACF,EAAK90D,MAAM80D,UADV,IAEJxmB,MAAM,GAAD,oBACE,EAAKtuC,MAAM80D,SAASxmB,OADtB,CAEDqlB,SAKhB32C,OAAQ,SAAC7d,GACL,IAAI6vC,EAAW,aAAO,EAAKhvC,MAAM80D,SAASxmB,OAC1CU,EAAcA,EAAYzyC,QAAO,SAACuM,GAC9B,OAAOA,EAAE3J,KAAOA,KAEpB,EAAK4a,SAAS,CACV+6C,SAAS,2BACF,EAAK90D,MAAM80D,UADV,IAEJxmB,MAAOU,SAMvB,kBAACn3B,EAAA,EAAD,CACIrW,UAAWG,EAAQqxD,aACnBpjD,QAAQ,aAFZ,sBAMA,kBAACg/B,EAAA,EAAD,KACI,kBAAC54B,GAAA,EAAD,CAAMxU,UAAWG,EAAQsxD,WACrB,kBAAC/8C,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CAAEw6C,aAAa,MAGjC,kBAACn+C,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,yBAAK1xD,UAAWG,EAAQm1D,aACxB,yBAAKt1D,UAAWG,EAAQo1D,gBAGhC,kBAAChhD,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBAAM,EAAKgsD,gBAAgBl1D,KAEpC,kBAAC8U,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAACswC,GAAA,EAAD,OAEJ,kBAAC3gD,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAACr7C,EAAA,EAAD,CACIrW,UAAWG,EAAQ80D,iBACnBzxD,MAAM,iBAEL1D,IACa,SAATA,EACK,2BACA,4BACA,OAATA,GAAiB,4BAEtB,kBAAC,KAAD,CACIE,UAAWG,EAAQ+0D,sBAI/B,kBAAC3gD,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBAAM,EAAKuB,qBAEpB,kBAACqK,GAAA,EAAD,CAAc5U,UAAWG,EAAQ+kB,SAC7B,kBAACuwC,GAAA,EAAD,OAEJ,kBAAC5gD,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAACr7C,EAAA,EAAD,CACIrW,UAAWG,EAAQ80D,iBACnBzxD,MAAM,iBAEqB,SAA1B/L,KAAKmI,MAAM4J,YACR,qBACuB,SAA1B/R,KAAKmI,MAAM4J,YACR,eAEA,cADH/R,KAAKmI,MAAM4J,YACO,sBAEvB,kBAAC,KAAD,CACIxJ,UAAWG,EAAQ+0D,wBAMtC5yC,EAAKhJ,MAAM6L,QACR,6BACI,kBAAC9O,EAAA,EAAD,CACIrW,UAAWG,EAAQqxD,aACnBpjD,QAAQ,aAFZ,UAMA,kBAACg/B,EAAA,EAAD,KACI,kBAAC54B,GAAA,EAAD,CAAMxU,UAAWG,EAAQsxD,WACrB,kBAAC/8C,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CACV06C,eAAe,MAIvB,kBAACr+C,GAAA,EAAD,CACI5U,UAAWG,EAAQ+kB,SAEnB,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAAC,KAAD,CACI1xD,UAAWG,EAAQkyC,cAI/B,kBAAC99B,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKuP,SAAS,CACV26C,oBAAoB,MAI5B,kBAACt+C,GAAA,EAAD,CACI5U,UAAWG,EAAQ+kB,SAEnB,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,uBAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAAC,KAAD,CACI1xD,UAAWG,EAAQkyC,cAI/B,kBAAC99B,EAAA,EAAD,MACA,kBAACG,GAAA,EAAD,CACIC,QAAM,EACN3L,QAAS,kBACL,EAAKpJ,MAAMkD,QAAQ6O,KAAK,cAG5B,kBAACiD,GAAA,EAAD,CACI5U,UAAWG,EAAQ+kB,SAEnB,kBAAC,KAAD,OAEJ,kBAACrQ,GAAA,EAAD,CAAcC,QAAQ,6BAEtB,kBAACC,GAAA,EAAD,CACI/U,UAAWG,EAAQuxD,eAEnB,kBAAC,KAAD,CACI1xD,UAAWG,EAAQkyC,iBAQ/C,yBAAKryC,UAAWG,EAAQyrB,iBAE5B,kBAACzb,GAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAM60D,aACjBpoD,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,6CACA,kBAACuD,GAAA,EAAD,KACK/c,KAAK+G,MAAM80D,SAASrzB,OAAOvoB,QAAQnS,KAChC,SAAChH,EAAOX,GAAR,OACI,kBAAC8W,GAAA,EAAD,CACIC,QAAM,EACN/G,UAAU,QACVxM,IAAKxD,EACLoL,QAAS,kBAAM,EAAKqqD,aAAa90D,EAAMZ,MAEvC,kBAAC+lB,GAAA,EAAD,KACKnlB,EAAMZ,KACH,EAAKa,MAAM80D,SAASrzB,OAAOtoB,QACtBha,IACL,kBAACilB,EAAA,EAAD,CACI5iB,UACIG,EAAQmjB,gBAGZ,kBAACtiB,GAAA,EAAD,OAGPzC,EAAMZ,KACH,EAAKa,MAAM80D,SAASrzB,OAAOtoB,QACtBha,IACL,kBAACilB,EAAA,EAAD,CACI5iB,UACIG,EAAQkjB,gBAGZ,kBAAC,KAAD,QAIZ,kBAACxO,GAAA,EAAD,CAAcC,QAASvW,EAAM3E,aAMjD,kBAACuW,GAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAM+zD,YACjBtnD,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,iCACA,kBAACuD,GAAA,EAAD,KACI,kBAACE,GAAA,EAAD,CACIC,QAAM,EACN/G,UAAU,QACVc,SAAiC,WAAvBjX,KAAK+G,MAAM6O,SAErB,2BACItU,KAAK,OACLi2C,OAAO,UACPlnC,MAAO,CAAE+E,QAAS,QAClBkS,IAAKtnB,KAAK88D,UACVzmD,SAAUrW,KAAK08D,eAEnB,kBAACzwC,GAAA,EAAD,KACI,kBAACd,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQkjB,gBACvB,kBAAC,KAAD,QAGR,kBAACxO,GAAA,EAAD,CAAcC,QAAQ,oCAE1B,kBAACJ,GAAA,EAAD,CACIC,QAAM,EACN3L,QAASvR,KAAKu8D,YACdtlD,SAAiC,aAAvBjX,KAAK+G,MAAM6O,SAErB,kBAACqW,GAAA,EAAD,KACI,kBAACd,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQu1D,cACvB,kBAAC,KAAD,QAGR,kBAAC7gD,GAAA,EAAD,CACI7U,UAAWG,EAAQw1D,YACnB7gD,QAAQ,0CAIpB,kBAACxD,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,kBAKR,kBAAC2M,GAAA,EAAD,CAAQ/W,KAAM3B,KAAK+G,MAAMg0D,UAAWvnD,QAASxT,KAAKmqB,aAC9C,kBAAC3Q,GAAA,EAAD,iCACA,kBAACb,GAAA,EAAD,KACI,kBAACqG,GAAA,EAAD,CACI9Y,GAAG,gBACHuQ,MAAM,eACNlO,UAAWG,EAAQ8rD,UACnB1tD,MAAO9G,KAAK+G,MAAMoN,KAClBkC,SAAUrW,KAAKwc,aAAa,QAC5B9H,OAAO,SACP2C,WAAS,KAGjB,kBAACwC,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,gBAGA,kBAAC+N,EAAA,EAAD,CACIvI,QAASvR,KAAKw8D,WACdzwD,MAAM,UACNkL,SAC2B,SAAvBjX,KAAK+G,MAAM6O,SACS,KAApB5V,KAAK+G,MAAMoN,MALnB,kBAYR,kBAACuE,GAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAM40D,eACjBnoD,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,uCACA,kBAACb,GAAA,EAAD,uLAGA,kBAACkB,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,gBAGA,kBAAC+N,EAAA,EAAD,CAAQvI,QAASvR,KAAKs8D,cAAevwD,MAAM,WAA3C,kBAKR,kBAAC2M,GAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAMi0D,eACjBxnD,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,6CACA,kBAACb,GAAA,EAAD,KACI,6BACI,kBAACqG,GAAA,EAAD,CACI9Y,GAAG,gBACHuQ,MAAM,qBACNnV,KAAK,WACLiH,UAAWG,EAAQ8rD,UACnB1tD,MAAO9G,KAAK+G,MAAMk0D,OAClB5kD,SAAUrW,KAAKwc,aAAa,UAC5B9H,OAAO,SACP2C,WAAS,KAGjB,6BACI,kBAAC2H,GAAA,EAAD,CACI9Y,GAAG,gBACHuQ,MAAM,qBACNnV,KAAK,WACLiH,UAAWG,EAAQ8rD,UACnB1tD,MAAO9G,KAAK+G,MAAM6hD,OAClBvyC,SAAUrW,KAAKwc,aAAa,UAC5B9H,OAAO,YAGf,6BACI,kBAACsK,GAAA,EAAD,CACI9Y,GAAG,gBACHuQ,MAAM,iCACNnV,KAAK,WACLiH,UAAWG,EAAQ8rD,UACnB1tD,MAAO9G,KAAK+G,MAAMo0D,aAClB9kD,SAAUrW,KAAKwc,aAAa,gBAC5B9H,OAAO,aAInB,kBAACmF,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,gBAGA,kBAAC+N,EAAA,EAAD,CACIvI,QAASvR,KAAKi9D,WACdlxD,MAAM,UACNkL,SAC2B,mBAAvBjX,KAAK+G,MAAM6O,SACW,KAAtB5V,KAAK+G,MAAMk0D,QACiB,KAA5Bj7D,KAAK+G,MAAMo0D,cACW,KAAtBn7D,KAAK+G,MAAM6hD,QAPnB,kBAcR,kBAAClwC,GAAA,EAAD,CAAQ/W,KAAM3B,KAAK+G,MAAMq0D,UAAW5nD,QAASxT,KAAKmqB,aAC9C,kBAAC3Q,GAAA,EAAD,KACKxZ,KAAK+G,MAAM80D,SAASI,WAAa,eAAO,eAD7C,4BAIA,kBAACtjD,GAAA,EAAD,KACI,yBAAKpQ,UAAWG,EAAQy1D,wBAClBn+D,KAAK+G,MAAM80D,SAASI,YAClB,yBAAK1zD,UAAWG,EAAQ01D,QACpB,kBAAC,KAAD,CACIt3D,MACI,kBACA9G,KAAKmI,MAAMiJ,MACX,WACApR,KAAK+G,MAAMm1D,iBAM3B,yBAAK3zD,UAAWG,EAAQ21D,UAClBr+D,KAAK+G,MAAM80D,SAASI,YAClB,kBAACr9C,EAAA,EAAD,0YAIH5e,KAAK+G,MAAM80D,SAASI,YACjB,kBAACr9C,EAAA,EAAD,iFAIJ,kBAACI,GAAA,EAAD,CACI9Y,GAAG,gBACHuQ,MAAM,4BACNnV,KAAK,SACLiH,UAAWG,EAAQ8rD,UACnB1tD,MAAO9G,KAAK+G,MAAMs0D,SAClBhlD,SAAUrW,KAAKwc,aAAa,YAC5B9H,OAAO,SACP2C,WAAS,EACTnB,WAAS,OAKzB,kBAAC2D,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,gBAGA,kBAAC+N,EAAA,EAAD,CACIvI,QAASvR,KAAKo7D,UACdrvD,MAAM,UACNkL,SAC2B,cAAvBjX,KAAK+G,MAAM6O,SACa,KAAxB5V,KAAK+G,MAAMs0D,UAGdr7D,KAAK+G,MAAM80D,SAASI,WAAa,eAAO,eAR7C,8BAaR,kBAACvjD,GAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAMu0D,YACjB9nD,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,6CACA,kBAACb,GAAA,EAAD,KACI,kBAAC2lD,GAAA,EAAD,CACIx3D,MAAO9G,KAAK+G,MAAMw0D,YAClBgD,WAAS,EACTloD,SAAUrW,KAAKs9D,iBAEdl9D,OAAO0oB,KAAK9oB,KAAK+G,MAAM80D,SAASztB,QAAQtgC,KACrC,SAAChH,EAAO6C,GAAR,OACI,kBAAC60D,GAAA,EAAD,CAAc13D,MAAOA,EAAO6C,IAAKA,GAC7B,yBACIpB,UAAWG,EAAQ+1D,WACnBpuD,MAAO,CAAEjI,gBAAiBtB,WAOlD,kBAAC+S,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,gBAGA,kBAAC+N,EAAA,EAAD,CACIvI,QAASvR,KAAKs7D,YACdvvD,MAAM,UACNkL,SAC2B,gBAAvBjX,KAAK+G,MAAM6O,SACgB,OAA3B5V,KAAK+G,MAAMw0D,aALnB,kBAYR,kBAAC7iD,GAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAMy0D,cACjBhoD,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,uCACA,kBAACb,GAAA,EAAD,KACI,kBAACqG,GAAA,EAAD,CACI9Y,GAAG,gBACHqC,UAAWG,EAAQ8rD,UACnB1tD,MAAOhG,OAAOC,SAAS62D,OAAS,OAChCljD,OAAO,SACP2C,WAAS,KAGjB,kBAACwC,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,kBAKR,kBAAC2M,GAAA,EAAD,CACI/W,KAAM3B,KAAK+G,MAAM00D,mBACjBjoD,QAASxT,KAAKmqB,aAEd,kBAAC3Q,GAAA,EAAD,iCACA,kBAACb,GAAA,EAAD,KACI,kBAACqG,GAAA,EAAD,CACI9Y,GAAG,gBACHqC,UAAWG,EAAQ8rD,UACnB1tD,MAAO+jB,EAAKU,UACZ7W,OAAO,SACP2C,WAAS,KAGjB,kBAACwC,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAASvR,KAAKmqB,YAAape,MAAM,WAAzC,uB,GAzzCW4Y,aAw0CpB+5C,GALK75C,aA51CI,SAAC9d,GACrB,MAAO,CACHqK,MAAOrK,EAAM8J,WAAWO,MACxBikC,MAAOtuC,EAAM8J,WAAWwkC,MACxBtjC,WAAYhL,EAAM3D,WAAW4O,uBAIV,SAAC/O,GACxB,MAAO,CACHkQ,eAAgB,SAACF,EAAUC,EAAYjS,EAAK8K,GACxC9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,KAEvDkyB,YAAa,SAAClyB,GACV9I,EAASg7B,YAAYlyB,KAEzBkF,mBAAoB,WAChBhO,EAASgO,gBAEbmrD,WAAY,SAAC36D,GACTwB,EAASiP,YAAiBzQ,QAw0ClBojB,CAGlBtK,cA/7Ca,SAAC3S,GAAD,MAAY,CACvBqd,OAAO,aACHnd,MAAO,OACPuQ,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAC1B/M,EAAMI,YAAYkd,GAAG,KAA0B,EAAnBtd,EAAM+M,QAAQ,IAAU,CACjD7M,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SAGrBsoD,aAAc,CACV5lC,cAAe,OACfF,WAAY,QAEhB2mB,UAAW,CACPtlC,UAAW,MACX7D,YAAa,OACb1F,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B+W,eAAgB,CACZxjB,gBAAiB+P,KAAK,KACtBpM,MAAOoM,KAAK,MAEhB8lD,aAAc,CACV71D,gBAAiBu2D,KAAO,KACxB5yD,MAAO4yD,KAAO,MAElB9yC,eAAgB,CACZzjB,gBAAiBwP,KAAM,KACvB7L,MAAO6L,KAAM,MAEjB8lD,SAAU,CACNjsD,YAAa,QAEjB+rD,iBAAkB,CACd/rD,YAAa,OACb6D,UAAW,OAEfmoD,kBAAmB,CACfnoD,UAAW,MACX7D,YAAa,OACb1F,MAAOnE,EAAMe,QAAQ6P,KAAK3D,WAE9B4Y,QAAS,CACLhc,YAAa,OACb4G,WAAY,MACZ7D,SAAU,IAEdylD,cAAe,CACX7kD,QAAS,QAEb4kD,UAAW,CACP/lC,WAAY,EACZE,cAAe,GAEnBgqC,sBAAsB,aAClB/oD,QAAS,QACRxN,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,YAGjBipD,QAAS,CACL/oD,UAAW,QAEfwoD,YAAa,CACT1pD,OAAQ,OACRtM,MAAO,OACPM,gBAAiBR,EAAMe,QAAQkM,UAAU8U,KACzCvE,aAAc,MACd3T,YAAa,QAEjBosD,WAAY,CACRzpD,OAAQ,OACRtM,MAAO,OACPM,gBAAiBR,EAAMe,QAAQ0U,QAAQsM,KACvCvE,aAAc,MACd3T,YAAa,OAEjBgtD,WAAY,CACRrqD,OAAQ,OACRtM,MAAO,QAEXqsB,cAAe,CACXvC,aAAc,QAElBssC,YAAa,CACThqC,aAActsB,EAAM+M,QAAQ,IAEhCypD,OAAQ,CACJt2D,MAAO,IACPwN,UAAW,GACX7D,YAAa,OAm2CnB8I,CAAmByK,YAAW61C,MCn/CjB,SAAS+D,KACpB,IAAM94C,EAJC,IAAIC,gBAAgBF,cAAcG,QAKnCjlB,EAAW8kB,cACXxa,EAAUksB,cACVt0B,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECqyC,EAActkC,uBAAY,SAACpJ,GAAD,OAAW3E,EAASg7B,YAAYr2B,MAAS,CACrE3E,IAEEsyC,EAAmBvkC,uBACrB,SAACiH,GAAD,OAAYhV,EAAS2nB,YAAiB3S,MACtC,CAAChV,IAf4B,EAkBX0B,mBAAS,IAlBE,mBAkB1B1D,EAlB0B,KAkBrB49D,EAlBqB,KA+DjC,OAzBA55D,qBAAU,WACF6gB,EAAM9F,IAAI,qBACV6+C,EAAO/4C,EAAM9F,IAAI,sBAGK,OAAtB8F,EAAM9F,IAAI,SAGdnJ,IAAIC,KAAK,eAAgB,CACrBhX,KAAMgmB,EAAM9F,IAAI,QAChBjZ,MAAO+e,EAAM9F,IAAI,WAEhBjJ,MAAK,SAACxW,GA9BI,IAACG,EA+BsB,MAA1BH,EAASE,QAAQX,MA/BbY,EAgCOH,EAASG,KA/BhCE,IAAKiI,aAAanI,GAGc,KAA5BA,EAAI,iBACJ40C,EAAY50C,EAAI,iBAEpB2tC,KAGAkH,GAAiB,GAEjBlqC,EAAQ6O,KAAK,SACbpE,EAAe,MAAO,QAAS,2BAAQ,WAEvC5M,aAAausC,WAAW,oBAmBZpqC,EAAQ6O,KAAK3Z,EAASG,SAG7BsW,OAAM,SAACjX,GACJ8+D,EAAO9+D,EAAMF,cAGtB,CAACkB,IAEG,oCAAW,KAARE,GAAc,kBAACitC,EAAD,CAAQjtC,IAAKA,K,8CCvDnCyG,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,QACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,KAVZ,GAYNoe,MAAO,CACHva,UAAW1N,EAAM+M,QAAQ,GACzBS,QAAS,OACTg/B,cAAe,SACfl/B,WAAY,SACZnN,QAAQ,GAAD,OAAKH,EAAM+M,QAAQ,GAAnB,cAA2B/M,EAAM+M,QAAQ,GAAzC,cAAiD/M,EAAM+M,QAC1D,GADG,OAIXuD,OAAQ,CACJxD,OAAQ9M,EAAM+M,QAAQ,GACtBvM,gBAAiBR,EAAMe,QAAQkM,UAAU8U,MAE7C0qB,KAAM,CACFvsC,MAAO,OACPwN,UAAW1N,EAAM+M,QAAQ,IAE7Bu+B,OAAQ,CACJ59B,UAAW1N,EAAM+M,QAAQ,IAE7BmT,KAAM,CACFxS,UAAW,OACXF,QAAS,OACTtN,MAAO,OACPksB,eAAgB,iBAEpBkc,iBAAiB,aACb96B,QAAS,OACTE,UAAW,QACV1N,EAAMI,YAAYC,KAAK,MAAQ,CAC5BmN,QAAS,UAGjBk7B,mBAAoB,CAChBxoC,MAAO,KAEXwsC,gBAAiB,CACbl/B,QAAS,QAEbm/B,UAAW,CACPxvB,UAAW,SACXzP,UAAW,IAEfwpD,cAAe,CACXpqD,OAAQ9M,EAAM+M,QAAQ,GACtBvM,gBAAiBR,EAAMe,QAAQ0U,QAAQsM,UA8KhCo1C,OA1Kf,WAAqB,IAAD,EACUp6D,mBAAS,CAC/B8vC,MAAO,GACP34B,SAAU,GACVkjD,gBAAiB,KAJL,mBACTt/C,EADS,KACFu/C,EADE,OAMct6D,oBAAS,GANvB,mBAMTiR,EANS,KAMAC,EANA,OAOsBlR,oBAAS,GAP/B,mBAOTu6D,EAPS,KAOIC,EAPJ,KASV/tD,EAAQR,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWO,SAChDguD,EAAaxuD,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWuuD,cAErDn8D,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECoI,EAAUksB,cAEV1W,EAAoB,SAAC1e,GAAD,OAAU,SAACgD,GACjC85D,EAAS,2BACFv/C,GADC,kBAEHvd,EAAOgD,EAAE+B,OAAOJ,WAvBT,EAkCZssC,KANAG,EA5BY,EA4BZA,eACAN,EA7BY,EA6BZA,WACAa,EA9BY,EA8BZA,SACAD,EA/BY,EA+BZA,cACAJ,EAhCY,EAgCZA,kBACAG,EAjCY,EAiCZA,iBAEElrC,EAAUhB,KAoChB,OACI,yBAAKa,UAAWG,EAAQuc,QACpB,qCACMi6C,GACE,kBAACvpB,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAAC1E,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQwP,QACvB,kBAAC,KAAD,OAEJ,kBAAC0G,EAAA,EAAD,CAAYzI,UAAU,KAAKQ,QAAQ,MAAnC,gBACQvF,GAGR,0BAAM7I,UAAWG,EAAQ2rC,KAAM5wB,SA9ClC,SAAXupB,EAAY7nC,GACdA,EAAE4U,iBAEE2F,EAAM5D,WAAa4D,EAAMs/C,iBAK7BnpD,GAAW,GACNo9B,EAAW/yB,QAAQ+yB,aAAcmsB,EAItCvoD,IAAIC,KAAK,QAAT,aACI++B,SAAUn2B,EAAM+0B,MAChBqB,SAAUp2B,EAAM5D,UACb83B,EAAiB1zB,UAEnBnJ,MAAK,SAACxW,GACHsV,GAAW,GACmB,MAA1BtV,EAASE,QAAQX,KACjBq/D,GAAe,IAEf9zD,EAAQ6O,KAAK,mBAAqBwF,EAAM+0B,OACxC3+B,EAAe,MAAO,QAAS,2BAAQ,eAG9CkB,OAAM,SAACjX,GACJ8V,GAAW,GACXC,EAAe,MAAO,QAAS/V,EAAMF,QAAS,WAC9C4zC,EAAkBvzB,aApBtB4zB,GAAS,kBAAM9G,EAAS7nC,KAAI0Q,IAN5BC,EAAe,MAAO,QAAS,yDAAa,aA2C5B,kBAAC2H,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,SAApB,4BAGA,kBAACyyB,EAAA,EAAD,CACIlqC,GAAG,QACH5E,KAAK,QACLa,KAAK,QACLkU,SAAUwK,EAAkB,SAC5BwvB,cAAY,EACZvpC,MAAO4Y,EAAM+0B,MACbp9B,WAAS,KAGjB,kBAACoG,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,YAApB,gBACA,kBAACyyB,EAAA,EAAD,CACIjuC,KAAK,WACLkU,SAAUwK,EAAkB,YAC5Bvf,KAAK,WACL4E,GAAG,WACHY,MAAO4Y,EAAM5D,SACbu0B,cAAY,KAGpB,kBAAC5yB,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,YAApB,4BAGA,kBAACyyB,EAAA,EAAD,CACIjuC,KAAK,YACLkU,SAAUwK,EACN,mBAEJvf,KAAK,WACL4E,GAAG,YACHY,MAAO4Y,EAAMs/C,gBACb3uB,cAAY,KAGnB+uB,GAAc,kBAACvrB,EAAD,MAEf,kBAAC/5B,EAAA,EAAD,CACIxY,KAAK,SACL4U,WAAS,EACTS,QAAQ,YACR5K,MAAM,UACNkL,SACIrB,KACCwpD,GAAa7rB,EAElBhrC,UAAWG,EAAQwqC,QATvB,6BAeJ,kBAACp2B,EAAA,EAAD,MACA,yBAAKvU,UAAWG,EAAQof,MACpB,6BACI,kBAAConB,EAAA,EAAD,CAAMluC,KAAM,UAAZ,6BAEJ,6BACI,kBAACkuC,EAAA,EAAD,CAAMluC,KAAM,qDAAsDkG,OAAO,UAAzE,+BAKfg4D,GACG,kBAACvpB,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAAC1E,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQo2D,eACvB,kBAAC,KAAD,OAEJ,kBAAClgD,EAAA,EAAD,CAAYzI,UAAU,KAAKQ,QAAQ,MAAnC,4BAGA,kBAACiI,EAAA,EAAD,CAAYvO,MAAO,CAAEiF,UAAW,SAAhC,8MChOT+pD,OAhBf,WAWI,OACI,6BAVY,WACZ,IAAMh0D,EAAUksB,cAEV+nC,EAAM,IAAI18D,KAChB08D,EAAI70D,QAAQ60D,EAAI50D,UAAY60D,SAC5B50D,SAASC,OAAS,uBAAuB00D,EAAIE,cAAc,WAC3Dn0D,EAAQ6O,KAAK,SAIPulD,KCNR/3D,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,QACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,KAVZ,GAYNoe,MAAO,CACHva,UAAW1N,EAAM+M,QAAQ,GACzBS,QAAS,OACTg/B,cAAe,SACfl/B,WAAY,SACZnN,QAAQ,GAAD,OAAKH,EAAM+M,QAAQ,GAAnB,cAA2B/M,EAAM+M,QAAQ,GAAzC,cAAiD/M,EAAM+M,QAC1D,GADG,OAIXuD,OAAQ,CACJxD,OAAQ9M,EAAM+M,QAAQ,GACtBvM,gBAAiBR,EAAMe,QAAQkM,UAAU8U,MAE7CupB,OAAQ,CACJ59B,UAAW1N,EAAM+M,QAAQ,QAqElB+qD,OA7Df,WACI,IAAM55C,EAJC,IAAIC,gBAAgBF,cAAcG,QAKnCjlB,EAAW8kB,cAFC,EAIYlhB,oBAAS,GAJrB,mBAIXwkB,EAJW,KAIFw2C,EAJE,OAKQh7D,mBAAS,IALjB,mBAKX8vC,EALW,KAKJC,EALI,KAOZzxC,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECoI,EAAUksB,cAEV7uB,EAAUhB,KAiBhB,OAfAzC,qBAAU,WACN4R,IAAImJ,IACA,kBAAoB8F,EAAM9F,IAAI,MAAQ,SAAW8F,EAAM9F,IAAI,SAE1DjJ,MAAK,SAACxW,GACHm0C,EAASn0C,EAASG,MAClBi/D,GAAW,MAEd3oD,OAAM,SAACjX,GACJ+V,EAAe,MAAO,QAAS/V,EAAMF,QAAS,WAC9CwL,EAAQ6O,KAAK,eAGtB,CAACnZ,IAGA,yBAAKwH,UAAWG,EAAQuc,QACnBkE,GACG,kBAACwsB,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAAC1E,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQwP,QACvB,kBAAC,KAAD,OAEJ,kBAAC0G,EAAA,EAAD,CAAYzI,UAAU,KAAKQ,QAAQ,MAAnC,4BAGA,kBAACiI,EAAA,EAAD,CAAYvO,MAAO,CAAEiF,UAAW,SAAhC,sEAGA,kBAACwE,EAAA,EAAD,CACIxY,KAAK,SACL4U,WAAS,EACTS,QAAQ,YACR5K,MAAM,UACNxD,UAAWG,EAAQwqC,OACnB3hC,QAAS,kBAAMlG,EAAQ6O,KAAK,mBAAqBu6B,KANrD,+BCtEd/sC,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,QACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,KAVZ,GAYNoe,MAAO,CACHva,UAAW1N,EAAM+M,QAAQ,GACzBS,QAAS,OACTg/B,cAAe,SACfl/B,WAAY,SACZnN,QAAQ,GAAD,OAAKH,EAAM+M,QAAQ,GAAnB,cAA2B/M,EAAM+M,QAAQ,GAAzC,cAAiD/M,EAAM+M,QAC1D,GADG,OAIXuD,OAAQ,CACJxD,OAAQ9M,EAAM+M,QAAQ,GACtBvM,gBAAiBR,EAAMe,QAAQkM,UAAU8U,MAE7CupB,OAAQ,CACJ59B,UAAW1N,EAAM+M,QAAQ,IAE7BmT,KAAM,CACFxS,UAAW,OACXF,QAAS,OACTtN,MAAO,OACPksB,eAAgB,qBAiHT4rC,OAzGf,WACI,IAAM95C,EAJC,IAAIC,gBAAgBF,cAAcG,QAGxB,EAESrhB,mBAAS,CAC/BmX,SAAU,GACVkjD,gBAAiB,KAJJ,mBAEVt/C,EAFU,KAEHu/C,EAFG,OAMat6D,oBAAS,GANtB,mBAMViR,EANU,KAMDC,EANC,KAOXgL,EAAoB,SAAC1e,GAAD,OAAU,SAACgD,GACjC85D,EAAS,2BACFv/C,GADC,kBAEHvd,EAAOgD,EAAE+B,OAAOJ,WAGnB7D,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAECoI,EAAUksB,cAyBV7uB,EAAUhB,KAEhB,OACI,yBAAKa,UAAWG,EAAQuc,QACpB,kBAAC0wB,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAAC1E,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQwP,QACvB,kBAAC,KAAD,OAEJ,kBAAC0G,EAAA,EAAD,CAAYzI,UAAU,KAAKQ,QAAQ,MAAnC,4BAGA,0BAAMpO,UAAWG,EAAQ2rC,KAAM5wB,SAlC5B,SAACte,GACZA,EAAE4U,iBACE2F,EAAM5D,WAAa4D,EAAMs/C,iBAI7BnpD,GAAW,GACXgB,IAAI6L,MAAM,cAAe,CACrBm9C,OAAQ/5C,EAAM9F,IAAI,QAClB9Z,GAAI4f,EAAM9F,IAAI,MACd81B,SAAUp2B,EAAM5D,WAEf/E,MAAK,WACFlB,GAAW,GACXxK,EAAQ6O,KAAK,UACbpE,EAAe,MAAO,QAAS,iCAAS,cAE3CkB,OAAM,SAACjX,GACJ8V,GAAW,GACXC,EAAe,MAAO,QAAS/V,EAAMF,QAAS,eAhBlDiW,EAAe,MAAO,QAAS,yDAAa,aAgCpC,kBAAC2H,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,SAApB,sBACA,kBAACyyB,EAAA,EAAD,CACIlqC,GAAG,MACH5E,KAAK,WACLa,KAAK,MACLkU,SAAUwK,EAAkB,YAC5BwvB,cAAY,EACZvpC,MAAO4Y,EAAM5D,SACbzE,WAAS,KAGjB,kBAACoG,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,SAApB,kCACA,kBAACyyB,EAAA,EAAD,CACIlqC,GAAG,YACH5E,KAAK,WACLa,KAAK,YACLkU,SAAUwK,EAAkB,mBAC5BwvB,cAAY,EACZvpC,MAAO4Y,EAAMs/C,gBACb3nD,WAAS,KAGjB,kBAACyC,EAAA,EAAD,CACIxY,KAAK,SACL4U,WAAS,EACTS,QAAQ,YACR5K,MAAM,UACNkL,SAAUrB,EACVrN,UAAWG,EAAQwqC,QANvB,4BASU,KACN,IACR,kBAACp2B,EAAA,EAAD,MACA,yBAAKvU,UAAWG,EAAQof,MACpB,6BACI,kBAAConB,EAAA,EAAD,CAAMluC,KAAM,UAAZ,6BAEJ,6BACI,kBAACkuC,EAAA,EAAD,CAAMluC,KAAM,WAAZ,iCC1IlB0G,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCqd,QAAM,GACFnd,MAAO,OACPwN,UAAW,QACX+C,WAAYzQ,EAAM+M,QAAQ,GAC1BlD,YAAa7J,EAAM+M,QAAQ,IAJzB,cAKD/M,EAAMI,YAAYkd,GAAG,MAAQ,CAC1Bpd,MAAO,IACPuQ,WAAY,OACZ5G,YAAa,SARf,6BAUY,KAVZ,GAYNoe,MAAO,CACHva,UAAW1N,EAAM+M,QAAQ,GACzBS,QAAS,OACTg/B,cAAe,SACfl/B,WAAY,SACZnN,QAAQ,GAAD,OAAKH,EAAM+M,QAAQ,GAAnB,cAA2B/M,EAAM+M,QAAQ,GAAzC,cAAiD/M,EAAM+M,QAC1D,GADG,OAIXuD,OAAQ,CACJxD,OAAQ9M,EAAM+M,QAAQ,GACtBvM,gBAAiBR,EAAMe,QAAQkM,UAAU8U,MAE7CupB,OAAQ,CACJ59B,UAAW1N,EAAM+M,QAAQ,IAE7Bu7B,iBAAkB,CACd96B,QAAS,OACTE,UAAW,QAEfg7B,mBAAoB,CAChBxoC,MAAO,KAEXggB,KAAM,CACFxS,UAAW,OACXF,QAAS,OACTtN,MAAO,OACPksB,eAAgB,qBAiHT8rC,OA7Gf,WAAkB,IAca39D,EAdd,EACawC,mBAAS,CAC/B8vC,MAAO,KAFE,mBACN/0B,EADM,KACCu/C,EADD,OAIiBt6D,oBAAS,GAJ1B,mBAINiR,EAJM,KAIGC,EAJH,KAKPkqD,EAAgBnvD,aAClB,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWkvD,iBAE1B98D,EAAW6N,cACXgF,EAAiB9E,uBACnB,SAACiC,EAAUC,EAAYjS,EAAK8K,GAA5B,OACI9I,EAASkQ,YAAeF,EAAUC,EAAYjS,EAAK8K,MACvD,CAAC9I,IAZQ,EA4BTmwC,KANAG,EAtBS,EAsBTA,eACAN,EAvBS,EAuBTA,WACAa,EAxBS,EAwBTA,SACAD,EAzBS,EAyBTA,cACAJ,EA1BS,EA0BTA,kBACAG,EA3BS,EA2BTA,iBA8BElrC,EAAUhB,KAEhB,OACI,yBAAKa,UAAWG,EAAQuc,QACpB,kBAAC0wB,EAAA,EAAD,CAAOptC,UAAWG,EAAQmnB,OACtB,kBAAC1E,EAAA,EAAD,CAAQ5iB,UAAWG,EAAQwP,QACvB,kBAAC,KAAD,OAEJ,kBAAC0G,EAAA,EAAD,CAAYzI,UAAU,KAAKQ,QAAQ,MAAnC,4BAGA,0BAAMpO,UAAWG,EAAQ2rC,KAAM5wB,SAtC5B,SAATyvB,EAAU/tC,GACZA,EAAE4U,iBACFlE,GAAW,GACNo9B,EAAW/yB,QAAQ+yB,aAAc8sB,EAItClpD,IAAIC,KAAK,cAAT,aACI++B,SAAUn2B,EAAM+0B,OACbb,EAAiB1zB,UAEnBnJ,MAAK,WACFlB,GAAW,GACXC,EACI,MACA,QACA,6FACA,cAGPkB,OAAM,SAACjX,GACJ8V,GAAW,GACXC,EAAe,MAAO,QAAS/V,EAAMF,QAAS,WAC9C4zC,EAAkBvzB,aAnBtB4zB,GAAS,kBAAMZ,EAAO/tC,KAAI0Q,KAmClB,kBAAC4H,EAAA,EAAD,CAAa/I,OAAO,SAASy7B,UAAQ,EAACj6B,WAAS,GAC3C,kBAACwH,EAAA,EAAD,CAAYC,QAAQ,SAApB,4BACA,kBAACyyB,EAAA,EAAD,CACIlqC,GAAG,QACH5E,KAAK,QACLa,KAAK,QACLkU,UA7DGlU,EA6DyB,QA7DhB,SAACgD,GACjC85D,EAAS,2BACFv/C,GADC,kBAEHvd,EAAOgD,EAAE+B,OAAOJ,WA2DDupC,cAAY,EACZvpC,MAAO4Y,EAAM+0B,MACbp9B,WAAS,KAGhB0oD,GAAiB,kBAAClsB,EAAD,MAClB,kBAAC/5B,EAAA,EAAD,CACIxY,KAAK,SACL4U,WAAS,EACTS,QAAQ,YACR5K,MAAM,UACNkL,SACIrB,KAAYmqD,GAAgBxsB,EAEhChrC,UAAWG,EAAQwqC,QARvB,oDAWU,KACN,IACR,kBAACp2B,EAAA,EAAD,MACA,yBAAKvU,UAAWG,EAAQof,MACpB,6BACI,kBAAConB,EAAA,EAAD,CAAMluC,KAAM,UAAZ,6BAEJ,6BACI,kBAACkuC,EAAA,EAAD,CAAMluC,KAAM,WAAZ,iC,UClJlB0G,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC0M,eAAgB,GAChByG,QAAS,CACLilD,aAAc,kBAIP,SAASC,KACpB,IAAMllD,EAAUnK,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWqvD,eAClDx3D,EAAUhB,KAFiB,EAGT/C,oBAAS,GAHA,mBAG1BoqC,EAH0B,KAGpBC,EAHoB,KAcjC,OANA/pC,qBAAU,WACN,IAAMk7D,EAAYv/D,IAAKiJ,cAAc,eACrB,KAAZkR,GAAkBolD,IAAcplD,GAChCi0B,GAAQ,KAEb,CAACj0B,IAEA,kBAACrC,GAAA,EAAD,CACI/W,KAAMotC,EACNv7B,QAAS,kBAAMw7B,GAAQ,IACvBh5B,kBAAgB,oBAChBC,SAAS,KACTC,WAAS,GAET,kBAACsD,GAAA,EAAD,CAAatT,GAAG,qBAAhB,gBACA,kBAACyS,GAAA,EAAD,CACIpQ,UAAWG,EAAQqS,QACnBqlD,wBAAyB,CAAEC,OAAQtlD,KAGvC,kBAAClB,GAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQvI,QAAS,kBAxBzBy9B,GAAQ,QACRpuC,IAAK8I,cAAc,cAAeqR,IAuBQhP,MAAM,WAAxC,4BAGA,kBAAC+N,EAAA,EAAD,CAAQvI,QAAS,kBAAMy9B,GAAQ,KAA/B,kBClBhB,IAAMsxB,GAAY5kD,IAAM0M,MAAK,kBACzB,+DAGW,SAASm4C,KACpB,IAAMC,EAAc5vD,aAAY,SAAC7J,GAAD,OAAWA,EAAM8J,WAAWjJ,SACtD0kB,EAAU1b,aAAY,SAAC7J,GAAD,OAAWA,EAAM3D,WAAWkpB,WAClDm0C,EAAkBC,YAAc,gCAEhC94D,EAAQ8T,IAAMilD,SAAQ,WACxBH,EAAY73D,QAAQrH,KAAOm/D,EAAkB,OAAS,QACtD,IAAMG,EAAShgE,IAAKiJ,cAAc,cAC9B+2D,IACAJ,EAAY73D,QAAQrH,KAAOs/D,GAE/B,IAAMh5D,EAAQi5D,YAAe,2BACtBL,GADqB,IAExB73D,QAAQ,2BACD63D,EAAY73D,SADZ,IAEH0U,QAAQ,2BACDmjD,EAAY73D,QAAQ0U,SADpB,IAEHsM,KACiC,SAA7B62C,EAAY73D,QAAQrH,KACdoiC,YAAQ88B,EAAY73D,QAAQ0U,QAAQsM,KAAM,IAC1C62C,EAAY73D,QAAQ0U,QAAQsM,YASlD,OALA7d,YACiC,SAA7B00D,EAAY73D,QAAQrH,KACdsG,EAAMe,QAAQuS,WAAWC,QACzBvT,EAAMe,QAAQ0U,QAAQsM,MAEzB/hB,IACR,CAAC64D,EAAiBD,IAcf93D,EAZYf,aAAW,SAACC,GAAD,MAAY,CACrC4S,KAAM,CACFpF,QAAS,QAEb2F,QAAS,CACLwW,SAAU,EACVxpB,QAASH,EAAM+M,QAAQ,GACvBH,SAAU,GAEdgT,QAAS5f,EAAMmpB,OAAOvJ,WAGV9f,GAERzD,EAASyhB,cAATzhB,KACR,OACI,kBAAC,IAAM68D,SAAP,KACI,kBAACC,EAAA,EAAD,CAAen5D,MAAOA,GAClB,yBAAKW,UAAWG,EAAQ8R,KAAMtU,GAAG,aAC7B,kBAAC86D,EAAA,EAAD,MACA,kBAAC,IAAD,MACA,kBAAC1wC,EAAA,EAAD,MACA,0BAAM/nB,UAAWG,EAAQqS,SACrB,yBAAKxS,UAAWG,EAAQ8e,UACxB,kBAAC,IAAD,KACI,kBAAC,EAAD,CAAWy5C,OAAK,EAACh9D,KAAMA,EAAMqoB,QAASA,GAClC,kBAAC,IAAD,CACIwhB,GAAI,CACAtsB,SAAU,YAKtB,kBAAC,EAAD,CAAWvd,KAAI,UAAKA,EAAL,QAAiBqoB,QAASA,GACrC,oCACI,kBAAC2zC,GAAD,MACA,kBAAC,GAAD,QAIR,kBAAC,EAAD,CAAWh8D,KAAI,UAAKA,EAAL,SAAkBqoB,QAASA,GACtC,kBAAC,GAAD,OAGJ,kBAAC,EAAD,CAAWroB,KAAI,UAAKA,EAAL,QAAiBqoB,QAASA,GACrC,kBAAC40C,GAAA,EAAD,OAGJ,kBAAC,EAAD,CAAWj9D,KAAI,UAAKA,EAAL,OAAgBqoB,QAASA,GACpC,kBAACkkC,GAAD,OAGJ,kBAAC,EAAD,CAAWvsD,KAAI,UAAKA,EAAL,OAAgBqoB,QAASA,GACpC,kBAAC,WAAD,CAAUvD,SAAU,kBAAC,EAAD,OAChB,kBAACu3C,GAAD,QAIR,kBAAC,EAAD,CAAWr8D,KAAI,UAAKA,EAAL,QAAiBqoB,QAASA,GACrC,kBAAC60C,GAAA,EAAD,OAGJ,kBAAC,EAAD,CAAWl9D,KAAI,UAAKA,EAAL,SAAkBqoB,QAASA,GACtC,kBAAC,GAAD,OAGJ,kBAAC,EAAD,CAAWroB,KAAI,UAAKA,EAAL,UAAmBqoB,QAASA,GACvC,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOroB,KAAI,UAAKA,EAAL,UAAmBqoB,QAASA,GACnC,kBAACi7B,GAAD,OAGJ,kBAAC,EAAD,CAAWtjD,KAAI,UAAKA,EAAL,SAAkBqoB,QAASA,GACtC,kBAAC,GAAD,OAGJ,kBAAC,EAAD,CAAWroB,KAAI,UAAKA,EAAL,OAAgBqoB,QAASA,GACpC,kBAAC,GAAD,OAGJ,kBAAC,EAAD,CACIroB,KAAI,UAAKA,EAAL,WACJqoB,QAASA,GAET,kBAAC,GAAD,OAGJ,kBAAC,EAAD,CACIroB,KAAI,UAAKA,EAAL,eACJqoB,QAASA,GAET,kBAAC,GAAD,OAGJ,kBAAC,EAAD,CAAWroB,KAAI,UAAKA,EAAL,UAAmBqoB,QAASA,GACvC,kBAACkqC,GAAD,OAGJ,kBAAC,EAAD,CAAWvyD,KAAI,UAAKA,EAAL,SAAkBqoB,QAASA,GACtC,kBAACgsC,GAAD,OAGJ,kBAAC,EAAD,CAAWr0D,KAAI,UAAKA,EAAL,eAAwBqoB,QAASA,GAC5C,kBAACosC,GAAD,OAGJ,kBAAC,IAAD,CAAOz0D,KAAI,UAAKA,EAAL,QAAiBg9D,OAAK,GAC7B,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOh9D,KAAI,UAAKA,EAAL,SAAkBg9D,OAAK,GAC9B,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOh9D,KAAI,UAAKA,EAAL,UAAmBg9D,OAAK,GAC/B,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOh9D,KAAI,UAAKA,EAAL,YAAqBg9D,OAAK,GACjC,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOh9D,KAAI,UAAKA,EAAL,SAAkBg9D,OAAK,GAC9B,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOh9D,KAAI,UAAKA,EAAL,UAAmBg9D,OAAK,GAC/B,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOh9D,KAAI,UAAKA,EAAL,aACP,kBAAC26D,GAAD,OAGJ,kBAAC,IAAD,CAAOqC,OAAK,EAACh9D,KAAI,UAAKA,EAAL,UACb,kBAACksD,GAAD,OAGJ,kBAAC,IAAD,CAAOlsD,KAAI,UAAKA,EAAL,oBACP,kBAAC,GAAD,OAGJ,kBAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,kBACP,kBAACusD,GAAD,OAGJ,kBAAC,IAAD,CAAOvsD,KAAI,UAAKA,EAAL,mBACP,kBAACi9D,GAAA,EAAD,OAGJ,kBAAC,IAAD,CAAOj9D,KAAI,UAAKA,EAAL,kBACP,kBAAC,WAAD,CAAU8kB,SAAU,kBAAC,EAAD,OAChB,kBAACu3C,GAAD,QAIR,kBAAC,IAAD,CAAOr8D,KAAI,UAAKA,EAAL,mBACP,kBAACk9D,GAAA,EAAD,OAGJ,kBAAC,IAAD,CAAOl9D,KAAK,KACR,kBAAC,EAAD,CAAUhD,IAAK,yC,wBCnLlCsE,GAA6B,CAEtC+mB,QAAS1rB,IAAK2I,QACdwjB,cAAc,EACdprB,MAAM,EACNqQ,mBAAoB,OACpB7O,WAAY,UACZyrB,SAAU,KACVizB,YAAa,OACbC,aAAa,EACbP,UAAU,EACV/jB,kBAAkB,EAClBmmB,gBAAgB,EAChBG,kBAAmB,KACnBzpC,eAAe,EACf6a,gBAAgB,EAChBxJ,oBAAqB,KACrBwkC,yBAA0B,KAC1B33C,OAAQ,CACJmL,iBAAiB,EACjBC,eAAe,EACftC,QAAQ,EACRwC,MAAM,EACNE,QAAQ,EACRlS,OAAO,EACPmS,OAAO,EACPK,gBAAgB,EAChBE,iBAAiB,EACjBjD,WAAW,EACXsC,MAAM,EACNE,QAAQ,EACRW,UAAU,EACVC,UAAU,EACVF,YAAY,EACZ5O,SAAS,EACT6C,YAAa,IAEjBwR,SAAU,CACNC,QAAQ,EACRjX,SAAU,MACVC,WAAY,SACZjS,IAAK,GACL8K,MAAO,KAuOA3I,GApOI,WAA4D,IAA3D2D,EAA0D,uDAAjCxB,GAAWyB,EAAsB,uCAC1E,OAAQA,EAAO1F,MACX,IAAK,gBACD,OAAOlB,OAAO6G,OAAO,GAAIF,EAAO,CAC5BpF,KAAMqF,EAAOrF,OAErB,IAAK,qBACD,OAAOvB,OAAO6G,OAAO,GAAIF,EAAO,CAC5BiL,mBAAoBhL,EAAOvF,SAEnC,IAAK,+BACD,OAAOrB,OAAO6G,OAAO,GAAIF,EAAO,CAC5By2B,iBAAkBx2B,EAAOiR,SAEjC,IAAK,sBACD,OAAO7X,OAAO6G,OAAO,GAAIF,EAAO,CAC5B48C,eAAgB38C,EAAOiR,OACvB6rC,kBAAmB98C,EAAO/F,MAElC,IAAK,4BACD,OAAOb,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCmL,iBAAiB,IAErBo+B,aAAa,IAErB,IAAK,0BACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCoL,eAAe,IAEnBm+B,aAAa,IAErB,IAAK,qBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpC8I,QAAQ,IAEZygC,aAAa,IAErB,IAAK,qBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCwL,QAAQ,IAEZ+9B,aAAa,IAErB,IAAK,mBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCsL,MAAM,IAEVi+B,aAAa,IAErB,IAAK,qBAED,OADAhhD,OAAO0hB,SAAWxb,EAAO2C,IAClBvJ,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCuL,QAAQ,IAEZg+B,aAAa,IAErB,IAAK,mBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5B2kB,oBAAqB1kB,EAAO2kB,SAEpC,IAAK,yBACD,OAAOvrB,OAAO6G,OAAO,GAAIF,EAAO,CAC5BmpD,yBAA0BlpD,EAAO2kB,SAEzC,IAAK,oBACD,OAAOvrB,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpC1G,OAAO,IAEXiwC,aAAa,IAErB,IAAK,oBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCyL,OAAO,IAEX89B,aAAa,IAErB,IAAK,8BACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpC8L,gBAAgB,IAEpBy9B,aAAa,IAErB,IAAK,+BACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCgM,iBAAiB,IAErBu9B,aAAa,IAErB,IAAK,yBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCiM,YAAY,IAEhBs9B,aAAa,IAErB,IAAK,uBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCkM,UAAU,IAEdq9B,aAAa,IAErB,IAAK,yBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpC+I,WAAW,IAEfwgC,aAAa,IAErB,IAAK,uBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCmM,UAAU,IAEdo9B,aAAa,IAErB,IAAK,mBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCqL,MAAM,IAEVk+B,aAAa,IAErB,IAAK,sBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpC3C,SAAS,EACT6C,YAAazR,EAAOwR,OAExBspC,aAAa,IAErB,IAAK,qBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5B+6C,aAAa,IAErB,IAAK,mBACD,OAAO1hD,OAAO6G,OAAO,GAAIF,EAAO,CAC5BwR,OAAQnY,OAAO6G,OAAO,GAAIF,EAAMwR,OAAQ,CACpCmL,iBAAiB,EACjBC,eAAe,EACftC,QAAQ,EACRwC,MAAM,EACNE,QAAQ,EACRlS,OAAO,EACPmS,OAAO,EACPK,gBAAgB,EAChBE,iBAAiB,EACjBjD,WAAW,EACXwC,QAAQ,EACRF,MAAM,EACNhO,SAAS,EACT8O,UAAU,EACVD,UAAU,EACVD,YAAY,MAGxB,IAAK,kBACD,OAAOpkB,OAAO6G,OAAO,GAAIF,EAAO,CAC5BkjB,SAAU,CACNC,QAASnjB,EAAMkjB,SAASC,OACxBjX,SAAUjM,EAAOiM,SACjBC,WAAYlM,EAAOkM,WACnBjS,IAAK+F,EAAO/F,IACZ8K,MAAO/E,EAAO+E,SAG1B,IAAK,qBACD,OAAO3L,OAAO6G,OAAO,GAAIF,EAAO,CAC5BsT,cAAerT,EAAOiR,SAE9B,IAAK,qBACD,OAAO,2BACAlR,GADP,IAEIulB,QAAStlB,EAAOiR,SAExB,IAAK,uBACD,OAAO7X,OAAO6G,OAAO,GAAIF,EAAO,CAC5BgmB,cAAc,IAEtB,IAAK,kBACD,OAAO3sB,OAAO6G,OAAO,GAAIF,EAAO,CAC5BmuB,gBAAiBnuB,EAAMmuB,iBAE/B,IAAK,iBACD,OAAO90B,OAAO6G,OAAO,GAAIF,EAAO,CAC5B+6C,aAAa,EACb6B,gBAAgB,EAChBnmB,kBAAkB,IAE1B,IAAK,sBACD,OAAIz2B,EAAM+6C,aAAe96C,EAAOrF,KACrBvB,OAAO6G,OAAO,GAAIF,GAEtB3G,OAAO6G,OAAO,GAAIF,EAAO,CAC5B+6C,YAAa96C,EAAOrF,KACpBkgD,YAAa76C,EAAO62B,WAE5B,IAAK,eACD,OAAOz9B,OAAO6G,OAAO,GAAIF,EAAO,CAC5B6nB,SAAU5nB,EAAOoK,QAEzB,IAAK,kBACD,OAAO,2BACArK,GADP,IAEI5D,WAAY6D,EAAOvF,SAE3B,IAAK,gBACD,OAAO,2BACAsF,GADP,IAEI+6C,aAAa,EACb6B,gBAAgB,EAChBnmB,iBAAkBx2B,EAAOw2B,mBAEjC,QACI,OAAOz2B,I,UClUbq6D,GAAa,SAACn9D,EAAM8C,GAEtB,OADAjG,OAAO+mC,WAAa5jC,EACb7D,OAAO6G,OAAO,GAAIF,EAAO,CAC5B1E,UAAWjC,OAAO6G,OAAO,GAAIF,EAAM1E,UAAW,CAC1C4B,KAAMA,OA+DZo9D,G9DvCwB,SAACC,GAE3B,IAAMC,EAAct4D,KAAKpG,MAAMqG,aAAaC,QAAQ,oBACjC,MAAfo4D,IACAD,EAASzwD,WAAa0wD,GAG1B,IACMj1D,EADM,IAAIssC,IAAI93C,OAAOC,SAASC,MACtB63C,aAAa74B,IAAI,QAO/B,OANAshD,EAASj/D,UAAU4B,KAAa,OAANqI,EAAa,IAAMA,EAE7Cg1D,EAASzwD,WAAas9B,GAAemzB,EAASzwD,YAG9ClG,SAASyG,MAAQkwD,EAASzwD,WAAWO,MAC9BkwD,E8DwBWE,CA1DG,CACrB3wD,WAAY,CACRO,MAAOtQ,OAAO8tB,SACdkgB,UAAW,GACXqG,cAAc,EACdiqB,YAAY,EACZW,eAAe,EACfb,aAAa,EACb9pB,SAAS,EACThH,OAAQ,KACRiH,OAAO,EACPztC,MAAO,CACHe,QAAS,CACLkrB,OAAQ,CAAE4tC,MAAO,OAAQ3tC,MAAO,QAChC5Y,WAAY,CAAE2U,MAAO,OAAQ1U,QAAS,WACtCkC,QAAS,CACLvI,MAAO,UACP6U,KAAM,UACNthB,KAAM,UACNq5D,aAAc,QAElB7sD,UAAW,CACPC,MAAO,UACP6U,KAAM,UACNthB,KAAM,UACNq5D,aAAc,QAElB3hE,MAAO,CACH+U,MAAO,UACP6U,KAAM,UACNthB,KAAM,UACNq5D,aAAc,QAElBlpD,KAAM,CACF6E,QAAS,sBACTxI,UAAW,sBACXoC,SAAU,sBACVitC,KAAM,uBAEVtgD,SAAU,CACNwK,SAAU,UACVmC,KAAM,UACNoxD,WAAY,UACZ5d,UAAW,aAIvB1R,qBAAsB,aACtB6tB,YAAa,GACb5sB,aAAc,SACdX,wBAAyB,IAE7BtwC,UAAW,CACP4B,KAAM,IACN0wB,SAAS,KCxDXitC,G,oDACF,WAAYz5D,GAAQ,IAAD,+BACf,cAAMA,IACDpB,MAAQ,CAAEw5B,UAAU,EAAOxgC,MAAO,KAAM8hE,UAAW,MAFzC,E,sDAUnB,SAAkB9hE,EAAO8hE,GACrB7hE,KAAK8gB,SAAS,CACV/gB,MAAOA,EACP8hE,UAAWA,M,oBAInB,WAAU,IACEn5D,EAAY1I,KAAKmI,MAAjBO,QACR,OAAI1I,KAAK+G,MAAMw5B,SAGP,oCACI,wBAAIh4B,UAAWG,EAAQ+e,IAAvB,MACA,wBAAIlf,UAAWG,EAAQgf,IAAvB,gHAGC1nB,KAAK+G,MAAMhH,OACRC,KAAK+G,MAAM86D,WACX7hE,KAAK+G,MAAM86D,UAAUC,gBACjB,iCACI,6DACA,6BACI,8BAAO9hE,KAAK+G,MAAMhH,MAAMyN,aAE5B,6BACI,8BACKxN,KAAK+G,MAAM86D,UAAUC,mBAS/C9hE,KAAKmI,MAAM1D,Y,uCAzCtB,WAEI,MAAO,CAAE87B,UAAU,O,GARC7kB,IAAMiJ,WAmDnBpK,gBA7DA,CACXkN,GAAI,CACA1b,MAAO,UACP2I,OAAQ,WAEZgT,GAAI,CACAhT,OAAQ,aAuDD6F,CAAmBqnD,I,mBChElC,yCAcA,IAAMG,GAAQrmD,IAAM0M,MAAK,kBAAM,wDAEF,KAAzBtnB,OAAOC,SAASihE,OAChBlhE,OAAOC,SAASC,KAAOF,OAAOC,SAASihE,KAAK/0D,MAAM,KAAK,IpE6EpD,SAAkByxB,GACrB,GAA6C,kBAAmBr8B,UAAW,CAGvE,GADkB,IAAIu2C,IAAI/qB,GAAwB/sB,OAAOC,SAASC,MACpD42D,SAAW92D,OAAOC,SAAS62D,OAIrC,OAGJ92D,OAAOoE,iBAAiB,QAAQ,WAC5B,IAAM4nC,EAAK,UAAMjf,GAAN,sBAEP2f,IArDhB,SAAiCV,EAAOpO,GAEpCujC,MAAMn1B,GACD/1B,MAAK,SAACxW,GAEH,IAAM2hE,EAAc3hE,EAASw8D,QAAQ/8C,IAAI,gBAEjB,MAApBzf,EAAS0X,QACO,MAAfiqD,IAC0C,IAAvCA,EAAYj3D,QAAQ,cAGxB5I,UAAU0qC,cAAco1B,MAAMprD,MAAK,SAACk2B,GAChCA,EAAam1B,aAAarrD,MAAK,WAC3BjW,OAAOC,SAAS4pB,eAKxBkiB,EAAgBC,EAAOpO,MAG9B1nB,OAAM,WACHoQ,QAAQjd,IACJ,oEA+BAk4D,CAAwBv1B,EAAOpO,GAI/Br8B,UAAU0qC,cAAco1B,MAAMprD,MAAK,WAC/BqQ,QAAQjd,IACJ,iHAMR0iC,EAAgBC,EAAOpO,OoEtGvCqO,GACO,IAAM1hC,GAAUi3D,eACnBC,GAAeC,YAAgBC,aAAiBp3D,IAAUy1B,KAQ9D,IF6HgBz1B,GE7HVkjC,GAAQm0B,aF6HEr3D,GE7HsBA,GF6HV,SAACtE,EAAOC,GAAY,IAAD,EAEvCD,GAAS,GADO47D,EADuB,EACnCv/D,WAAuCw/D,EADJ,EACNh/D,SAE/Bi/D,EAlFW,WAAoC,IAAnC97D,EAAkC,uDAA1Bs6D,GAAer6D,EAAW,uCACpD,OAAQA,EAAO1F,MACX,IAAK,gBACD,OAAO8/D,GAAWp6D,EAAO/C,KAAM8C,GACnC,IAAK,uBACD,IAAM6c,EAAOxjB,OAAO6G,OAAO,GAAIF,GAC/B,YAC2CpG,IAAvCijB,EAAK/S,WAAWjJ,MAAMe,QAAQrH,MACS,UAAvCsiB,EAAK/S,WAAWjJ,MAAMe,QAAQrH,KAEvB,2BACAyF,GADP,IAEI8J,WAAW,2BACJ9J,EAAM8J,YADH,IAENjJ,MAAM,2BACCb,EAAM8J,WAAWjJ,OADnB,IAEDe,QAAQ,2BACD5B,EAAM8J,WAAWjJ,MAAMe,SADvB,IAEHrH,KAAM,eAMnB,2BACAyF,GADP,IAEI8J,WAAW,2BACJ9J,EAAM8J,YADH,IAENjJ,MAAM,2BACCb,EAAM8J,WAAWjJ,OADnB,IAEDe,QAAQ,2BACD5B,EAAM8J,WAAWjJ,MAAMe,SADvB,IAEHrH,KAAM,gBAM1B,IAAK,cACD,GAAgC,OAA5ByF,EAAM8J,WAAWu9B,OAAiB,CAClC,IAAMA,EAASnlC,KAAKpG,MAAMkE,EAAM8J,WAAWu9B,QAC3C,YAA6BztC,IAAzBytC,EAAOpnC,EAAOY,OACPb,EAEJ3G,OAAO6G,OAAO,GAAIF,EAAO,CAC5B8J,WAAYzQ,OAAO6G,OAAO,GAAIF,EAAM8J,WAAY,CAC5CjJ,MAAOwmC,EAAOpnC,EAAOY,WAIjC,MACJ,IAAK,eACD,OAAOw5D,GAAWp6D,EAAO/C,KAAM8C,GACnC,IAAK,kBACD,OAAO3G,OAAO6G,OAAO,GAAIF,EAAO,CAC5B8J,WAAY7J,EAAO03B,SAG3B,IAAK,oBACD,OAAOt+B,OAAO6G,OAAO,GAAIF,EAAO,CAC5B1E,UAAWjC,OAAO6G,OAAO,GAAIF,EAAM1E,UAAW,CAC1CsyB,SAAU5tB,EAAM1E,UAAUsyB,YAGtC,IAAK,iBACD,OAAOv0B,OAAO6G,OAAO,GAAIF,EAAO,CAC5B1E,UAAWjC,OAAO6G,OAAO,GAAIF,EAAM1E,UAAW,CAC1C4B,KAAM,4BACN0wB,QACgC,KAA5B5tB,EAAMnD,SAAS4C,SACTO,EAAM1E,UAAUsyB,SACf5tB,EAAM1E,UAAUsyB,YAGvC,QACI,OAAO5tB,GAOE+7D,CAAa/7D,EAAOC,GAC/B+7D,EGxJqB,SAAC/rB,GAC5B,IAAMgsB,EAAkBC,YAAQjsB,GAEhC,OAAO,SAACjwC,EAAYC,GAChB,GACIA,EAAO1F,OACN0F,EAAO1F,KAAK6C,WAAW,OACxB6C,EAAO1F,KAAK2L,MAAM,KAAKrG,OAAS,EAClC,CACE,IAAMs8D,EAAYl8D,EAAO1F,KAAK2L,MAAM,KAAK,GACnCk2D,EAAUnsB,EAASksB,GAEzB,OADAE,OAAYD,EAAH,kBAAuBD,EAAvB,mBACFC,GAAWA,EAAQp8D,EAAOC,GAErC,OAAOg8D,EAAgBj8D,EAAOC,IH0IZq8D,CAAgB,CAClCjgE,cACAQ,oBACA24B,OAAQ+mC,aAAcj4D,KAHJg4D,CAInB,CAAEjgE,WAAYu/D,EAAiB/+D,SAAUg/D,GAAiB57D,GAC7D,OAAO,2BACA67D,GACAE,KExIqCR,KhE8BzC,SAAP,4BgE7BAgB,CAAiBh1B,IAEjBi1B,IAAS31B,OACL,kBAAC,GAAD,KACI,kBAAC,IAAD,CAAUU,MAAOA,IACb,kBAAC,KAAD,CAAiBljC,QAASA,IACtB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOpH,KAAK,UACR,kBAAC,WAAD,CAAU8kB,SAAU,cAChB,kBAACg5C,GAAD,QAGR,kBAAC,IAAD,CAAOd,OAAK,EAACh9D,KAAK,IACd,kBAACs8D,GAAD,WAMpB51D,SAAS84D,eAAe,U,gCE3C5B,oEAAO,IAOM3/D,EAAmB,WAC5B,MAAO,CACHxC,KAAM,uBAID6kB,EAAiB,SAC1B/U,GAEA,OAAO,SAACnO,EAAUC,GACd,IAAM6D,EAAQ7D,IACdyH,SAASyG,MACK,OAAVA,QAA4BzQ,IAAVyQ,EACZrK,EAAM8J,WAAWO,MACjBA,EAAQ,MAAQrK,EAAM8J,WAAWO,MAC3CnO,EAtBmB,SAACmO,GACxB,MAAO,CACH9P,KAAM,eACN8P,SAmBSsyD,CAAYtyD,Q","file":"static/js/main.c76aeec6.chunk.js","sourcesContent":["import axios from \"axios\";\nimport Auth from \"./Auth\";\n\nexport const baseURL = \"/api/v3\";\n\nexport const getBaseURL = () => {\n    return baseURL;\n};\n\nconst instance = axios.create({\n    baseURL: getBaseURL(),\n    withCredentials: true,\n    crossDomain: true,\n});\n\nfunction AppError(message, code, error) {\n    this.code = code;\n    this.message = message || \"未知错误\";\n    this.message += error ? \" \" + error : \"\";\n    this.stack = new Error().stack;\n}\nAppError.prototype = Object.create(Error.prototype);\nAppError.prototype.constructor = AppError;\n\ninstance.interceptors.response.use(\n    function (response) {\n        response.rawData = response.data;\n        response.data = response.data.data;\n        if (\n            response.rawData.code !== undefined &&\n            response.rawData.code !== 0 &&\n            response.rawData.code !== 203\n        ) {\n            // 登录过期\n            if (response.rawData.code === 401) {\n                Auth.signout();\n                window.location.href = \"/login\";\n            }\n\n            // 非管理员\n            if (response.rawData.code === 40008) {\n                window.location.href = \"/home\";\n            }\n            throw new AppError(\n                response.rawData.msg,\n                response.rawData.code,\n                response.rawData.error\n            );\n        }\n        return response;\n    },\n    function (error) {\n        return Promise.reject(error);\n    }\n);\n\nexport default instance;\n","import { AnyAction } from \"redux\";\nimport { ThunkAction } from \"redux-thunk\";\nimport { CloudreveFile, SortMethod } from \"./../../types/index\";\nimport { closeContextMenu } from \"../viewUpdate/action\";\n\nexport interface ActionSetFileList extends AnyAction {\n    type: \"SET_FILE_LIST\";\n    list: CloudreveFile[];\n}\nexport const setFileList = (list: CloudreveFile[]): ActionSetFileList => {\n    return {\n        type: \"SET_FILE_LIST\",\n        list,\n    };\n};\n\nexport interface ActionSetDirList extends AnyAction {\n    type: \"SET_DIR_LIST\";\n    list: CloudreveFile[];\n}\nexport const setDirList = (list: CloudreveFile[]): ActionSetDirList => {\n    return {\n        type: \"SET_DIR_LIST\",\n        list,\n    };\n};\n\nexport interface ActionSetSortMethod extends AnyAction {\n    type: \"SET_SORT_METHOD\";\n    method: SortMethod;\n}\nexport const setSortMethod = (method: SortMethod): ActionSetSortMethod => {\n    return {\n        type: \"SET_SORT_METHOD\",\n        method,\n    };\n};\n\nexport const setSideBar = (open: boolean) => {\n    return {\n        type: \"SET_SIDE_BAR\",\n        open,\n    };\n};\n\ntype SortFunc = (a: CloudreveFile, b: CloudreveFile) => number;\nconst sortMethodFuncs: Record<SortMethod, SortFunc> = {\n    sizePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return a.size - b.size;\n    },\n    sizeRes: (a: CloudreveFile, b: CloudreveFile) => {\n        return b.size - a.size;\n    },\n    namePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return a.name.localeCompare(\n            b.name,\n            navigator.languages[0] || navigator.language,\n            { numeric: true, ignorePunctuation: true }\n        );\n    },\n    nameRev: (a: CloudreveFile, b: CloudreveFile) => {\n        return b.name.localeCompare(\n            a.name,\n            navigator.languages[0] || navigator.language,\n            { numeric: true, ignorePunctuation: true }\n        );\n    },\n    timePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return Date.parse(a.date) - Date.parse(b.date);\n    },\n    timeRev: (a: CloudreveFile, b: CloudreveFile) => {\n        return Date.parse(b.date) - Date.parse(a.date);\n    },\n};\n\nexport const updateFileList = (\n    list: CloudreveFile[]\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        // TODO: define state type\n        const { sortMethod } = state.viewUpdate;\n        const dirList = list.filter((x) => {\n            return x.type === \"dir\";\n        });\n        const fileList = list.filter((x) => {\n            return x.type === \"file\";\n        });\n        const sortFunc = sortMethodFuncs[sortMethod as SortMethod];\n        dispatch(setDirList(dirList.sort(sortFunc)));\n        dispatch(setFileList(fileList.sort(sortFunc)));\n    };\n};\n\nexport const changeSortMethod = (\n    method: SortMethod\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        const { fileList, dirList } = state.explorer;\n        const sortFunc = sortMethodFuncs[method];\n        dispatch(setSortMethod(method));\n        dispatch(setDirList(dirList.sort(sortFunc)));\n        dispatch(setFileList(fileList.sort(sortFunc)));\n    };\n};\n\nexport const toggleObjectInfoSidebar = (\n    open: boolean\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        if (open) {\n            dispatch(closeContextMenu());\n        }\n        dispatch(setSideBar(true));\n    };\n};\n","const statusHelper = {\n    isHomePage(path) {\n        return path === \"/home\";\n    },\n    isSharePage(path) {\n        return path && path.startsWith(\"/s/\");\n    },\n    isAdminPage(path) {\n        return path && path.startsWith(\"/admin\");\n    },\n    isLoginPage(path) {\n        return path && path.startsWith(\"/login\");\n    },\n    isMobile() {\n        return window.innerWidth < 600;\n    },\n};\nexport default statusHelper;\n","import React, { useState, useEffect } from \"react\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nfunction AutoHidden({ children, enable }) {\n    const [hidden, setHidden] = useState(false);\n\n    let prev = window.scrollY;\n    let lastUpdate = window.scrollY;\n    const show = 50;\n\n    useEffect(() => {\n        const handleNavigation = (e) => {\n            const window = e.currentTarget;\n\n            if (prev > window.scrollY) {\n                if (lastUpdate - window.scrollY > show) {\n                    lastUpdate = window.scrollY;\n                    setHidden(false);\n                }\n            } else if (prev < window.scrollY) {\n                if (window.scrollY - lastUpdate > show) {\n                    lastUpdate = window.scrollY;\n                    setHidden(true);\n                }\n            }\n            prev = window.scrollY;\n        };\n        if (enable) {\n            window.addEventListener(\"scroll\", (e) => handleNavigation(e));\n        }\n        // eslint-disable-next-line\n    }, [enable]);\n\n    return <Zoom in={!hidden}>{children}</Zoom>;\n}\n\nexport default AutoHidden;\n","/* eslint-disable no-case-declarations */\nimport { AnyAction } from \"redux\";\nimport { CloudreveFile } from \"../../types\";\n\ninterface SelectProps {\n    isMultiple: boolean;\n    withFolder: boolean;\n    withFile: boolean;\n}\n\nexport interface ExplorerState {\n    dndSignal: boolean;\n    dndTarget: any;\n    dndSource: any;\n    fileList: CloudreveFile[];\n    dirList: CloudreveFile[];\n    selected: CloudreveFile[];\n    selectProps: SelectProps;\n    lastSelect: {\n        file: CloudreveFile;\n        index: number;\n    };\n    shiftSelectedIds: string[];\n    imgPreview: {\n        first: CloudreveFile;\n        other: [];\n    };\n    keywords: string;\n    fileSave: boolean;\n    sideBarOpen: boolean;\n}\n\nexport const initState: ExplorerState = {\n    dndSignal: false,\n    dndTarget: null,\n    dndSource: null,\n    fileList: [],\n    dirList: [],\n    selected: [],\n    selectProps: {\n        isMultiple: false,\n        withFolder: false,\n        withFile: false,\n    },\n    lastSelect: {\n        file: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        index: -1,\n    },\n    shiftSelectedIds: [],\n    imgPreview: {\n        first: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        other: [],\n    },\n    keywords: \"\",\n    fileSave: false,\n    sideBarOpen: false,\n};\n\nconst checkSelectedProps = (selected: CloudreveFile[]): SelectProps => {\n    const isMultiple = selected.length > 1;\n    let withFolder = false;\n    let withFile = false;\n    selected.forEach((value) => {\n        if (value.type === \"dir\") {\n            withFolder = true;\n        } else if (value.type === \"file\") {\n            withFile = true;\n        }\n    });\n    return {\n        isMultiple,\n        withFolder,\n        withFile,\n    };\n};\n\nconst explorer = (\n    state: ExplorerState = initState,\n    action: AnyAction\n): ExplorerState => {\n    switch (action.type) {\n        case \"DRAG_AND_DROP\":\n            return Object.assign({}, state, {\n                dndSignal: !state.dndSignal,\n                dndTarget: action.target,\n                dndSource: action.source,\n            });\n        case \"SET_FILE_LIST\":\n            return Object.assign({}, state, {\n                fileList: action.list,\n            });\n        case \"SET_DIR_LIST\":\n            return Object.assign({}, state, {\n                dirList: action.list,\n            });\n        case \"ADD_SELECTED_TARGETS\":\n            const addedSelected = [...state.selected, ...action.targets];\n            return Object.assign({}, state, {\n                selected: addedSelected,\n                selectProps: checkSelectedProps(addedSelected),\n            });\n        case \"SET_SELECTED_TARGET\":\n            const newSelected = action.targets;\n            return Object.assign({}, state, {\n                selected: newSelected,\n                selectProps: checkSelectedProps(newSelected),\n            });\n        case \"RMOVE_SELECTED_TARGETS\":\n            const { fileIds } = action;\n            const filteredSelected = state.selected.filter((file) => {\n                return !fileIds.includes(file.id);\n            });\n            return Object.assign({}, state, {\n                selected: filteredSelected,\n                selectProps: checkSelectedProps(filteredSelected),\n            });\n        case \"REFRESH_FILE_LIST\":\n            return Object.assign({}, state, {\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n                keywords: action.keywords,\n            });\n        case \"SHOW_IMG_PREIVEW\":\n            return Object.assign({}, state, {\n                imgPreview: {\n                    first: action.first,\n                    other: state.fileList,\n                },\n            });\n        case \"SAVE_FILE\":\n            return {\n                ...state,\n                fileSave: !state.fileSave,\n            };\n        case \"SET_LAST_SELECT\":\n            const { file, index } = action;\n            return {\n                ...state,\n                lastSelect: {\n                    file,\n                    index,\n                },\n            };\n        case \"SET_SHIFT_SELECTED_IDS\":\n            const { shiftSelectedIds } = action;\n            return {\n                ...state,\n                shiftSelectedIds,\n            };\n        case \"SET_NAVIGATOR\":\n            return {\n                ...state,\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n                keywords: \"\",\n            };\n        case \"SET_SIDE_BAR\":\n            return {\n                ...state,\n                sideBarOpen: action.open,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default explorer;\n","import React from \"react\";\nimport { Code } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"70%\",\n        padding: 40,\n        [theme.breakpoints.down(\"md\")]: {\n            width: \"100%\",\n            padding: 10,\n        },\n    },\n}));\n\nconst MyLoader = (props) => (\n    <Code\n        backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n        foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n        className={props.className}\n    />\n);\n\nfunction TextLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div>\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default TextLoading;\n","const Auth = {\n    isAuthenticated: false,\n    authenticate(cb: any) {\n        Auth.SetUser(cb);\n        Auth.isAuthenticated = true;\n    },\n    GetUser() {\n        return JSON.parse(localStorage.getItem(\"user\") || \"null\");\n    },\n    SetUser(newUser: any) {\n        localStorage.setItem(\"user\", JSON.stringify(newUser));\n    },\n    Check(): boolean {\n        if (Auth.isAuthenticated) {\n            return true;\n        }\n        if (localStorage.getItem(\"user\") !== null) {\n            return !Auth.GetUser().anonymous;\n        }\n        return false;\n    },\n    signout() {\n        Auth.isAuthenticated = false;\n        const oldUser = Auth.GetUser();\n        oldUser.id = 0;\n        localStorage.setItem(\"user\", JSON.stringify(oldUser));\n    },\n    SetPreference(key: string, value: any) {\n        let preference = JSON.parse(\n            localStorage.getItem(\"user_preference\") || \"{}\"\n        );\n        preference = preference == null ? {} : preference;\n        preference[key] = value;\n        localStorage.setItem(\"user_preference\", JSON.stringify(preference));\n    },\n    GetPreference(key: string): any | null {\n        const preference = JSON.parse(\n            localStorage.getItem(\"user_preference\") || \"{}\"\n        );\n        if (preference && preference[key]) {\n            return preference[key];\n        }\n        return null;\n    },\n};\n\nexport default Auth;\n","export const sizeToString = (bytes) => {\n    if (bytes === 0 || bytes === \"0\") return \"0 B\";\n    const k = 1024;\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toFixed(1) + \" \" + sizes[i];\n};\n\nexport const fixUrlHash = (path) => {\n    return path;\n};\n\nexport const setCookie = (name, value, days) => {\n    if (days) {\n        const date = new Date();\n        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    }\n    document.cookie = name + \"=\" + (value || \"\") + \"; path=/\";\n};\n\nexport const setGetParameter = (paramName, paramValue) => {\n    let url = window.location.href;\n\n    if (url.indexOf(paramName + \"=\") >= 0) {\n        const prefix = url.substring(0, url.indexOf(paramName));\n        let suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix =\n            suffix.indexOf(\"&\") >= 0\n                ? suffix.substring(suffix.indexOf(\"&\"))\n                : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    } else {\n        if (url.indexOf(\"?\") < 0) url += \"?\" + paramName + \"=\" + paramValue;\n        else url += \"&\" + paramName + \"=\" + paramValue;\n    }\n    if (url === window.location.href) {\n        return;\n    }\n    window.history.pushState(null, null, url);\n};\n\nexport const allowSharePreview = () => {\n    if (!window.isSharePage) {\n        return true;\n    }\n    if (window.isSharePage) {\n        if (window.shareInfo.allowPreview) {\n            return true;\n        }\n        if (window.userInfo.uid === -1) {\n            return false;\n        }\n        return true;\n    }\n};\n\nexport const checkGetParameters = (field) => {\n    const url = window.location.href;\n    if (url.indexOf(\"?\" + field + \"=\") !== -1) return true;\n    else if (url.indexOf(\"&\" + field + \"=\") !== -1) return true;\n    return false;\n};\n\nexport const changeThemeColor = (color) => {\n    const metaThemeColor = window.document.querySelector(\n        \"meta[name=theme-color]\"\n    );\n    metaThemeColor.setAttribute(\"content\", color);\n};\n\nexport function bufferDecode(value) {\n    return Uint8Array.from(atob(value), (c) => c.charCodeAt(0));\n}\n\n// ArrayBuffer to URLBase64\nexport function bufferEncode(value) {\n    return btoa(String.fromCharCode.apply(null, new Uint8Array(value)))\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\")\n        .replace(/=/g, \"\");\n}\n\nexport function pathBack(path) {\n    const folders =\n        path !== null\n            ? path.substr(1).split(\"/\")\n            : this.props.path.substr(1).split(\"/\");\n    return \"/\" + folders.slice(0, folders.length - 1).join(\"/\");\n}\n\nexport function filePath(file) {\n    return file.path === \"/\"\n        ? file.path + file.name\n        : file.path + \"/\" + file.name;\n}\n\nexport function hex2bin(hex) {\n    return parseInt(hex, 16).toString(2).padStart(8, \"0\");\n}\n\nexport function pathJoin(parts, sep) {\n    const separator = sep || \"/\";\n    parts = parts.map((part, index) => {\n        if (index) {\n            part = part.replace(new RegExp(\"^\" + separator), \"\");\n        }\n        if (index !== parts.length - 1) {\n            part = part.replace(new RegExp(separator + \"$\"), \"\");\n        }\n        return part;\n    });\n    return parts.join(separator);\n}\n\nexport function basename(path) {\n    const pathList = path.split(\"/\");\n    pathList.pop();\n    return pathList.join(\"/\") === \"\" ? \"/\" : pathList.join(\"/\");\n}\n\nexport function filename(path) {\n    const pathList = path.split(\"/\");\n    return pathList.pop();\n}\n\nexport function transformTime(timestamp = +new Date()) {\n    if (timestamp) {\n        const time = new Date(timestamp);\n        const y = time.getFullYear(); //getFullYear方法以四位数字返回年份\n        const M = time.getMonth() + 1; // getMonth方法从 Date 对象返回月份 (0 ~ 11)，返回结果需要手动加一\n        const d = time.getDate(); // getDate方法从 Date 对象返回一个月中的某一天 (1 ~ 31)\n        const h = time.getHours(); // getHours方法返回 Date 对象的小时 (0 ~ 23)\n        const m = time.getMinutes(); // getMinutes方法返回 Date 对象的分钟 (0 ~ 59)\n        const s = time.getSeconds(); // getSeconds方法返回 Date 对象的秒数 (0 ~ 59)\n        return y + \"-\" + M + \"-\" + d + \" \" + h + \":\" + m + \":\" + s;\n    } else {\n        return \"\";\n    }\n}\n\nexport function randomStr(length) {\n    let result = \"\";\n    const characters =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(\n            Math.floor(Math.random() * charactersLength)\n        );\n    }\n    return result;\n}\n\nexport function getNumber(base, conditions) {\n    conditions.forEach((v) => {\n        if (v) {\n            base++;\n        }\n    });\n    return base;\n}\n\nexport const isMac = () => {\n    return navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0;\n};\n\nexport function vhCheck() {\n    const vh = window.innerHeight;\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n}\n","import React, { useCallback } from \"react\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport DayIcon from \"@material-ui/icons/Brightness7\";\nimport NightIcon from \"@material-ui/icons/Brightness4\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toggleDaylightMode } from \"../../actions\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Auth from \"../../middleware/Auth\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles(() => ({\n    icon: {\n        color: \"rgb(255, 255, 255)\",\n        opacity: \"0.54\",\n    },\n}));\n\nconst DarkModeSwitcher = ({ position }) => {\n    const ThemeType = useSelector(\n        (state) => state.siteConfig.theme.palette.type\n    );\n    const dispatch = useDispatch();\n    const ToggleThemeMode = useCallback(() => dispatch(toggleDaylightMode()), [\n        dispatch,\n    ]);\n    const isDayLight = (ThemeType && ThemeType === \"light\") || !ThemeType;\n    const isDark = ThemeType && ThemeType === \"dark\";\n    const toggleMode = () => {\n        Auth.SetPreference(\"theme_mode\", isDayLight ? \"dark\" : \"light\");\n        ToggleThemeMode();\n    };\n    const classes = useStyles();\n    return (\n        <Tooltip\n            title={isDayLight ? \"切换到深色模式\" : \"切换到浅色模式\"}\n            placement=\"bottom\"\n        >\n            <IconButton\n                className={classNames({\n                    [classes.icon]: \"left\" === position,\n                })}\n                onClick={toggleMode}\n                color=\"inherit\"\n            >\n                {isDayLight && <NightIcon />}\n                {isDark && <DayIcon />}\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default DarkModeSwitcher;\n","import React, { useCallback, useState } from \"react\";\nimport { IconButton, makeStyles, Menu, MenuItem } from \"@material-ui/core\";\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\nimport ViewSmallIcon from \"@material-ui/icons/ViewComfy\";\nimport ViewModuleIcon from \"@material-ui/icons/ViewModule\";\nimport TextTotateVerticalIcon from \"@material-ui/icons/TextRotateVertical\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { Report as ReportIcon } from \"@material-ui/icons\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport Report from \"../../Modals/Report\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Auth from \"../../../middleware/Auth\";\nimport {\n    changeViewMethod,\n    openResaveDialog,\n    setShareUserPopover,\n    toggleSnackbar,\n} from \"../../../actions\";\nimport { changeSortMethod } from \"../../../redux/explorer/action\";\n\nconst useStyles = makeStyles((theme) => ({\n    sideButton: {\n        padding: \"8px\",\n        marginRight: \"5px\",\n    },\n}));\n\nconst sortOptions = [\"A-Z\", \"Z-A\", \"最早\", \"最新\", \"最小\", \"最大\"];\n\nexport default function SubActions({ isSmall, share, inherit }) {\n    const dispatch = useDispatch();\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const OpenLoadingDialog = useCallback(\n        (method) => dispatch(changeViewMethod(method)),\n        [dispatch]\n    );\n    const ChangeSortMethod = useCallback(\n        (method) => dispatch(changeSortMethod(method)),\n        [dispatch]\n    );\n    const OpenResaveDialog = useCallback(\n        (key) => dispatch(openResaveDialog(key)),\n        [dispatch]\n    );\n    const SetShareUserPopover = useCallback(\n        (e) => dispatch(setShareUserPopover(e)),\n        [dispatch]\n    );\n    const [anchorSort, setAnchorSort] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const [openReport, setOpenReport] = useState(false);\n    const showSortOptions = (e) => {\n        setAnchorSort(e.currentTarget);\n    };\n    const handleMenuItemClick = (e, index) => {\n        setSelectedIndex(index);\n        const optionsTable = {\n            0: \"namePos\",\n            1: \"nameRev\",\n            2: \"timePos\",\n            3: \"timeRev\",\n            4: \"sizePos\",\n            5: \"sizeRes\",\n        };\n        ChangeSortMethod(optionsTable[index]);\n        setAnchorSort(null);\n    };\n\n    const toggleViewMethod = () => {\n        const newMethod =\n            viewMethod === \"icon\"\n                ? \"list\"\n                : viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        OpenLoadingDialog(newMethod);\n    };\n\n    const toggleSnackbars = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const rewards = () => {\n        if (!Auth.Check()) {\n            toggleSnackbars(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            return;\n        }\n        window.opensendgift(share.key);\n    };\n\n    const classes = useStyles();\n    return (\n        <>  \n            {share && (\n            <IconButton title=\"打赏\" className={classes.sideButton} onClick={rewards}>\n              <MonetizationOnIcon fontSize=\"small\"/>\n            </IconButton>\n            )}\n            {viewMethod === \"icon\" && (\n                <IconButton\n                    title=\"列表展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewListIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n            {viewMethod === \"list\" && (\n                <IconButton\n                    title=\"小图标展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewSmallIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n\n            {viewMethod === \"smallIcon\" && (\n                <IconButton\n                    title=\"大图标展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewModuleIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n\n            <IconButton\n                title=\"排序方式\"\n                className={classes.sideButton}\n                onClick={showSortOptions}\n                color={inherit ? \"inherit\" : \"default\"}\n            >\n                <TextTotateVerticalIcon\n                    fontSize={isSmall ? \"small\" : \"default\"}\n                />\n            </IconButton>\n            <Menu\n                id=\"sort-menu\"\n                anchorEl={anchorSort}\n                open={Boolean(anchorSort)}\n                onClose={() => setAnchorSort(null)}\n            >\n                {sortOptions.map((option, index) => (\n                    <MenuItem\n                        key={option}\n                        selected={index === selectedIndex}\n                        onClick={(event) => handleMenuItemClick(event, index)}\n                    >\n                        {option}\n                    </MenuItem>\n                ))}\n            </Menu>\n            {share && (\n                <>\n                    <IconButton\n                        title={\"保存到我的文件\"}\n                        className={classes.sideButton}\n                        onClick={() => OpenResaveDialog(share.key)}\n                    >\n                        <SaveIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                    </IconButton>\n                    <IconButton\n                        title={\"举报\"}\n                        className={classes.sideButton}\n                        onClick={() => setOpenReport(true)}\n                    >\n                        <ReportIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                    </IconButton>\n                    <Report\n                        open={openReport}\n                        share={share}\n                        onClose={() => setOpenReport(false)}\n                    />\n                </>\n            )}\n            {share && (\n                <IconButton\n                    title={\"由 \" + share.creator.nick + \" 创建\"}\n                    className={classes.sideButton}\n                    onClick={(e) => SetShareUserPopover(e.currentTarget)}\n                    style={{ padding: 5 }}\n                >\n                    <Avatar\n                        style={{ height: 23, width: 23 }}\n                        src={\"/api/v3/user/avatar/\" + share.creator.key + \"/s\"}\n                    />\n                </IconButton>\n            )}\n        </>\n    );\n}\n","import React, { useCallback, useState } from \"react\";\nimport { FormControl, makeStyles, TextField } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { reportReasons } from \"../../config\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n    },\n    flexCenter: {\n        alignItems: \"center\",\n    },\n    noFlex: {\n        display: \"block\",\n    },\n    scoreCalc: {\n        marginTop: 10,\n    },\n}));\n\nexport default function Report(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n    const [reason, setReason] = useState(\"0\");\n    const [des, setDes] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(() => {\n            setDes(\"\");\n            setReason(\"0\");\n        }, 500);\n    };\n\n    const submitReport = () => {\n        setLoading(true);\n        API.post(\"/share/report/\" + props.share.key, {\n            des: des,\n            reason: parseInt(reason),\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"举报成功\", \"success\");\n                setLoading(false);\n                onClose();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">举报</DialogTitle>\n            <DialogContent>\n                <FormControl component=\"fieldset\">\n                    <RadioGroup\n                        aria-label=\"gender\"\n                        name=\"gender1\"\n                        value={reason}\n                        onChange={(e) => setReason(e.target.value)}\n                    >\n                        {reportReasons.map((v, k) => (\n                            <FormControlLabel\n                                key={k}\n                                value={k.toString()}\n                                control={<Radio />}\n                                label={v}\n                            />\n                        ))}\n                    </RadioGroup>\n                </FormControl>\n                <TextField\n                    fullWidth\n                    id=\"standard-multiline-static\"\n                    label=\"补充描述\"\n                    multiline\n                    value={des}\n                    onChange={(e) => setDes(e.target.value)}\n                    variant=\"filled\"\n                    rows={4}\n                />\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n                <Button\n                    onClick={submitReport}\n                    color=\"secondary\"\n                    disabled={loading}\n                >\n                    提交\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\n\nexport default function PurchaseShareDialog(props) {\n    return (\n        <Dialog\n            open={props.callback}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                确定要支付 {props.score}积分 购买此分享？\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    购买后，您可以自由预览、下载此分享的所有内容，一定期限内不会重复扣费。\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    onClick={() => props.callback()}\n                    color=\"primary\"\n                    autoFocus\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7,\n    },\n    fabProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: -6,\n        left: -6,\n        zIndex: 1,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonSuccess: {\n        backgroundColor: green[500],\n        \"&:hover\": {\n            backgroundColor: green[700],\n        },\n    },\n}));\n\nexport default function SaveButton(props) {\n    const classes = useStyles();\n    const buttonClassname = clsx({\n        [classes.buttonSuccess]: props.status === \"success\",\n    });\n\n    return (\n        <AutoHidden enable={statusHelper.isMobile()}>\n            <div className={classes.fab}>\n                <div className={classes.wrapper}>\n                    <Tooltip title={\"保存\"} placement={\"left\"}>\n                        <Fab\n                            onClick={props.onClick}\n                            color=\"primary\"\n                            className={buttonClassname}\n                            disabled={props.status === \"loading\"}\n                            aria-label=\"add\"\n                        >\n                            {props.status === \"success\" ? (\n                                <CheckIcon />\n                            ) : (\n                                <SaveIcon />\n                            )}\n                        </Fab>\n                    </Tooltip>\n                    {props.status === \"loading\" && (\n                        <CircularProgress\n                            size={68}\n                            className={classes.fabProgress}\n                        />\n                    )}\n                </div>\n            </div>\n        </AutoHidden>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { blue } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\n\nconst useStyles = makeStyles({\n    avatar: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    loadingContainer: {\n        display: \"flex\",\n    },\n    loading: {\n        marginTop: 10,\n        marginLeft: 20,\n    },\n});\n\nexport default function LoadingDialog() {\n    const classes = useStyles();\n    const open = useSelector((state) => state.viewUpdate.modals.loading);\n    const text = useSelector((state) => state.viewUpdate.modals.loadingText);\n\n    return (\n        <Dialog aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogContent>\n                <DialogContentText className={classes.loadingContainer}>\n                    <CircularProgress color=\"secondary\" />\n                    <div className={classes.loading}>{text}</div>\n                </DialogContentText>\n            </DialogContent>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n} from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CopyDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n    const RefreshFileList = useCallback(() => {\n        dispatch(refreshFileList());\n    }, [dispatch]);\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n\n        if (props.selected[0].type === \"dir\") {\n            dirs.push(props.selected[0].id);\n        } else {\n            items.push(props.selected[0].id);\n        }\n\n        API.post(\"/object/copy\", {\n            src_dir: props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                RefreshFileList();\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">复制到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        复制到 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Checkbox,\n    FormControl,\n    makeStyles,\n    TextField,\n} from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport TimerIcon from \"@material-ui/icons/Timer\";\nimport CasinoIcon from \"@material-ui/icons/Casino\";\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Divider from \"@material-ui/core/Divider\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport EyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport ToggleIcon from \"material-ui-toggle-icon\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n    },\n    flexCenter: {\n        alignItems: \"center\",\n    },\n    noFlex: {\n        display: \"block\",\n    },\n    scoreCalc: {\n        marginTop: 10,\n    },\n}));\n\nconst ExpansionPanel = withStyles({\n    root: {\n        border: \"0px solid rgba(0, 0, 0, .125)\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {\n            margin: \"auto\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        padding: 0,\n        \"&$expanded\": {},\n    },\n    content: {\n        margin: 0,\n        display: \"initial\",\n        \"&$expanded\": {\n            margin: \"0 0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        padding: 24,\n        backgroundColor: theme.palette.background.default,\n    },\n}))(MuiExpansionPanelDetails);\n\nexport default function CreatShare(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const scoreEnabled = useSelector((state) => state.siteConfig.score_enabled);\n    const scoreRate = useSelector((state) => state.siteConfig.share_score_rate);\n\n    const [expanded, setExpanded] = React.useState(false);\n    const [shareURL, setShareURL] = React.useState(\"\");\n    const [values, setValues] = React.useState({\n        password: \"\",\n        downloads: 1,\n        expires: 24 * 3600,\n        showPassword: false,\n        score: 0,\n    });\n    const [shareOption, setShareOption] = React.useState({\n        password: false,\n        expire: false,\n        score: false,\n        preview: true,\n    });\n\n    const handleChange = (prop) => (event) => {\n        // 输入密码\n        if (prop === \"password\") {\n            if (event.target.value === \"\") {\n                setShareOption({ ...shareOption, password: false });\n            } else {\n                setShareOption({ ...shareOption, password: true });\n            }\n        }\n\n        // 输入积分\n        if (prop === \"score\") {\n            if (event.target.value == \"0\") {\n                setShareOption({ ...shareOption, score: false });\n            } else {\n                setShareOption({ ...shareOption, score: true });\n            }\n        }\n\n        setValues({ ...values, [prop]: event.target.value });\n    };\n\n    const handleClickShowPassword = () => {\n        setValues({ ...values, showPassword: !values.showPassword });\n    };\n\n    const handleMouseDownPassword = (event) => {\n        event.preventDefault();\n    };\n\n    const randomPassword = () => {\n        setShareOption({ ...shareOption, password: true });\n        setValues({\n            ...values,\n            password: Math.random().toString(36).substr(2).slice(2, 8),\n            showPassword: true,\n        });\n    };\n\n    const handleExpand = (panel) => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    const handleCheck = (prop) => () => {\n        if (!shareOption[prop]) {\n            handleExpand(prop)(null, true);\n        }\n        if (prop === \"password\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                password: \"\",\n            });\n        }\n        if (prop === \"score\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                score: 0,\n            });\n        }\n        setShareOption({ ...shareOption, [prop]: !shareOption[prop] });\n    };\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(() => {\n            setShareURL(\"\");\n        }, 500);\n    };\n\n    const submitShare = (e) => {\n        e.preventDefault();\n        props.setModalsLoading(true);\n        const submitFormBody = {\n            id: props.selected[0].id,\n            is_dir: props.selected[0].type === \"dir\",\n            password: values.password,\n            downloads: shareOption.expire ? values.downloads : -1,\n            expire: values.expires,\n            score: parseInt(values.score),\n            preview: shareOption.preview,\n        };\n\n        API.post(\"/share\", submitFormBody)\n            .then((response) => {\n                setShareURL(response.data);\n                setValues({\n                    password: \"\",\n                    downloads: 1,\n                    expires: 24 * 3600,\n                    showPassword: false,\n                    score: 0,\n                });\n                setShareOption({\n                    password: false,\n                    expire: false,\n                    score: false,\n                });\n                props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                props.setModalsLoading(false);\n            });\n    };\n\n    const handleFocus = (event) => event.target.select();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">创建分享链接</DialogTitle>\n\n            {shareURL === \"\" && (\n                <>\n                    <Divider />\n                    <List>\n                        <ExpansionPanel\n                            expanded={expanded === \"password\"}\n                            onChange={handleExpand(\"password\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"使用密码保护\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.password}\n                                            onChange={handleCheck(\"password\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    fullWidth\n                                >\n                                    <InputLabel htmlFor=\"filled-adornment-password\">\n                                        分享密码\n                                    </InputLabel>\n                                    <OutlinedInput\n                                        fullWidth\n                                        id=\"outlined-adornment-password\"\n                                        type={\n                                            values.showPassword\n                                                ? \"text\"\n                                                : \"password\"\n                                        }\n                                        value={values.password}\n                                        onChange={handleChange(\"password\")}\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <Tooltip title=\"随机生成\">\n                                                    <IconButton\n                                                        aria-label=\"toggle password visibility\"\n                                                        onClick={randomPassword}\n                                                        edge=\"end\"\n                                                    >\n                                                        <CasinoIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                                <IconButton\n                                                    aria-label=\"toggle password visibility\"\n                                                    onClick={\n                                                        handleClickShowPassword\n                                                    }\n                                                    onMouseDown={\n                                                        handleMouseDownPassword\n                                                    }\n                                                    edge=\"end\"\n                                                >\n                                                    <ToggleIcon\n                                                        on={values.showPassword}\n                                                        onIcon={<Visibility />}\n                                                        offIcon={\n                                                            <VisibilityOff />\n                                                        }\n                                                    />\n                                                </IconButton>\n                                            </InputAdornment>\n                                        }\n                                        labelWidth={70}\n                                    />\n                                </FormControl>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        <ExpansionPanel\n                            expanded={expanded === \"expire\"}\n                            onChange={handleExpand(\"expire\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <TimerIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"自动过期\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.expire}\n                                            onChange={handleCheck(\"expire\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails\n                                className={classes.flexCenter}\n                            >\n                                <FormControl\n                                    style={{\n                                        marginRight: 10,\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.downloads}\n                                        onChange={handleChange(\"downloads\")}\n                                    >\n                                        <MenuItem value={1}>1 次下载</MenuItem>\n                                        <MenuItem value={2}>2 次下载</MenuItem>\n                                        <MenuItem value={3}>3 次下载</MenuItem>\n                                        <MenuItem value={4}>4 次下载</MenuItem>\n                                        <MenuItem value={5}>5 次下载</MenuItem>\n                                        <MenuItem value={20}>\n                                            20 次下载\n                                        </MenuItem>\n                                        <MenuItem value={50}>\n                                            50 次下载\n                                        </MenuItem>\n                                        <MenuItem value={100}>\n                                            100 次下载\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>或者</Typography>\n                                <FormControl\n                                    style={{\n                                        marginRight: 10,\n                                        marginLeft: 10,\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.expires}\n                                        onChange={handleChange(\"expires\")}\n                                    >\n                                        <MenuItem value={300}>5 分钟</MenuItem>\n                                        <MenuItem value={3600}>1 小时</MenuItem>\n                                        <MenuItem value={24 * 3600}>\n                                            1 天\n                                        </MenuItem>\n                                        <MenuItem value={7 * 24 * 3600}>\n                                            7 天\n                                        </MenuItem>\n                                        <MenuItem value={30 * 24 * 3600}>\n                                            30 天\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>后过期</Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        {scoreEnabled && (\n                            <ExpansionPanel\n                                expanded={expanded === \"score\"}\n                                onChange={handleExpand(\"score\")}\n                            >\n                                <ExpansionPanelSummary\n                                    aria-controls=\"panel1a-content\"\n                                    id=\"panel1a-header\"\n                                >\n                                    <ListItem button>\n                                        <ListItemIcon>\n                                            <AccountBalanceWalletIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"付积分下载\" />\n                                        <ListItemSecondaryAction>\n                                            <Checkbox\n                                                checked={shareOption.score}\n                                                onChange={handleCheck(\"score\")}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </ExpansionPanelSummary>\n\n                                <ExpansionPanelDetails\n                                    className={classes.noFlex}\n                                >\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        fullWidth\n                                    >\n                                        <InputLabel htmlFor=\"filled-adornment-password\">\n                                            每人次下载需支付的积分\n                                        </InputLabel>\n                                        <OutlinedInput\n                                            fullWidth\n                                            id=\"outlined-adornment-password\"\n                                            type=\"number\"\n                                            inputProps={{ min: 0 }}\n                                            value={values.score}\n                                            onChange={handleChange(\"score\")}\n                                            labelWidth={180}\n                                        />\n                                    </FormControl>\n                                    {values.score !== 0 && scoreRate !== \"100\" && (\n                                        <Typography\n                                            variant=\"body2\"\n                                            className={classes.scoreCalc}\n                                        >\n                                            {\"预计每人次下载可到账 \" +\n                                                Math.ceil(\n                                                    (values.score * scoreRate) /\n                                                        100\n                                                ) +\n                                                \" 积分\"}\n                                        </Typography>\n                                    )}\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        )}\n                        <ExpansionPanel\n                            expanded={expanded === \"preview\"}\n                            onChange={handleExpand(\"preview\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"允许预览\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.preview}\n                                            onChange={handleCheck(\"preview\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <Typography>\n                                    是否允许在分享页面预览文件内容\n                                </Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </List>\n                    <Divider />\n                </>\n            )}\n            {shareURL !== \"\" && (\n                <DialogContent>\n                    <TextField\n                        onFocus={handleFocus}\n                        autoFocus\n                        inputProps={{ readonly: true }}\n                        label=\"分享链接\"\n                        value={shareURL}\n                        variant=\"outlined\"\n                        fullWidth\n                    />\n                </DialogContent>\n            )}\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n\n                {shareURL === \"\" && (\n                    <div className={classes.wrapper}>\n                        <Button\n                            onClick={submitShare}\n                            color=\"secondary\"\n                            disabled={props.modalsLoading}\n                        >\n                            创建分享链接\n                            {props.modalsLoading && (\n                                <CircularProgress\n                                    size={24}\n                                    className={classes.buttonProgress}\n                                />\n                            )}\n                        </Button>\n                    </div>\n                )}\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport { filePath } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function DecompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        API.post(\"/file/decompress\", {\n            src: filePath(props.selected[0]),\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"解压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">解压送至</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        解压送至 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n        backgroundColor: theme.palette.background.default,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [fileName, setFileName] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n\n        API.post(\"/file/compress\", {\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            name: fileName,\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">存放到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        <TextField\n                            onChange={(e) => setFileName(e.target.value)}\n                            value={fileName}\n                            fullWidth\n                            autoFocus\n                            id=\"standard-basic\"\n                            label=\"压缩文件名\"\n                        />\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={\n                            selectedPath === \"\" ||\n                            fileName === \"\" ||\n                            props.modalsLoading\n                        }\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    input: {\n        width: 250,\n    },\n}));\n\nexport default function RelocateDialog(props) {\n    const [selectedPolicy, setSelectedPolicy] = useState(\"\");\n    const [policies, setPolicies] = useState([]);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const submitRelocate = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n\n        API.post(\"/file/relocate\", {\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst_policy_id: selectedPolicy,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"转移任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    useEffect(() => {\n        if (props.open) {\n            API.get(\"/user/setting/policies\")\n                .then((response) => {\n                    setPolicies(response.data.options);\n                    setSelectedPolicy(response.data.current.id);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n\n        // eslint-disable-next-line\n    }, [props.open]);\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">转移到存储策略</DialogTitle>\n\n            <DialogContent className={classes.contentFix}>\n                <Select\n                    className={classes.input}\n                    labelId=\"demo-simple-select-label\"\n                    value={selectedPolicy}\n                    onChange={(e) => setSelectedPolicy(e.target.value)}\n                >\n                    {policies.map((v, k) => (\n                        <MenuItem key={k} value={v.id}>\n                            {v.name}\n                        </MenuItem>\n                    ))}\n                </Select>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitRelocate}\n                        color=\"primary\"\n                        disabled={selectedPolicy === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    closeAllModals,\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n    refreshStorage,\n    openLoadingDialog,\n} from \"../../actions/index\";\nimport PathSelector from \"./PathSelector\";\nimport API, { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    Button,\n    TextField,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport Loading from \"../Modals/Loading\";\nimport CopyDialog from \"../Modals/Copy\";\nimport CreatShare from \"../Modals/CreateShare\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport Auth from \"../../middleware/Auth\";\nimport DecompressDialog from \"../Modals/Decompress\";\nimport CompressDialog from \"../Modals/Compress\";\nimport RelocateDialog from \"../Modals/Relocate\";\n\nconst styles = (theme) => ({\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        modalsStatus: state.viewUpdate.modals,\n        modalsLoading: state.viewUpdate.modalsLoading,\n        dirList: state.explorer.dirList,\n        fileList: state.explorer.fileList,\n        dndSignale: state.explorer.dndSignal,\n        dndTarget: state.explorer.dndTarget,\n        dndSource: state.explorer.dndSource,\n        loading: state.viewUpdate.modals.loading,\n        loadingText: state.viewUpdate.modals.loadingText,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setModalsLoading: (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n    };\n};\n\nclass ModalsCompoment extends Component {\n    state = {\n        newFolderName: \"\",\n        newFileName: \"\",\n        newName: \"\",\n        selectedPath: \"\",\n        selectedPathName: \"\",\n        secretShare: false,\n        sharePwd: \"\",\n        shareUrl: \"\",\n        downloadURL: \"\",\n        remoteDownloadPathSelect: false,\n        source: \"\",\n        purchaseCallback: null,\n    };\n\n    handleInputChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value,\n        });\n    };\n\n    newNameSuffix = \"\";\n    downloaded = false;\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (this.props.dndSignale !== nextProps.dndSignale) {\n            this.dragMove(nextProps.dndSource, nextProps.dndTarget);\n            return;\n        }\n        if (this.props.loading !== nextProps.loading) {\n            // 打包下载\n            if (nextProps.loading === true) {\n                if (nextProps.loadingText === \"打包中...\") {\n                    if (\n                        pathHelper.isSharePage(this.props.location.pathname) &&\n                        this.props.share &&\n                        this.props.share.score > 0\n                    ) {\n                        this.scoreHandler(this.archiveDownload);\n                        return;\n                    }\n                    this.archiveDownload();\n                } else if (nextProps.loadingText === \"获取下载地址...\") {\n                    if (\n                        pathHelper.isSharePage(this.props.location.pathname) &&\n                        this.props.share &&\n                        this.props.share.score > 0\n                    ) {\n                        this.scoreHandler(this.Download);\n                        return;\n                    }\n                    this.Download();\n                }\n            }\n            return;\n        }\n        if (this.props.modalsStatus.rename !== nextProps.modalsStatus.rename) {\n            const name = nextProps.selected[0].name;\n            this.setState({\n                newName: name,\n            });\n            return;\n        }\n        if (\n            this.props.modalsStatus.getSource !==\n                nextProps.modalsStatus.getSource &&\n            nextProps.modalsStatus.getSource === true\n        ) {\n            API.get(\"/file/source/\" + this.props.selected[0].id)\n                .then((response) => {\n                    this.setState({\n                        source: response.data.url,\n                    });\n                })\n                .catch((error) => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n    };\n\n    scoreHandler = (callback) => {\n        // 分享页面需要积分下载\n        if (!Auth.Check()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            this.onClose();\n            return;\n        }\n        if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n            this.setState({\n                purchaseCallback: () => {\n                    this.setState({\n                        purchaseCallback: null,\n                    });\n                    callback();\n                },\n            });\n        } else {\n            callback();\n        }\n    };\n\n    Download = () => {\n        let reqURL = \"\";\n        if (this.props.selected[0].key) {\n            const downloadPath =\n                this.props.selected[0].path === \"/\"\n                    ? this.props.selected[0].path + this.props.selected[0].name\n                    : this.props.selected[0].path +\n                      \"/\" +\n                      this.props.selected[0].name;\n            reqURL =\n                \"/share/download/\" +\n                this.props.selected[0].key +\n                \"?path=\" +\n                encodeURIComponent(downloadPath);\n        } else {\n            reqURL = \"/file/download/\" + this.props.selected[0].id;\n        }\n\n        API.put(reqURL)\n            .then((response) => {\n                window.location.assign(response.data);\n                this.onClose();\n                this.downloaded = true;\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    archiveDownload = () => {\n        const dirs = [],\n            items = [];\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n            return null;\n        });\n\n        let reqURL = \"/file/archive\";\n        const postBody = {\n            items: items,\n            dirs: dirs,\n        };\n        if (pathHelper.isSharePage(this.props.location.pathname)) {\n            reqURL = \"/share/archive/\" + window.shareInfo.key;\n            postBody[\"path\"] = this.props.selected[0].path;\n        }\n\n        API.post(reqURL, postBody)\n            .then((response) => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    window.location.assign(response.data);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.onClose();\n                this.props.refreshStorage();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    submitRemove = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.delete(\"/object\", {\n            data: {\n                items: items,\n                dirs: dirs,\n            },\n        })\n            .then((response) => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    setTimeout(this.props.refreshFileList, 500);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.props.setModalsLoading(false);\n                this.props.refreshStorage();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitResave = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/share/save/\" + window.shareKey, {\n            path:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.onClose();\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"文件已保存\",\n                    \"success\"\n                );\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.patch(\"/object\", {\n            action: \"move\",\n            src_dir: this.props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst: this.DragSelectedPath\n                ? this.DragSelectedPath\n                : this.state.selectedPath === \"//\"\n                ? \"/\"\n                : this.state.selectedPath,\n        })\n            .then(() => {\n                this.onClose();\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            })\n            .then(() => {\n                this.props.closeAllModals();\n            });\n    };\n\n    dragMove = (source, target) => {\n        if (this.props.selected.length === 0) {\n            this.props.selected[0] = source;\n        }\n        let doMove = true;\n\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            // 根据ID过滤\n            if (value.id === target.id && value.type === target.type) {\n                doMove = false;\n                // eslint-disable-next-line\n                return;\n            }\n            // 根据路径过滤\n            if (\n                value.path ===\n                target.path + (target.path === \"/\" ? \"\" : \"/\") + target.name\n            ) {\n                doMove = false;\n            }\n        });\n        if (doMove) {\n            this.DragSelectedPath =\n                target.path === \"/\"\n                    ? target.path + target.name\n                    : target.path + \"/\" + target.name;\n            this.props.openLoadingDialog(\"处理中...\");\n            this.submitMove();\n        }\n    };\n\n    submitRename = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const newName = this.state.newName;\n\n        const src = {\n            dirs: [],\n            items: [],\n        };\n\n        if (this.props.selected[0].type === \"dir\") {\n            src.dirs[0] = this.props.selected[0].id;\n        } else {\n            src.items[0] = this.props.selected[0].id;\n        }\n\n        // 检查重名\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1 ||\n            this.props.fileList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"新名称与已有文件重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/object/rename\", {\n                action: \"rename\",\n                src: src,\n                new_name: newName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                    this.props.setModalsLoading(false);\n                });\n        }\n    };\n\n    submitCreateNewFolder = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFolderName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件夹名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.put(\"/directory\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFolderName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitCreateNewFile = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFileName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/file/create\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFileName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitTorrentDownload = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/aria2/torrent/\" + this.props.selected[0].id, {\n            dst:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已创建\",\n                    \"success\"\n                );\n                this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitDownload = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/aria2/url\", {\n            url: this.state.downloadURL,\n            dst:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已创建\",\n                    \"success\"\n                );\n                this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        this.setState({\n            selectedPath: path,\n            selectedPathName: folder.name,\n        });\n    };\n\n    remoteDownloadNext = () => {\n        this.props.closeAllModals();\n        this.setState({\n            remoteDownloadPathSelect: true,\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            newFolderName: \"\",\n            newFileName: \"\",\n            newName: \"\",\n            selectedPath: \"\",\n            selectedPathName: \"\",\n            secretShare: false,\n            sharePwd: \"\",\n            downloadURL: \"\",\n            shareUrl: \"\",\n            remoteDownloadPathSelect: false,\n            source: \"\",\n        });\n        this.newNameSuffix = \"\";\n        this.props.closeAllModals();\n    };\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.checked });\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div>\n                <Loading />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share ? this.props.share.score : 0}\n                    onClose={() => {\n                        this.setState({ purchaseCallback: null });\n                        this.onClose();\n                    }}\n                />\n                <Dialog\n                    open={this.props.modalsStatus.getSource}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        获取文件外链\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"外链地址\"\n                                type=\"text\"\n                                value={this.state.source}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.createNewFolder}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件夹</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"文件夹名称\"\n                                type=\"text\"\n                                value={this.state.newFolderName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFolder}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFolderName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.createNewFile}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFile}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFileName\"\n                                label=\"文件名称\"\n                                type=\"text\"\n                                value={this.state.newFileName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFile}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFileName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.rename}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    maxWidth=\"sm\"\n                    fullWidth={true}\n                >\n                    <DialogTitle id=\"form-dialog-title\">重命名</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText>\n                            输入{\" \"}\n                            <strong>\n                                {this.props.selected.length === 1\n                                    ? this.props.selected[0].name\n                                    : \"\"}\n                            </strong>{\" \"}\n                            的新名称：\n                        </DialogContentText>\n                        <form onSubmit={this.submitRename}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newName\"\n                                label=\"新名称\"\n                                type=\"text\"\n                                value={this.state.newName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRename}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <CopyDialog\n                    open={this.props.modalsStatus.copy}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.move}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">移动至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                移动至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitMove}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.resave}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">保存至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                保存至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitResave}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remove}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">删除对象</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            确定要删除\n                            {this.props.selected.length === 1 && (\n                                <strong> {this.props.selected[0].name} </strong>\n                            )}\n                            {this.props.selected.length > 1 && (\n                                <span>\n                                    这{this.props.selected.length}个对象\n                                </span>\n                            )}\n                            吗？\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRemove}\n                                color=\"primary\"\n                                disabled={this.props.modalsLoading}\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <CreatShare\n                    open={this.props.modalsStatus.share}\n                    onClose={this.onClose}\n                    modalsLoading={this.props.modalsLoading}\n                    setModalsLoading={this.props.setModalsLoading}\n                    selected={this.props.selected}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.music}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">音频播放</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            {this.props.selected.length !== 0 && (\n                                <audio\n                                    controls\n                                    src={\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )\n                                            ? baseURL +\n                                              \"/share/preview/\" +\n                                              this.props.selected[0].key +\n                                              (this.props.selected[0].key\n                                                  ? \"?path=\" +\n                                                    encodeURIComponent(\n                                                        this.props.selected[0]\n                                                            .path === \"/\"\n                                                            ? this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                            : this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  \"/\" +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                    )\n                                                  : \"\")\n                                            : baseURL +\n                                              \"/file/preview/\" +\n                                              this.props.selected[0].id\n                                    }\n                                />\n                            )}\n                        </DialogContentText>\n                        <DialogContentText>\n                            <div className={classes.ads}>\n                                <AdSense.Baidu slot='u6556866'/>\n                            </div>\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remoteDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    fullWidth\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        新建离线下载任务\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            <TextField\n                                label=\"文件地址\"\n                                autoFocus\n                                fullWidth\n                                id=\"downloadURL\"\n                                onChange={this.handleInputChange}\n                                placeholder=\"输入文件下载地址，支持 HTTP(s)/FTP/磁力链\"\n                            />\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                        <Button\n                            onClick={this.remoteDownloadNext}\n                            color=\"primary\"\n                            disabled={\n                                this.props.modalsLoading ||\n                                this.state.downloadURL === \"\"\n                            }\n                        >\n                            下一步\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.remoteDownloadPathSelect}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.torrentDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitTorrentDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <DecompressDialog\n                    open={this.props.modalsStatus.decompress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n                <CompressDialog\n                    open={this.props.modalsStatus.compress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n                <RelocateDialog\n                    open={this.props.modalsStatus.relocate}\n                    onClose={this.onClose}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n            </div>\n        );\n    }\n}\n\nModalsCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst Modals = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ModalsCompoment)));\n\nexport default Modals;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport Editor from \"for-editor\";\nimport SaveButton from \"../Dial/Save\";\nimport pathHelper from \"../../utils/page\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    player: {\n        borderRadius: \"4px\",\n    },\n    root: {\n        backgroundColor: \"white\",\n        borderRadius: \"8px\",\n    },\n    \"@global\": {\n        \".for-toolbar\": {\n            overflowX: \"auto!important\",\n        },\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function TextViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const math = useRouteMatch();\n    const $vm = React.createRef();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/content/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: \"arraybuffer\" })\n            .then((response) => {\n                const buffer = new Buffer(response.rawData, \"binary\");\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                setLoading(false);\n            });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const toBase64 = (file) =>\n        new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = () => resolve(reader.result);\n            reader.onerror = (error) => reject(error);\n        });\n\n    const save = () => {\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"), content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(() => setStatus(\"\"), 2000);\n            })\n            .catch((error) => {\n                setStatus(\"\");\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addImg = async ($file) => {\n        $vm.current.$img2Url($file.name, await toBase64($file));\n        console.log($file);\n    };\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                {loading && <TextLoading />}\n                {!loading && (\n                    <Editor\n                        ref={$vm}\n                        value={content}\n                        onSave={() => save()}\n                        addImg={($file) => addImg($file)}\n                        onChange={(value) => setContent(value)}\n                        toolbar={{\n                            h1: true, // h1\n                            h2: true, // h2\n                            h3: true, // h3\n                            h4: true, // h4\n                            img: true, // 图片\n                            link: true, // 链接\n                            code: true, // 代码块\n                            preview: true, // 预览\n                            expand: true, // 全屏\n                            /* v0.0.9 */\n                            undo: true, // 撤销\n                            redo: true, // 重做\n                            save: false, // 保存\n                            /* v0.2.3 */\n                            subfield: true, // 单双栏模式\n                        }}\n                    />\n                )}\n            </Paper>\n            {!pathHelper.isSharePage(location.pathname) && (\n                <SaveButton onClick={save} status={status} />\n            )}\n        </div>\n    );\n}\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { Paper, useTheme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\nimport SaveButton from \"../Dial/Save\";\nimport { codePreviewSuffix } from \"../../config\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Divider from \"@material-ui/core/Divider\";\nconst MonacoEditor = React.lazy(() =>\n    import(/* webpackChunkName: \"codeEditor\" */ \"react-monaco-editor\")\n);\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    editor: {\n        borderRadius: \"4px\",\n    },\n    \"@global\": {\n        \".overflow-guard\": {\n            borderRadius: \"4px!important\",\n        },\n    },\n    formControl: {\n        margin: \"8px 16px 8px 16px\",\n    },\n    toobar: {\n        textAlign: \"right\",\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function CodeViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const [suffix, setSuffix] = useState(\"javascript\");\n\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const theme = useTheme();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            const extension = query.get(\"p\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            const extension = query.get(\"name\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/content/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: \"arraybuffer\" })\n            .then((response) => {\n                const buffer = new Buffer(response.rawData, \"binary\");\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                setLoading(false);\n            });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const save = () => {\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"), content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(() => setStatus(\"\"), 2000);\n            })\n            .catch((error) => {\n                setStatus(\"\");\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const isSharePage = pathHelper.isSharePage(location.pathname);\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <div className={classes.toobar}>\n                    <FormControl className={classes.formControl}>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={suffix}\n                            onChange={(e) => setSuffix(e.target.value)}\n                        >\n                            {Array.from(\n                                new Set(\n                                    Object.keys(codePreviewSuffix).map((k) => {\n                                        return codePreviewSuffix[k];\n                                    })\n                                )\n                            ).map((extension) => (\n                                // eslint-disable-next-line react/jsx-key\n                                <MenuItem value={extension}>\n                                    {extension}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </div>\n                <Divider />\n                {loading && <TextLoading />}\n                {!loading && (\n                    <Suspense fallback={<TextLoading />}>\n                        <MonacoEditor\n                            height=\"600\"\n                            language={suffix}\n                            theme={\n                                theme.palette.type === \"dark\" ? \"vs-dark\" : \"vs\"\n                            }\n                            value={content}\n                            options={{\n                                readOnly: isSharePage,\n                                extraEditorClassName: classes.editor,\n                            }}\n                            onChange={(value) => setContent(value)}\n                        />\n                    </Suspense>\n                )}\n            </Paper>\n            {!isSharePage && <SaveButton onClick={save} status={status} />}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {} from \"../../actions\";\nimport classNames from \"classnames\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\n\nimport { green, amber } from \"@material-ui/core/colors\";\n\nimport {\n    withStyles,\n    SnackbarContent,\n    Snackbar,\n    IconButton,\n} from \"@material-ui/core\";\n\nconst mapStateToProps = (state) => {\n    return {\n        snackbar: state.viewUpdate.snackbar,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n};\n\nconst styles1 = (theme) => ({\n    success: {\n        backgroundColor: theme.palette.success.main,\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n    },\n    info: {\n        backgroundColor: theme.palette.info.main,\n    },\n    warning: {\n        backgroundColor: theme.palette.warning.main,\n    },\n    icon: {\n        fontSize: 20,\n    },\n    iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing(1),\n    },\n    message: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n});\n\nfunction MySnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n\n    return (\n        <SnackbarContent\n            className={classNames(classes[variant], className)}\n            aria-describedby=\"client-snackbar\"\n            message={\n                <span id=\"client-snackbar\" className={classes.message}>\n                    <Icon\n                        className={classNames(\n                            classes.icon,\n                            classes.iconVariant\n                        )}\n                    />\n                    {message}\n                </span>\n            }\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"Close\"\n                    color=\"inherit\"\n                    className={classes.close}\n                    onClick={onClose}\n                >\n                    <CloseIcon className={classes.icon} />\n                </IconButton>,\n            ]}\n            {...other}\n        />\n    );\n}\nMySnackbarContent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf([\"alert\", \"success\", \"warning\", \"error\", \"info\"])\n        .isRequired,\n};\n\nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);\nconst styles = (theme) => ({\n    margin: {\n        margin: theme.spacing(1),\n    },\n});\nclass SnackbarCompoment extends Component {\n    state = {\n        open: false,\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (nextProps.snackbar.toggle !== this.props.snackbar.toggle) {\n            this.setState({ open: true });\n        }\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <Snackbar\n                anchorOrigin={{\n                    vertical: this.props.snackbar.vertical,\n                    horizontal: this.props.snackbar.horizontal,\n                }}\n                open={this.state.open}\n                autoHideDuration={6000}\n                onClose={this.handleClose}\n            >\n                <MySnackbarContentWrapper\n                    onClose={this.handleClose}\n                    variant={this.props.snackbar.color}\n                    message={this.props.snackbar.msg}\n                />\n            </Snackbar>\n        );\n    }\n}\n\nconst AlertBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(SnackbarCompoment));\n\nexport default AlertBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    LogoutVariant,\n    HomeAccount,\n    DesktopMacDashboard,\n    AccountArrowRight,\n    AccountPlus,\n} from \"mdi-material-ui\";\nimport {\n    setSessionStatus,\n    setUserPopover,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Avatar,\n    Popover,\n    Typography,\n    Chip,\n    ListItemIcon,\n    MenuItem,\n    Divider,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport pathHelper from \"../../utils/page\";\n\nconst mapStateToProps = (state) => {\n    return {\n        anchorEl: state.viewUpdate.userPopoverAnchorEl,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setSessionStatus: (status) => {\n            dispatch(setSessionStatus(status));\n        },\n    };\n};\nconst styles = () => ({\n    avatar: {\n        width: \"30px\",\n        height: \"30px\",\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\",\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge: {\n        marginTop: \"10px\",\n    },\n    visitorMenu: {\n        width: 200,\n    },\n});\n\nclass UserAvatarPopoverCompoment extends Component {\n    handleClose = () => {\n        this.props.setUserPopover(null);\n    };\n\n    openURL = (url) => {\n        window.location.href = url;\n    };\n\n    sigOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .then(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isAdminPage = pathHelper.isAdminPage(\n            this.props.location.pathname\n        );\n\n        return (\n            <Popover\n                open={this.props.anchorEl !== null}\n                onClose={this.handleClose}\n                anchorEl={this.props.anchorEl}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n            >\n                {!Auth.Check() && (\n                    <div className={classes.visitorMenu}>\n                        <Divider />\n                        <MenuItem\n                            onClick={() => this.props.history.push(\"/login\")}\n                        >\n                            <ListItemIcon>\n                                <AccountArrowRight />\n                            </ListItemIcon>\n                            登录\n                        </MenuItem>\n                        <MenuItem\n                            onClick={() => this.props.history.push(\"/signup\")}\n                        >\n                            <ListItemIcon>\n                                <AccountPlus />\n                            </ListItemIcon>\n                            注册\n                        </MenuItem>\n                    </div>\n                )}\n                {Auth.Check() && (\n                    <div>\n                        <div className={classes.header}>\n                            <div className={classes.largeAvatarContainer}>\n                                <Avatar\n                                    className={classes.largeAvatar}\n                                    src={\n                                        \"/api/v3/user/avatar/\" + user.id + \"/l\"\n                                    }\n                                />\n                            </div>\n                            <div className={classes.info}>\n                                <Typography noWrap>{user.nickname}</Typography>\n                                <Typography\n                                    color=\"textSecondary\"\n                                    style={{\n                                        fontSize: \"0.875rem\",\n                                    }}\n                                    noWrap\n                                >\n                                    {user.user_name}\n                                </Typography>\n                                <Chip\n                                    className={classes.badge}\n                                    color={\n                                        user.group.id === 1\n                                            ? \"secondary\"\n                                            : \"default\"\n                                    }\n                                    label={user.group.name}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <Divider />\n                            {!isAdminPage && (\n                                <MenuItem\n                                    style={{\n                                        padding: \" 11px 16px 11px 16px\",\n                                    }}\n                                    onClick={() => {\n                                        this.handleClose();\n                                        this.props.history.push(\n                                            \"/profile/\" + user.id\n                                        );\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <HomeAccount />\n                                    </ListItemIcon>\n                                    个人主页\n                                </MenuItem>\n                            )}\n                            {user.group.id === 1 && (\n                                <MenuItem\n                                    style={{\n                                        padding: \" 11px 16px 11px 16px\",\n                                    }}\n                                    onClick={() => {\n                                        this.handleClose();\n                                        this.props.history.push(\"/admin/home\");\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <DesktopMacDashboard />\n                                    </ListItemIcon>\n                                    管理面板\n                                </MenuItem>\n                            )}\n\n                            <MenuItem\n                                style={{\n                                    padding: \" 11px 16px 11px 16px\",\n                                }}\n                                onClick={this.sigOut}\n                            >\n                                <ListItemIcon>\n                                    <LogoutVariant />\n                                </ListItemIcon>\n                                退出登录\n                            </MenuItem>\n                        </div>\n                    </div>\n                )}\n            </Popover>\n        );\n    }\n}\n\nUserAvatarPopoverCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatarPopover = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarPopoverCompoment)));\n\nexport default UserAvatarPopover;\n","import React, { useCallback } from \"react\";\nimport {\n    Avatar,\n    IconButton,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n} from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Nas } from \"mdi-material-ui\";\nimport Popover from \"@material-ui/core/Popover\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { Check } from \"@material-ui/icons\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport { blue, green } from \"@material-ui/core/colors\";\nimport List from \"@material-ui/core/List\";\n\nconst useStyles = makeStyles(() => ({\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800],\n    },\n}));\n\nconst PolicySwitcher = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [policies, setPolicies] = React.useState({\n        current: { id: \"\", name: \"\" },\n        options: [],\n    });\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleClick = (event) => {\n        if (policies.current.id === \"\") {\n            API.get(\"/user/setting/policies\", {})\n                .then((response) => {\n                    setPolicies(response.data);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const switchTo = (id) => {\n        if (id === policies.current.id) {\n            handleClose();\n            return;\n        }\n        API.patch(\"/user/setting/policy\", {\n            id: id,\n        })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? \"simple-popover\" : undefined;\n\n    const classes = useStyles();\n    return (\n        <>\n            <Tooltip title={\"存储策略\"} placement=\"bottom\">\n                <IconButton onClick={handleClick} color=\"inherit\">\n                    <Nas />\n                </IconButton>\n            </Tooltip>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"center\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }}\n            >\n                <List>\n                    {policies.options.map((value, index) => (\n                        <ListItem\n                            button\n                            component=\"label\"\n                            key={index}\n                            onClick={() => switchTo(value.id)}\n                        >\n                            <ListItemAvatar>\n                                {value.id === policies.current.id && (\n                                    <Avatar className={classes.policySelected}>\n                                        <Check />\n                                    </Avatar>\n                                )}\n                                {value.id !== policies.current.id && (\n                                    <Avatar className={classes.uploadFromFile}>\n                                        <Backup />\n                                    </Avatar>\n                                )}\n                            </ListItemAvatar>\n                            <ListItemText primary={value.name} />\n                        </ListItem>\n                    ))}\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default PolicySwitcher;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport SettingIcon from \"@material-ui/icons/Settings\";\nimport UserAvatarPopover from \"./UserAvatarPopover\";\nimport { AccountCircle } from \"mdi-material-ui\";\nimport { setUserPopover } from \"../../actions\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Grow,\n    Avatar,\n    IconButton,\n    Tooltip,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\";\nimport PolicySwitcher from \"./PolicySwitcher\";\nimport { Home } from \"@material-ui/icons\";\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    mobileHidden: {\n        [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\",\n        },\n        whiteSpace: \"nowrap\",\n    },\n    avatar: {\n        width: \"30px\",\n        height: \"30px\",\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\",\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge: {\n        marginTop: \"10px\",\n    },\n    visitorMenu: {\n        width: 200,\n    },\n});\n\nclass UserAvatarCompoment extends Component {\n    state = {\n        anchorEl: null,\n    };\n\n    showUserInfo = (e) => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    handleClose = () => {\n        this.setState({\n            anchorEl: null,\n        });\n    };\n\n    openURL = (url) => {\n        window.location.href = url;\n    };\n\n    returnHome = () => {\n        window.location.href = \"/home\";\n    };\n\n    render() {\n        const { classes } = this.props;\n        const loginCheck = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n        const isAdminPage = pathHelper.isAdminPage(\n            this.props.location.pathname\n        );\n\n        return (\n            <div className={classes.mobileHidden}>\n                <Grow\n                    in={\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                    }\n                >\n                    <div>\n                        {!isAdminPage && (\n                            <>\n                                <DarkModeSwitcher position=\"top\" />\n                                {loginCheck && (\n                                    <>\n                                        <PolicySwitcher />\n                                        <Tooltip\n                                            title={\"设置\"}\n                                            placement=\"bottom\"\n                                        >\n                                            <IconButton\n                                                onClick={() =>\n                                                    this.props.history.push(\n                                                        \"/setting?\"\n                                                    )\n                                                }\n                                                color=\"inherit\"\n                                            >\n                                                <SettingIcon />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </>\n                                )}\n                            </>\n                        )}\n                        {isAdminPage && (\n                            <Tooltip title={\"返回主页\"} placement=\"bottom\">\n                                <IconButton\n                                    color=\"inherit\"\n                                    onClick={this.returnHome}\n                                >\n                                    <Home />\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        <IconButton color=\"inherit\" onClick={this.showUserInfo}>\n                            {!loginCheck && <AccountCircle />}\n                            {loginCheck && (\n                                <Avatar\n                                    src={\n                                        \"/api/v3/user/avatar/\" + user.id + \"/s\"\n                                    }\n                                    className={classes.avatar}\n                                />\n                            )}\n                        </IconButton>{\" \"}\n                    </div>\n                </Grow>\n                <UserAvatarPopover />\n            </div>\n        );\n    }\n}\n\nUserAvatarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarCompoment)));\n\nexport default UserAvatar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport BackIcon from \"@material-ui/icons/ArrowBack\";\nimport SdStorage from \"@material-ui/icons/SdStorage\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AccountBalanceWallet from \"@material-ui/icons/AccountBalanceWallet\";\nimport ChatIcon from '@material-ui/icons/Chat';\nimport WebIcon from '@material-ui/icons/Web';\nimport LinkIcon from \"@material-ui/icons/InsertLink\";\nimport { isPreviewable } from \"../../config\";\nimport {\n    drawerToggleAction,\n    setSelectedTarget,\n    navigateTo,\n    openCreateFolderDialog,\n    openGetSourceDialog,\n    changeContextMenu,\n    searchMyFile,\n    saveFile,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    openRenameDialog,\n    openLoadingDialog,\n    setSessionStatus,\n    openPreview,\n} from \"../../actions\";\nimport {\n    allowSharePreview,\n    checkGetParameters,\n    changeThemeColor,\n} from \"../../utils\";\nimport Uploader from \"../Upload/Uploader.js\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport pathHelper from \"../../utils/page\";\nimport SezrchBar from \"./SearchBar\";\nimport StorageBar from \"./StorageBar\";\nimport UserAvatar from \"./UserAvatar\";\nimport UserInfo from \"./UserInfo\";\nimport { AccountArrowRight, AccountPlus, LogoutVariant } from \"mdi-material-ui\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n    AppBar,\n    Toolbar,\n    Typography,\n    withStyles,\n    withTheme,\n    Drawer,\n    SwipeableDrawer,\n    IconButton,\n    Hidden,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    List,\n    Grow,\n    Tooltip,\n} from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport FileTag from \"./FileTags\";\nimport { Assignment, Devices, MoreHoriz, Settings } from \"@material-ui/icons\";\nimport Divider from \"@material-ui/core/Divider\";\nimport SubActions from \"../FileManager/Navigator/SubActions\";\n\nvhCheck();\nconst drawerWidth = 240;\nconst drawerWidthMobile = 270;\n\nconst mapStateToProps = (state) => {\n    return {\n        desktopOpen: state.viewUpdate.open,\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        keywords: state.explorer.keywords,\n        title: state.siteConfig.title,\n        subTitle: state.viewUpdate.subTitle,\n        loadUploader: state.viewUpdate.loadUploader,\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        handleDesktopToggle: (open) => {\n            dispatch(drawerToggleAction(open));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openGetSourceDialog: () => {\n            dispatch(openGetSourceDialog());\n        },\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        searchMyFile: (keywords) => {\n            dispatch(searchMyFile(keywords));\n        },\n        saveFile: () => {\n            dispatch(saveFile());\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n        setSessionStatus: () => {\n            dispatch(setSessionStatus());\n        },\n        openPreview: () => {\n            dispatch(openPreview());\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    appBar: {\n        marginLeft: drawerWidth,\n        [theme.breakpoints.down(\"xs\")]: {\n            marginLeft: drawerWidthMobile,\n        },\n        zIndex: theme.zIndex.drawer + 1,\n        transition: \" background-color 250ms\",\n    },\n\n    drawer: {\n        width: 0,\n        flexShrink: 0,\n    },\n    drawerDesktop: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    icon: {\n        marginRight: theme.spacing(2),\n    },\n    menuButton: {\n        marginRight: 20,\n        [theme.breakpoints.up(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    menuButtonDesktop: {\n        marginRight: 20,\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    menuIcon: {\n        marginRight: 20,\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: drawerWidthMobile,\n    },\n    upDrawer: {\n        overflowX: \"hidden\",\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerClose: {\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: \"hidden\",\n        width: 0,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    badge: {\n        top: 1,\n        right: -15,\n    },\n    nested: {\n        paddingLeft: theme.spacing(4),\n    },\n    sectionForFile: {\n        display: \"flex\",\n    },\n    extendedIcon: {\n        marginRight: theme.spacing(1),\n    },\n    addButton: {\n        marginLeft: \"40px\",\n        marginTop: \"25px\",\n        marginBottom: \"15px\",\n    },\n    fabButton: {\n        borderRadius: \"100px\",\n    },\n    badgeFix: {\n        right: \"10px\",\n    },\n    iconFix: {\n        marginLeft: \"16px\",\n    },\n    dividerFix: {\n        marginTop: \"8px\",\n    },\n    folderShareIcon: {\n        verticalAlign: \"sub\",\n        marginRight: \"5px\",\n    },\n    shareInfoContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        marginBottom: \"20px\",\n        marginLeft: \"28px\",\n        textDecoration: \"none\",\n    },\n    shareAvatar: {\n        width: \"40px\",\n        height: \"40px\",\n    },\n    stickFooter: {\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.paper,\n        width: \"100%\",\n    },\n    ownerInfo: {\n        marginLeft: \"10px\",\n        width: \"150px\",\n    },\n    minStickDrawer: {\n        overflowY: \"auto\",\n        [theme.breakpoints.up(\"sm\")]: {\n            height: \"calc(var(--vh, 100vh) - 145px)\",\n        },\n\n        [theme.breakpoints.down(\"sm\")]: {\n            minHeight: \"calc(var(--vh, 100vh) - 360px)\",\n        },\n    },\n});\nclass NavbarCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false,\n        };\n        this.UploaderRef = React.createRef();\n    }\n\n    UNSAFE_componentWillMount() {\n        this.unlisten = this.props.history.listen(() => {\n            this.setState(() => ({ mobileOpen: false }));\n        });\n    }\n    componentWillUnmount() {\n        this.unlisten();\n    }\n\n    componentDidMount = () => {\n        changeThemeColor(\n            this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)\n                ? this.props.theme.palette.primary.main\n                : this.props.theme.palette.background.default\n        );\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (\n            (this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)) !==\n            (nextProps.selected.length <= 1 &&\n                !(!nextProps.isMultiple && nextProps.withFile))\n        ) {\n            changeThemeColor(\n                !(\n                    this.props.selected.length <= 1 &&\n                    !(!this.props.isMultiple && this.props.withFile)\n                )\n                    ? this.props.theme.palette.type === \"dark\"\n                        ? this.props.theme.palette.background.default\n                        : this.props.theme.palette.primary.main\n                    : this.props.theme.palette.background.default\n            );\n        }\n    };\n\n    handleDrawerToggle = () => {\n        this.setState((state) => ({ mobileOpen: !state.mobileOpen }));\n    };\n\n    loadUploader = () => {\n        if (pathHelper.isHomePage(this.props.location.pathname)) {\n            return (\n                <>\n                    {this.props.loadUploader && this.props.isLogin && (\n                        <Uploader />\n                    )}\n                </>\n            );\n        }\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            return;\n        }\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    archiveDownload = () => {\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    signOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .finally(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser(this.props.isLogin);\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n\n        const drawer = (\n            <div id=\"container\" className={classes.upDrawer}>\n                {pathHelper.isMobile() && <UserInfo />}\n\n                {Auth.Check(this.props.isLogin) && (\n                    <>\n                        <div className={classes.minStickDrawer}>\n                            <FileTag />\n                            <List>\n                                <ListItem\n                                    button\n                                    key=\"我的分享\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/shares?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <ShareIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"我的分享\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"离线下载\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/aria2?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <DownloadIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"离线下载\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"容量配额\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/quota?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <SdStorage\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"容量配额\" />\n                                </ListItem>\n                                {user.group.webdav && (\n                                    <ListItem\n                                        button\n                                        key=\"WebDAV\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Devices\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"WebDAV\" />\n                                    </ListItem>\n                                )}\n\n                                <ListItem\n                                    button\n                                    key=\"任务队列\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/tasks?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <Assignment\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"任务队列\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"财务管理\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/ifm/c=user&a=account\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <AccountBalanceWallet\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"财务管理\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"在线客服\"\n                                    onClick={() => window._MEIQIA('showPanel')}\n                                >\n                                    <ListItemIcon>\n                                        <ChatIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"在线客服\" />\n                                </ListItem>\n                            </List>\n                        </div>\n\n                        {pathHelper.isMobile() && (\n                            <>\n                                <Divider />\n                                <List>\n                                    <ListItem\n                                        button\n                                        key=\"个人设置\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/setting?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Settings\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"个人设置\" />\n                                    </ListItem>\n\n                                    <ListItem\n                                        button\n                                        key=\"退出登录\"\n                                        onClick={this.signOut}\n                                    >\n                                        <ListItemIcon>\n                                            <LogoutVariant\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"退出登录\" />\n                                    </ListItem>\n                                </List>\n                            </>\n                        )}\n                        <div>\n                            <StorageBar></StorageBar>\n                        </div>\n                    </>\n                )}\n\n                {!Auth.Check(this.props.isLogin) && (\n                    <div>\n                        <ListItem\n                            button\n                            key=\"登录\"\n                            onClick={() => this.props.history.push(\"/login\")}\n                        >\n                            <ListItemIcon>\n                                <AccountArrowRight\n                                    className={classes.iconFix}\n                                />\n                            </ListItemIcon>\n                            <ListItemText primary=\"登录\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            key=\"注册\"\n                            onClick={() => this.props.history.push(\"/signup\")}\n                        >\n                            <ListItemIcon>\n                                <AccountPlus className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary=\"注册\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            key=\"官网首页\"\n                            onClick={() => window.location.href='https://www.bilnn.com/'}\n                        >\n                            <ListItemIcon>\n                                <WebIcon className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary=\"官网首页\" />\n                        </ListItem>\n                    </div>\n                )}\n            </div>\n        );\n        const iOS =\n            process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n        const getCookie =(name)=> {\n            const strcookie = document.cookie;//获取cookie字符串\n                const arrcookie = strcookie.split(\"; \");//分割\n                //遍历匹配\n                for ( let i = 0; i < arrcookie.length; i++) {\n                    const arr = arrcookie[i].split(\"=\");\n                    if (arr[0] == name){\n                        return unescape(arr[1]);\n                    }\n                }\n            return null;\n        }\n        return (\n            <div>\n                <AppBar\n                    position=\"fixed\"\n                    className={classes.appBar}\n                    color={\n                        this.props.theme.palette.type !== \"dark\" &&\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                            ? \"primary\"\n                            : \"default\"\n                    }\n                >\n                    <Toolbar>\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={this.handleDrawerToggle}\n                                    className={classes.menuButton}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={() =>\n                                        this.props.handleDesktopToggle(\n                                            !this.props.desktopOpen\n                                        )\n                                    }\n                                    className={classes.menuButtonDesktop}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage ||\n                                pathHelper.isSharePage(\n                                    this.props.location.pathname\n                                )) && (\n                                <Grow\n                                    in={\n                                        this.props.selected.length > 1 ||\n                                        (!this.props.isMultiple &&\n                                            this.props.withFile)\n                                    }\n                                >\n                                    <IconButton\n                                        color=\"inherit\"\n                                        className={classes.menuIcon}\n                                        onClick={() =>\n                                            this.props.setSelectedTarget([])\n                                        }\n                                    >\n                                        <BackIcon />\n                                    </IconButton>\n                                </Grow>\n                            )}\n                        {getCookie(\"thisapp\")!=\"ok\" && !Auth.Check(this.props.isLogin) && this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap\n                                            onClick={() => {window.location.href='https://www.bilnn.com/'}}\n                                >\n                                    {this.props.subTitle\n                                        ? this.props.subTitle\n                                        : this.props.title}\n                                </Typography>\n                            )}\n                        {getCookie(\"thisapp\")==\"ok\" && !Auth.Check(this.props.isLogin) && this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap\n                                            onClick={() => {this.props.history.push(\"/\")}}\n                                >\n                                    {this.props.subTitle\n                                        ? this.props.subTitle\n                                        : this.props.title}\n                                </Typography>\n                            )}\n\n                        {!this.props.isMultiple &&\n                            this.props.withFile &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected[0].name}{\" \"}\n                                    {(isHomePage ||\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )) &&\n                                        \"(\" +\n                                            sizeToString(\n                                                this.props.selected[0].size\n                                            ) +\n                                            \")\"}\n                                </Typography>\n                            )}\n\n                        {this.props.selected.length > 1 &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected.length}个对象\n                                </Typography>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <SezrchBar />}\n                        <div className={classes.grow} />\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            !isHomePage &&\n                            !pathHelper.isSharePage(\n                                this.props.location.pathname\n                            ) &&\n                            Auth.Check(this.props.isLogin) &&\n                            !checkGetParameters(\"share\") && (\n                                <div className={classes.sectionForFile}>\n                                    <Tooltip title=\"保存\">\n                                        <IconButton\n                                            color=\"inherit\"\n                                            onClick={() =>\n                                                this.props.saveFile()\n                                            }\n                                        >\n                                            <SaveIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </div>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage || isSharePage) && (\n                                <div className={classes.sectionForFile}>\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile &&\n                                        isPreviewable(\n                                            this.props.selected[0].name\n                                        ) && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile &&\n                                                    isPreviewable(\n                                                        this.props.selected[0]\n                                                            .name\n                                                    )\n                                                }\n                                            >\n                                                <Tooltip title=\"打开\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openPreview()\n                                                        }\n                                                    >\n                                                        <OpenIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile\n                                                }\n                                            >\n                                                <Tooltip title=\"下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.openDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {(this.props.isMultiple ||\n                                        this.props.withFolder) &&\n                                        user.group.allowArchiveDownload && (\n                                            <Grow\n                                                in={\n                                                    (this.props.isMultiple ||\n                                                        this.props\n                                                            .withFolder) &&\n                                                    user.group\n                                                        .allowArchiveDownload\n                                                }\n                                            >\n                                                <Tooltip title=\"打包下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.archiveDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n\n                                    {!this.props.isMultiple &&\n                                        this.props.withFolder && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFolder\n                                                }\n                                            >\n                                                <Tooltip title=\"进入目录\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.navigateTo(\n                                                                this.props\n                                                                    .path ===\n                                                                    \"/\"\n                                                                    ? this.props\n                                                                          .path +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                                    : this.props\n                                                                          .path +\n                                                                          \"/\" +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                            )\n                                                        }\n                                                    >\n                                                        <OpenFolderIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"外链\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openGetSourceDialog()\n                                                    }\n                                                >\n                                                    <LinkIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!this.props.isMultiple &&\n                                        !pathHelper.isMobile() &&\n                                        !isSharePage && (\n                                            <Grow in={!this.props.isMultiple}>\n                                                <Tooltip title=\"分享\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openShareDialog()\n                                                        }\n                                                    >\n                                                        <ShareIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"重命名\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openRenameDialog()\n                                                    }\n                                                >\n                                                    <RenameIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!isSharePage && (\n                                        <div style={{ display: \"flex\" }}>\n                                            {!pathHelper.isMobile() && (\n                                                <Grow\n                                                    in={\n                                                        this.props.selected\n                                                            .length !== 0 &&\n                                                        !pathHelper.isMobile()\n                                                    }\n                                                >\n                                                    <Tooltip title=\"移动\">\n                                                        <IconButton\n                                                            color=\"inherit\"\n                                                            onClick={() =>\n                                                                this.props.openMoveDialog()\n                                                            }\n                                                        >\n                                                            <MoveIcon />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </Grow>\n                                            )}\n\n                                            <Grow\n                                                in={\n                                                    this.props.selected\n                                                        .length !== 0\n                                                }\n                                            >\n                                                <Tooltip title=\"删除\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openRemoveDialog()\n                                                        }\n                                                    >\n                                                        <DeleteIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n\n                                            {pathHelper.isMobile() && (\n                                                <Grow\n                                                    in={\n                                                        this.props.selected\n                                                            .length !== 0 &&\n                                                        pathHelper.isMobile()\n                                                    }\n                                                >\n                                                    <Tooltip title=\"更多操作\">\n                                                        <IconButton\n                                                            color=\"inherit\"\n                                                            onClick={() =>\n                                                                this.props.changeContextMenu(\n                                                                    \"file\",\n                                                                    true\n                                                                )\n                                                            }\n                                                        >\n                                                            <MoreHoriz />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </Grow>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <UserAvatar />}\n                        {this.props.selected.length <= 1 &&\n                            !(!this.props.isMultiple && this.props.withFile) &&\n                            isHomePage &&\n                            pathHelper.isMobile() && <SubActions inherit />}\n                    </Toolbar>\n                </AppBar>\n                {this.loadUploader()}\n\n                <Hidden smUp implementation=\"css\">\n                    <SwipeableDrawer\n                        container={this.props.container}\n                        variant=\"temporary\"\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        anchor=\"left\"\n                        open={this.state.mobileOpen}\n                        onClose={this.handleDrawerToggle}\n                        onOpen={() =>\n                            this.setState(() => ({ mobileOpen: true }))\n                        }\n                        disableDiscovery={iOS}\n                        ModalProps={{\n                            keepMounted: true, // Better open performance on mobile.\n                        }}\n                    >\n                        {drawer}\n                    </SwipeableDrawer>\n                </Hidden>\n                <Hidden xsDown implementation=\"css\">\n                    <Drawer\n                        classes={{\n                            paper: classNames({\n                                [classes.drawerOpen]: this.props.desktopOpen,\n                                [classes.drawerClose]: !this.props.desktopOpen,\n                            }),\n                        }}\n                        className={classNames(classes.drawer, {\n                            [classes.drawerOpen]: this.props.desktopOpen,\n                            [classes.drawerClose]: !this.props.desktopOpen,\n                        })}\n                        variant=\"persistent\"\n                        anchor=\"left\"\n                        open={this.props.desktopOpen}\n                    >\n                        <div className={classes.toolbar} />\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </div>\n        );\n    }\n}\nNavbarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n};\n\nconst Navbar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTheme(withStyles(styles)(withRouter(NavbarCompoment))));\n\nexport default Navbar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport { connect } from \"react-redux\";\nimport { searchMyFile } from \"../../actions\";\n\nimport {\n    withStyles,\n    InputBase,\n    Popper,\n    Fade,\n    Paper,\n    MenuItem,\n    ListItemIcon,\n    ListItemText,\n    Typography,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport { HotKeys, configure } from \"react-hotkeys\";\n\nconfigure({\n    ignoreTags: [],\n});\n\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        searchMyFile: (keywords) => {\n            dispatch(searchMyFile(keywords));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    search: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n        position: \"relative\",\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        \"&:hover\": {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: \"100%\",\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: theme.spacing(7.2),\n            width: \"auto\",\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(9),\n        height: \"100%\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    inputRoot: {\n        color: \"inherit\",\n        width: \"100%\",\n    },\n    inputInput: {\n        paddingTop: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        paddingLeft: theme.spacing(7),\n        transition: theme.transitions.create(\"width\"),\n        width: \"100%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: 200,\n            \"&:focus\": {\n                width: 300,\n            },\n        },\n    },\n    suggestBox: {\n        zIndex: \"9999\",\n        width: 364,\n    },\n});\n\nconst keyMap = {\n    SEARCH: \"enter\",\n};\n\nclass SearchBarCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            input: \"\",\n        };\n    }\n\n    handlers = {\n        SEARCH: (e) => {\n            if (pathHelper.isHomePage(this.props.location.pathname)) {\n                this.searchMyFile();\n            } else {\n                this.searchShare();\n            }\n            e.target.blur();\n        },\n    };\n\n    handleChange = (event) => {\n        const { currentTarget } = event;\n        this.input = event.target.value;\n        this.setState({\n            anchorEl: currentTarget,\n            input: event.target.value,\n        });\n    };\n\n    cancelSuggest = () => {\n        this.setState({\n            input: \"\",\n        });\n    };\n\n    searchMyFile = () => {\n        this.props.searchMyFile(\"keywords/\" + this.input);\n    };\n\n    searchShare = () => {\n        this.props.history.push(\n            \"/search?keywords=\" + encodeURIComponent(this.input)\n        );\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { anchorEl } = this.state;\n        const id = this.state.input !== \"\" ? \"simple-popper\" : null;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        return (\n            <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                    <SearchIcon />\n                </div>\n                <HotKeys keyMap={keyMap} handlers={this.handlers}>\n                    <InputBase\n                        placeholder=\"搜索...\"\n                        classes={{\n                            root: classes.inputRoot,\n                            input: classes.inputInput,\n                        }}\n                        onChange={this.handleChange}\n                        onBlur={this.cancelSuggest}\n                        value={this.state.input}\n                    />\n                </HotKeys>\n                <Popper\n                    id={id}\n                    open={this.state.input !== \"\"}\n                    anchorEl={anchorEl}\n                    className={classes.suggestBox}\n                    transition\n                >\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper square={true}>\n                                {isHomePage && (\n                                    <MenuItem onClick={this.searchMyFile}>\n                                        <ListItemIcon className={classes.icon}>\n                                            <FileIcon />\n                                        </ListItemIcon>\n                                        <ListItemText\n                                            classes={{\n                                                primary: classes.primary,\n                                            }}\n                                            primary={\n                                                <Typography noWrap>\n                                                    在我的文件中搜索{\" \"}\n                                                    <strong>\n                                                        {this.state.input}\n                                                    </strong>\n                                                </Typography>\n                                            }\n                                        />\n                                    </MenuItem>\n                                )}\n\n                                <MenuItem onClick={this.searchShare}>\n                                    <ListItemIcon className={classes.icon}>\n                                        <ShareIcon />\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        classes={{ primary: classes.primary }}\n                                        primary={\n                                            <Typography noWrap>\n                                                在全站分享中搜索{\" \"}\n                                                <strong>\n                                                    {this.state.input}\n                                                </strong>\n                                            </Typography>\n                                        }\n                                    />\n                                </MenuItem>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n            </div>\n        );\n    }\n}\n\nSearchBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst SearchBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SearchBarCompoment)));\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport { connect } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport { sizeToString } from \"../../utils\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    LinearProgress,\n    Typography,\n    Divider,\n    Tooltip,\n} from \"@material-ui/core\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport Link from \"@material-ui/core/Link\";\nimport { withRouter } from \"react-router\";\n\nconst mapStateToProps = (state) => {\n    return {\n        refresh: state.viewUpdate.storageRefresh,\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    iconFix: {\n        marginLeft: \"32px\",\n        marginRight: \"17px\",\n        color: theme.palette.text.secondary,\n        marginTop: \"2px\",\n    },\n    textFix: {\n        padding: \" 0 0 0 16px\",\n    },\n    storageContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        textAlign: \"left\",\n        marginBottom: \"11px\",\n    },\n    detail: {\n        width: \"100%\",\n        marginRight: \"35px\",\n    },\n    info: {\n        width: \"131px\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"162px\",\n        },\n        marginTop: \"5px\",\n    },\n    bar: {\n        marginTop: \"5px\",\n    },\n    stickFooter: {\n        backgroundColor: theme.palette.background.paper,\n    },\n});\n\nclass StorageBarCompoment extends Component {\n    state = {\n        percent: 0,\n        used: null,\n        total: null,\n        showExpand: false,\n    };\n\n    firstLoad = true;\n\n    componentDidMount = () => {\n        if (this.firstLoad && this.props.isLogin) {\n            this.firstLoad = !this.firstLoad;\n            this.updateStatus();\n        }\n    };\n\n    componentWillUnmount() {\n        this.firstLoad = false;\n    }\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (\n            (this.props.isLogin && this.props.refresh !== nextProps.refresh) ||\n            (this.props.isLogin !== nextProps.isLogin && nextProps.isLogin)\n        ) {\n            this.updateStatus();\n        }\n    };\n\n    updateStatus = () => {\n        let percent = 0;\n        API.get(\"/user/storage\")\n            .then((response) => {\n                if (response.data.used / response.data.total >= 1) {\n                    percent = 100;\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"您的已用容量已超过容量配额，请尽快删除多余文件或购买容量\",\n                        \"warning\"\n                    );\n                } else {\n                    percent = (response.data.used / response.data.total) * 100;\n                }\n                this.setState({\n                    percent: percent,\n                    used: sizeToString(response.data.used),\n                    total: sizeToString(response.data.total),\n                });\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .catch(() => {});\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div\n                onMouseEnter={() => this.setState({ showExpand: true })}\n                onMouseLeave={() => this.setState({ showExpand: false })}\n                className={classes.stickFooter}\n            >\n                <Divider />\n                <ButtonBase onClick={() => this.props.history.push(\"/quota\")}>\n                    <div className={classes.storageContainer}>\n                        <StorageIcon className={classes.iconFix} />\n                        <div className={classes.detail}>\n                            存储空间{\"   \"}\n                            {this.state.showExpand && (\n                                <Link href={\"/buy\"} color={\"secondary\"}>\n                                    扩容\n                                </Link>\n                            )}\n                            <LinearProgress\n                                className={classes.bar}\n                                color=\"secondary\"\n                                variant=\"determinate\"\n                                value={this.state.percent}\n                            />\n                            <div className={classes.info}>\n                                <Tooltip\n                                    title={\n                                        \"已使用 \" +\n                                        (this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used) +\n                                        \", 共 \" +\n                                        (this.state.total === null\n                                            ? \" -- \"\n                                            : this.state.total)\n                                    }\n                                    placement=\"top\"\n                                >\n                                    <Typography\n                                        variant=\"caption\"\n                                        noWrap\n                                        color=\"textSecondary\"\n                                    >\n                                        已使用{\" \"}\n                                        {this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used}\n                                    </Typography>\n                                </Tooltip>\n                            </div>\n                        </div>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nStorageBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst StorageBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(StorageBarCompoment)));\n\nexport default StorageBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { setUserPopover } from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst mapStateToProps = (state) => {\n    return {\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    userNav: {\n        height: \"170px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n    },\n    avatar: {\n        display: \"block\",\n        width: \"70px\",\n        height: \"70px\",\n        border: \" 2px solid #fff\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        boxShadow:\n            \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n    },\n    avatarImg: {\n        width: \"66px\",\n        height: \"66px\",\n    },\n    nickName: {\n        color: \"#fff\",\n        marginLeft: \"10px\",\n        marginTop: \"15px\",\n        fontSize: \"17px\",\n    },\n    flexAvatar: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"end\",\n    },\n    groupName: {\n        marginLeft: \"10px\",\n        color: \"#ffffff\",\n        opacity: \"0.54\",\n    },\n    storageCircle: {\n        width: \"200px\",\n    },\n});\n\nclass UserInfoCompoment extends Component {\n    showUserInfo = (e) => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isLogin = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n\n        return (\n            <div className={classes.userNav}>\n                <div className={classes.flexAvatar}>\n                    {/* eslint-disable-next-line */}\n                    <a onClick={this.showUserInfo} className={classes.avatar}>\n                        {isLogin && (\n                            <Avatar\n                                src={\"/api/v3/user/avatar/\" + user.id + \"/l\"}\n                                className={classes.avatarImg}\n                            />\n                        )}\n                        {!isLogin && (\n                            <Avatar\n                                src={\"/api/v3/user/avatar/0/l\"}\n                                className={classes.avatarImg}\n                            />\n                        )}\n                    </a>\n                    <DarkModeSwitcher position=\"left\" />\n                </div>\n                <div className={classes.storageCircle}>\n                    <Typography\n                        className={classes.nickName}\n                        component=\"h2\"\n                        noWrap\n                    >\n                        {isLogin ? user.nickname : \"未登录\"}\n                    </Typography>\n                    <Typography\n                        className={classes.groupName}\n                        component=\"h2\"\n                        color=\"textSecondary\"\n                        noWrap\n                    >\n                        {isLogin ? user.group.name : \"游客\"}\n                    </Typography>\n                </div>\n            </div>\n        );\n    }\n}\n\nUserInfoCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserInfo = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(UserInfoCompoment));\n\nexport default UserInfo;\n","import React, { useCallback, useState, Suspense } from \"react\";\nimport {\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    withStyles,\n} from \"@material-ui/core\";\nimport { Clear, KeyboardArrowRight } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport FolderShared from \"@material-ui/icons/FolderShared\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport VideoIcon from \"@material-ui/icons/VideoLibraryOutlined\";\nimport ImageIcon from \"@material-ui/icons/CollectionsOutlined\";\nimport MusicIcon from \"@material-ui/icons/LibraryMusicOutlined\";\nimport DocIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport { useHistory, useLocation } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport { navigateTo, searchMyFile, toggleSnackbar } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    Circle,\n    CircleOutline,\n    Heart,\n    HeartOutline,\n    Hexagon,\n    HexagonOutline,\n    Hexagram,\n    HexagramOutline,\n    Rhombus,\n    RhombusOutline,\n    Square,\n    SquareOutline,\n    Triangle,\n    TriangleOutline,\n    FolderHeartOutline,\n    TagPlus,\n} from \"mdi-material-ui\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport API from \"../../middleware/Api\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": { margin: 0 },\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 0,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"block\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    expand: {\n        display: \"none\",\n        transition: \".15s all ease-in-out\",\n    },\n    expanded: {\n        display: \"block\",\n        transform: \"rotate(90deg)\",\n    },\n    iconFix: {\n        marginLeft: \"16px\",\n    },\n    hiddenButton: {\n        display: \"none\",\n    },\n    subMenu: {\n        marginLeft: theme.spacing(2),\n    },\n    overFlow: {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n    },\n}));\n\nconst icons = {\n    Circle: Circle,\n    CircleOutline: CircleOutline,\n    Heart: Heart,\n    HeartOutline: HeartOutline,\n    Hexagon: Hexagon,\n    HexagonOutline: HexagonOutline,\n    Hexagram: Hexagram,\n    HexagramOutline: HexagramOutline,\n    Rhombus: Rhombus,\n    RhombusOutline: RhombusOutline,\n    Square: Square,\n    SquareOutline: SquareOutline,\n    Triangle: Triangle,\n    TriangleOutline: TriangleOutline,\n    FolderHeartOutline: FolderHeartOutline,\n};\n\nconst AddTag = React.lazy(() => import(\"../Modals/AddTag\"));\n\nexport default function FileTag() {\n    const classes = useStyles();\n\n    const location = useLocation();\n    const history = useHistory();\n\n    const isHomePage = pathHelper.isHomePage(location.pathname);\n\n    const [tagOpen, setTagOpen] = useState(true);\n    const [addTagModal, setAddTagModal] = useState(false);\n    const [tagHover, setTagHover] = useState(null);\n    const [tags, setTags] = useState(\n        Auth.GetUser().tags ? Auth.GetUser().tags : []\n    );\n\n    const dispatch = useDispatch();\n    const SearchMyFile = useCallback((k) => dispatch(searchMyFile(k)), [\n        dispatch,\n    ]);\n    const NavigateTo = useCallback((k) => dispatch(navigateTo(k)), [dispatch]);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const getIcon = (icon, color) => {\n        if (icons[icon]) {\n            const IconComponent = icons[icon];\n            return (\n                <IconComponent\n                    className={[classes.iconFix]}\n                    style={\n                        color\n                            ? {\n                                  color: color,\n                              }\n                            : {}\n                    }\n                />\n            );\n        }\n        return <Circle className={[classes.iconFix]} />;\n    };\n\n    const submitSuccess = (tag) => {\n        const newTags = [...tags, tag];\n        setTags(newTags);\n        const user = Auth.GetUser();\n        user.tags = newTags;\n        Auth.SetUser(user);\n    };\n\n    const submitDelete = (id) => {\n        API.delete(\"/tag/\" + id)\n            .then(() => {\n                const newTags = tags.filter((v) => {\n                    return v.id !== id;\n                });\n                setTags(newTags);\n                const user = Auth.GetUser();\n                user.tags = newTags;\n                Auth.SetUser(user);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <>\n            <Suspense fallback={\"\"}>\n                <AddTag\n                    onSuccess={submitSuccess}\n                    open={addTagModal}\n                    onClose={() => setAddTagModal(false)}\n                />\n            </Suspense>\n            <ExpansionPanel\n                square\n                expanded={tagOpen && isHomePage}\n                onChange={() => isHomePage && setTagOpen(!tagOpen)}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <ListItem\n                        button\n                        key=\"我的文件\"\n                        onClick={() =>\n                            !isHomePage && history.push(\"/home?path=%2F\")\n                        }\n                    >\n                        <ListItemIcon>\n                            <KeyboardArrowRight\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            tagOpen && isHomePage,\n                                        [classes.iconFix]: true,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                            {!(tagOpen && isHomePage) && (\n                                <FolderShared className={classes.iconFix} />\n                            )}\n                        </ListItemIcon>\n                        <ListItemText primary=\"我的文件\" />\n                    </ListItem>\n                    <Divider />\n                </ExpansionPanelSummary>\n\n                <ExpansionPanelDetails>\n                    <List onMouseLeave={() => setTagHover(null)}>\n                        <ListItem\n                            button\n                            id=\"pickfiles\"\n                            className={classes.hiddenButton}\n                        >\n                            <ListItemIcon>\n                                <UploadIcon />\n                            </ListItemIcon>\n                            <ListItemText />\n                        </ListItem>\n                        <ListItem\n                            button\n                            id=\"pickfolder\"\n                            className={classes.hiddenButton}\n                        >\n                            <ListItemIcon>\n                                <UploadIcon />\n                            </ListItemIcon>\n                            <ListItemText />\n                        </ListItem>\n                        {[\n                            {\n                                key: \"视频\",\n                                id: \"video\",\n                                icon: (\n                                    <VideoIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconVideo,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"图片\",\n                                id: \"image\",\n                                icon: (\n                                    <ImageIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconImg,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"音频\",\n                                id: \"audio\",\n                                icon: (\n                                    <MusicIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconAudio,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"文档\",\n                                id: \"doc\",\n                                icon: (\n                                    <DocIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconDoc,\n                                        ]}\n                                    />\n                                ),\n                            },\n                        ].map((v) => (\n                            <ListItem\n                                button\n                                key={v.key}\n                                onClick={() => SearchMyFile(v.id + \"/internal\")}\n                            >\n                                <ListItemIcon className={classes.subMenu}>\n                                    {v.icon}\n                                </ListItemIcon>\n                                <ListItemText primary={v.key} />\n                            </ListItem>\n                        ))}\n                        {tags.map((v) => (\n                            <ListItem\n                                button\n                                key={v.id}\n                                onMouseEnter={() => setTagHover(v.id)}\n                                onClick={() => {\n                                    if (v.type === 0) {\n                                        SearchMyFile(\"tag/\" + v.id);\n                                    } else {\n                                        NavigateTo(v.expression);\n                                    }\n                                }}\n                            >\n                                <ListItemIcon className={classes.subMenu}>\n                                    {getIcon(\n                                        v.type === 0\n                                            ? v.icon\n                                            : \"FolderHeartOutline\",\n                                        v.type === 0 ? v.color : null\n                                    )}\n                                </ListItemIcon>\n                                <ListItemText\n                                    className={classes.overFlow}\n                                    primary={v.name}\n                                />\n\n                                {tagHover === v.id && (\n                                    <ListItemSecondaryAction\n                                        onClick={() => submitDelete(v.id)}\n                                    >\n                                        <IconButton\n                                            size={\"small\"}\n                                            edge=\"end\"\n                                            aria-label=\"delete\"\n                                        >\n                                            <Clear />\n                                        </IconButton>\n                                    </ListItemSecondaryAction>\n                                )}\n                            </ListItem>\n                        ))}\n\n                        <ListItem button onClick={() => setAddTagModal(true)}>\n                            <ListItemIcon className={classes.subMenu}>\n                                <TagPlus className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary={\"添加标签...\"} />\n                        </ListItem>\n                    </List>{\" \"}\n                    <Divider />\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </>\n    );\n}\n","export const imgPreviewSuffix = [\n    \"bmp\",\n    \"png\",\n    \"gif\",\n    \"jpg\",\n    \"jpeg\",\n    \"svg\",\n    \"webp\",\n];\nexport const msDocPreviewSuffix = [\n    \"ppt\",\n    \"pptx\",\n    \"pps\",\n    \"doc\",\n    \"docx\",\n    \"xlsx\",\n    \"xls\",\n];\nexport const audioPreviewSuffix = [\"mp3\", \"ogg\"];\n//export const audioPreviewSuffix = [];\nexport const videoPreviewSuffix = [\"mp4\", \"mkv\", \"webm\"];\nexport const pdfPreviewSuffix = [\"pdf\"];\nexport const editSuffix = [\"md\", \"txt\"];\nexport const codePreviewSuffix = {\n    json: \"json\",\n    php: \"php\",\n    py: \"python\",\n    bat: \"bat\",\n    cpp: \"cpp\",\n    c: \"cpp\",\n    h: \"cpp\",\n    cs: \"csharp\",\n    css: \"css\",\n    dockerfile: \"dockerfile\",\n    go: \"go\",\n    html: \"html\",\n    ini: \"ini\",\n    java: \"java\",\n    js: \"javascript\",\n    jsx: \"javascript\",\n    less: \"less\",\n    lua: \"lua\",\n    sh: \"shell\",\n    sql: \"sql\",\n    xml: \"xml\",\n    yaml: \"yaml\",\n};\nexport const mediaType = {\n    audio: [\"mp3\", \"flac\", \"ape\", \"wav\", \"acc\", \"ogg\"],\n    video: [\"mp4\", \"flv\", \"avi\", \"wmv\", \"mkv\", \"rm\", \"rmvb\", \"mov\", \"ogv\"],\n    image: [\"bmp\", \"iff\", \"png\", \"gif\", \"jpg\", \"jpeg\", \"psd\", \"svg\", \"webp\"],\n    pdf: [\"pdf\"],\n    word: [\"doc\", \"docx\"],\n    ppt: [\"ppt\", \"pptx\"],\n    excel: [\"xls\", \"xlsx\", \"csv\"],\n    text: [\"txt\", \"md\", \"html\"],\n    torrent: [\"torrent\"],\n    zip: [\"zip\", \"gz\", \"tar\", \"rar\", \"7z\"],\n    excute: [\"exe\"],\n    android: [\"apk\"],\n    php: [\"php\"],\n    go: [\"go\"],\n    python: [\"py\"],\n    cpp: [\"cpp\"],\n    c: [\"c\"],\n    js: [\"js\", \"jsx\"],\n};\nexport const policyTypeMap = {\n    local: \"本机\",\n    remote: \"从机\",\n    qiniu: \"七牛\",\n    upyun: \"又拍云\",\n    oss: \"阿里云 OSS\",\n    cos: \"腾讯云\",\n    onedrive: \"OneDrive\",\n    s3: \"Amazon S3\",\n};\nexport const isPreviewable = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if (imgPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"img\";\n    } else if (msDocPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"msDoc\";\n    } else if (audioPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"audio\";\n    } else if (videoPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"video\";\n    } else if (editSuffix.indexOf(suffix) !== -1) {\n        return \"edit\";\n    } else if (pdfPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"pdf\";\n    } else if (Object.keys(codePreviewSuffix).indexOf(suffix) !== -1) {\n        return \"code\";\n    }\n    return false;\n};\nexport const isTorrent = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if (mediaType.torrent.indexOf(suffix) !== -1) {\n        return true;\n    }\n    return false;\n};\n\nexport const isCompressFile = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    return suffix === \"zip\";\n};\n\nconst taskStatus = [\"排队中\", \"处理中\", \"失败\", \"取消\", \"已完成\"];\nconst taskType = [\"压缩\", \"解压缩\", \"文件中转\", \"导入外部目录\", \"存储策略转移\"];\nconst taskProgress = [\n    \"等待中\",\n    \"压缩中\",\n    \"解压缩中\",\n    \"下载中\",\n    \"转存中\",\n    \"索引中\",\n    \"插入中\",\n];\n\nexport const getTaskStatus = (status) => {\n    return taskStatus[status];\n};\n\nexport const getTaskType = (status) => {\n    return taskType[status];\n};\n\nexport const getTaskProgress = (type, status) => {\n    if (type === 2) {\n        return \"已完成 \" + (status + 1) + \" 个文件\";\n    }\n    return taskProgress[status];\n};\n\nexport const reportReasons = [\n    \"色情信息\",\n    \"包含病毒\",\n    \"侵权\",\n    \"不恰当的言论\",\n    \"其他\",\n];\n","import { isMac } from \"../utils\";\nimport pathHelper from \"../utils/page\";\nimport Auth from \"../middleware/Auth\";\nimport {\n    changeContextMenu,\n    openLoadingDialog,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n} from \"./index\";\nimport { isPreviewable } from \"../config\";\nimport { push } from \"connected-react-router\";\n\nexport const removeSelectedTargets = (fileIds) => {\n    return {\n        type: \"RMOVE_SELECTED_TARGETS\",\n        fileIds,\n    };\n};\n\nexport const addSelectedTargets = (targets) => {\n    return {\n        type: \"ADD_SELECTED_TARGETS\",\n        targets,\n    };\n};\n\nexport const setSelectedTarget = (targets) => {\n    return {\n        type: \"SET_SELECTED_TARGET\",\n        targets,\n    };\n};\n\nexport const setLastSelect = (file, index) => {\n    return {\n        type: \"SET_LAST_SELECT\",\n        file,\n        index,\n    };\n};\n\nexport const setShiftSelectedIds = (shiftSelectedIds) => {\n    return {\n        type: \"SET_SHIFT_SELECTED_IDS\",\n        shiftSelectedIds,\n    };\n};\n\nexport const openPreview = () => {\n    return (dispatch, getState) => {\n        const {\n            explorer: { selected },\n            router: {\n                location: { pathname },\n            },\n        } = getState();\n        const isShare = pathHelper.isSharePage(pathname);\n        if (isShare) {\n            if (!Auth.Check()) {\n                dispatch(toggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\"));\n                dispatch(changeContextMenu(\"file\", false));\n                return;\n            }\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                dispatch(toggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\"));\n                dispatch(changeContextMenu(\"file\", false));\n                return;\n            }\n        }\n\n        dispatch(changeContextMenu(\"file\", false));\n        const previewPath =\n            selected[0].path === \"/\"\n                ? selected[0].path + selected[0].name\n                : selected[0].path + \"/\" + selected[0].name;\n        switch (isPreviewable(selected[0].name)) {\n            case \"img\":\n                dispatch(showImgPreivew(selected[0]));\n                return;\n            case \"msDoc\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/doc?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/doc?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"audio\":\n                dispatch(openMusicDialog());\n                return;\n            case \"video\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/video?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/video?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"pdf\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/pdf?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/pdf?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"edit\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/text?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/text?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"code\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/code?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/code?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            default:\n                dispatch(openLoadingDialog(\"获取下载地址...\"));\n                return;\n        }\n    };\n};\n\nexport const selectFile = (file, event, fileIndex) => {\n    const { ctrlKey, metaKey, shiftKey } = event;\n    return (dispatch, getState) => {\n        // 多种组合操作忽略\n        if ([ctrlKey, metaKey, shiftKey].filter(Boolean).length > 1) {\n            return;\n        }\n        const isMacbook = isMac();\n        const { explorer } = getState();\n        const {\n            selected,\n            lastSelect,\n            dirList,\n            fileList,\n            shiftSelectedIds,\n        } = explorer;\n        if (\n            shiftKey &&\n            !ctrlKey &&\n            !metaKey &&\n            selected.length !== 0 &&\n            // 点击类型一样\n            file.type === lastSelect.file.type\n        ) {\n            // shift 多选\n            // 取消原有选择\n            dispatch(removeSelectedTargets(selected.map((v) => v.id)));\n            // 添加新选择\n            const begin = Math.min(lastSelect.index, fileIndex);\n            const end = Math.max(lastSelect.index, fileIndex);\n            const list = file.type === \"dir\" ? dirList : fileList;\n            const newShiftSelected = list.slice(begin, end + 1);\n            return dispatch(addSelectedTargets(newShiftSelected));\n        }\n        dispatch(setLastSelect(file, fileIndex));\n        dispatch(setShiftSelectedIds([]));\n        if ((ctrlKey && !isMacbook) || (metaKey && isMacbook)) {\n            // Ctrl/Command 单击添加/删除\n            const presentIndex = selected.findIndex((value) => {\n                return value.id === file.id;\n            });\n            if (presentIndex !== -1) {\n                return dispatch(removeSelectedTargets([file.id]));\n            }\n            return dispatch(addSelectedTargets([file]));\n        }\n        // 单选\n        return dispatch(setSelectedTarget([file]));\n    };\n};\n","export * from \"./explorer\";\n\nexport const setNavigator = (path, navigatorLoading) => {\n    return {\n        type: \"SET_NAVIGATOR\",\n        path,\n        navigatorLoading,\n    };\n};\n\nexport const navigateTo = (path) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const navigatorLoading = path !== state.navigator.path;\n        dispatch(setNavigator(path, navigatorLoading));\n    };\n};\n\nexport const navigateUp = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const pathSplit = state.navigator.path.split(\"/\");\n        pathSplit.pop();\n        const newPath = pathSplit.length === 1 ? \"/\" : pathSplit.join(\"/\");\n        const navigatorLoading = newPath !== state.navigator.path;\n        dispatch(setNavigator(newPath, navigatorLoading));\n    };\n};\n\nexport const drawerToggleAction = (open) => {\n    return {\n        type: \"DRAWER_TOGGLE\",\n        open: open,\n    };\n};\n\nexport const dragAndDrop = (source, target) => {\n    return {\n        type: \"DRAG_AND_DROP\",\n        source: source,\n        target: target,\n    };\n};\n\nexport const changeViewMethod = (method) => {\n    return {\n        type: \"CHANGE_VIEW_METHOD\",\n        method: method,\n    };\n};\n\nexport const toggleDaylightMode = () => {\n    return {\n        type: \"TOGGLE_DAYLIGHT_MODE\",\n    };\n};\n\nexport const changeContextMenu = (type, open) => {\n    return {\n        type: \"CHANGE_CONTEXT_MENU\",\n        menuType: type,\n        open: open,\n    };\n};\n\nexport const setNavigatorLoadingStatus = (status) => {\n    return {\n        type: \"SET_NAVIGATOR_LOADING_STATUE\",\n        status: status,\n    };\n};\n\nexport const setNavigatorError = (status, msg) => {\n    return {\n        type: \"SET_NAVIGATOR_ERROR\",\n        status: status,\n        msg: msg,\n    };\n};\n\nexport const openCreateFolderDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FOLDER_DIALOG\",\n    };\n};\n\nexport const openCreateFileDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FILE_DIALOG\",\n    };\n};\n\nexport const setUserPopover = (anchor) => {\n    return {\n        type: \"SET_USER_POPOVER\",\n        anchor: anchor,\n    };\n};\n\nexport const setShareUserPopover = (anchor) => {\n    return {\n        type: \"SET_SHARE_USER_POPOVER\",\n        anchor: anchor,\n    };\n};\n\nexport const openRenameDialog = () => {\n    return {\n        type: \"OPEN_RENAME_DIALOG\",\n    };\n};\n\nexport const openResaveDialog = (key) => {\n    return {\n        type: \"OPEN_RESAVE_DIALOG\",\n        key: key,\n    };\n};\n\nexport const openMoveDialog = () => {\n    return {\n        type: \"OPEN_MOVE_DIALOG\",\n    };\n};\n\nexport const openRemoveDialog = () => {\n    return {\n        type: \"OPEN_REMOVE_DIALOG\",\n    };\n};\n\nexport const openShareDialog = () => {\n    return {\n        type: \"OPEN_SHARE_DIALOG\",\n    };\n};\n\nexport const applyThemes = (theme) => {\n    return {\n        type: \"APPLY_THEME\",\n        theme: theme,\n    };\n};\n\nexport const setSessionStatus = (status) => {\n    return {\n        type: \"SET_SESSION_STATUS\",\n        status: status,\n    };\n};\n\nexport const openMusicDialog = () => {\n    return {\n        type: \"OPEN_MUSIC_DIALOG\",\n    };\n};\n\nexport const openRemoteDownloadDialog = () => {\n    return {\n        type: \"OPEN_REMOTE_DOWNLOAD_DIALOG\",\n    };\n};\n\nexport const openTorrentDownloadDialog = () => {\n    return {\n        type: \"OPEN_TORRENT_DOWNLOAD_DIALOG\",\n    };\n};\n\nexport const openDecompressDialog = () => {\n    return {\n        type: \"OPEN_DECOMPRESS_DIALOG\",\n    };\n};\n\nexport const openCompressDialog = () => {\n    return {\n        type: \"OPEN_COMPRESS_DIALOG\",\n    };\n};\n\nexport const openRelocateDialog = () => {\n    return {\n        type: \"OPEN_RELOCATE_DIALOG\",\n    };\n};\n\nexport const openGetSourceDialog = () => {\n    return {\n        type: \"OPEN_GET_SOURCE_DIALOG\",\n    };\n};\n\nexport const openCopyDialog = () => {\n    return {\n        type: \"OPEN_COPY_DIALOG\",\n    };\n};\n\nexport const openLoadingDialog = (text) => {\n    return {\n        type: \"OPEN_LOADING_DIALOG\",\n        text: text,\n    };\n};\n\nexport const closeAllModals = () => {\n    return {\n        type: \"CLOSE_ALL_MODALS\",\n    };\n};\n\nexport const toggleSnackbar = (vertical, horizontal, msg, color) => {\n    return {\n        type: \"TOGGLE_SNACKBAR\",\n        vertical: vertical,\n        horizontal: horizontal,\n        msg: msg,\n        color: color,\n    };\n};\n\nexport const enableLoadUploader = () => {\n    return {\n        type: \"ENABLE_LOAD_UPLOADER\",\n    };\n};\n\nexport const setModalsLoading = (status) => {\n    return {\n        type: \"SET_MODALS_LOADING\",\n        status: status,\n    };\n};\n\nexport const refreshFileList = () => {\n    return {\n        type: \"REFRESH_FILE_LIST\",\n    };\n};\n\nexport const searchMyFile = (keywords) => {\n    return {\n        type: \"SEARCH_MY_FILE\",\n        keywords: keywords,\n    };\n};\n\nexport const showImgPreivew = (first) => {\n    return {\n        type: \"SHOW_IMG_PREIVEW\",\n        first: first,\n    };\n};\n\nexport const refreshStorage = () => {\n    return {\n        type: \"REFRESH_STORAGE\",\n    };\n};\n\nexport const saveFile = () => {\n    return {\n        type: \"SAVE_FILE\",\n    };\n};\n\nexport const setSiteConfig = (config) => {\n    return {\n        type: \"SET_SITE_CONFIG\",\n        config: config,\n    };\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { baseURL } from \"../../middleware/Api\";\nimport { showImgPreivew } from \"../../actions/index\";\nimport { imgPreviewSuffix } from \"../../config\";\nimport { withStyles } from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\nimport { PhotoSlider } from \"react-photo-view\";\nimport \"react-photo-view/dist/index.css\";\nimport * as explorer from \"../../redux/explorer/reducer\";\n\nconst styles = () => ({});\n\nconst mapStateToProps = (state) => {\n    return {\n        first: state.explorer.imgPreview.first,\n        other: state.explorer.imgPreview.other,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n    };\n};\n\nclass ImagPreviewComponent extends Component {\n    state = {\n        items: [],\n        photoIndex: 0,\n        isOpen: false,\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        const items = [];\n        let firstOne = 0;\n        if (nextProps.first.id !== \"\") {\n            if (\n                pathHelper.isSharePage(this.props.location.pathname) &&\n                !nextProps.first.path\n            ) {\n                const newImg = {\n                    intro: nextProps.first.name,\n                    src: baseURL + \"/share/preview/\" + nextProps.first.key,\n                };\n                firstOne = 0;\n                items.push(newImg);\n                this.setState({\n                    photoIndex: firstOne,\n                    items: items,\n                    isOpen: true,\n                });\n                return;\n            }\n            // eslint-disable-next-line\n            nextProps.other.map((value) => {\n                const fileType = value.name.split(\".\").pop().toLowerCase();\n                if (imgPreviewSuffix.indexOf(fileType) !== -1) {\n                    let src = \"\";\n                    if (pathHelper.isSharePage(this.props.location.pathname)) {\n                        src = baseURL + \"/share/preview/\" + value.key;\n                        src =\n                            src +\n                            \"?path=\" +\n                            encodeURIComponent(\n                                value.path === \"/\"\n                                    ? value.path + value.name\n                                    : value.path + \"/\" + value.name\n                            );\n                    } else {\n                        src = baseURL + \"/file/preview/\" + value.id;\n                    }\n                    const newImg = {\n                        intro: value.name,\n                        src: src,\n                    };\n                    if (\n                        value.path === nextProps.first.path &&\n                        value.name === nextProps.first.name\n                    ) {\n                        firstOne = items.length;\n                    }\n                    items.push(newImg);\n                }\n            });\n            this.setState({\n                photoIndex: firstOne,\n                items: items,\n                isOpen: true,\n            });\n        }\n    };\n\n    handleClose = () => {\n        this.props.showImgPreivew(explorer.initState.imgPreview.first);\n        this.setState({\n            isOpen: false,\n        });\n    };\n\n    render() {\n        const { photoIndex, isOpen, items } = this.state;\n\n        return (\n            <div>\n                {isOpen && (\n                    <PhotoSlider\n                        images={items}\n                        visible={isOpen}\n                        onClose={() => this.handleClose()}\n                        index={photoIndex}\n                        onIndexChange={(n) =>\n                            this.setState({\n                                photoIndex: n,\n                            })\n                        }\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nImagPreviewComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst ImgPreivew = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ImagPreviewComponent)));\n\nexport default ImgPreivew;\n","export const isDefined = (val) => val != null;\nexport const isFunction = (val) => typeof val === \"function\";\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noop = () => {};\n\nexport const newScript = (src) => (cb) => {\n    const scriptElem = document.createElement(\"script\");\n    if (typeof src === \"object\") {\n        // copy every property to the element\n        for (const key in src) {\n            if (Object.prototype.hasOwnProperty.call(src, key)) {\n                scriptElem[key] = src[key];\n            }\n        }\n        src = src.src;\n    } else {\n        scriptElem.src = src;\n    }\n    scriptElem.addEventListener(\"load\", () => cb(null, src));\n    scriptElem.addEventListener(\"error\", () => cb(true, src));\n    document.body.appendChild(scriptElem);\n    return scriptElem;\n};\n\nconst keyIterator = (cols) => {\n    const keys = Object.keys(cols);\n    let i = -1;\n    return {\n        next() {\n            i++; // inc\n            if (i >= keys.length) return null;\n            else return keys[i];\n        },\n    };\n};\n\n// tasks should be a collection of thunk\nexport const parallel = (...tasks) => (each) => (cb) => {\n    let hasError = false;\n    let successed = 0;\n    const ret = [];\n    tasks = tasks.filter(isFunction);\n\n    if (tasks.length <= 0) cb(null);\n    else {\n        tasks.forEach((task, i) => {\n            const thunk = task;\n            thunk((err, ...args) => {\n                if (err) hasError = true;\n                else {\n                    // collect result\n                    if (args.length <= 1) args = args[0];\n\n                    ret[i] = args;\n                    successed++;\n                }\n\n                if (isFunction(each)) each.call(null, err, args, i);\n\n                if (hasError) cb(true);\n                else if (tasks.length === successed) {\n                    cb(null, ret);\n                }\n            });\n        });\n    }\n};\n\n// tasks should be a collection of thunk\nexport const series = (...tasks) => (each) => (cb) => {\n    tasks = tasks.filter((val) => val != null);\n    const nextKey = keyIterator(tasks);\n    const nextThunk = () => {\n        const key = nextKey.next();\n        let thunk = tasks[key];\n        // eslint-disable-next-line prefer-spread\n        if (Array.isArray(thunk))\n            // eslint-disable-next-line prefer-spread\n            thunk = parallel.apply(null, thunk).call(null, each);\n        return [+key, thunk]; // convert `key` to number\n    };\n    let key, thunk;\n    let next = nextThunk();\n    key = next[0];\n    thunk = next[1];\n    if (thunk == null) return cb(null);\n\n    const ret = [];\n    const iterator = () => {\n        thunk((err, ...args) => {\n            if (args.length <= 1) args = args[0];\n            if (isFunction(each)) each.call(null, err, args, key);\n\n            if (err) cb(err);\n            else {\n                // collect result\n                ret.push(args);\n\n                next = nextThunk();\n                key = next[0];\n                thunk = next[1];\n                if (thunk == null) return cb(null, ret);\n                // finished\n                else iterator();\n            }\n        });\n    };\n    iterator();\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nimport { newScript, series, noop } from \"./utils\";\n\nconst loadedScript = [];\nconst pendingScripts = {};\nlet failedScript = [];\n\nconst addCache = (entry) => {\n    if (loadedScript.indexOf(entry) < 0) {\n        loadedScript.push(entry);\n    }\n};\n\nconst removeFailedScript = () => {\n    if (failedScript.length > 0) {\n        failedScript.forEach((script) => {\n            const node = document.querySelector(`script[src='${script}']`);\n            if (node != null) {\n                node.parentNode.removeChild(node);\n            }\n        });\n\n        failedScript = [];\n    }\n};\n\nexport function startLoadingScripts(scripts, onComplete = noop) {\n    // sequence load\n    const loadNewScript = (script) => {\n        const src = typeof script === \"object\" ? script.src : script;\n        if (loadedScript.indexOf(src) < 0) {\n            return (taskComplete) => {\n                const callbacks = pendingScripts[src] || [];\n                callbacks.push(taskComplete);\n                pendingScripts[src] = callbacks;\n                if (callbacks.length === 1) {\n                    return newScript(script)((err) => {\n                        pendingScripts[src].forEach((cb) => cb(err, src));\n                        delete pendingScripts[src];\n                    });\n                }\n            };\n        }\n    };\n    const tasks = scripts.map((src) => {\n        if (Array.isArray(src)) {\n            return src.map(loadNewScript);\n        } else return loadNewScript(src);\n    });\n\n    series(...tasks)((err, src) => {\n        if (err) {\n            failedScript.push(src);\n        } else {\n            if (Array.isArray(src)) {\n                src.forEach(addCache);\n            } else addCache(src);\n        }\n    })((err) => {\n        removeFailedScript();\n        onComplete(err);\n    });\n}\n\nconst uploaderLoader = () => (WrappedComponent) => {\n    class ScriptLoader extends Component {\n        static propTypes = {\n            onScriptLoaded: PropTypes.func,\n        };\n\n        static defaultProps = {\n            onScriptLoaded: noop,\n        };\n\n        constructor(props, context) {\n            super(props, context);\n\n            this.state = {\n                isScriptLoaded: false,\n                isScriptLoadSucceed: false,\n            };\n\n            this._isMounted = false;\n        }\n\n        componentDidMount() {\n            this._isMounted = true;\n            const scripts = [\n                [\"/static/js/uploader/moxie.js\"],\n                [\"/static/js/uploader/plupload.dev.js\"],\n                [\"/static/js/uploader/i18n/zh_CN.js\"],\n                [\"/static/js/uploader/ui.js\"],\n                [\"/static/js/uploader/uploader_\" + window.policyType + \".js\"],\n            ];\n            startLoadingScripts(scripts, (err) => {\n                if (this._isMounted) {\n                    this.setState(\n                        {\n                            isScriptLoaded: true,\n                            isScriptLoadSucceed: !err,\n                        },\n                        () => {\n                            if (!err) {\n                                this.props.onScriptLoaded();\n                            }\n                        }\n                    );\n                }\n            });\n        }\n\n        componentWillUnmount() {\n            this._isMounted = false;\n        }\n\n        getWrappedInstance() {\n            // eslint-disable-next-line react/no-string-refs\n            return this.refs.wrappedInstance;\n        }\n\n        render() {\n            const props = {\n                ...this.props,\n                ...this.state,\n                ref: \"wrappedInstance\",\n            };\n\n            return <WrappedComponent {...props} />;\n        }\n    }\n\n    return hoistStatics(ScriptLoader, WrappedComponent);\n};\n\nexport default uploaderLoader;\n","import React, { Component } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AddIcon from \"@material-ui/icons/AddCircleOutline\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { darken, lighten } from \"@material-ui/core/styles/colorManipulator\";\nimport {\n    withStyles,\n    Dialog,\n    ListItemText,\n    ListItem,\n    List,\n    Divider,\n    AppBar,\n    Toolbar,\n    IconButton,\n    Typography,\n    Slide,\n    ListItemSecondaryAction,\n    withWidth,\n    DialogContent,\n    Tooltip,\n} from \"@material-ui/core\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport { withTheme } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n    appBar: {\n        position: \"relative\",\n    },\n    flex: {\n        flex: 1,\n    },\n    progressBar: {\n        marginTop: 5,\n    },\n    minHight: {\n        [theme.breakpoints.up(\"sm\")]: {\n            minWidth: 500,\n        },\n        padding: 0,\n    },\n    dialogContent: {\n        padding: 0,\n    },\n    successStatus: {\n        color: \"#4caf50\",\n    },\n    errorStatus: {\n        color: \"#ff5722\",\n        wordBreak: \"break-all\",\n    },\n    listAction: {\n        marginLeft: 20,\n        marginRight: 20,\n    },\n    delete: {\n        zIndex: 9,\n    },\n    progressContainer: {\n        position: \"relative\",\n    },\n    progressContent: {\n        position: \"relative\",\n        zIndex: 9,\n    },\n    progress: {\n        transition: \"width .4s linear\",\n        zIndex: 1,\n        height: \"100%\",\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n    },\n    fileName: {\n        wordBreak: \"break-all\",\n    },\n});\nclass FileList extends Component {\n    state = {\n        open: false,\n        files: [],\n    };\n\n    //入队\n    enQueue(files) {\n        this.setState({\n            files: [...this.state.files, ...files],\n        });\n    }\n\n    deQueue(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow.splice(fileID, 1);\n            this.setState({\n                files: filesNow,\n                open: filesNow.length !== 0,\n            });\n        }\n    }\n\n    updateStatus(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (!file.errMsg || file.ignoreMsg) {\n            if (filesNow[fileID] && !filesNow[fileID].errMsg) {\n                filesNow[fileID] = file;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n        } else {\n            file.ignoreMsg = true;\n        }\n    }\n\n    setComplete(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            if (filesNow[fileID].status !== 4) {\n                filesNow[fileID].status = 5;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n        }\n    }\n\n    setError(file, errMsg) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow[fileID].status = 4;\n            filesNow[fileID].errMsg = errMsg;\n        } else {\n            file.status = 4;\n            file.errMsg = errMsg;\n            filesNow.push(file);\n        }\n        this.setState({\n            files: filesNow,\n        });\n    }\n\n    Transition(props) {\n        return <Slide direction=\"up\" {...props} />;\n    }\n    openFileList = () => {\n        if (!this.state.open) {\n            this.setState({ open: true });\n        }\n    };\n\n    cancelUpload = (file) => {\n        this.props.cancelUpload(file);\n        this.deQueue(file);\n    };\n\n    reQueue = (file) => {\n        this.props.reQueue(file);\n        this.deQueue(file);\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    addNewFile = () => {\n        document.getElementsByClassName(\"uploadFileForm\")[0].click();\n    };\n\n    getProgressBackground = () => {\n        return this.props.theme.palette.type === \"light\"\n            ? lighten(this.props.theme.palette.primary.main, 0.8)\n            : darken(this.props.theme.palette.background.paper, 0.2);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { width } = this.props;\n\n        this.props.inRef({\n            openFileList: this.openFileList.bind(this),\n            enQueue: this.enQueue.bind(this),\n            updateStatus: this.updateStatus.bind(this),\n            setComplete: this.setComplete.bind(this),\n            setError: this.setError.bind(this),\n        });\n\n        return (\n            <Dialog\n                fullScreen={isWidthDown(\"sm\", width)}\n                open={this.state.open}\n                onClose={this.handleClose}\n                TransitionComponent={this.Transition}\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton\n                            color=\"inherit\"\n                            onClick={this.handleClose}\n                            aria-label=\"Close\"\n                        >\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography\n                            variant=\"h6\"\n                            color=\"inherit\"\n                            className={classes.flex}\n                        >\n                            上传队列\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={this.addNewFile}>\n                            <AddIcon />\n                        </IconButton>\n                    </Toolbar>\n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                    <List className={classes.minHight}>\n                        {this.state.files.map((item, i) => (\n                            <div key={i} className={classes.progressContainer}>\n                                {item.status === 2 && (\n                                    <div\n                                        style={{\n                                            backgroundColor: this.getProgressBackground(),\n                                            width: item.percent + \"%\",\n                                        }}\n                                        className={classes.progress}\n                                    />\n                                )}\n                                <ListItem\n                                    className={classes.progressContent}\n                                    button\n                                >\n                                    <TypeIcon fileName={item.name} isUpload />\n                                    {item.status === 1 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={<div>排队中...</div>}\n                                        />\n                                    )}\n                                    {item.status === 2 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div>\n                                                    {item.percent <= 99 && (\n                                                        <>\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.speed\n                                                                )\n                                                                .toUpperCase()}\n                                                            /s 已上传{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.loaded\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            , 共{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.size\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            - {item.percent}%{\" \"}\n                                                        </>\n                                                    )}\n                                                    {item.percent > 99 && (\n                                                        <div>处理中...</div>\n                                                    )}\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 3 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={item.status}\n                                        />\n                                    )}\n                                    {item.status === 4 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.errorStatus\n                                                    }\n                                                >\n                                                    {item.errMsg}\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 5 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.successStatus\n                                                    }\n                                                >\n                                                    已完成\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    <ListItemSecondaryAction\n                                        className={classes.delete}\n                                    >\n                                        {item.status !== 4 && (\n                                            <IconButton\n                                                aria-label=\"Delete\"\n                                                onClick={() =>\n                                                    this.cancelUpload(item)\n                                                }\n                                            >\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        )}\n                                        {item.status === 4 && (\n                                            <Tooltip title={\"重试\"}>\n                                                <IconButton\n                                                    aria-label=\"Delete\"\n                                                    onClick={() =>\n                                                        this.reQueue(item)\n                                                    }\n                                                >\n                                                    <RefreshIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        )}\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                                <Divider />\n                            </div>\n                        ))}\n                    </List>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\nFileList.propTypes = {};\n\nexport default withStyles(styles)(withWidth()(withTheme(FileList)));\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { makeStyles, Badge } from \"@material-ui/core\";\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport PublishIcon from \"@material-ui/icons/Publish\";\nimport {\n    openCreateFileDialog,\n    openCreateFolderDialog,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport { FolderUpload, FilePlus } from \"mdi-material-ui\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7,\n    },\n    \"@global\": {\n        \".MuiSpeedDialAction-staticTooltipLabel\": {\n            width: 100,\n        },\n    },\n}));\n\nexport default function UploadButton(props) {\n    const [open, setOpen] = useState(false);\n    const [queued, setQueued] = useState(5);\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const OpenNewFolderDialog = useCallback(\n        () => dispatch(openCreateFolderDialog()),\n        [dispatch]\n    );\n    const OpenNewFileDialog = useCallback(\n        () => dispatch(openCreateFileDialog()),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setQueued(props.Queued);\n    }, [props.Queued]);\n\n    const openUpload = (id) => {\n        const uploadButton = document.getElementsByClassName(id)[0];\n        if (document.body.contains(uploadButton)) {\n            uploadButton.click();\n        } else {\n            ToggleSnackbar(\"top\", \"right\", \"上传组件还未加载完成\", \"warning\");\n        }\n    };\n    const uploadClicked = () => {\n        if (open) {\n            if (queued !== 0) {\n                props.openFileList();\n            } else {\n                openUpload(\"uploadFileForm\");\n            }\n        }\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <AutoHidden enable>\n            <Badge\n                badgeContent={queued}\n                classes={{\n                    badge: classes.badge, // class name, e.g. `root-x`\n                }}\n                className={classes.fab}\n                invisible={queued === 0}\n                color=\"primary\"\n            >\n                <Backdrop open={open && statusHelper.isMobile()} />\n                <SpeedDial\n                    ariaLabel=\"SpeedDial openIcon example\"\n                    hidden={false}\n                    tooltipTitle=\"上传文件\"\n                    icon={\n                        <SpeedDialIcon\n                            openIcon={\n                                !statusHelper.isMobile() && <PublishIcon />\n                            }\n                        />\n                    }\n                    onClose={handleClose}\n                    FabProps={{\n                        onClick: () =>\n                            !statusHelper.isMobile() && uploadClicked(),\n                        color: \"secondary\",\n                    }}\n                    onOpen={handleOpen}\n                    open={open}\n                >\n                    {statusHelper.isMobile() && (\n                        <SpeedDialAction\n                            key=\"UploadFile\"\n                            icon={<PublishIcon />}\n                            tooltipOpen\n                            tooltipTitle=\"上传文件\"\n                            onClick={() => uploadClicked()}\n                            title={\"上传文件\"}\n                        />\n                    )}\n                    {!statusHelper.isMobile() && (\n                        <SpeedDialAction\n                            key=\"UploadFolder\"\n                            icon={<FolderUpload />}\n                            tooltipOpen\n                            tooltipTitle=\"上传目录\"\n                            onClick={() => openUpload(\"uploadFolderForm\")}\n                            title={\"上传目录\"}\n                        />\n                    )}\n                    <SpeedDialAction\n                        key=\"NewFolder\"\n                        icon={<CreateNewFolderIcon />}\n                        tooltipOpen\n                        tooltipTitle=\"新建目录\"\n                        onClick={() => OpenNewFolderDialog()}\n                        title={\"新建目录\"}\n                    />\n                    <SpeedDialAction\n                        key=\"NewFile\"\n                        icon={<FilePlus />}\n                        tooltipOpen\n                        tooltipTitle=\"新建文件\"\n                        onClick={() => OpenNewFileDialog()}\n                        title={\"新建文件\"}\n                    />\n                </SpeedDial>\n            </Badge>\n        </AutoHidden>\n    );\n}\n","import React, { Component } from \"react\";\nimport uploaderLoader from \"../../loader\";\nimport { connect } from \"react-redux\";\nimport { refreshFileList, refreshStorage, toggleSnackbar } from \"../../actions\";\nimport FileList from \"./FileList.js\";\nimport Auth from \"../../middleware/Auth\";\nimport UploadButton from \"../Dial/Create.js\";\nimport { basename, pathJoin } from \"../../utils\";\n\nlet loaded = false;\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass UploaderComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            queued: 0,\n        };\n    }\n\n    setRef(val) {\n        window.fileList = val;\n    }\n\n    cancelUpload(file) {\n        this.uploader.removeFile(file);\n    }\n\n    reQueue = (file) => {\n        this.uploader.addFile(file.getSource());\n        this.props.toggleSnackbar(\n            \"top\",\n            \"right\",\n            \"文件已经重新加入上传队列\",\n            \"info\"\n        );\n    };\n\n    getChunkSize(policyType) {\n        if (policyType === \"qiniu\") {\n            return 4 * 1024 * 1024;\n        }\n        if (policyType === \"onedrive\") {\n            return 100 * 1024 * 1024;\n        }\n        return 0;\n    }\n\n    fileAdd = (up, files) => {\n        const path = window.currntPath ? window.currntPath : this.props.path;\n        if (\n            this.props.keywords === \"\" &&\n            window.location.pathname.toLowerCase().startsWith(\"/home\")\n        ) {\n            window.fileList[\"openFileList\"]();\n            const enqueFiles = files\n                // 不上传Mac下的布局文件 .DS_Store\n                .filter((file) => {\n                    const isDsStore = file.name.toLowerCase() === \".ds_store\";\n                    if (isDsStore) {\n                        up.removeFile(file);\n                    }\n                    return !isDsStore;\n                })\n                .map((file) => {\n                    const source = file.getSource();\n                    if (source.relativePath && source.relativePath !== \"\") {\n                        file.path = basename(\n                            pathJoin([path, source.relativePath])\n                        );\n                        window.pathCache[file.id] = basename(\n                            pathJoin([path, source.relativePath])\n                        );\n                    } else {\n                        window.pathCache[file.id] = path;\n                        file.path = path;\n                    }\n                    return file;\n                });\n            window.fileList[\"enQueue\"](enqueFiles);\n        } else {\n            window.plupload.each(files, (files) => {\n                up.removeFile(files);\n            });\n        }\n    };\n\n    UNSAFE_componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) {\n            // load finished\n            if (isScriptLoadSucceed) {\n                if (loaded) {\n                    return;\n                }\n                loaded = true;\n                const user = Auth.GetUser();\n                this.uploader = window.Qiniu.uploader({\n                    runtimes: \"html5\",\n                    browse_button: [\"pickfiles\", \"pickfolder\"],\n                    container: \"container\",\n                    drop_element: \"container\",\n                    max_file_size:\n                        user.policy.maxSize === \"0.00mb\"\n                            ? 0\n                            : user.policy.maxSize,\n                    dragdrop: true,\n                    chunk_size: this.getChunkSize(user.policy.saveType),\n                    filters: {\n                        mime_types:\n                            user.policy.allowedType === null ||\n                            user.policy.allowedType.length === 0\n                                ? []\n                                : [\n                                      {\n                                          title: \"files\",\n                                          extensions: user.policy.allowedType.join(\n                                              \",\"\n                                          ),\n                                      },\n                                  ],\n                    },\n                    // iOS不能多选？\n                    multi_selection: true,\n                    uptoken_url: \"/api/v3/file/upload/credential\",\n                    uptoken: user.policy.saveType === \"local\" ? \"token\" : null,\n                    domain: \"s\",\n                    max_retries: 0,\n                    get_new_uptoken: true,\n                    auto_start: true,\n                    log_level: 5,\n                    init: {\n                        FilesAdded: this.fileAdd,\n\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        BeforeUpload: function () {},\n                        QueueChanged: (up) => {\n                            this.setState({ queued: up.total.queued });\n                        },\n                        UploadProgress: (up, file) => {\n                            window.fileList[\"updateStatus\"](file);\n                        },\n                        UploadComplete: (up, file) => {\n                            if (file.length === 0) {\n                                return;\n                            }\n                            console.log(\n                                \"UploadComplete\",\n                                file[0].status,\n                                file[0]\n                            );\n                            for (let i = 0; i < file.length; i++) {\n                                if (file[i].status === 5) {\n                                    window.fileList[\"setComplete\"](file[i]);\n                                }\n                            }\n                            // 无异步操作的策略，直接刷新\n                            if (\n                                user.policy.saveType !== \"onedrive\" &&\n                                user.policy.saveType !== \"cos\"\n                            ) {\n                                this.props.refreshFileList();\n                                this.props.refreshStorage();\n                            }\n                        },\n                        Fresh: () => {\n                            this.props.refreshFileList();\n                            this.props.refreshStorage();\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FileUploaded: function () {},\n                        Error: (up, err, errTip) => {\n                            window.fileList[\"openFileList\"]();\n                            window.fileList[\"setError\"](err.file, errTip);\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FilesRemoved: () => {},\n                    },\n                });\n                // this.fileList[\"openFileList\"]();\n            } else this.onError();\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onError() {}\n\n    openFileList = () => {\n        window.fileList[\"openFileList\"]();\n    };\n\n    render() {\n        return (\n            <div>\n                <FileList\n                    inRef={this.setRef.bind(this)}\n                    cancelUpload={this.cancelUpload.bind(this)}\n                    reQueue={this.reQueue.bind(this)}\n                />\n                {this.props.keywords === \"\" && (\n                    <UploadButton\n                        Queued={this.state.queued}\n                        openFileList={this.openFileList}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nconst Uploader = connect(mapStateToProps, mapDispatchToProps, null, {\n    forwardRef: true,\n})(uploaderLoader()(UploaderComponent));\n\nexport default Uploader;\n","import React from \"react\";\nimport { mediaType } from \"../../config\";\nimport ImageIcon from \"@material-ui/icons/PhotoSizeSelectActual\";\nimport VideoIcon from \"@material-ui/icons/Videocam\";\nimport AudioIcon from \"@material-ui/icons/Audiotrack\";\nimport PdfIcon from \"@material-ui/icons/PictureAsPdf\";\nimport {\n    Android,\n    FileExcelBox,\n    FilePowerpointBox,\n    FileWordBox,\n    LanguageC,\n    LanguageCpp,\n    LanguageGo,\n    LanguageJavascript,\n    LanguagePhp,\n    LanguagePython,\n    MagnetOn,\n    ScriptText,\n    WindowRestore,\n    ZipBox,\n} from \"mdi-material-ui\";\nimport FileShowIcon from \"@material-ui/icons/InsertDriveFile\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport { Avatar } from \"@material-ui/core\";\n\nconst icons = {\n    audio: {\n        color: \"#651fff\",\n        icon: AudioIcon,\n    },\n    video: {\n        color: \"#d50000\",\n        icon: VideoIcon,\n    },\n    image: {\n        color: \"#d32f2f\",\n        icon: ImageIcon,\n    },\n    pdf: {\n        color: \"#f44336\",\n        icon: PdfIcon,\n    },\n    word: {\n        color: \"#538ce5\",\n        icon: FileWordBox,\n    },\n    ppt: {\n        color: \"rgb(239, 99, 63)\",\n        icon: FilePowerpointBox,\n    },\n    excel: {\n        color: \"#4caf50\",\n        icon: FileExcelBox,\n    },\n    text: {\n        color: \"#607d8b\",\n        icon: ScriptText,\n    },\n    torrent: {\n        color: \"#5c6bc0\",\n        icon: MagnetOn,\n    },\n    zip: {\n        color: \"#f9a825\",\n        icon: ZipBox,\n    },\n    excute: {\n        color: \"#1a237e\",\n        icon: WindowRestore,\n    },\n    android: {\n        color: \"#8bc34a\",\n        icon: Android,\n    },\n    file: {\n        color: \"#607d8b\",\n        icon: FileShowIcon,\n    },\n    php: {\n        color: \"#777bb3\",\n        icon: LanguagePhp,\n    },\n    go: {\n        color: \"#16b3da\",\n        icon: LanguageGo,\n    },\n    python: {\n        color: \"#3776ab\",\n        icon: LanguagePython,\n    },\n    c: {\n        color: \"#a8b9cc\",\n        icon: LanguageC,\n    },\n    cpp: {\n        color: \"#004482\",\n        icon: LanguageCpp,\n    },\n    js: {\n        color: \"#f4d003\",\n        icon: LanguageJavascript,\n    },\n};\n\nconst getColor = (theme, color) =>\n    theme.palette.type === \"light\" ? color : lighten(color, 0.2);\n\nlet color;\n\nconst TypeIcon = (props) => {\n    const theme = useTheme();\n\n    const fileSuffix = props.fileName.split(\".\").pop().toLowerCase();\n    let fileType = \"file\";\n    Object.keys(mediaType).forEach((k) => {\n        if (mediaType[k].indexOf(fileSuffix) !== -1) {\n            fileType = k;\n        }\n    });\n    const IconComponent = icons[fileType].icon;\n    color = getColor(theme, icons[fileType].color);\n    if (props.getColorValue) {\n        props.getColorValue(color);\n    }\n\n    return (\n        <>\n            {props.isUpload && (\n                <Avatar\n                    className={props.className}\n                    style={{\n                        backgroundColor: color,\n                    }}\n                >\n                    <IconComponent\n                        className={props.iconClassName}\n                        style={{\n                            color: theme.palette.background.paper,\n                        }}\n                    />\n                </Avatar>\n            )}\n            {!props.isUpload && (\n                <IconComponent\n                    className={props.className}\n                    style={{\n                        color: color,\n                    }}\n                />\n            )}\n        </>\n    );\n};\n\nexport default TypeIcon;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport UpIcon from \"@material-ui/icons/ArrowUpward\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { toggleSnackbar } from \"../../actions/index\";\n\nimport {\n    MenuList,\n    MenuItem,\n    IconButton,\n    ListItemIcon,\n    ListItemText,\n    withStyles,\n    ListItemSecondaryAction,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\n\nconst mapStateToProps = (state) => {\n    return {\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    iconWhite: {\n        color: theme.palette.common.white,\n    },\n    selected: {\n        backgroundColor: theme.palette.primary.main + \"!important\",\n        \"& $primary, & $icon\": {\n            color: theme.palette.common.white,\n        },\n    },\n    primary: {},\n    icon: {},\n    buttonIcon: {},\n    selector: {\n        minWidth: \"300px\",\n    },\n    container: {\n        maxHeight: \"330px\",\n        overflowY: \" auto\",\n    },\n});\n\nclass PathSelectorCompoment extends Component {\n    state = {\n        presentPath: \"/\",\n        dirList: [],\n        selectedTarget: null,\n    };\n\n    componentDidMount = () => {\n        const toBeLoad = this.props.presentPath;\n        this.enterFolder(this.props.keywords === \"\" ? toBeLoad : \"/\");\n    };\n\n    back = () => {\n        const paths = this.state.presentPath.split(\"/\");\n        paths.pop();\n        const toBeLoad = paths.join(\"/\");\n        this.enterFolder(toBeLoad === \"\" ? \"/\" : toBeLoad);\n    };\n\n    enterFolder = (toBeLoad) => {\n        const thisurl = window.location.href;\n        const va = thisurl.split('/');\n        if (va[3]==\"s\") toBeLoad = \"/\";\n        API.get(\n            (this.props.api ? this.props.api : \"/directory\") +\n                encodeURIComponent(toBeLoad)\n        )\n            .then((response) => {\n                const dirList = response.data.objects.filter((x) => {\n                    return (\n                        x.type === \"dir\" &&\n                        this.props.selected.findIndex((value) => {\n                            return (\n                                value.name === x.name && value.path === x.path\n                            );\n                        }) === -1\n                    );\n                });\n                if (toBeLoad === \"/\") {\n                    dirList.unshift({ name: \"/\", path: \"\" });\n                }\n                this.setState({\n                    presentPath: toBeLoad,\n                    dirList: dirList,\n                    selectedTarget: null,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            });\n    };\n\n    handleSelect = (index) => {\n        this.setState({ selectedTarget: index });\n        this.props.onSelect(this.state.dirList[index]);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.container}>\n                <MenuList className={classes.selector}>\n                    {this.state.presentPath !== \"/\" && (\n                        <MenuItem onClick={this.back}>\n                            <ListItemIcon>\n                                <UpIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"返回上一层\" />\n                        </MenuItem>\n                    )}\n                    {this.state.dirList.map((value, index) => (\n                        <MenuItem\n                            classes={{\n                                selected: classes.selected,\n                            }}\n                            key={index}\n                            selected={this.state.selectedTarget === index}\n                            onClick={() => this.handleSelect(index)}\n                        >\n                            <ListItemIcon className={classes.icon}>\n                                <FolderIcon />\n                            </ListItemIcon>\n                            <ListItemText\n                                classes={{ primary: classes.primary }}\n                                primary={value.name}\n                                primaryTypographyProps={{\n                                    style: { whiteSpace: \"normal\" },\n                                }}\n                            />\n                            {value.name !== \"/\" && (\n                                <ListItemSecondaryAction\n                                    className={classes.buttonIcon}\n                                >\n                                    <IconButton\n                                        className={classNames({\n                                            [classes.iconWhite]:\n                                                this.state.selectedTarget ===\n                                                index,\n                                        })}\n                                        onClick={() =>\n                                            this.enterFolder(\n                                                value.path === \"/\"\n                                                    ? value.path + value.name\n                                                    : value.path +\n                                                          \"/\" +\n                                                          value.name\n                                            )\n                                        }\n                                    >\n                                        <RightIcon />\n                                    </IconButton>\n                                </ListItemSecondaryAction>\n                            )}\n                        </MenuItem>\n                    ))}\n                </MenuList>\n            </div>\n        );\n    }\n}\n\nPathSelectorCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    presentPath: PropTypes.string.isRequired,\n    selected: PropTypes.array.isRequired,\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(PathSelectorCompoment));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister();\n        });\n    }\n}\n","import React from \"react\";\nimport Auth from \"./Auth\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction AuthRoute({ children, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                Auth.Check(rest.isLogin) ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: location },\n                        }}\n                    />\n                )\n            }\n        />\n    );\n}\n\nexport default AuthRoute;\n","import React from \"react\";\nimport { Facebook } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"80%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: \" 50%\",\n        },\n\n        marginTop: 30,\n    },\n}));\n\nconst MyLoader = (props) => {\n    return (\n        <Facebook\n            backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n            foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n            className={props.className}\n        />\n    );\n};\n\nfunction PageLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div\n            style={{\n                textAlign: \"center\",\n            }}\n        >\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default PageLoading;\n","import React from \"react\";\nimport AdSense from 'react-adsense';\nimport SentimentVeryDissatisfiedIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    icon: {\n        fontSize: \"160px\",\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: lighten(theme.palette.text.disabled, 0.4),\n        textAlign: \"center\",\n        paddingTop: \"20px\",\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: lighten(theme.palette.text.disabled, 0.4),\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n}));\n\nexport default function Notice(props) {\n    const classes = useStyles();\n    return (\n        <div className={classes.emptyContainer}>\n            <SentimentVeryDissatisfiedIcon className={classes.icon} />\n            <div className={classes.emptyInfoBig}>{props.msg}</div>\n            <div className={classes.ads}>\n                <AdSense.Baidu slot='u6560388'/>\n            </div>\n        </div>\n    );\n}","import {\n    setSiteConfig,\n    toggleSnackbar,\n    enableLoadUploader,\n    changeViewMethod,\n} from \"../actions/index\";\nimport { fixUrlHash } from \"../utils/index\";\nimport API from \"./Api\";\nimport Auth from \"./Auth\";\nimport pathHelper from \"../utils/page\";\n\nconst initUserConfig = (siteConfig) => {\n    if (siteConfig.user !== undefined && !siteConfig.user.anonymous) {\n        const themes = JSON.parse(siteConfig.themes);\n        const user = siteConfig.user;\n        delete siteConfig.user;\n\n        //更换用户自定配色\n        if (\n            user[\"preferred_theme\"] !== \"\" &&\n            themes[user[\"preferred_theme\"]] !== undefined\n        ) {\n            siteConfig.theme = themes[user[\"preferred_theme\"]];\n        }\n\n        // 更新登录态\n        Auth.authenticate(user);\n    }\n    if (siteConfig.user !== undefined && siteConfig.user.anonymous) {\n        Auth.SetUser(siteConfig.user);\n    }\n    return siteConfig;\n};\n\nexport const InitSiteConfig = (rawStore) => {\n    // 从缓存获取默认配置\n    const configCache = JSON.parse(localStorage.getItem(\"siteConfigCache\"));\n    if (configCache != null) {\n        rawStore.siteConfig = configCache;\n    }\n    // 检查是否有path参数\n    const url = new URL(window.location.href);\n    const c = url.searchParams.get(\"path\");\n    rawStore.navigator.path = c === null ? \"/\" : c;\n    // 初始化用户个性配置\n    rawStore.siteConfig = initUserConfig(rawStore.siteConfig);\n\n    // 更改站点标题\n    document.title = rawStore.siteConfig.title;\n    return rawStore;\n};\n\nexport function enableUploaderLoad() {\n    // 开启上传组件加载\n    const user = Auth.GetUser();\n    window.policyType = user !== null ? user.policy.saveType : \"local\";\n    window.uploadConfig = user !== null ? user.policy : {};\n    window.pathCache = [];\n}\n\nexport async function UpdateSiteConfig(store) {\n    API.get(\"/site/config\")\n        .then(function (response) {\n            const themes = JSON.parse(response.data.themes);\n            response.data.theme = themes[response.data.defaultTheme];\n            response.data = initUserConfig(response.data);\n            store.dispatch(setSiteConfig(response.data));\n            localStorage.setItem(\n                \"siteConfigCache\",\n                JSON.stringify(response.data)\n            );\n\n            // 偏爱的列表样式\n            const preferListMethod = Auth.GetPreference(\"view_method\");\n            if (preferListMethod) {\n                store.dispatch(changeViewMethod(preferListMethod));\n            } else {\n                if (pathHelper.isSharePage(window.location.pathname)) {\n                    store.dispatch(\n                        changeViewMethod(response.data.share_view_method)\n                    );\n                } else {\n                    store.dispatch(\n                        changeViewMethod(response.data.home_view_method)\n                    );\n                }\n            }\n        })\n        .catch(function (error) {\n            store.dispatch(\n                toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载站点配置：\" + error.message,\n                    \"error\"\n                )\n            );\n        })\n        .then(function () {\n            enableUploaderLoad(store);\n            store.dispatch(enableLoadUploader());\n        });\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { makeStyles, Link } from \"@material-ui/core\";\nimport pageHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(() => ({\n    icp: {\n        padding: \"8px 24px\",\n        position: \"absolute\",\n        bottom: 0,\n    },\n}));\n\nexport const ICPFooter = () => {\n    const siteICPId = useSelector((state) => state.siteConfig.siteICPId);\n    const classes = useStyles();\n    const location = useLocation();\n    const [show, setShow] = useState(true);\n\n    useEffect(() => {\n        // 只在分享和登录界面显示\n        const isSharePage = pageHelper.isSharePage(location.pathname);\n        const isLoginPage = pageHelper.isLoginPage(location.pathname);\n        setShow(siteICPId && (isSharePage || isLoginPage));\n    }, [siteICPId, location]);\n\n    if (!show) {\n        return <></>;\n    }\n    return (\n        <div className={classes.icp}>\n            {`备案号: `}\n            <Link\n                href=\"https://beian.miit.gov.cn/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n            >\n                {siteICPId}\n            </Link>\n        </div>\n    );\n};\n","import React from \"react\";\nimport ContentLoader from \"react-content-loader\";\n\nconst MyLoader = () => (\n    <ContentLoader\n        height={80}\n        width={200}\n        speed={2}\n        primaryColor=\"#f3f3f3\"\n        secondaryColor=\"#e4e4e4\"\n    >\n        <rect x=\"4\" y=\"4\" rx=\"7\" ry=\"7\" width=\"392\" height=\"116\" />\n    </ContentLoader>\n);\n\nfunction captchaPlacholder() {\n    return <MyLoader />;\n}\n\nexport default captchaPlacholder;\n","import React, {\n    forwardRef,\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../actions\";\nimport API from \"../middleware/Api\";\nimport { FormControl, Input, InputLabel } from \"@material-ui/core\";\nimport Placeholder from \"../component/Placeholder/Captcha\";\nimport { defaultValidate, useStyle } from \"./useCaptcha\";\n\nconst NormalCaptcha = forwardRef(function NormalCaptcha(\n    { captchaRef, setLoading },\n    ref\n) {\n    const classes = useStyle();\n\n    const [captcha, setCaptcha] = useState(\"\");\n    const [captchaData, setCaptchaData] = useState(null);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const refreshCaptcha = () => {\n        API.get(\"/site/captcha\")\n            .then((response) => {\n                setCaptchaData(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载验证码：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useEffect(() => {\n        ref.current = refreshCaptcha;\n        refreshCaptcha();\n    }, []);\n\n    useEffect(() => {\n        captchaRef.current.captchaCode = captcha;\n    }, [captcha]);\n\n    return (\n        <div className={classes.captchaContainer}>\n            <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"captcha\">验证码</InputLabel>\n                <Input\n                    name=\"captcha\"\n                    onChange={(e) => setCaptcha(e.target.value)}\n                    type=\"text\"\n                    id=\"captcha\"\n                    value={captcha}\n                    autoComplete\n                />\n            </FormControl>{\" \"}\n            <div>\n                {captchaData === null && (\n                    <div className={classes.captchaPlaceholder}>\n                        <Placeholder />\n                    </div>\n                )}\n                {captchaData !== null && (\n                    <img\n                        src={captchaData}\n                        alt=\"captcha\"\n                        onClick={refreshCaptcha}\n                    />\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default function useNormalCaptcha(captchaRefreshRef, setLoading) {\n    const isValidate = useRef({\n        isValidate: true,\n    });\n\n    const captchaParamsRef = useRef({\n        captchaCode: \"\",\n    });\n\n    const CaptchaRender = useCallback(\n        function Normal() {\n            return (\n                <NormalCaptcha\n                    captchaRef={captchaParamsRef}\n                    ref={captchaRefreshRef}\n                    setLoading={setLoading}\n                />\n            );\n        },\n        [captchaParamsRef, captchaRefreshRef, setLoading]\n    );\n\n    return {\n        isValidate,\n        validate: defaultValidate,\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class ReCAPTCHA extends React.Component {\n    constructor() {\n        super();\n        this.handleExpired = this.handleExpired.bind(this);\n        this.handleErrored = this.handleErrored.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleRecaptchaRef = this.handleRecaptchaRef.bind(this);\n    }\n\n    getValue() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this.props.grecaptcha.getResponse(this._widgetId);\n        }\n        return null;\n    }\n\n    getWidgetId() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this._widgetId;\n        }\n        return null;\n    }\n\n    execute() {\n        const { grecaptcha } = this.props;\n\n        if (grecaptcha && this._widgetId !== undefined) {\n            return grecaptcha.execute(this._widgetId);\n        } else {\n            this._executeRequested = true;\n        }\n    }\n\n    reset() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            this.props.grecaptcha.reset(this._widgetId);\n        }\n    }\n\n    handleExpired() {\n        if (this.props.onExpired) {\n            this.props.onExpired();\n        } else {\n            this.handleChange(null);\n        }\n    }\n\n    handleErrored() {\n        if (this.props.onErrored) this.props.onErrored();\n    }\n\n    handleChange(token) {\n        if (this.props.onChange) this.props.onChange(token);\n    }\n\n    explicitRender() {\n        if (\n            this.props.grecaptcha &&\n            this.props.grecaptcha.render &&\n            this._widgetId === undefined\n        ) {\n            const wrapper = document.createElement(\"div\");\n            this._widgetId = this.props.grecaptcha.render(wrapper, {\n                sitekey: this.props.sitekey,\n                callback: this.handleChange,\n                theme: this.props.theme,\n                type: this.props.type,\n                tabindex: this.props.tabindex,\n                \"expired-callback\": this.handleExpired,\n                \"error-callback\": this.handleErrored,\n                size: this.props.size,\n                stoken: this.props.stoken,\n                hl: this.props.hl,\n                badge: this.props.badge,\n            });\n            this.captcha.appendChild(wrapper);\n        }\n        if (\n            this._executeRequested &&\n            this.props.grecaptcha &&\n            this._widgetId !== undefined\n        ) {\n            this._executeRequested = false;\n            this.execute();\n        }\n    }\n\n    componentDidMount() {\n        this.explicitRender();\n    }\n\n    componentDidUpdate() {\n        this.explicitRender();\n    }\n\n    componentWillUnmount() {\n        if (this._widgetId !== undefined) {\n            this.delayOfCaptchaIframeRemoving();\n            this.reset();\n        }\n    }\n\n    delayOfCaptchaIframeRemoving() {\n        const temporaryNode = document.createElement(\"div\");\n        document.body.appendChild(temporaryNode);\n        temporaryNode.style.display = \"none\";\n\n        // move of the recaptcha to a temporary node\n        while (this.captcha.firstChild) {\n            temporaryNode.appendChild(this.captcha.firstChild);\n        }\n\n        // delete the temporary node after reset will be done\n        setTimeout(() => {\n            document.body.removeChild(temporaryNode);\n        }, 5000);\n    }\n\n    handleRecaptchaRef(elem) {\n        this.captcha = elem;\n    }\n\n    render() {\n        // consume properties owned by the reCATPCHA, pass the rest to the div so the user can style it.\n        /* eslint-disable no-unused-vars */\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const {\n            sitekey,\n            onChange,\n            theme,\n            type,\n            tabindex,\n            onExpired,\n            onErrored,\n            size,\n            stoken,\n            grecaptcha,\n            badge,\n            hl,\n            ...childProps\n        } = this.props;\n        /* eslint-enable no-unused-vars */\n        return <div {...childProps} ref={this.handleRecaptchaRef} />;\n    }\n}\n\nReCAPTCHA.displayName = \"ReCAPTCHA\";\nReCAPTCHA.propTypes = {\n    sitekey: PropTypes.string.isRequired,\n    onChange: PropTypes.func,\n    grecaptcha: PropTypes.object,\n    theme: PropTypes.oneOf([\"dark\", \"light\"]),\n    type: PropTypes.oneOf([\"image\", \"audio\"]),\n    tabindex: PropTypes.number,\n    onExpired: PropTypes.func,\n    onErrored: PropTypes.func,\n    size: PropTypes.oneOf([\"compact\", \"normal\", \"invisible\"]),\n    stoken: PropTypes.string,\n    hl: PropTypes.string,\n    badge: PropTypes.oneOf([\"bottomright\", \"bottomleft\", \"inline\"]),\n};\nReCAPTCHA.defaultProps = {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onChange: () => {},\n    theme: \"light\",\n    type: \"image\",\n    tabindex: 0,\n    size: \"normal\",\n    badge: \"bottomright\",\n};\n","import ReCAPTCHA from \"./ReCaptchaWrapper\";\nimport makeAsyncScriptLoader from \"react-async-script\";\n\nconst callbackName = \"onloadcallback\";\nconst globalName = \"grecaptcha\";\n\nfunction getURL() {\n    const hostname = \"recaptcha.net\";\n    return `https://${hostname}/recaptcha/api.js?onload=${callbackName}&render=explicit`;\n}\n\nexport default makeAsyncScriptLoader(getURL, {\n    callbackName,\n    globalName,\n})(ReCAPTCHA);\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FormControl } from \"@material-ui/core\";\nimport ReCaptcha from \"../component/Login/ReCaptcha\";\nimport { defaultValidate, useStyle } from \"./useCaptcha\";\n\nconst Recaptcha = ({ captchaRef, setLoading }) => {\n    const classes = useStyle();\n\n    const [captcha, setCaptcha] = useState(\"\");\n\n    const reCaptchaKey = useSelector(\n        (state) => state.siteConfig.captcha_ReCaptchaKey\n    );\n\n    useEffect(() => {\n        captchaRef.current.captchaCode = captcha;\n    }, [captcha]);\n\n    useEffect(() => setLoading(false), []);\n\n    return (\n        <div className={classes.captchaContainer}>\n            <FormControl margin=\"normal\" required fullWidth>\n                <div>\n                    <ReCaptcha\n                        style={{\n                            display: \"inline-block\",\n                        }}\n                        sitekey={reCaptchaKey}\n                        onChange={(value) => setCaptcha(value)}\n                        id=\"captcha\"\n                        name=\"captcha\"\n                    />\n                </div>\n            </FormControl>{\" \"}\n        </div>\n    );\n};\n\nexport default function useRecaptcha(setLoading) {\n    const isValidate = useRef({\n        isValidate: true,\n    });\n\n    const captchaParamsRef = useRef({\n        captchaCode: \"\",\n    });\n\n    const CaptchaRender = useCallback(\n        function RecaptchaRender() {\n            return (\n                <Recaptcha\n                    captchaRef={captchaParamsRef}\n                    setLoading={setLoading}\n                />\n            );\n        },\n        [captchaParamsRef, setLoading]\n    );\n\n    return {\n        isValidate,\n        validate: defaultValidate,\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import React, { forwardRef, useCallback, useRef } from \"react\";\nimport Script from \"react-load-script\";\nimport { useSelector } from \"react-redux\";\n\nconst TCaptcha = forwardRef(function TCaptcha(\n    { captchaRef, setLoading, isValidateRef, submitRef },\n    ref\n) {\n    const appid = useSelector(\n        (state) => state.siteConfig.tcaptcha_captcha_app_id\n    );\n    const onLoad = () => {\n        try {\n            ref.current = new window.TencentCaptcha(appid, function (res) {\n                if (res.ret === 0) {\n                    captchaRef.current.ticket = res.ticket;\n                    captchaRef.current.randstr = res.randstr;\n\n                    isValidateRef.current.isValidate = true;\n                    submitRef.current.submit();\n                    console.log(submitRef);\n                } else {\n                    submitRef.current.setLoading(false);\n                }\n            });\n        } catch (e) {\n            console.error(e);\n        }\n        setLoading(false);\n    };\n    return (\n        <Script\n            url={\"https://ssl.captcha.qq.com/TCaptcha.js\"}\n            onLoad={onLoad}\n        />\n    );\n});\n\nexport default function useTCaptcha(setLoading) {\n    const isValidate = useRef({\n        isValidate: false,\n    });\n    const captchaParamsRef = useRef({\n        ticket: \"\",\n        randstr: \"\",\n    });\n    const submitRef = useRef({\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        submit: () => {},\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        setLoading: () => {},\n    });\n\n    const captchaRef = useRef();\n\n    const CaptchaRender = useCallback(\n        function TCaptchaRender() {\n            return (\n                <TCaptcha\n                    captchaRef={captchaParamsRef}\n                    setLoading={setLoading}\n                    isValidateRef={isValidate}\n                    submitRef={submitRef}\n                    ref={captchaRef}\n                />\n            );\n        },\n        [captchaParamsRef, setLoading, isValidate, submitRef, captchaRef]\n    );\n\n    return {\n        isValidate: isValidate,\n        validate: (submit, setLoading) => {\n            submitRef.current.submit = submit;\n            submitRef.current.setLoading = setLoading;\n            captchaRef.current.show();\n        },\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import { useSelector } from \"react-redux\";\nimport { useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport useNormalCaptcha from \"./normal\";\nimport useRecaptcha from \"./recaptcha\";\nimport useTCaptcha from \"./tcaptcha\";\n\nexport const useStyle = makeStyles((theme) => ({\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n}));\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars,@typescript-eslint/no-empty-function\nexport const defaultValidate = (submit, setLoading) => {};\n\nexport const useCaptcha = () => {\n    const captchaType = useSelector((state) => state.siteConfig.captcha_type);\n\n    const [captchaLoading, setCaptchaLoading] = useState(true);\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    const captchaRefreshRef = useRef(() => {});\n\n    const normal = useNormalCaptcha(captchaRefreshRef, setCaptchaLoading);\n    const recaptcha = useRecaptcha(setCaptchaLoading);\n    const tcaptcha = useTCaptcha(setCaptchaLoading);\n\n    switch (captchaType) {\n        case \"normal\":\n            return { ...normal, captchaRefreshRef, captchaLoading };\n        case \"recaptcha\":\n            return { ...recaptcha, captchaRefreshRef, captchaLoading };\n        case \"tcaptcha\":\n            return { ...tcaptcha, captchaRefreshRef, captchaLoading };\n        default:\n            return { ...normal, captchaRefreshRef, captchaLoading };\n    }\n};\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport {\n    applyThemes,\n    setSessionStatus,\n    toggleSnackbar,\n} from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { bufferDecode, bufferEncode } from \"../../utils/index\";\nimport { enableUploaderLoad } from \"../../middleware/Init\";\nimport { Fingerprint, VpnKey } from \"@material-ui/icons\";\nimport VpnIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport { useLocation } from \"react-router\";\nimport { ICPFooter } from \"../Common/ICPFooter\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    buttonContainer: {\n        display: \"flex\",\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction LoginForm() {\n    const [email, setEmail] = useState(\"\");\n    const [pwd, setPwd] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [useAuthn, setUseAuthn] = useState(false);\n    const [twoFA, setTwoFA] = useState(false);\n    const [faCode, setFACode] = useState(\"\");\n\n    const loginCaptcha = useSelector((state) => state.siteConfig.loginCaptcha);\n    const title = useSelector((state) => state.siteConfig.title);\n    const QQLogin = useSelector((state) => state.siteConfig.QQLogin);\n    const authn = useSelector((state) => state.siteConfig.authn);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback((theme) => dispatch(applyThemes(theme)), [\n        dispatch,\n    ]);\n    const SetSessionStatus = useCallback(\n        (status) => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const history = useHistory();\n    const location = useLocation();\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n    const query = useQuery();\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        setEmail(query.get(\"username\"));\n    }, [location]);\n\n    const afterLogin = (data) => {\n        Auth.authenticate(data);\n\n        // 设置用户主题色\n        if (data[\"preferred_theme\"] !== \"\") {\n            ApplyThemes(data[\"preferred_theme\"]);\n        }\n        enableUploaderLoad();\n\n        // 设置登录状态\n        SetSessionStatus(true);\n\n        history.push(\"/home\");\n        ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n        localStorage.removeItem(\"siteConfigCache\");\n    };\n\n    const authnLogin = (e) => {\n        e.preventDefault();\n        if (!navigator.credentials) {\n            ToggleSnackbar(\"top\", \"right\", \"当前浏览器或环境不支持\", \"warning\");\n\n            return;\n        }\n\n        setLoading(true);\n\n        API.get(\"/user/authn/\" + email)\n            .then((response) => {\n                const credentialRequestOptions = response.data;\n                console.log(credentialRequestOptions);\n                credentialRequestOptions.publicKey.challenge = bufferDecode(\n                    credentialRequestOptions.publicKey.challenge\n                );\n                credentialRequestOptions.publicKey.allowCredentials.forEach(\n                    function (listItem) {\n                        listItem.id = bufferDecode(listItem.id);\n                    }\n                );\n\n                return navigator.credentials.get({\n                    publicKey: credentialRequestOptions.publicKey,\n                });\n            })\n            .then((assertion) => {\n                const authData = assertion.response.authenticatorData;\n                const clientDataJSON = assertion.response.clientDataJSON;\n                const rawId = assertion.rawId;\n                const sig = assertion.response.signature;\n                const userHandle = assertion.response.userHandle;\n\n                return API.post(\n                    \"/user/authn/finish/\" + email,\n                    JSON.stringify({\n                        id: assertion.id,\n                        rawId: bufferEncode(rawId),\n                        type: assertion.type,\n                        response: {\n                            authenticatorData: bufferEncode(authData),\n                            clientDataJSON: bufferEncode(clientDataJSON),\n                            signature: bufferEncode(sig),\n                            userHandle: bufferEncode(userHandle),\n                        },\n                    })\n                );\n            })\n            .then((response) => {\n                afterLogin(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const login = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        if (!isValidate.current.isValidate && loginCaptcha) {\n            validate(() => login(e), setLoading);\n            return;\n        }\n        API.post(\"/user/session\", {\n            userName: email,\n            Password: pwd,\n            ...captchaParamsRef.current,\n        })\n            .then((response) => {\n                setLoading(false);\n                if (response.rawData.code === 203) {\n                    setTwoFA(true);\n                } else {\n                    afterLogin(response.data);\n                }\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    const initQQLogin = () => {\n        setLoading(true);\n        API.post(\"/user/qq\")\n            .then((response) => {\n                window.location.href = response.data;\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const twoFALogin = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        API.post(\"/user/2fa\", {\n            code: faCode,\n        })\n            .then((response) => {\n                setLoading(false);\n                afterLogin(response.data);\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const getCookie =(name)=> {\n        const strcookie = document.cookie;//获取cookie字符串\n            const arrcookie = strcookie.split(\"; \");//分割\n            //遍历匹配\n            for ( let i = 0; i < arrcookie.length; i++) {\n                const arr = arrcookie[i].split(\"=\");\n                if (arr[0] == name){\n                    return unescape(arr[1]);\n                }\n            }\n        return null;\n    }\n    let _QQLogin = QQLogin;\n    if(getCookie(\"thisapp\")==\"ok\"){\n        _QQLogin = false;\n    }\n\n    return (\n        <div className={classes.layout}>\n            {!twoFA && (\n                <>\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatar}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            登录 {title}\n                        </Typography>\n                        {!useAuthn && (\n                            <form className={classes.form} onSubmit={login}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"email\">\n                                        电子邮箱\n                                    </InputLabel>\n                                    <Input\n                                        id=\"email\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        onChange={(e) =>\n                                            setEmail(e.target.value)\n                                        }\n                                        autoComplete\n                                        value={email}\n                                        autoFocus\n                                    />\n                                </FormControl>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"password\">\n                                        密码\n                                    </InputLabel>\n                                    <Input\n                                        name=\"password\"\n                                        onChange={(e) => setPwd(e.target.value)}\n                                        type=\"password\"\n                                        id=\"password\"\n                                        value={pwd}\n                                        autoComplete\n                                    />\n                                </FormControl>\n                                {loginCaptcha && <CaptchaRender />}\n                                {_QQLogin && (\n                                    <div className={classes.buttonContainer}>\n                                        <Button\n                                            type=\"submit\"\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            disabled={loading}\n                                            className={classes.submit}\n                                        >\n                                            登录\n                                        </Button>\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            style={{ marginLeft: \"10px\" }}\n                                            disabled={loading}\n                                            className={classes.submit}\n                                            onClick={initQQLogin}\n                                        >\n                                            使用QQ登录\n                                        </Button>\n                                    </div>\n                                )}\n                                {!_QQLogin && (\n                                    <Button\n                                        type=\"submit\"\n                                        fullWidth\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        disabled={loading}\n                                        className={classes.submit}\n                                    >\n                                        登录\n                                    </Button>\n                                )}\n                            </form>\n                        )}\n                        {useAuthn && (\n                            <form className={classes.form}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"email\">\n                                        电子邮箱\n                                    </InputLabel>\n                                    <Input\n                                        id=\"email\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        onChange={(e) =>\n                                            setEmail(e.target.value)\n                                        }\n                                        autoComplete\n                                        value={email}\n                                        autoFocus\n                                    />\n                                </FormControl>\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disabled={\n                                        loading ||\n                                        (loginCaptcha ? captchaLoading : false)\n                                    }\n                                    onClick={authnLogin}\n                                    className={classes.submit}\n                                >\n                                    下一步\n                                </Button>\n                            </form>\n                        )}\n                        <Divider />\n                        <div className={classes.link}>\n                            <div>\n                                <Link href={\"/forget\"}>忘记密码</Link>\n                            </div>\n                            <div>\n                                <Link href={\"/signup\"}>注册账号</Link>\n                            </div>\n                        </div>\n\n                        <ICPFooter />\n                    </Paper>\n\n                    {authn && (\n                        <div className={classes.authnLink}>\n                            <Button\n                                color=\"primary\"\n                                onClick={() => setUseAuthn(!useAuthn)}\n                            >\n                                {!useAuthn && (\n                                    <>\n                                        <Fingerprint\n                                            style={{\n                                                marginRight: 8,\n                                            }}\n                                        />\n                                        使用外部验证器登录\n                                    </>\n                                )}\n                                {useAuthn && (\n                                    <>\n                                        <VpnKey\n                                            style={{\n                                                marginRight: 8,\n                                            }}\n                                        />\n                                        使用密码登录\n                                    </>\n                                )}\n                            </Button>\n                        </div>\n                    )}\n                </>\n            )}\n            {twoFA && (\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <VpnIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        二步验证\n                    </Typography>\n                    <form className={classes.form} onSubmit={twoFALogin}>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"code\">\n                                请输入六位二步验证代码\n                            </InputLabel>\n                            <Input\n                                id=\"code\"\n                                type=\"number\"\n                                name=\"code\"\n                                onChange={(event) =>\n                                    setFACode(event.target.value)\n                                }\n                                autoComplete\n                                value={faCode}\n                                autoFocus\n                            />\n                        </FormControl>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={loading}\n                            className={classes.submit}\n                        >\n                            继续登录\n                        </Button>{\" \"}\n                    </form>{\" \"}\n                    <Divider />\n                </Paper>\n            )}\n        </div>\n    );\n}\n\nexport default LoginForm;\n","import * as actions from \"./action\";\nimport * as reducers from \"./reducer\";\n\nexport default {\n    actions,\n    reducers,\n};\n","import React, { useEffect } from \"react\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\nimport MoreIcon from \"@material-ui/icons/MoreHoriz\";\n\nconst useStyles = makeStyles((theme) => ({\n    expandMore: {\n        color: \"#8d8d8d\",\n    },\n    active: {\n        boxShadow: \"0 0 0 2px \" + theme.palette.primary.light,\n    },\n    button: {\n        textTransform: \"none\",\n    },\n}));\n\nexport default function PathButton(props) {\n    const inputRef = React.useRef(null);\n\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            if (props.more) {\n                inputRef.current.click();\n            } else {\n                return {\n                    folder: {\n                        id: -1,\n                        path: props.path,\n                        name: props.folder === \"/\" ? \"\" : props.folder,\n                    },\n                };\n            }\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        if (props.more && isActive) {\n            inputRef.current.click();\n        }\n        // eslint-disable-next-line\n    }, [isActive]);\n\n    const classes = useStyles();\n    return (\n        <span onClick={props.onClick} ref={inputRef}>\n            <Button\n                ref={drop}\n                className={classNames(\n                    {\n                        [classes.active]: isActive,\n                    },\n                    classes.button\n                )}\n                component=\"span\"\n                title={props.title}\n            >\n                {props.more && <MoreIcon />}\n                {!props.more && (\n                    <>\n                        {props.folder}\n                        {props.last && (\n                            <ExpandMore className={classes.expandMore} />\n                        )}\n                    </>\n                )}\n            </Button>\n        </span>\n    );\n}\n","import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport { MenuItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles((theme) => ({\n    active: {\n        border: \"2px solid \" + theme.palette.primary.light,\n    },\n}));\n\nexport default function DropDownItem(props) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            console.log({\n                folder: {\n                    id: -1,\n                    path: props.path,\n                    name: props.folder === \"/\" ? \"\" : props.folder,\n                },\n            });\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        props.setActiveStatus(props.id, isActive);\n        // eslint-disable-next-line\n    }, [isActive]);\n\n    const classes = useStyles();\n    return (\n        <MenuItem\n            ref={drop}\n            className={classNames({\n                [classes.active]: isActive,\n            })}\n            onClick={(e) => props.navigateTo(e, props.id)}\n        >\n            <ListItemIcon>\n                <FolderIcon />\n            </ListItemIcon>\n            <ListItemText primary={props.folder} />\n        </MenuItem>\n    );\n}\n","import React from \"react\";\nimport DropDownItem from \"./DropDownItem\";\n\nexport default function DropDown(props) {\n    let timer;\n    let first = props.folders.length;\n    const status = [];\n    for (let index = 0; index < props.folders.length; index++) {\n        status[index] = false;\n    }\n\n    const setActiveStatus = (id, value) => {\n        status[id] = value;\n        if (value) {\n            clearTimeout(timer);\n        } else {\n            let shouldClose = true;\n            status.forEach((element) => {\n                if (element) {\n                    shouldClose = false;\n                }\n            });\n            if (shouldClose) {\n                if (first <= 0) {\n                    timer = setTimeout(() => {\n                        props.onClose();\n                    }, 100);\n                } else {\n                    first--;\n                }\n            }\n        }\n        console.log(status);\n    };\n\n    return (\n        <>\n            {props.folders.map((folder, id) => (\n                // eslint-disable-next-line react/jsx-key\n                <DropDownItem\n                    path={\"/\" + props.folders.slice(0, id).join(\"/\")}\n                    navigateTo={props.navigateTo}\n                    id={id}\n                    setActiveStatus={setActiveStatus}\n                    folder={folder}\n                />\n            ))}\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {\n    navigateTo,\n    navigateUp,\n    setNavigatorError,\n    setNavigatorLoadingStatus,\n    refreshFileList,\n    setSelectedTarget,\n    openCreateFolderDialog,\n    openShareDialog,\n    drawerToggleAction,\n    openCompressDialog,\n} from \"../../../actions/index\";\nimport explorer from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { setCookie, setGetParameter, fixUrlHash } from \"../../../utils/index\";\nimport {\n    withStyles,\n    Divider,\n    Menu,\n    MenuItem,\n    ListItemIcon,\n} from \"@material-ui/core\";\nimport PathButton from \"./PathButton\";\nimport DropDown from \"./DropDown\";\nimport pathHelper from \"../../../utils/page\";\nimport classNames from \"classnames\";\nimport Auth from \"../../../middleware/Auth\";\nimport { Archive } from \"@material-ui/icons\";\nimport { FilePlus } from \"mdi-material-ui\";\nimport { openCreateFileDialog } from \"../../../actions\";\nimport SubActions from \"./SubActions\";\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        refresh: state.navigator.refresh,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        keywords: state.explorer.keywords,\n        sortMethod: state.viewUpdate.sortMethod,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        navigateToPath: (path) => {\n            dispatch(navigateTo(path));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        setNavigatorError: (status, msg) => {\n            dispatch(setNavigatorError(status, msg));\n        },\n        updateFileList: (list) => {\n            dispatch(explorer.actions.updateFileList(list));\n        },\n        setNavigatorLoadingStatus: (status) => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        setSelectedTarget: (target) => {\n            dispatch(setSelectedTarget(target));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        handleDesktopToggle: (open) => {\n            dispatch(drawerToggleAction(open));\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        },\n    };\n};\n\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nconst styles = (theme) => ({\n    container: {\n       /* [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\",\n        },*/\n        height: \"49px\",\n        overflow: \"hidden\",\n        backgroundColor: theme.palette.background.paper,\n    },\n    navigatorContainer: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    nav: {\n        height: \"48px\",\n        padding: \"5px 15px\",\n        display: \"flex\",\n    },\n    optionContainer: {\n        paddingTop: \"6px\",\n        marginRight: \"10px\",\n    },\n    rightIcon: {\n        marginTop: \"6px\",\n        verticalAlign: \"top\",\n        color: \"#868686\",\n    },\n    expandMore: {\n        color: \"#8d8d8d\",\n    },\n    roundBorder: {\n        borderRadius: \"4px 4px 0 0\",\n    },\n});\n\nclass NavigatorComponent extends Component {\n    keywords = \"\";\n    currentID = 0;\n\n    state = {\n        hidden: false,\n        hiddenFolders: [],\n        folders: [],\n        anchorEl: null,\n        hiddenMode: false,\n        anchorHidden: null,\n    };\n\n    constructor(props) {\n        super(props);\n        this.element = React.createRef();\n    }\n\n    componentDidMount = () => {\n        const url = new URL(fixUrlHash(window.location.href));\n        const c = url.searchParams.get(\"path\");\n        this.renderPath(c === null ? \"/\" : c);\n\n        if (!this.props.isShare) {\n            // 如果是在个人文件管理页，首次加载时打开侧边栏\n            this.props.handleDesktopToggle(true);\n        }\n\n        // 后退操作时重新导航\n        window.onpopstate = () => {\n            const url = new URL(fixUrlHash(window.location.href));\n            const c = url.searchParams.get(\"path\");\n            if (c !== null) {\n                this.props.navigateToPath(c);\n            }\n        };\n    };\n\n    renderPath = (path = null) => {\n        this.props.setNavigatorError(false, null);\n        this.setState({\n            folders:\n                path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\"),\n        });\n        let newPath = path !== null ? path : this.props.path;\n        const apiURL = this.props.share\n            ? \"/share/list/\" + this.props.share.key\n            : this.keywords === \"\"\n            ? \"/directory\"\n            : \"/file/search/\";\n        newPath = this.keywords === \"\" ? newPath : this.keywords;\n\n        API.get(apiURL + encodeURIComponent(newPath))\n            .then((response) => {\n                this.currentID = response.data.parent;\n                this.props.updateFileList(response.data.objects);\n                this.props.setNavigatorLoadingStatus(false);\n                const pathTemp = (path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\")\n                ).join(\",\");\n                setCookie(\"path_tmp\", encodeURIComponent(pathTemp), 1);\n                if (this.keywords === \"\") {\n                    setGetParameter(\"path\", encodeURIComponent(newPath));\n                }\n            })\n            .catch((error) => {\n                this.props.setNavigatorError(true, error);\n            });\n\n        this.checkOverFlow(true);\n    };\n\n    redresh = (path) => {\n        this.props.setNavigatorLoadingStatus(true);\n        this.props.setNavigatorError(false, \"error\");\n        this.renderPath(path);\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (this.props.keywords !== nextProps.keywords) {\n            this.keywords = nextProps.keywords;\n        }\n        if (this.props.path !== nextProps.path) {\n            this.renderPath(nextProps.path);\n        }\n        if (this.props.refresh !== nextProps.refresh) {\n            this.redresh(nextProps.path);\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.updateFileList([]);\n    }\n\n    componentDidUpdate = (prevProps, prevStates) => {\n        if (this.state.folders !== prevStates.folders) {\n            this.checkOverFlow(true);\n        }\n        if (this.props.drawerDesktopOpen !== prevProps.drawerDesktopOpen) {\n            delay(500).then(() => this.checkOverFlow());\n        }\n    };\n\n    checkOverFlow = (force) => {\n        if (this.overflowInitLock && !force) {\n            return;\n        }\n        if (this.element.current !== null) {\n            const hasOverflowingChildren =\n                this.element.current.offsetHeight <\n                    this.element.current.scrollHeight ||\n                this.element.current.offsetWidth <\n                    this.element.current.scrollWidth;\n            if (hasOverflowingChildren) {\n                this.overflowInitLock = true;\n                this.setState({ hiddenMode: true });\n            }\n            if (!hasOverflowingChildren && this.state.hiddenMode) {\n                this.setState({ hiddenMode: false });\n            }\n        }\n    };\n\n    navigateTo = (event, id) => {\n        if (id === this.state.folders.length - 1) {\n            //最后一个路径\n            this.setState({ anchorEl: event.currentTarget });\n        } else if (\n            id === -1 &&\n            this.state.folders.length === 1 &&\n            this.state.folders[0] === \"\"\n        ) {\n            this.props.refreshFileList();\n            this.handleClose();\n        } else if (id === -1) {\n            this.props.navigateToPath(\"/\");\n            this.handleClose();\n        } else {\n            this.props.navigateToPath(\n                \"/\" + this.state.folders.slice(0, id + 1).join(\"/\")\n            );\n            this.handleClose();\n        }\n    };\n\n    handleClose = () => {\n        this.setState({ anchorEl: null, anchorHidden: null, anchorSort: null });\n    };\n\n    showHiddenPath = (e) => {\n        this.setState({ anchorHidden: e.currentTarget });\n    };\n\n    performAction = (e) => {\n        this.handleClose();\n        if (e === \"refresh\") {\n            this.redresh();\n            return;\n        }\n        const presentPath = this.props.path.split(\"/\");\n        const newTarget = [\n            {\n                id: this.currentID,\n                type: \"dir\",\n                name: presentPath.pop(),\n                path: presentPath.length === 1 ? \"/\" : presentPath.join(\"/\"),\n            },\n        ];\n        //this.props.navitateUp();\n        switch (e) {\n            case \"share\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openShareDialog();\n                break;\n            case \"newfolder\":\n                this.props.openCreateFolderDialog();\n                break;\n            case \"compress\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openCompressDialog();\n                break;\n            case \"newFile\":\n                this.props.openCreateFileDialog();\n                break;\n            default:\n                break;\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const user = Auth.GetUser();\n\n        const presentFolderMenu = (\n            <Menu\n                id=\"presentFolderMenu\"\n                anchorEl={this.state.anchorEl}\n                open={Boolean(this.state.anchorEl)}\n                onClose={this.handleClose}\n                disableAutoFocusItem={true}\n            >\n                <MenuItem onClick={() => this.performAction(\"refresh\")}>\n                    <ListItemIcon>\n                        <RefreshIcon />\n                    </ListItemIcon>\n                    刷新\n                </MenuItem>\n                {this.props.keywords === \"\" && isHomePage && (\n                    <div>\n                        <Divider />\n                        <MenuItem onClick={() => this.performAction(\"share\")}>\n                            <ListItemIcon>\n                                <ShareIcon />\n                            </ListItemIcon>\n                            分享\n                        </MenuItem>\n                        {user.group.compress && (\n                            <MenuItem\n                                onClick={() => this.performAction(\"compress\")}\n                            >\n                                <ListItemIcon>\n                                    <Archive />\n                                </ListItemIcon>\n                                压缩\n                            </MenuItem>\n                        )}\n                        <Divider />\n                        <MenuItem\n                            onClick={() => this.performAction(\"newfolder\")}\n                        >\n                            <ListItemIcon>\n                                <NewFolderIcon />\n                            </ListItemIcon>\n                            创建文件夹\n                        </MenuItem>\n\n                        <MenuItem onClick={() => this.performAction(\"newFile\")}>\n                            <ListItemIcon>\n                                <FilePlus />\n                            </ListItemIcon>\n                            创建文件\n                        </MenuItem>\n                    </div>\n                )}\n            </Menu>\n        );\n\n        return (\n            <div\n                className={classNames(\n                    {\n                        [classes.roundBorder]: this.props.isShare,\n                    },\n                    classes.container\n                )}\n            >\n                <div className={classes.navigatorContainer}>\n                    <div className={classes.nav} ref={this.element}>\n                        <span>\n                            <PathButton\n                                folder=\"/\"\n                                path=\"/\"\n                                onClick={(e) => this.navigateTo(e, -1)}\n                            />\n                            <RightIcon className={classes.rightIcon} />\n                        </span>\n                        {this.state.hiddenMode && (\n                            <span>\n                                <PathButton\n                                    more\n                                    title=\"显示路径\"\n                                    onClick={this.showHiddenPath}\n                                />\n                                <Menu\n                                    id=\"hiddenPathMenu\"\n                                    anchorEl={this.state.anchorHidden}\n                                    open={Boolean(this.state.anchorHidden)}\n                                    onClose={this.handleClose}\n                                    disableAutoFocusItem={true}\n                                >\n                                    <DropDown\n                                        onClose={this.handleClose}\n                                        folders={this.state.folders.slice(\n                                            0,\n                                            -1\n                                        )}\n                                        navigateTo={this.navigateTo}\n                                    />\n                                </Menu>\n                                <RightIcon className={classes.rightIcon} />\n                                {/* <Button component=\"span\" onClick={(e)=>this.navigateTo(e,this.state.folders.length-1)}>\n                                    {this.state.folders.slice(-1)}  \n                                    <ExpandMore className={classes.expandMore}/>\n                                </Button> */}\n                                <PathButton\n                                    folder={this.state.folders.slice(-1)}\n                                    path={\n                                        \"/\" +\n                                        this.state.folders\n                                            .slice(0, -1)\n                                            .join(\"/\")\n                                    }\n                                    last={true}\n                                    onClick={(e) =>\n                                        this.navigateTo(\n                                            e,\n                                            this.state.folders.length - 1\n                                        )\n                                    }\n                                />\n                                {presentFolderMenu}\n                            </span>\n                        )}\n                        {!this.state.hiddenMode &&\n                            this.state.folders.map((folder, id, folders) => (\n                                <span key={id}>\n                                    {folder !== \"\" && (\n                                        <span>\n                                            <PathButton\n                                                folder={folder}\n                                                path={\n                                                    \"/\" +\n                                                    folders\n                                                        .slice(0, id)\n                                                        .join(\"/\")\n                                                }\n                                                last={id === folders.length - 1}\n                                                onClick={(e) =>\n                                                    this.navigateTo(e, id)\n                                                }\n                                            />\n                                            {id === folders.length - 1 &&\n                                                presentFolderMenu}\n                                            {id !== folders.length - 1 && (\n                                                <RightIcon\n                                                    className={\n                                                        classes.rightIcon\n                                                    }\n                                                />\n                                            )}\n                                        </span>\n                                    )}\n                                </span>\n                            ))}\n                    </div>\n                    <div className={classes.optionContainer}>\n                        <SubActions isSmall share={this.props.share} />\n                    </div>\n                </div>\n                <Divider />\n            </div>\n        );\n    }\n}\n\nNavigatorComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired,\n};\n\nconst Navigator = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(NavigatorComponent)));\n\nexport default Navigator;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport {\n    withStyles,\n    ButtonBase,\n    Typography,\n    Tooltip,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\nimport { Folder } from \"@material-ui/icons\";\n\nconst styles = (theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass SmallIconCompoment extends Component {\n    state = {};\n\n    render() {\n        const { classes } = this.props;\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <ButtonBase\n                focusRipple\n                className={classNames(\n                    {\n                        [classes.selected]: isSelected,\n                        [classes.notSelected]: !isSelected,\n                    },\n                    classes.button\n                )}\n            >\n                <div\n                    onClick={this.props.onIconClick}\n                    className={classNames(classes.icon, {\n                        [classes.iconSelected]: isSelected,\n                        [classes.iconNotSelected]: !isSelected,\n                    })}\n                >\n                    {(!isSelected || !isMobile) && (\n                        <>\n                            {this.props.isFolder && <Folder />}\n                            {!this.props.isFolder && (\n                                <TypeIcon fileName={this.props.file.name} />\n                            )}\n                        </>\n                    )}\n                    {isSelected && isMobile && (\n                        <Grow in={isSelected && isMobile}>\n                            <CheckCircleRoundedIcon\n                                className={classes.checkIcon}\n                            />\n                        </Grow>\n                    )}\n                </div>\n                <Tooltip\n                    title={this.props.file.name}\n                    aria-label={this.props.file.name}\n                >\n                    <Typography\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                        variant=\"body2\"\n                    >\n                        {this.props.file.name}\n                    </Typography>\n                </Tooltip>\n            </ButtonBase>\n        );\n    }\n}\n\nSmallIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst SmallIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(SmallIconCompoment));\n\nexport default SmallIcon;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport ContentLoader from \"react-content-loader\";\nimport { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    ButtonBase,\n    Typography,\n    Divider,\n    Tooltip,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport { withRouter } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\n\nconst styles = (theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        alignItems: \"initial\",\n        display: \"initial\",\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    preview: {\n        overflow: \"hidden\",\n        height: \"150px\",\n        width: \"100%\",\n        borderRadius: \"6px 6px 0 0\",\n        backgroundColor: theme.palette.background.default,\n    },\n    previewIcon: {\n        overflow: \"hidden\",\n        height: \"149px\",\n        width: \"100%\",\n        borderRadius: \"5px 5px 0 0\",\n        backgroundColor: theme.palette.background.paper,\n        paddingTop: \"50px\",\n    },\n    iconBig: {\n        fontSize: 50,\n    },\n    picPreview: {\n        objectFit: \"cover\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    fileInfo: {\n        height: \"50px\",\n        display: \"flex\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    hide: {\n        display: \"none\",\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\",\n        height: \"100%\",\n        width: \"100%\",\n    },\n    shareFix: {\n        marginLeft: \"20px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass FileIconCompoment extends Component {\n    static defaultProps = {\n        share: false,\n    };\n\n    state = {\n        loading: false,\n        showPicIcon: false,\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <div className={classes.container}>\n                <ButtonBase\n                    focusRipple\n                    className={classNames(\n                        {\n                            [classes.selected]: isSelected,\n                            [classes.notSelected]: !isSelected,\n                        },\n                        classes.button\n                    )}\n                >\n                    {this.props.file.pic !== \"\" &&\n                        !this.state.showPicIcon &&\n                        this.props.file.pic !== \" \" &&\n                        this.props.file.pic !== \"null,null\" && (\n                            <div className={classes.preview}>\n                                <LazyLoadImage\n                                    className={classNames({\n                                        [classes.hide]: this.state.loading,\n                                        [classes.picPreview]: !this.state\n                                            .loading,\n                                    })}\n                                    src={\n                                        baseURL +\n                                        (isSharePage\n                                            ? \"/share/thumb/\" +\n                                              window.shareInfo.key +\n                                              \"/\" +\n                                              this.props.file.id +\n                                              \"?path=\" +\n                                              encodeURIComponent(\n                                                  this.props.file.path\n                                              )\n                                            : \"/file/thumb/\" +\n                                              this.props.file.id)\n                                    }\n                                    afterLoad={() =>\n                                        this.setState({ loading: false })\n                                    }\n                                    beforeLoad={() =>\n                                        this.setState({ loading: true })\n                                    }\n                                    onError={() =>\n                                        this.setState({ showPicIcon: true })\n                                    }\n                                />\n                                <ContentLoader\n                                    height={150}\n                                    width={170}\n                                    className={classNames(\n                                        {\n                                            [classes.hide]: !this.state.loading,\n                                        },\n                                        classes.loadingAnimation\n                                    )}\n                                >\n                                    <rect\n                                        x=\"0\"\n                                        y=\"0\"\n                                        width=\"100%\"\n                                        height=\"150\"\n                                    />\n                                </ContentLoader>\n                            </div>\n                        )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && (\n                        <div className={classes.previewIcon}>\n                            <TypeIcon\n                                className={classes.iconBig}\n                                fileName={this.props.file.name}\n                            />\n                        </div>\n                    )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && <Divider />}\n                    <div className={classes.fileInfo}>\n                        {!this.props.share && (\n                            <div\n                                onClick={this.props.onIconClick}\n                                className={classNames(classes.icon, {\n                                    [classes.iconSelected]: isSelected,\n                                    [classes.iconNotSelected]: !isSelected,\n                                })}\n                            >\n                                {(!isSelected || !isMobile) && (\n                                    <TypeIcon fileName={this.props.file.name} />\n                                )}\n                                {isSelected && isMobile && (\n                                    <Grow in={isSelected && isMobile}>\n                                        <CheckCircleRoundedIcon\n                                            className={classes.checkIcon}\n                                        />\n                                    </Grow>\n                                )}\n                            </div>\n                        )}\n                        <Tooltip\n                            title={this.props.file.name}\n                            aria-label={this.props.file.name}\n                        >\n                            <Typography\n                                variant=\"body2\"\n                                className={classNames(classes.folderName, {\n                                    [classes.folderNameSelected]: isSelected,\n                                    [classes.folderNameNotSelected]: !isSelected,\n                                    [classes.shareFix]: this.props.share,\n                                })}\n                            >\n                                {this.props.file.name}\n                            </Typography>\n                        </Tooltip>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nFileIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst FileIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileIconCompoment)));\n\nexport default FileIcon;\n","import React from \"react\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport {\n    ButtonBase,\n    Typography,\n    Tooltip,\n    makeStyles,\n    fade,\n} from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport statusHelper from \"../../utils/page\";\nimport TypeIcon from \"./TypeIcon\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    active: {\n        boxShadow: \"0 0 0 2px \" + theme.palette.primary.light,\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default function Folder({ folder, isActive, onIconClick }) {\n    const selected = useSelector((state) => state.explorer.selected);\n    const classes = useStyles();\n    const isMobile = statusHelper.isMobile();\n    const isSelected =\n        selected.findIndex((value) => {\n            return value === folder;\n        }) !== -1;\n\n    return (\n        <ButtonBase\n            focusRipple\n            className={classNames(\n                {\n                    [classes.selected]: isSelected,\n                    [classes.notSelected]: !isSelected,\n                    [classes.active]: isActive,\n                },\n                classes.button\n            )}\n        >\n            <div\n                onClick={onIconClick}\n                className={classNames(classes.icon, {\n                    [classes.iconSelected]: isSelected,\n                    [classes.iconNotSelected]: !isSelected,\n                })}\n            >\n                {(!isSelected || !isMobile) && <FolderIcon />}\n                {isSelected && isMobile && (\n                    <CheckCircleRoundedIcon className={classes.checkIcon} />\n                )}\n            </div>\n            <Tooltip title={folder.name} aria-label={folder.name}>\n                <Typography\n                    variant=\"body2\"\n                    className={classNames(classes.folderName, {\n                        [classes.folderNameSelected]: isSelected,\n                        [classes.folderNameNotSelected]: !isSelected,\n                    })}\n                >\n                    {folder.name}\n                </Typography>\n            </Tooltip>\n        </ButtonBase>\n    );\n}\n","import React from \"react\";\nimport SmallIcon from \"../SmallIcon\";\nimport FileIcon from \"../FileIcon\";\nimport { useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Folder from \"../Folder\";\n\nconst useStyles = makeStyles(() => ({\n    dragging: {\n        width: \"200px\",\n    },\n    cardDragged: {\n        position: \"absolute\",\n        \"transform-origin\": \"bottom left\",\n    },\n}));\n\nconst diliverIcon = (object, viewMethod, classes) => {\n    if (object.type === \"dir\") {\n        return (\n            <div className={classes.dragging}>\n                <SmallIcon file={object} isFolder />\n            </div>\n        );\n    }\n    if (object.type === \"file\" && viewMethod === \"icon\") {\n        return (\n            <div className={classes.dragging}>\n                <FileIcon file={object} />\n            </div>\n        );\n    }\n    if (\n        (object.type === \"file\" && viewMethod === \"smallIcon\") ||\n        viewMethod === \"list\"\n    ) {\n        return (\n            <div className={classes.dragging}>\n                <SmallIcon file={object} />\n            </div>\n        );\n    }\n};\n\nconst Preview = (props) => {\n    const selected = useSelector((state) => state.explorer.selected);\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const classes = useStyles();\n    return (\n        <>\n            {selected.length === 0 &&\n                diliverIcon(props.object, viewMethod, classes)}\n            {selected.length > 0 && (\n                <>\n                    {selected.slice(0, 3).map((card, i) => (\n                        <div\n                            key={card.id}\n                            className={classes.cardDragged}\n                            style={{\n                                zIndex: selected.length - i,\n                                transform: `rotateZ(${-i * 2.5}deg)`,\n                            }}\n                        >\n                            {diliverIcon(card, viewMethod, classes)}\n                        </div>\n                    ))}\n                </>\n            )}\n        </>\n    );\n};\nexport default Preview;\n","import React from \"react\";\nimport { useDragLayer } from \"react-dnd\";\nimport Preview from \"./Preview\";\nimport { useSelector } from \"react-redux\";\nconst layerStyles = {\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\",\n};\n\nfunction getItemStyles(\n    initialOffset,\n    currentOffset,\n    pointerOffset,\n    viewMethod\n) {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: \"none\",\n        };\n    }\n    let { x, y } = currentOffset;\n    if (viewMethod === \"list\") {\n        x += pointerOffset.x - initialOffset.x;\n        y += pointerOffset.y - initialOffset.y;\n    }\n\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        opacity: 0.5,\n        transform,\n        WebkitTransform: transform,\n    };\n}\nconst CustomDragLayer = (props) => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        pointerOffset,\n    } = useDragLayer((monitor) => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        pointerOffset: monitor.getInitialClientOffset(),\n        isDragging: monitor.isDragging(),\n    }));\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    function renderItem() {\n        switch (itemType) {\n            case \"object\":\n                return <Preview object={item.object} />;\n            default:\n                return null;\n        }\n    }\n    if (!isDragging) {\n        return null;\n    }\n    return (\n        <div style={layerStyles}>\n            <div\n                style={getItemStyles(\n                    initialOffset,\n                    currentOffset,\n                    pointerOffset,\n                    viewMethod\n                )}\n            >\n                {renderItem()}\n            </div>\n        </div>\n    );\n};\nexport default CustomDragLayer;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport { sizeToString } from \"../../utils/index\";\nimport {\n    withStyles,\n    TableCell,\n    TableRow,\n    Typography,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\nimport KeyboardReturnIcon from \"@material-ui/icons/KeyboardReturn\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\n\nconst styles = (theme) => ({\n    selected: {\n        \"&:hover\": {},\n        backgroundColor: fade(theme.palette.primary.main, 0.18),\n    },\n\n    selectedShared: {\n        \"&:hover\": {},\n        backgroundColor: fade(theme.palette.primary.main, 0.18),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    icon: {\n        verticalAlign: \"middle\",\n        marginRight: \"20px\",\n        color: theme.palette.text.secondary,\n    },\n    tableIcon: {\n        marginRight: \"20px\",\n        verticalAlign: \"middle\",\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n        userSelect: \"none\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n        userSelect: \"none\",\n    },\n    folderName: {\n        marginRight: \"20px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    tableRow: {\n        padding: \"10px 16px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n    active: {\n        backgroundColor: fade(theme.palette.primary.main, 0.1),\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass TableRowCompoment extends Component {\n    state = {};\n\n    render() {\n        const { classes } = this.props;\n        const isShare = pathHelper.isSharePage(this.props.location.pathname);\n\n        let icon;\n        if (this.props.file.type === \"dir\") {\n            icon = <FolderIcon className={classes.icon} />;\n        } else if (this.props.file.type === \"up\") {\n            icon = <KeyboardReturnIcon className={classes.icon} />;\n        } else {\n            icon = (\n                <TypeIcon\n                    className={classes.tableIcon}\n                    fileName={this.props.file.name}\n                />\n            );\n        }\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <TableRow\n                ref={this.props.pref}\n                onContextMenu={this.props.contextMenu}\n                onClick={this.props.handleClick}\n                onDoubleClick={this.props.handleDoubleClick.bind(this)}\n                className={classNames({\n                    [classes.selected]: isSelected && !isShare,\n                    [classes.selectedShared]: isSelected && isShare,\n                    [classes.notSelected]: !isSelected,\n                    [classes.active]: this.props.isActive,\n                })}\n            >\n                <TableCell\n                    ref={this.props.dref}\n                    component=\"th\"\n                    scope=\"row\"\n                    className={classes.tableRow}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        <div\n                            onClick={\n                                this.props.file.type !== \"up\"\n                                    ? this.props.onIconClick\n                                    : null\n                            }\n                        >\n                            {(!isSelected || !isMobile) && icon}\n                            {isSelected && isMobile && (\n                                <Grow in={isSelected && isMobile}>\n                                    <CheckCircleRoundedIcon\n                                        className={classNames(\n                                            classes.checkIcon,\n                                            classes.icon\n                                        )}\n                                    />\n                                </Grow>\n                            )}\n                        </div>\n                        {this.props.file.name}\n                    </Typography>\n                </TableCell>\n                <TableCell\n                    className={classNames(classes.hideAuto, classes.tableRow)}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        {\" \"}\n                        {this.props.file.type !== \"dir\" &&\n                            this.props.file.type !== \"up\" &&\n                            sizeToString(this.props.file.size)}\n                    </Typography>\n                </TableCell>\n                <TableCell\n                    className={classNames(classes.hideAuto, classes.tableRow)}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        {\" \"}\n                        {this.props.file.date}\n                    </Typography>\n                </TableCell>\n            </TableRow>\n        );\n    }\n}\n\nTableRowCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst TableItem = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(TableRowCompoment)));\n\nexport default TableItem;\n","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport Folder from \"../Folder\";\nimport classNames from \"classnames\";\nimport TableItem from \"../TableRow\";\nexport default function FolderDropWarpper({\n    isListView,\n    folder,\n    onIconClick,\n    contextMenu,\n    handleClick,\n    handleDoubleClick,\n    className,\n    pref,\n}) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => ({ folder }),\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n    const isActive = canDrop && isOver;\n    if (!isListView) {\n        return (\n            <div ref={drop}>\n                <Folder\n                    folder={folder}\n                    onIconClick={onIconClick}\n                    isActive={isActive}\n                />\n            </div>\n        );\n    }\n    return (\n        <TableItem\n            pref={pref}\n            dref={drop}\n            className={className}\n            onIconClick={onIconClick}\n            contextMenu={contextMenu}\n            handleClick={handleClick}\n            handleDoubleClick={handleDoubleClick}\n            file={folder}\n            isActive={isActive}\n        />\n    );\n}\n","import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setSelectedTarget,\n    selectFile as selectFileAction,\n    navigateTo,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    dragAndDrop,\n    openLoadingDialog,\n} from \"../../actions/index\";\nimport statusHelper from \"../../utils/page\";\nimport FileIcon from \"./FileIcon\";\nimport SmallIcon from \"./SmallIcon\";\nimport TableItem from \"./TableRow\";\nimport classNames from \"classnames\";\nimport { isPreviewable } from \"../../config\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport DropWarpper from \"./DnD/DropWarpper\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { pathBack } from \"../../utils\";\nimport { openPreview } from \"../../actions\";\n\nconst useStyles = makeStyles(() => ({\n    container: {\n        padding: \"7px\",\n    },\n    fixFlex: {\n        minWidth: 0,\n    },\n    dragging: {\n        opacity: 0.4,\n    },\n}));\n\nexport default function ObjectIcon(props) {\n    const path = useSelector((state) => state.navigator.path);\n    const selected = useSelector((state) => state.explorer.selected);\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const navigatorPath = useSelector((state) => state.navigator.path);\n    const location = useLocation();\n\n    const dispatch = useDispatch();\n    const ContextMenu = useCallback(\n        (type, open) => dispatch(changeContextMenu(type, open)),\n        [dispatch]\n    );\n    const SetSelectedTarget = useCallback(\n        (targets) => dispatch(setSelectedTarget(targets)),\n        [dispatch]\n    );\n\n    const NavitateTo = useCallback((targets) => dispatch(navigateTo(targets)), [\n        dispatch,\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const DragAndDrop = useCallback(\n        (source, target) => dispatch(dragAndDrop(source, target)),\n        [dispatch]\n    );\n    const OpenLoadingDialog = useCallback(\n        (text) => dispatch(openLoadingDialog(text)),\n        [dispatch]\n    );\n    const OpenPreview = useCallback(() => dispatch(openPreview()), [dispatch]);\n\n    const classes = useStyles();\n\n    const contextMenu = (e) => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        e.preventDefault();\n        if (\n            selected.findIndex((value) => {\n                return value === props.file;\n            }) === -1\n        ) {\n            SetSelectedTarget([props.file]);\n        }\n        ContextMenu(\"file\", true);\n    };\n\n    const selectFile = (e) => {\n        dispatch(selectFileAction(props.file, e, props.index));\n    };\n    const enterFolder = () => {\n        NavitateTo(\n            path === \"/\" ? path + props.file.name : path + \"/\" + props.file.name\n        );\n    };\n    const handleClick = (e) => {\n        if (props.file.type === \"up\") {\n            NavitateTo(pathBack(navigatorPath));\n        }\n        if (\n            statusHelper.isMobile() ||\n            statusHelper.isSharePage(location.pathname)\n        ) {\n            selectFile(e);\n            if (props.file.type === \"dir\" && !e.ctrlKey) {\n                enterFolder();\n                return;\n            }\n        } else {\n            selectFile(e);\n        }\n    };\n\n    const handleDoubleClick = () => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        if (props.file.type === \"dir\") {\n            enterFolder();\n            return;\n        }\n        const isShare = statusHelper.isSharePage(location.pathname);\n        if (isShare) {\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                ToggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\");\n                return;\n            }\n        }\n        if (window.shareInfo && !window.shareInfo.preview) {\n            OpenLoadingDialog(\"获取下载地址...\");\n            return;\n        }\n\n        OpenPreview();\n    };\n\n    const handleIconClick = (e) => {\n        if (statusHelper.isMobile()) {\n            e.stopPropagation();\n            e.ctrlKey = true;\n            selectFile(e);\n            return false;\n        }\n    };\n\n    const [{ isDragging }, drag, preview] = useDrag({\n        item: {\n            object: props.file,\n            type: \"object\",\n            selected: [...selected],\n            viewMethod: viewMethod,\n        },\n        end: (item, monitor) => {\n            const dropResult = monitor.getDropResult();\n            if (item && dropResult) {\n                if (dropResult.folder) {\n                    if (\n                        item.object.id !== dropResult.folder.id ||\n                        item.object.type !== dropResult.folder.type\n                    ) {\n                        DragAndDrop(item.object, dropResult.folder);\n                    }\n                }\n            }\n        },\n        canDrag: () => {\n            return (\n                !statusHelper.isMobile() &&\n                statusHelper.isHomePage(location.pathname)\n            );\n        },\n        collect: (monitor) => ({\n            isDragging: monitor.isDragging(),\n        }),\n    });\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line\n    }, []);\n\n    if (viewMethod === \"list\") {\n        return (\n            <>\n                {props.file.type === \"dir\" && (\n                    <DropWarpper\n                        isListView={true}\n                        pref={drag}\n                        className={classNames(classes.container, {\n                            [classes.dragging]: isDragging,\n                        })}\n                        onIconClick={handleIconClick}\n                        contextMenu={contextMenu}\n                        handleClick={handleClick}\n                        handleDoubleClick={handleDoubleClick.bind(this)}\n                        folder={props.file}\n                    />\n                )}\n                {props.file.type !== \"dir\" && (\n                    <TableItem\n                        pref={drag}\n                        className={classNames(classes.container, {\n                            [classes.dragging]: isDragging,\n                        })}\n                        onIconClick={handleIconClick}\n                        contextMenu={contextMenu}\n                        handleClick={handleClick}\n                        handleDoubleClick={handleDoubleClick.bind(this)}\n                        file={props.file}\n                    />\n                )}\n            </>\n        );\n    }\n\n    return (\n        <div\n            ref={drag}\n            className={classNames({\n                [classes.container]: viewMethod !== \"list\",\n                [classes.dragging]: isDragging,\n            })}\n        >\n            <div\n                className={classes.fixFlex}\n                onContextMenu={contextMenu}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick.bind(this)}\n            >\n                {props.file.type === \"dir\" && viewMethod !== \"list\" && (\n                    <DropWarpper\n                        isListView={false}\n                        onIconClick={handleIconClick}\n                        folder={props.file}\n                    />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"icon\" && (\n                    <FileIcon\n                        onIconClick={handleIconClick}\n                        ref={drag}\n                        file={props.file}\n                    />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"smallIcon\" && (\n                    <SmallIcon\n                        onIconClick={handleIconClick}\n                        file={props.file}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setNavigatorLoadingStatus,\n    navigateTo,\n    openCreateFolderDialog,\n    openRenameDialog,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    openRemoteDownloadDialog,\n    openTorrentDownloadDialog,\n    openGetSourceDialog,\n    openCopyDialog,\n    openLoadingDialog,\n    setSelectedTarget,\n    openDecompressDialog,\n    refreshFileList,\n    openCompressDialog,\n    openCreateFileDialog,\n    openRelocateDialog,\n} from \"../../actions/index\";\nimport { isCompressFile, isPreviewable, isTorrent } from \"../../config\";\nimport { allowSharePreview } from \"../../utils/index\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport LinkIcon from \"@material-ui/icons/InsertLink\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport { FilePlus, MagnetOn, Transfer } from \"mdi-material-ui\";\nimport {\n    withStyles,\n    Typography,\n    MenuItem,\n    Divider,\n    ListItemIcon,\n} from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { Archive, InfoOutlined, Unarchive } from \"@material-ui/icons\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { FolderUpload } from \"mdi-material-ui\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { openPreview } from \"../../actions\";\nimport {\n    setSideBar,\n    toggleObjectInfoSidebar,\n} from \"../../redux/explorer/action\";\n\nconst styles = () => ({\n    propover: {},\n    divider: {\n        marginTop: 4,\n        marginBottom: 4,\n    },\n});\n\nconst StyledListItemIcon = withStyles({\n    root: {\n        minWidth: 38,\n    },\n})(ListItemIcon);\n\nconst mapStateToProps = (state) => {\n    return {\n        menuType: state.viewUpdate.contextType,\n        menuOpen: state.viewUpdate.contextOpen,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        setNavigatorLoadingStatus: (status) => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRemoteDownloadDialog: () => {\n            dispatch(openRemoteDownloadDialog());\n        },\n        openTorrentDownloadDialog: () => {\n            dispatch(openTorrentDownloadDialog());\n        },\n        openGetSourceDialog: () => {\n            dispatch(openGetSourceDialog());\n        },\n        openCopyDialog: () => {\n            dispatch(openCopyDialog());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n        openDecompressDialog: () => {\n            dispatch(openDecompressDialog());\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        openRelocateDialog: () => {\n            dispatch(openRelocateDialog());\n        },\n        openPreview: () => {\n            dispatch(openPreview());\n        },\n        toggleObjectInfoSidebar: (open) => {\n            dispatch(toggleObjectInfoSidebar(open));\n        },\n    };\n};\n\nclass ContextMenuCompoment extends Component {\n    X = 0;\n    Y = 0;\n\n    state = {};\n\n    componentDidMount = () => {\n        window.document.addEventListener(\"mousemove\", this.setPoint);\n    };\n\n    setPoint = (e) => {\n        this.Y = e.clientY;\n        this.X = e.clientX;\n    };\n\n    openArchiveDownload = () => {\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            this.props.changeContextMenu(\"file\", false);\n            return;\n        }\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    enterFolder = () => {\n        this.props.navigateTo(\n            this.props.path === \"/\"\n                ? this.props.path + this.props.selected[0].name\n                : this.props.path + \"/\" + this.props.selected[0].name\n        );\n    };\n\n    clickUpload = (id) => {\n        this.props.changeContextMenu(\"empty\", false);\n        const uploadButton = document.getElementsByClassName(id)[0];\n        if (document.body.contains(uploadButton)) {\n            uploadButton.click();\n        } else {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"上传组件还未加载完成\",\n                \"warning\"\n            );\n        }\n    };\n\n    // 暂时只对空白处右键菜单使用这个函数，疑似有bug会导致的一个菜单被默认选中。\n    // 相关issue： https://github.com/mui-org/material-ui/issues/23747\n    renderMenuItems = (items) => {\n        const res = [];\n        let key = 0;\n\n        [\"top\", \"center\", \"bottom\"].forEach((position) => {\n            let visibleCount = 0;\n            items[position].forEach((item) => {\n                if (item.condition) {\n                    res.push(\n                        <MenuItem dense key={key} onClick={item.onClick}>\n                            <ListItemIcon>{item.icon}</ListItemIcon>\n                            <Typography variant=\"inherit\">\n                                {item.text}\n                            </Typography>\n                        </MenuItem>\n                    );\n                    key++;\n                    visibleCount++;\n                }\n            });\n            if (visibleCount > 0 && position != \"bottom\") {\n                res.push(\n                    <Divider key={key} className={this.props.classes.divider} />\n                );\n                key++;\n            }\n        });\n\n        return res;\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const emptyMenuList = {\n            top: [\n                {\n                    condition: true,\n                    onClick: () => {\n                        this.props.refreshFileList();\n                        this.props.changeContextMenu(\n                            this.props.menuType,\n                            false\n                        );\n                    },\n                    icon: <RefreshIcon />,\n                    text: \"刷新\",\n                },\n            ],\n            center: [\n                {\n                    condition: true,\n                    onClick: () => this.clickUpload(\"uploadFileForm\"),\n                    icon: <UploadIcon />,\n                    text: \"上传文件\",\n                },\n                {\n                    condition: true,\n                    onClick: () => this.clickUpload(\"uploadFolderForm\"),\n                    icon: <FolderUpload />,\n                    text: \"上传目录\",\n                },\n                {\n                    condition: user.group.allowRemoteDownload,\n                    onClick: () => this.props.openRemoteDownloadDialog(),\n                    icon: <DownloadIcon />,\n                    text: \"离线下载\",\n                },\n            ],\n            bottom: [\n                {\n                    condition: true,\n                    onClick: () => this.props.openCreateFolderDialog(),\n                    icon: <NewFolderIcon />,\n                    text: \"创建文件夹\",\n                },\n                {\n                    condition: true,\n                    onClick: () => this.props.openCreateFileDialog(),\n                    icon: <FilePlus />,\n                    text: \"创建文件\",\n                },\n            ],\n        };\n\n        return (\n            <div>\n                <Menu\n                    keepMounted\n                    open={this.props.menuOpen}\n                    onClose={() =>\n                        this.props.changeContextMenu(this.props.menuType, false)\n                    }\n                    anchorReference=\"anchorPosition\"\n                    anchorPosition={{ top: this.Y, left: this.X }}\n                    anchorOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                    }}\n                >\n                    {this.props.menuType === \"empty\" && (\n                        <div>\n                            <MenuItem\n                                dense\n                                onClick={() => {\n                                    this.props.refreshFileList();\n                                    this.props.changeContextMenu(\n                                        this.props.menuType,\n                                        false\n                                    );\n                                }}\n                            >\n                                <StyledListItemIcon>\n                                    <RefreshIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">刷新</Typography>\n                            </MenuItem>\n                            <Divider className={classes.divider} />\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.clickUpload(\"uploadFileForm\")\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <UploadIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传文件\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.clickUpload(\"uploadFolderForm\")\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <FolderUpload />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传目录\n                                </Typography>\n                            </MenuItem>\n                            {user.group.allowRemoteDownload && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openRemoteDownloadDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <DownloadIcon />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        离线下载\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            <Divider className={classes.divider} />\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.props.openCreateFolderDialog()\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <NewFolderIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件夹\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.props.openCreateFileDialog()\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <FilePlus />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件\n                                </Typography>\n                            </MenuItem>\n                        </div>\n                    )}\n                    {this.props.menuType !== \"empty\" && (\n                        <div>\n                            {!this.props.isMultiple && this.props.withFolder && (\n                                <div>\n                                    <MenuItem dense onClick={this.enterFolder}>\n                                        <StyledListItemIcon>\n                                            <OpenFolderIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            进入\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && (\n                                        <Divider className={classes.divider} />\n                                    )}\n                                </div>\n                            )}\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                (!this.props.share ||\n                                    this.props.share.preview) &&\n                                isPreviewable(this.props.selected[0].name) && (\n                                    <div>\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openPreview()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <OpenIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                打开\n                                            </Typography>\n                                        </MenuItem>\n                                    </div>\n                                )}\n\n                            {!this.props.isMultiple && this.props.withFile && (\n                                <div>\n                                    <MenuItem\n                                        dense\n                                        onClick={() => this.openDownload()}\n                                    >\n                                        <StyledListItemIcon>\n                                            <DownloadIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            下载\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && (\n                                        <Divider className={classes.divider} />\n                                    )}\n                                </div>\n                            )}\n\n                            {(this.props.isMultiple || this.props.withFolder) &&\n                                (user.group.allowArchiveDownload ||\n                                    !isHomePage) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.openArchiveDownload()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <DownloadIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            打包下载\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                isHomePage && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openGetSourceDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <LinkIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            获取外链\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.allowRemoteDownload &&\n                                this.props.withFile &&\n                                isTorrent(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openTorrentDownloadDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <MagnetOn />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            创建离线下载任务\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.compress &&\n                                this.props.withFile &&\n                                isCompressFile(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openDecompressDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <Unarchive />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            解压缩\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {isHomePage && user.group.compress && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openCompressDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <Archive />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建压缩文件\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {isHomePage && user.group.relocate && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openRelocateDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <Transfer />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        转移存储策略\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <MenuItem\n                                    dense\n                                    onClick={() => this.props.openShareDialog()}\n                                >\n                                    <StyledListItemIcon>\n                                        <ShareIcon />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建分享链接\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.toggleObjectInfoSidebar(true)\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <InfoOutlined />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        详细信息\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <Divider className={classes.divider} />\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <div>\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openRenameDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <RenameIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            重命名\n                                        </Typography>\n                                    </MenuItem>\n                                    {this.props.keywords === \"\" && (\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openCopyDialog()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <FileCopyIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                复制\n                                            </Typography>\n                                        </MenuItem>\n                                    )}\n                                </div>\n                            )}\n                            {isHomePage && (\n                                <div>\n                                    {this.props.keywords === \"\" && (\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openMoveDialog()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <MoveIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                移动\n                                            </Typography>\n                                        </MenuItem>\n                                    )}\n\n                                    <Divider className={classes.divider} />\n                                    <MenuItem\n                                        dense\n                                        className={classes.propover}\n                                        onClick={() =>\n                                            this.props.openRemoveDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <DeleteIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            删除\n                                        </Typography>\n                                    </MenuItem>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </Menu>\n            </div>\n        );\n    }\n}\n\nContextMenuCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    menuType: PropTypes.string.isRequired,\n};\n\nconst ContextMenu = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ContextMenuCompoment)));\n\nexport default ContextMenu;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    navigateTo,\n    changeContextMenu,\n    navigateUp,\n    setSelectedTarget,\n    openRemoveDialog,\n} from \"../../actions/index\";\nimport explorer from \"../../redux/explorer\";\nimport ObjectIcon from \"./ObjectIcon\";\nimport ContextMenu from \"./ContextMenu\";\nimport EmptyIcon from \"@material-ui/icons/Unarchive\";\nimport SadIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport classNames from \"classnames\";\nimport ImgPreivew from \"./ImgPreview\";\nimport pathHelper from \"../../utils/page\";\nimport { isMac } from \"../../utils\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    withStyles,\n    Typography,\n    Grid,\n    CircularProgress,\n    Paper,\n} from \"@material-ui/core\";\nimport { GlobalHotKeys, configure } from \"react-hotkeys\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\n\nconst styles = (theme) => ({\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: \"center\",\n        color: theme.palette.text.secondary,\n        margin: \"10px\",\n    },\n    root: {\n        flexGrow: 1,\n        padding: \"10px\",\n        overflowY: \"auto\",\n        height: \"calc(100vh - 113px)\",\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\",\n        },\n    },\n    rootTable: {\n        padding: \"0px\",\n        backgroundColor: theme.palette.background.paper.white,\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\",\n        },\n    },\n    typeHeader: {\n        margin: \"10px 25px\",\n        color: \"#6b6b6b\",\n        fontWeight: \"500\",\n    },\n    loading: {\n        justifyContent: \"center\",\n        display: \"flex\",\n        marginTop: \"40px\",\n    },\n    errorBox: {\n        padding: theme.spacing(4),\n    },\n    errorMsg: {\n        marginTop: \"10px\",\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: theme.palette.text.disabled,\n        textAlign: \"center\",\n        paddingTop: \"20px\",\n    },\n    emptyIcon: {\n        fontSize: \"160px\",\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: theme.palette.text.disabled,\n    },\n    emptyInfoSmall: {\n        color: theme.palette.text.hint,\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    flexFix: {\n        minWidth: 0,\n    },\n    upButton: {\n        marginLeft: \"20px\",\n        marginTop: \"10px\",\n        marginBottom: \"10px\",\n    },\n    clickAway: {\n        height: \"100%\",\n        width: \"100%\",\n    },\n    rootShare: {\n        height: \"100%\",\n        minHeight: 500,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        sortMethod: state.viewUpdate.sortMethod,\n        fileList: state.explorer.fileList,\n        dirList: state.explorer.dirList,\n        loading: state.viewUpdate.navigatorLoading,\n        navigatorError: state.viewUpdate.navigatorError,\n        navigatorErrorMsg: state.viewUpdate.navigatorErrorMsg,\n        keywords: state.explorer.keywords,\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        navigateToPath: (path) => {\n            dispatch(navigateTo(path));\n        },\n\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        changeSort: (method) => {\n            dispatch(explorer.actions.changeSortMethod(method));\n        },\n    };\n};\n\nclass ExplorerCompoment extends Component {\n    constructor() {\n        super();\n        this.keyMap = {\n            DELETE_FILE: \"del\",\n            SELECT_ALL: `${isMac() ? \"command\" : \"ctrl\"}+a`,\n        };\n\n        this.handlers = {\n            DELETE_FILE: () => {\n                if (this.props.selected.length > 0 && !this.props.share) {\n                    this.props.openRemoveDialog();\n                }\n            },\n            SELECT_ALL: (e) => {\n                e.preventDefault();\n                if (\n                    this.props.selected.length >=\n                    this.props.dirList.length + this.props.fileList.length\n                ) {\n                    this.props.setSelectedTarget([]);\n                } else {\n                    this.props.setSelectedTarget([\n                        ...this.props.dirList,\n                        ...this.props.fileList,\n                    ]);\n                }\n            },\n        };\n\n        configure({\n            ignoreTags: [\"input\", \"select\", \"textarea\"],\n        });\n    }\n\n    contextMenu = (e) => {\n        e.preventDefault();\n        if (\n            this.props.keywords === \"\" &&\n            !pathHelper.isSharePage(this.props.location.pathname)\n        ) {\n            if (!this.props.loading) {\n                this.props.changeContextMenu(\"empty\", true);\n            }\n        }\n    };\n\n    componentDidUpdate() {\n        this.away = 0;\n    }\n\n    ClickAway = (e) => {\n        const element = e.target;\n        if (element.dataset.clickaway) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        const showView =\n            !this.props.loading &&\n            (this.props.dirList.length !== 0 ||\n                this.props.fileList.length !== 0);\n        const listView = (\n            <Table className={classes.table}>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"namePos\" ||\n                                    this.props.sortMethod === \"nameRev\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"namePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"namePos\"\n                                            ? \"nameRev\"\n                                            : \"namePos\"\n                                    );\n                                }}\n                            >\n                                名称\n                                {this.props.sortMethod === \"namePos\" ||\n                                this.props.sortMethod === \"nameRev\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"nameRev\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                        <TableCell className={classes.hideAuto}>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"sizePos\" ||\n                                    this.props.sortMethod === \"sizeRes\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"sizePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"sizePos\"\n                                            ? \"sizeRes\"\n                                            : \"sizePos\"\n                                    );\n                                }}\n                            >\n                                大小\n                                {this.props.sortMethod === \"sizePos\" ||\n                                this.props.sortMethod === \"sizeRes\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"sizeRes\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                        <TableCell className={classes.hideAuto}>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"timePos\" ||\n                                    this.props.sortMethod === \"timeRev\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"timePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"timePos\"\n                                            ? \"timeRev\"\n                                            : \"timePos\"\n                                    );\n                                }}\n                            >\n                                日期\n                                {this.props.sortMethod === \"timePos\" ||\n                                this.props.sortMethod === \"timeRev\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"sizeRes\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {pathHelper.isMobile() && this.props.path !== \"/\" && (\n                        <ObjectIcon\n                            file={{\n                                type: \"up\",\n                                name: \"上级目录\",\n                            }}\n                        />\n                    )}\n                    {this.props.dirList.map((value, index) => (\n                        <ObjectIcon key={value.id} file={value} index={index} />\n                    ))}\n                    {this.props.fileList.map((value, index) => (\n                        <ObjectIcon key={value.id} file={value} index={index} />\n                    ))}\n                </TableBody>\n            </Table>\n        );\n\n        const normalView = (\n            <div className={classes.flexFix}>\n                {this.props.dirList.length !== 0 && (\n                    <>\n                        <Typography\n                            data-clickAway={\"true\"}\n                            variant=\"body2\"\n                            className={classes.typeHeader}\n                        >\n                            文件夹\n                        </Typography>\n                        <Grid\n                            data-clickAway={\"true\"}\n                            container\n                            spacing={0}\n                            alignItems=\"flex-start\"\n                        >\n                            {this.props.dirList.map((value, index) => (\n                                <Grid\n                                    key={value.id}\n                                    item\n                                    xs={6}\n                                    md={3}\n                                    sm={4}\n                                    lg={2}\n                                >\n                                    <ObjectIcon\n                                        key={value.id}\n                                        file={value}\n                                        index={index}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </>\n                )}\n                {this.props.fileList.length !== 0 && (\n                    <>\n                        <Typography\n                            data-clickAway={\"true\"}\n                            variant=\"body2\"\n                            className={classes.typeHeader}\n                        >\n                            文件\n                        </Typography>\n                        <Grid\n                            data-clickAway={\"true\"}\n                            container\n                            spacing={0}\n                            alignItems=\"flex-start\"\n                        >\n                            {this.props.fileList.map((value, index) => (\n                                <Grid\n                                    key={value.id}\n                                    item\n                                    xs={6}\n                                    md={3}\n                                    sm={4}\n                                    lg={2}\n                                >\n                                    <ObjectIcon\n                                        key={value.id}\n                                        index={index}\n                                        file={value}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </>\n                )}\n            </div>\n        );\n        const view = this.props.viewMethod === \"list\" ? listView : normalView;\n        return (\n            <div\n                onContextMenu={this.contextMenu}\n                onClick={this.ClickAway}\n                className={classNames(\n                    {\n                        [classes.root]: this.props.viewMethod !== \"list\",\n                        [classes.rootTable]: this.props.viewMethod === \"list\",\n                        [classes.rootShare]: this.props.share,\n                    },\n                    classes.button\n                )}\n            >\n                <GlobalHotKeys handlers={this.handlers} keyMap={this.keyMap} />\n                <ContextMenu share={this.props.share} />\n                <ImgPreivew />\n                {this.props.navigatorError && (\n                    <Paper elevation={1} className={classes.errorBox}>\n                        <Typography variant=\"h5\" component=\"h3\">\n                            :( 请求时出现错误\n                        </Typography>\n                        <Typography\n                            color={\"textSecondary\"}\n                            className={classes.errorMsg}\n                        >\n                            {this.props.navigatorErrorMsg.message}\n                        </Typography>\n                    </Paper>\n                )}\n\n                {this.props.loading && !this.props.navigatorError && (\n                    <div className={classes.loading}>\n                        <CircularProgress />\n                    </div>\n                )}\n\n                {this.props.keywords === \"\" &&\n                    isHomePage &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError && (\n                        <div className={classes.emptyContainer}>\n                            <EmptyIcon className={classes.emptyIcon} />\n                            <div className={classes.emptyInfoBig}>\n                                拖拽文件至此\n                            </div>\n                            <div className={classes.emptyInfoSmall}>\n                                或点击右下方“上传文件”按钮添加文件\n                            </div>\n                        </div>\n                    )}\n                {((this.props.keywords !== \"\" &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError) ||\n                    (this.props.dirList.length === 0 &&\n                        this.props.fileList.length === 0 &&\n                        !this.props.loading &&\n                        !this.props.navigatorError &&\n                        !isHomePage)) && (\n                    <div className={classes.emptyContainer}>\n                        <SadIcon className={classes.emptyIcon} />\n                        <div className={classes.emptyInfoBig}>\n                            什么都没有找到\n                        </div>\n                    </div>\n                )}\n                {showView && view}\n            </div>\n        );\n    }\n}\n\nExplorerCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired,\n};\n\nconst Explorer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ExplorerCompoment)));\n\nexport default Explorer;\n","import React from \"react\";\nimport { BulletList } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"100%\",\n        // padding: 40,\n        // [theme.breakpoints.down(\"md\")]: {\n        //     width: \"100%\",\n        //     padding: 10\n        // }\n    },\n}));\n\nconst MyLoader = (props) => (\n    <BulletList\n        backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n        foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n        className={props.className}\n    />\n);\n\nfunction ListLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div>\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default ListLoading;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { Clear, Folder } from \"@material-ui/icons\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { setSideBar } from \"../../../redux/explorer/action\";\nimport TypeIcon from \"../TypeIcon\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport API from \"../../../middleware/Api\";\nimport { navigateTo, toggleSnackbar } from \"../../../actions\";\nimport { filename, sizeToString } from \"../../../utils\";\nimport Link from \"@material-ui/core/Link\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport TimeAgo from \"timeago-react\";\nimport moment from \"moment\";\nimport ListLoading from \"../../Placeholder/ListLoading\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\n\nconst drawerWidth = 350;\n\nconst useStyles = makeStyles((theme) => ({\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n        boxShadow:\n            \"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)\",\n    },\n    drawerContainer: {\n        overflow: \"auto\",\n    },\n    header: {\n        display: \"flex\",\n        padding: theme.spacing(3),\n        placeContent: \"space-between\",\n    },\n    fileIcon: { width: 33, height: 33 },\n    fileIconSVG: { fontSize: 20 },\n    folderIcon: {\n        color: theme.palette.text.secondary,\n        width: 33,\n        height: 33,\n    },\n    fileName: {\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        wordBreak: \"break-all\",\n        flexGrow: 2,\n    },\n    closeIcon: {\n        placeSelf: \"flex-start\",\n        marginTop: 2,\n    },\n    propsContainer: {\n        padding: theme.spacing(3),\n    },\n    propsLabel: {\n        color: theme.palette.text.secondary,\n        padding: theme.spacing(1),\n    },\n    propsTime: {\n        color: theme.palette.text.disabled,\n        padding: theme.spacing(1),\n    },\n    propsValue: {\n        padding: theme.spacing(1),\n        wordBreak: \"break-all\",\n    },\n    appBar: {\n        position: \"relative\",\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SideDrawer() {\n    const dispatch = useDispatch();\n    const sideBarOpen = useSelector((state) => state.explorer.sideBarOpen);\n    const selected = useSelector((state) => state.explorer.selected);\n    const SetSideBar = useCallback((open) => dispatch(setSideBar(open)), [\n        dispatch,\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const NavigateTo = useCallback((k) => dispatch(navigateTo(k)), [dispatch]);\n    const keywords = useSelector((state) => state.explorer.keywords);\n    const [target, setTarget] = useState(null);\n    const [details, setDetails] = useState(null);\n    const loadProps = (object) => {\n        API.get(\n            \"/object/property/\" +\n                object.id +\n                \"?trace_root=\" +\n                (keywords !== \"\" ? \"true\" : \"false\") +\n                \"&is_folder=\" +\n                (object.type === \"dir\").toString()\n        )\n            .then((response) => {\n                setDetails(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        setDetails(null);\n        if (sideBarOpen) {\n            if (selected.length !== 1) {\n                SetSideBar(false);\n            } else {\n                setTarget(selected[0]);\n                loadProps(selected[0]);\n            }\n        }\n    }, [selected, sideBarOpen]);\n\n    const classes = useStyles();\n    const propsItem = [\n        {\n            label: \"大小\",\n            value: (d, t) =>\n                sizeToString(d.size) +\n                \"  (\" +\n                d.size.toLocaleString() +\n                \" 字节)\",\n            show: (d) => true,\n        },\n        {\n            label: \"存储策略\",\n            value: (d, t) => d.policy,\n            show: (d) => d.type === \"file\",\n        },\n        {\n            label: \"包含目录\",\n            value: (d, t) => d.child_folder_num.toLocaleString() + \" \" + \"个\",\n            show: (d) => d.type === \"dir\",\n        },\n        {\n            label: \"包含文件\",\n            value: (d, t) => d.child_file_num.toLocaleString() + \" \" + \"个\",\n            show: (d) => d.type === \"dir\",\n        },\n        {\n            label: \"所在目录\",\n            // eslint-disable-next-line react/display-name\n            value: (d, t) => {\n                const path = d.path === \"\" ? t.path : d.path;\n                const name = filename(path);\n                return (\n                    <Tooltip title={path}>\n                        <Link\n                            href={\"javascript:void\"}\n                            onClick={() => NavigateTo(path)}\n                        >\n                            {name === \"\" ? \"根目录\" : name}\n                        </Link>\n                    </Tooltip>\n                );\n            },\n            show: (d) => true,\n        },\n        {\n            label: \"修改于\",\n            value: (d, t) =>\n                moment.parseZone(d.updated_at).format(\"YYYY/MM/DD  H:mm:ss\"),\n            show: (d) => true,\n        },\n        {\n            label: \"创建于\",\n            value: (d) =>\n                moment.parseZone(d.created_at).format(\"YYYY/MM/DD  H:mm:ss\"),\n            show: (d) => true,\n        },\n    ];\n    const content = (\n        <Grid container className={classes.propsContainer}>\n            {!details && <ListLoading />}\n            {details && (\n                <>\n                    {propsItem.map((item) => {\n                        if (item.show(target)) {\n                            return (\n                                <>\n                                    <Grid\n                                        item\n                                        xs={5}\n                                        className={classes.propsLabel}\n                                    >\n                                        {item.label}\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        xs={7}\n                                        className={classes.propsValue}\n                                    >\n                                        {item.value(details, target)}\n                                    </Grid>\n                                </>\n                            );\n                        }\n                    })}\n                    {target.type === \"dir\" && (\n                        <Grid item xs={12} className={classes.propsTime}>\n                            统计于{\" \"}\n                            <TimeAgo\n                                datetime={details.query_date}\n                                locale=\"zh_CN\"\n                            />\n                        </Grid>\n                    )}\n                </>\n            )}\n        </Grid>\n    );\n    return (\n        <>\n            <Hidden smUp>\n                <Dialog\n                    fullScreen\n                    open={sideBarOpen}\n                    TransitionComponent={Transition}\n                >\n                    {target && (\n                        <>\n                            <AppBar className={classes.appBar}>\n                                <Toolbar>\n                                    <IconButton\n                                        edge=\"start\"\n                                        color=\"inherit\"\n                                        onClick={() => SetSideBar(false)}\n                                        aria-label=\"close\"\n                                    >\n                                        <Clear />\n                                    </IconButton>\n                                    <Typography\n                                        variant=\"h6\"\n                                        className={classes.title}\n                                    >\n                                        {target.name}\n                                    </Typography>\n                                </Toolbar>\n                            </AppBar>\n                            {content}\n                        </>\n                    )}\n                </Dialog>\n            </Hidden>\n            <Hidden xsDown>\n                <Drawer\n                    className={classes.drawer}\n                    variant=\"persistent\"\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                    open={sideBarOpen}\n                    anchor=\"right\"\n                >\n                    <Toolbar />\n                    <div className={classes.drawerContainer}>\n                        {target && (\n                            <>\n                                <div className={classes.header}>\n                                    {target.type === \"dir\" && (\n                                        <Folder\n                                            className={classes.folderIcon}\n                                        />\n                                    )}\n                                    {target.type !== \"dir\" && (\n                                        <TypeIcon\n                                            isUpload\n                                            className={classes.fileIcon}\n                                            iconClassName={classes.fileIconSVG}\n                                            fileName={target.name}\n                                        />\n                                    )}\n                                    <div className={classes.fileName}>\n                                        <Typography variant=\"h6\" gutterBottom>\n                                            {target.name}\n                                        </Typography>\n                                    </div>\n                                    <IconButton\n                                        onClick={() => SetSideBar(false)}\n                                        className={classes.closeIcon}\n                                        aria-label=\"close\"\n                                        size={\"small\"}\n                                    >\n                                        <Clear />\n                                    </IconButton>\n                                </div>\n                            </>\n                        )}\n                        <Divider />\n                        {content}\n                    </div>\n                </Drawer>\n            </Hidden>\n        </>\n    );\n}\n","import React, { Component } from \"react\";\n\nimport Navigator from \"./Navigator/Navigator\";\nimport { DndProvider } from \"react-dnd\";\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport DragLayer from \"./DnD/DragLayer\";\nimport Explorer from \"./Explorer\";\nimport Modals from \"./Modals\";\nimport { withStyles } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport {\n    closeAllModals,\n    navigateTo,\n    setSelectedTarget,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport SideDrawer from \"./Sidebar/SideDrawer\";\nimport { ImageLoader } from \"@abslant/cd-image-loader\";\n\nconst styles = () => ({});\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeSubTitle: (text) => {\n            dispatch(changeSubTitle(text));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n    };\n};\n\nclass FileManager extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n        this.props.closeAllModals();\n        this.props.navigateTo(\"/\");\n    }\n\n    componentDidMount() {\n        if (pathHelper.isHomePage(this.props.location.pathname)) {\n            this.props.changeSubTitle(null);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <DndProvider backend={HTML5Backend}>\n                    <Modals share={this.props.share} />\n                    <Navigator\n                        isShare={this.props.isShare}\n                        share={this.props.share}\n                    />\n                    <Explorer share={this.props.share} />\n                    <DragLayer />\n                    <ImageLoader />\n                </DndProvider>\n                <SideDrawer />\n            </div>\n        );\n    }\n}\n\nFileManager.propTypes = {};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileManager)));\n","import React, { useCallback, useEffect } from \"react\";\nimport AdSense from 'react-adsense';\nimport DPlayer from \"react-dplayer\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport { getBaseURL } from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    player: {\n        borderRadius: \"4px\",\n        maxHeight: 600,\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function VideoViewer() {\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <DPlayer\n                    className={classes.player}\n                    options={{\n                        video: {\n                            url:\n                                getBaseURL() +\n                                (pathHelper.isSharePage(location.pathname)\n                                    ? \"/share/preview/\" +\n                                      id +\n                                      (query.get(\"share_path\") !== \"\"\n                                          ? \"?path=\" +\n                                            encodeURIComponent(\n                                                query.get(\"share_path\")\n                                            )\n                                          : \"\")\n                                    : \"/file/preview/\" + query.get(\"id\")),\n                        },\n                    }}\n                />\n            </Paper>\n            <div className={classes.ads}>\n                <AdSense.Google\n                    style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                    client='ca-pub-7329474538416487'\n                    slot='8294203043'\n                    format=''\n                />\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\n\nimport {\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    Typography,\n    Grid,\n    IconButton,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\n\nconst useStyles = makeStyles((theme) => ({\n    cardContainer: {\n        padding: theme.spacing(1),\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\",\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17,\n    },\n    orderSelect: {\n        textAlign: \"right\",\n        marginTop: 5,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function SearchResult() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n\n    const [page, setPage] = useState(1);\n    const [total, setTotal] = useState(0);\n    const [shareList, setShareList] = useState([]);\n    const [orderBy, setOrderBy] = useState(\"created_at DESC\");\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const search = (keywords, page, orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\n            \"/share/search?page=\" +\n                page +\n                \"&order_by=\" +\n                order[0] +\n                \"&order=\" +\n                order[1] +\n                \"&keywords=\" +\n                encodeURIComponent(keywords)\n        )\n            .then((response) => {\n                if (response.data.items.length === 0) {\n                    ToggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"找不到符合条件的分享\",\n                        \"info\"\n                    );\n                }\n                setTotal(response.data.total);\n                setShareList(response.data.items);\n            })\n            .catch(() => {\n                ToggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    useEffect(() => {\n        const keywords = query.get(\"keywords\");\n        if (keywords) {\n            search(keywords, page, orderBy);\n        } else {\n            ToggleSnackbar(\"top\", \"right\", \"请输入搜索关键词\", \"warning\");\n        }\n    }, [location]);\n\n    const handlePageChange = (event, value) => {\n        setPage(value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, value, orderBy);\n    };\n\n    const handleOrderChange = (event) => {\n        setOrderBy(event.target.value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, page, event.target.value);\n    };\n\n    return (\n        <div className={classes.layout}>\n            <Grid container>\n                <Grid sm={6} xs={6}>\n                    <Typography color=\"textSecondary\" variant=\"h4\">\n                        搜索结果\n                    </Typography>\n                </Grid>\n                <Grid sm={6} xs={6} className={classes.orderSelect}>\n                    <FormControl>\n                        <Select\n                            color={\"secondary\"}\n                            onChange={handleOrderChange}\n                            value={orderBy}\n                        >\n                            <MenuItem value={\"created_at DESC\"}>\n                                创建日期由晚到早\n                            </MenuItem>\n                            <MenuItem value={\"created_at ASC\"}>\n                                创建日期由早到晚\n                            </MenuItem>\n                            <MenuItem value={\"downloads DESC\"}>\n                                下载次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"downloads ASC\"}>\n                                下载次数由小到大\n                            </MenuItem>\n                            <MenuItem value={\"views DESC\"}>\n                                浏览次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"views ASC\"}>\n                                浏览次数由小到大\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n            </Grid>\n            <Grid container spacing={24} className={classes.gird}>\n                {shareList.map((value) => (\n                    <Grid\n                        item\n                        xs={12}\n                        sm={4}\n                        key={value.id}\n                        className={classes.cardContainer}\n                    >\n                        <Card className={classes.card}>\n                            <CardHeader\n                                avatar={\n                                    <div>\n                                        {!value.is_dir && (\n                                            <TypeIcon\n                                                fileName={\n                                                    value.source\n                                                        ? value.source.name\n                                                        : \"\"\n                                                }\n                                                isUpload\n                                            />\n                                        )}{\" \"}\n                                        {value.is_dir && (\n                                            <Avatar\n                                                className={classes.avatarFolder}\n                                            >\n                                                <FolderIcon />\n                                            </Avatar>\n                                        )}\n                                    </div>\n                                }\n                                action={\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                history.push(\"/s/\" + value.key)\n                                            }\n                                        >\n                                            <OpenIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                }\n                                title={\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"\n                                        }\n                                    >\n                                        <Typography\n                                            noWrap\n                                            className={classes.shareTitle}\n                                        >\n                                            {value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"}{\" \"}\n                                        </Typography>\n                                    </Tooltip>\n                                }\n                                subheader={\n                                    <span>\n                                        分享于{\" \"}\n                                        <TimeAgo\n                                            datetime={value.create_date}\n                                            locale=\"zh_CN\"\n                                        />\n                                    </span>\n                                }\n                            />\n                        </Card>\n                    </Grid>\n                ))}\n            </Grid>\n            <div className={classes.loadMore}>\n                <Pagination\n                    count={Math.ceil(total / 18)}\n                    onChange={handlePageChange}\n                    color=\"secondary\"\n                />\n            </div>{\" \"}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport UnlockIcon from \"@material-ui/icons/LockOpen\";\nimport EyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport {\n    withStyles,\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    CardActions,\n    Typography,\n    Grid,\n    IconButton,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Button,\n    TextField,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { VisibilityOff, VpnKey } from \"@material-ui/icons\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { withRouter } from \"react-router-dom\";\nimport ToggleIcon from \"material-ui-toggle-icon\";\n\nconst styles = (theme) => ({\n    cardContainer: {\n        padding: theme.spacing(1),\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\",\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17,\n    },\n    orderSelect: {\n        textAlign: \"right\",\n        marginTop: 5,\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass MyShareCompoment extends Component {\n    state = {\n        page: 1,\n        total: 0,\n        shareList: [],\n        showPwd: null,\n        orderBy: \"created_at DESC\",\n    };\n\n    componentDidMount = () => {\n        this.loadList(1, this.state.orderBy);\n    };\n\n    showPwd = (pwd) => {\n        this.setState({ showPwd: pwd });\n    };\n\n    handleClose = () => {\n        this.setState({ showPwd: null });\n    };\n\n    removeShare = (id) => {\n        API.delete(\"/share/\" + id)\n            .then(() => {\n                let oldList = this.state.shareList;\n                oldList = oldList.filter((value) => {\n                    return value.key !== id;\n                });\n                this.setState({\n                    shareList: oldList,\n                    total: this.state.total - 1,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"分享已取消\",\n                    \"success\"\n                );\n                if (oldList.length === 0) {\n                    this.loadList(1, this.state.orderBy);\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changePermission = (id) => {\n        const newPwd = Math.random().toString(36).substr(2).slice(2, 8);\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex((value) => {\n            return value.key === id;\n        });\n        API.patch(\"/share/\" + id, {\n            prop: \"password\",\n            value: oldList[shareIndex].password === \"\" ? newPwd : \"\",\n        })\n            .then((response) => {\n                oldList[shareIndex].password = response.data;\n                this.setState({\n                    shareList: oldList,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changePreviewOption = (id) => {\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex((value) => {\n            return value.key === id;\n        });\n        API.patch(\"/share/\" + id, {\n            prop: \"preview_enabled\",\n            value: oldList[shareIndex].preview ? \"false\" : \"true\",\n        })\n            .then((response) => {\n                oldList[shareIndex].preview = response.data;\n                this.setState({\n                    shareList: oldList,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadList = (page, orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\n            \"/share?page=\" +\n                page +\n                \"&order_by=\" +\n                order[0] +\n                \"&order=\" +\n                order[1]\n        )\n            .then((response) => {\n                if (response.data.items.length === 0) {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"没有更多了\",\n                        \"info\"\n                    );\n                }\n                this.setState({\n                    total: response.data.total,\n                    shareList: response.data.items,\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    handlePageChange = (event, value) => {\n        this.setState({\n            page: value,\n        });\n        this.loadList(value, this.state.orderBy);\n    };\n\n    handleOrderChange = (event) => {\n        this.setState({\n            orderBy: event.target.value,\n        });\n        this.loadList(this.state.page, event.target.value);\n    };\n\n    isExpired = (share) => {\n        return share.expire < -1 || share.remain_downloads === 0;\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Grid container>\n                    <Grid sm={6} xs={6}>\n                        <Typography color=\"textSecondary\" variant=\"h4\">\n                            我的分享\n                        </Typography>\n                    </Grid>\n                    <Grid sm={6} xs={6} className={classes.orderSelect}>\n                        <FormControl>\n                            <Select\n                                color={\"secondary\"}\n                                onChange={this.handleOrderChange}\n                                value={this.state.orderBy}\n                            >\n                                <MenuItem value={\"created_at DESC\"}>\n                                    创建日期由晚到早\n                                </MenuItem>\n                                <MenuItem value={\"created_at ASC\"}>\n                                    创建日期由早到晚\n                                </MenuItem>\n                                <MenuItem value={\"downloads DESC\"}>\n                                    下载次数由大到小\n                                </MenuItem>\n                                <MenuItem value={\"downloads ASC\"}>\n                                    下载次数由小到大\n                                </MenuItem>\n                                <MenuItem value={\"views DESC\"}>\n                                    浏览次数由大到小\n                                </MenuItem>\n                                <MenuItem value={\"views ASC\"}>\n                                    浏览次数由小到大\n                                </MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={24} className={classes.gird}>\n                    {this.state.shareList.map((value) => (\n                        <Grid\n                            item\n                            xs={12}\n                            sm={4}\n                            key={value.id}\n                            className={classes.cardContainer}\n                        >\n                            <Card className={classes.card}>\n                                <CardHeader\n                                    avatar={\n                                        <div>\n                                            {!value.is_dir && (\n                                                <TypeIcon\n                                                    fileName={\n                                                        value.source\n                                                            ? value.source.name\n                                                            : \"\"\n                                                    }\n                                                    isUpload\n                                                />\n                                            )}{\" \"}\n                                            {value.is_dir && (\n                                                <Avatar\n                                                    className={\n                                                        classes.avatarFolder\n                                                    }\n                                                >\n                                                    <FolderIcon />\n                                                </Avatar>\n                                            )}\n                                        </div>\n                                    }\n                                    title={\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title={\n                                                value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"\n                                            }\n                                        >\n                                            <Typography\n                                                noWrap\n                                                className={classes.shareTitle}\n                                            >\n                                                {value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"}{\" \"}\n                                            </Typography>\n                                        </Tooltip>\n                                    }\n                                    subheader={\n                                        <span>\n                                            {value.create_date}\n                                            {this.isExpired(value) && (\n                                                <Chip\n                                                    size=\"small\"\n                                                    className={classes.badge}\n                                                    label=\"已失效\"\n                                                />\n                                            )}\n                                        </span>\n                                    }\n                                />\n                                <Divider />\n                                <CardActions\n                                    disableActionSpacing\n                                    style={{\n                                        display: \"block\",\n                                        textAlign: \"right\",\n                                    }}\n                                >\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                this.props.history.push(\n                                                    \"/s/\" +\n                                                        value.key +\n                                                        (value.password === \"\"\n                                                            ? \"\"\n                                                            : \"?password=\" +\n                                                              value.password)\n                                                )\n                                            }\n                                        >\n                                            <OpenIcon fontSize={\"small\"} />\n                                        </IconButton>\n                                    </Tooltip>{\" \"}\n                                    {value.password !== \"\" && (\n                                        <>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"变更为公开分享\"\n                                                onClick={() =>\n                                                    this.changePermission(\n                                                        value.key\n                                                    )\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <LockIcon\n                                                        fontSize={\"small\"}\n                                                    />\n                                                </IconButton>\n                                            </Tooltip>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"查看密码\"\n                                                onClick={() =>\n                                                    this.showPwd(value.password)\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <VpnKey\n                                                        fontSize={\"small\"}\n                                                    />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </>\n                                    )}\n                                    {value.password === \"\" && (\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title=\"变更为私密分享\"\n                                            onClick={() =>\n                                                this.changePermission(value.key)\n                                            }\n                                        >\n                                            <IconButton>\n                                                <UnlockIcon\n                                                    fontSize={\"small\"}\n                                                />\n                                            </IconButton>\n                                        </Tooltip>\n                                    )}\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.preview\n                                                ? \"禁止预览\"\n                                                : \"允许预览\"\n                                        }\n                                        onClick={() =>\n                                            this.changePreviewOption(value.key)\n                                        }\n                                    >\n                                        <IconButton>\n                                            <ToggleIcon\n                                                on={value.preview}\n                                                onIcon={\n                                                    <EyeIcon\n                                                        fontSize={\"small\"}\n                                                    />\n                                                }\n                                                offIcon={\n                                                    <VisibilityOff\n                                                        fontSize={\"small\"}\n                                                    />\n                                                }\n                                            />\n                                        </IconButton>\n                                    </Tooltip>\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title=\"取消分享\"\n                                        onClick={() =>\n                                            this.removeShare(value.key)\n                                        }\n                                    >\n                                        <IconButton>\n                                            <DeleteIcon fontSize={\"small\"} />\n                                        </IconButton>\n                                    </Tooltip>\n                                </CardActions>\n                            </Card>\n                        </Grid>\n                    ))}\n                </Grid>\n                <div className={classes.loadMore}>\n                    <Pagination\n                        count={Math.ceil(this.state.total / 18)}\n                        onChange={this.handlePageChange}\n                        color=\"secondary\"\n                    />\n                </div>{\" \"}\n                <Dialog\n                    open={this.state.showPwd !== null}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle> 分享密码 </DialogTitle>{\" \"}\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            value={this.state.showPwd}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>{\" \"}\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭{\" \"}\n                        </Button>{\" \"}\n                    </DialogActions>{\" \"}\n                </Dialog>{\" \"}\n            </div>\n        );\n    }\n}\n\nconst MyShare = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(MyShareCompoment)));\n\nexport default MyShare;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    content: {\n        padding: 0,\n    },\n}));\n\nexport default function SelectFileDialog(props) {\n    const [files, setFiles] = useState(props.files);\n\n    useEffect(() => {\n        setFiles(props.files);\n    }, [props.files]);\n\n    const handleChange = (index) => (event) => {\n        const filesCopy = [...files];\n        // eslint-disable-next-line\n        filesCopy.map((v, k) => {\n            if (v.index === index) {\n                filesCopy[k] = {\n                    ...filesCopy[k],\n                    selected: event.target.checked ? \"true\" : \"false\",\n                };\n            }\n        });\n        setFiles(filesCopy);\n    };\n\n    const submit = () => {\n        const index = [];\n        // eslint-disable-next-line\n        files.map((v) => {\n            if (v.selected === \"true\") {\n                index.push(parseInt(v.index));\n            }\n        });\n        props.onSubmit(index);\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">选择要下载的文件</DialogTitle>\n            <DialogContent dividers={\"paper\"} className={classes.content}>\n                {files.map((v, k) => {\n                    return (\n                        <MenuItem key={k}>\n                            <FormGroup row>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            onChange={handleChange(v.index)}\n                                            checked={v.selected === \"true\"}\n                                            value=\"checkedA\"\n                                        />\n                                    }\n                                    label={v.path}\n                                />\n                            </FormGroup>\n                        </MenuItem>\n                    );\n                })}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        color=\"primary\"\n                        onClick={submit}\n                        disabled={props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect } from \"react\";\nimport {\n    Card,\n    CardContent,\n    darken,\n    IconButton,\n    lighten,\n    LinearProgress,\n    makeStyles,\n    Typography,\n    useTheme,\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { hex2bin, sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore, HighlightOff } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport API from \"../../middleware/Api\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TimeAgo from \"timeago-react\";\nimport SelectFileDialog from \"../Modals/SelectFile\";\nimport { useHistory } from \"react-router\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {},\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\",\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\",\n        },\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    iconBig: {\n        fontSize: \"30px\",\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\",\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4,\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\",\n    },\n    expanded: {\n        transform: \"rotate(180deg)\",\n    },\n    subFileName: {\n        display: \"flex\",\n    },\n    subFileIcon: {\n        marginRight: \"20px\",\n    },\n    scroll: {\n        overflowY: \"auto\",\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\",\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1),\n    },\n    info: {\n        padding: theme.spacing(2),\n    },\n    infoTitle: {\n        fontWeight: 700,\n    },\n    infoValue: {\n        color: theme.palette.text.secondary,\n    },\n    bitmap: {\n        width: \"100%\",\n        height: \"50px\",\n        backgroundColor: theme.palette.background.default,\n    },\n}));\n\nexport default function DownloadingCard(props) {\n    const canvasRef = React.createRef();\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n\n    const [expanded, setExpanded] = React.useState(\"\");\n    const [task, setTask] = React.useState(props.task);\n    const [loading, setLoading] = React.useState(false);\n    const [selectDialogOpen, setSelectDialogOpen] = React.useState(false);\n    const [selectFileOption, setSelectFileOption] = React.useState([]);\n\n    const handleChange = (panel) => (event, newExpanded) => {\n        setExpanded(newExpanded ? panel : false);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setTask(props.task);\n    }, [props.task]);\n\n    useEffect(() => {\n        if (task.info.bitfield === \"\") {\n            return;\n        }\n        let result = \"\";\n        task.info.bitfield.match(/.{1,2}/g).forEach((str) => {\n            result += hex2bin(str);\n        });\n        const canvas = canvasRef.current;\n        const context = canvas.getContext(\"2d\");\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        context.strokeStyle = theme.palette.primary.main;\n        for (let i = 0; i < canvas.width; i++) {\n            let bit =\n                result[\n                    Math.round(((i + 1) / canvas.width) * task.info.numPieces)\n                ];\n            bit = bit ? bit : result.slice(-1);\n            if (bit === \"1\") {\n                context.beginPath();\n                context.moveTo(i, 0);\n                context.lineTo(i, canvas.height);\n                context.stroke();\n            }\n        }\n        // eslint-disable-next-line\n    }, [task.info.bitfield, task.info.numPieces, theme]);\n\n    const getPercent = (completed, total) => {\n        if (total === 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n    const activeFiles = useCallback(() => {\n        return task.info.files.filter((v) => v.selected === \"true\");\n    }, [task.info.files]);\n\n    const deleteFile = (index) => {\n        setLoading(true);\n        const current = activeFiles();\n        const newIndex = [];\n        const newFiles = [];\n        // eslint-disable-next-line\n        current.map((v) => {\n            if (v.index !== index && v.selected) {\n                newIndex.push(parseInt(v.index));\n                newFiles.push({\n                    ...v,\n                    selected: \"true\",\n                });\n            } else {\n                newFiles.push({\n                    ...v,\n                    selected: \"false\",\n                });\n            }\n        });\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: newIndex,\n        })\n            .then(() => {\n                setTask({\n                    ...task,\n                    info: {\n                        ...task.info,\n                        files: newFiles,\n                    },\n                });\n                ToggleSnackbar(\"top\", \"right\", \"文件已删除\", \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const getDownloadName = useCallback(() => {\n        if (task.info.bittorrent.info.name !== \"\") {\n            return task.info.bittorrent.info.name;\n        }\n        return task.name === \".\" ? \"[未知]\" : task.name;\n    }, [task]);\n\n    const getIcon = useCallback(() => {\n        if (task.info.bittorrent.mode === \"multi\") {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(task)}\n                />\n            );\n        }\n        // eslint-disable-next-line\n    }, [task, classes]);\n\n    const cancel = () => {\n        setLoading(true);\n        API.delete(\"/aria2/task/\" + task.info.gid)\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已取消，状态会在稍后更新\",\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const changeSelectedFile = (fileIndex) => {\n        setLoading(true);\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: fileIndex,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"操作成功，状态会在稍后更新\",\n                    \"success\"\n                );\n                setSelectDialogOpen(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Card className={classes.card}>\n            <SelectFileDialog\n                open={selectDialogOpen}\n                onClose={() => setSelectDialogOpen(false)}\n                modalsLoading={loading}\n                files={selectFileOption}\n                onSubmit={changeSelectedFile}\n            />\n            <ExpansionPanel\n                square\n                expanded={expanded === task.info.gid}\n                onChange={handleChange(task.info.gid)}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        <LinearProgress\n                            color=\"secondary\"\n                            variant=\"determinate\"\n                            className={classes.progress}\n                            value={getPercent(task.downloaded, task.total)}\n                        />\n                        <Typography\n                            variant=\"body2\"\n                            color=\"textSecondary\"\n                            noWrap\n                        >\n                            {task.total > 0 && (\n                                <span>\n                                    {getPercent(\n                                        task.downloaded,\n                                        task.total\n                                    ).toFixed(2)}\n                                    % -{\" \"}\n                                    {task.downloaded === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.downloaded)}\n                                    /\n                                    {task.total === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.total)}{\" \"}\n                                    -{\" \"}\n                                    {task.speed === \"0\"\n                                        ? \"0B/s\"\n                                        : sizeToString(task.speed) + \"/s\"}\n                                </span>\n                            )}\n                            {task.total === 0 && <span> - </span>}\n                        </Typography>\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            expanded === task.info.gid,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {task.info.bittorrent.mode === \"multi\" && (\n                        <div className={classes.scroll}>\n                            <Table size=\"small\">\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow\n                                                key={value.index}\n                                                style={{\n                                                    background:\n                                                        \"linear-gradient(to right, \" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.4\n                                                              )\n                                                            : lighten(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.85\n                                                              )) +\n                                                        \" 0%,\" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.4\n                                                              )\n                                                            : lighten(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.85\n                                                              )) +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" 100%)\",\n                                                }}\n                                            >\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={\n                                                                value.path\n                                                            }\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(\n                                                            value.length\n                                                        )}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Tooltip title=\"删除此文件\">\n                                                        <IconButton\n                                                            onClick={() =>\n                                                                deleteFile(\n                                                                    value.index\n                                                                )\n                                                            }\n                                                            disabled={loading}\n                                                            size={\"small\"}\n                                                        >\n                                                            <HighlightOff />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    )}\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() =>\n                                history.push(\n                                    \"/#/home?path=\" +\n                                        encodeURIComponent(task.dst)\n                                )\n                            }\n                        >\n                            打开存放目录\n                        </Button>\n                        {task.info.bittorrent.mode === \"multi\" && (\n                            <Button\n                                className={classes.actionButton}\n                                variant=\"outlined\"\n                                color=\"secondary\"\n                                disabled={loading}\n                                onClick={() => {\n                                    setSelectDialogOpen(true);\n                                    setSelectFileOption([\n                                        ...props.task.info.files,\n                                    ]);\n                                }}\n                            >\n                                选择要下载的文件\n                            </Button>\n                        )}\n                        <Button\n                            className={classes.actionButton}\n                            onClick={cancel}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            disabled={loading}\n                        >\n                            取消任务\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        {task.info.bitfield !== \"\" && (\n                            <canvas\n                                width={\"700\"}\n                                height={\"100\"}\n                                ref={canvasRef}\n                                className={classes.bitmap}\n                            />\n                        )}\n\n                        <Grid container>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    更新于：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    <TimeAgo\n                                        datetime={parseInt(task.update + \"000\")}\n                                        locale=\"zh_CN\"\n                                    />\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传速度：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadSpeed)} / s\n                                </Grid>\n                            </Grid>\n                            {task.info.bittorrent.mode !== \"\" && (\n                                <>\n                                    <Grid container xs={12} sm={8}>\n                                        <Grid\n                                            item\n                                            sm={2}\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            InfoHash：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            sm={10}\n                                            xs={8}\n                                            style={{\n                                                wordBreak: \"break-all\",\n                                            }}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.infoHash}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种者：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.numSeeders}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种中：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.seeder === \"true\"\n                                                ? \"是\"\n                                                : \"否\"}\n                                        </Grid>\n                                    </Grid>\n                                </>\n                            )}\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.pieceLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片数量：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {task.info.numPieces}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Card,\n    CardContent,\n    IconButton,\n    makeStyles,\n    Typography,\n    useTheme,\n} from \"@material-ui/core\";\nimport { sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { useHistory } from \"react-router\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {},\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\",\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\",\n        },\n        textAlign: \"left\",\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    iconBig: {\n        fontSize: \"30px\",\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\",\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4,\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\",\n    },\n    expanded: {\n        transform: \"rotate(180deg)\",\n    },\n    subFileName: {\n        display: \"flex\",\n    },\n    subFileIcon: {\n        marginRight: \"20px\",\n    },\n    scroll: {\n        overflowY: \"auto\",\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\",\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1),\n    },\n    info: {\n        padding: theme.spacing(2),\n    },\n    infoTitle: {\n        fontWeight: 700,\n    },\n    infoValue: {\n        color: theme.palette.text.secondary,\n    },\n}));\n\nexport default function FinishedCard(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n\n    const [expanded, setExpanded] = React.useState(false);\n    const [loading, setLoading] = React.useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = () => (event, newExpanded) => {\n        setExpanded(!!newExpanded);\n    };\n\n    const cancel = () => {\n        setLoading(true);\n        API.delete(\"/aria2/task/\" + props.task.gid)\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"删除成功\", \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                window.location.reload();\n            });\n    };\n\n    const getPercent = (completed, total) => {\n        if (total == 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n    const getDownloadName = useCallback(() => {\n        return props.task.name === \".\" ? \"[未知]\" : props.task.name;\n    }, [props.task.name]);\n\n    const activeFiles = useCallback(() => {\n        return props.task.files.filter((v) => v.selected === \"true\");\n    }, [props.task.files]);\n\n    const getIcon = useCallback(() => {\n        if (props.task.files.length > 1) {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(props.task)}\n                />\n            );\n        }\n    }, [props.task, classes]);\n\n    const getTaskError = (error) => {\n        try {\n            const res = JSON.parse(error);\n            return res.msg + \"：\" + res.error;\n        } catch (e) {\n            return \"文件转存失败\";\n        }\n    };\n\n    return (\n        <Card className={classes.card}>\n            <ExpansionPanel\n                square\n                expanded={expanded}\n                onChange={handleChange(\"\")}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        {props.task.status === 3 && (\n                            <Tooltip title={props.task.error}>\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"error\"\n                                    noWrap\n                                >\n                                    下载出错：{props.task.error}\n                                </Typography>\n                            </Tooltip>\n                        )}\n                        {props.task.status === 5 && (\n                            <Typography\n                                variant=\"body2\"\n                                color=\"textSecondary\"\n                                noWrap\n                            >\n                                已取消\n                                {props.task.error !== \"\" && (\n                                    <span>：{props.task.error}</span>\n                                )}\n                            </Typography>\n                        )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 4 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.main,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 0 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.light,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成，转存排队中\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 1 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.light,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成，转存处理中\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 2 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    color={\"error\"}\n                                    noWrap\n                                >\n                                    {getTaskError(props.task.task_error)}\n                                </Typography>\n                            )}\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]: expanded,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {props.task.files.length > 1 && (\n                        <div className={classes.scroll}>\n                            <Table>\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow key={value.index}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={\n                                                                value.path\n                                                            }\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(\n                                                            value.length\n                                                        )}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    )}\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() =>\n                                history.push(\n                                    \"/home?path=\" +\n                                        encodeURIComponent(props.task.dst)\n                                )\n                            }\n                        >\n                            打开存放目录\n                        </Button>\n                        <Button\n                            className={classes.actionButton}\n                            onClick={cancel}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            disabled={loading}\n                        >\n                            删除记录\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        <Grid container>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    创建日期：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {props.task.create}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    最后更新：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {props.task.update}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport { openRemoteDownloadDialog } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { Add } from \"@material-ui/icons\";\nimport Modals from \"../FileManager/Modals\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n}));\n\nexport default function RemoteDownloadButton() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const OpenRemoteDownloadDialog = useCallback(\n        () => dispatch(openRemoteDownloadDialog()),\n        [dispatch]\n    );\n\n    return (\n        <>\n            <Modals />\n            <AutoHidden enable>\n                <Fab\n                    className={classes.fab}\n                    color=\"secondary\"\n                    onClick={() => OpenRemoteDownloadDialog()}\n                >\n                    <Add />\n                </Fab>\n            </AutoHidden>\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\nimport { withStyles, Typography, Button, IconButton } from \"@material-ui/core\";\nimport DownloadingCard from \"./DownloadingCard\";\nimport FinishedCard from \"./FinishedCard\";\nimport RemoteDownloadButton from \"../Dial/Aria2\";\nimport Auth from \"../../middleware/Auth\";\n\nconst styles = (theme) => ({\n    actions: {\n        display: \"flex\",\n    },\n    title: {\n        marginTop: \"20px\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    hide: {\n        display: \"none\",\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\",\n    },\n    shareFix: {\n        marginLeft: \"20px\",\n    },\n    loadMore: {\n        textAlign: \"center\",\n        marginTop: \"20px\",\n        marginBottom: \"20px\",\n    },\n    margin: {\n        marginTop: theme.spacing(2),\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass DownloadComponent extends Component {\n    page = 0;\n    interval = 0;\n\n    state = {\n        downloading: [],\n        loading: false,\n        finishedList: [],\n        continue: true,\n    };\n\n    componentDidMount = () => {\n        this.loadDownloading();\n        this.loadMore();\n    };\n\n    componentWillUnmount() {\n        clearTimeout(this.interval);\n    }\n\n    loadDownloading = () => {\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/aria2/downloading\")\n            .then((response) => {\n                this.setState({\n                    downloading: response.data,\n                    loading: false,\n                });\n                // 设定自动更新\n                clearTimeout(this.interval);\n                if (response.data.length > 0) {\n                    this.interval = setTimeout(\n                        this.loadDownloading,\n                        1000 * response.data[0].interval\n                    );\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadMore = () => {\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/aria2/finished?page=\" + ++this.page)\n            .then((response) => {\n                this.setState({\n                    finishedList: [\n                        ...this.state.finishedList,\n                        ...response.data,\n                    ],\n                    loading: false,\n                    continue: response.data.length >= 10,\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n                this.setState({\n                    loading: false,\n                });\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n\n        return (\n            <div className={classes.layout}>\n                {user.group.allowRemoteDownload && <RemoteDownloadButton />}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    进行中\n                    <IconButton\n                        disabled={this.state.loading}\n                        onClick={this.loadDownloading}\n                    >\n                        <RefreshIcon />\n                    </IconButton>\n                </Typography>\n                {this.state.downloading.map((value, k) => (\n                    <DownloadingCard key={k} task={value} />\n                ))}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    已完成\n                </Typography>\n                <div className={classes.loadMore}>\n                    {this.state.finishedList.map((value, k) => {\n                        if (value.files) {\n                            return <FinishedCard key={k} task={value} />;\n                        }\n                        return null;\n                    })}\n                    <Button\n                        size=\"large\"\n                        className={classes.margin}\n                        disabled={!this.state.continue}\n                        onClick={this.loadMore}\n                    >\n                        加载更多\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst Download = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(DownloadComponent));\n\nexport default Download;\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    Button,\n    Card,\n    Divider,\n    CardHeader,\n    CardContent,\n    CardActions,\n    TextField,\n    Avatar,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\n\nconst styles = (theme) => ({\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    continue: {\n        marginLeft: \"auto\",\n        marginRight: \"10px\",\n        marginRottom: \"10px\",\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass LockedFileCompoment extends Component {\n    constructor(props) {\n        super(props);\n        const query = new URLSearchParams(this.props.location.search);\n        this.state = {\n            pwd: query.get(\"password\"),\n        };\n    }\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    submit = (e) => {\n        e.preventDefault();\n        if (this.state.pwd === \"\") {\n            return;\n        }\n        this.props.setPassowrd(this.state.pwd);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Card className={classes.card}>\n                    <CardHeader\n                        avatar={\n                            <Avatar\n                                aria-label=\"Recipe\"\n                                src={\n                                    \"/api/v3/user/avatar/\" +\n                                    this.props.share.creator.key +\n                                    \"/l\"\n                                }\n                            />\n                        }\n                        title={this.props.share.creator.nick + \" 的加密分享\"}\n                        subheader={this.props.share.create_date}\n                    />\n                    <Divider />\n                    <CardContent>\n                        <form onSubmit={this.submit}>\n                            <TextField\n                                id=\"pwd\"\n                                label=\"输入分享密码\"\n                                value={this.state.pwd}\n                                onChange={this.handleChange(\"pwd\")}\n                                margin=\"normal\"\n                                type=\"password\"\n                                autoFocus\n                                fullWidth\n                                color=\"secondary\"\n                            />\n                        </form>\n                    </CardContent>\n                    <CardActions\n                        className={classes.actions}\n                        disableActionSpacing\n                    >\n                        <Button\n                            onClick={this.submit}\n                            color=\"secondary\"\n                            className={classes.continue}\n                            variant=\"contained\"\n                            disabled={\n                                this.state.pwd === \"\" || this.props.loading\n                            }\n                        >\n                            继续\n                        </Button>\n                    </CardActions>\n                </Card>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst LockedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(LockedFileCompoment)));\n\nexport default LockedFile;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport Link from \"@material-ui/core/Link\";\n\nconst useStyles = makeStyles((theme) => ({\n    boxHeader: {\n        textAlign: \"center\",\n        padding: 24,\n    },\n    avatar: {\n        backgroundColor: theme.palette.secondary.main,\n        margin: \"0 auto\",\n        width: 50,\n        height: 50,\n        cursor: \"pointer\",\n    },\n    shareDes: {\n        marginTop: 12,\n    },\n    shareInfo: {\n        color: theme.palette.text.disabled,\n        fontSize: 14,\n    },\n}));\n\nexport default function Creator(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const getSecondDes = () => {\n        if (props.share.expire > 0) {\n            if (props.share.expire >= 24 * 3600) {\n                return (\n                    Math.round(props.share.expire / (24 * 3600)) + \" 天后到期\"\n                );\n            }\n            return Math.round(props.share.expire / 3600) + \" 小时后到期\";\n        }\n        return props.share.create_date;\n    };\n\n    const userProfile = () => {\n        history.push(\"/profile/\" + props.share.creator.key);\n        props.onClose && props.onClose();\n    };\n\n    return (\n        <div className={classes.boxHeader}>\n            <Avatar\n                className={classes.avatar}\n                alt={props.share.creator.nick}\n                src={\"/api/v3/user/avatar/\" + props.share.creator.key + \"/l\"}\n                onClick={() => userProfile()}\n            />\n            <Typography variant=\"h6\" className={classes.shareDes}>\n                {props.isFolder && (\n                    <>\n                        此分享由{\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        创建\n                    </>\n                )}\n                {!props.isFolder && (\n                    <>\n                        {\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        向您分享了 1 个文件\n                    </>\n                )}\n            </Typography>\n            <Typography className={classes.shareInfo}>\n                {props.share.views} 次浏览 • {props.share.downloads} 次下载 •{\" \"}\n                {getSecondDes()}\n            </Typography>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    showImgPreivew,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { isPreviewable } from \"../../config\";\nimport { withStyles, Button, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Auth from \"../../middleware/Auth\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport API from \"../../middleware/Api\";\nimport { withRouter } from \"react-router-dom\";\nimport Creator from \"./Creator\";\nimport pathHelper from \"../../utils/page\";\nimport Report from \"../Modals/Report\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\n\nvhCheck();\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"90px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginTop: \"90px\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: 0,\n            marginLeft: 0,\n            marginRight: 0,\n        },\n        justifyContent: \"center\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n    },\n    player: {\n        borderRadius: \"4px\",\n    },\n    fileCotainer: {\n        width: \"200px\",\n        margin: \"0 auto\",\n    },\n    buttonCotainer: {\n        width: \"400px\",\n        margin: \"0 auto\",\n        textAlign: \"center\",\n        marginTop: \"20px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n    },\n    icon: {\n        borderRadius: \"10%\",\n        marginTop: 2,\n    },\n\n    box: {\n        width: \"100%\",\n        maxWidth: 440,\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: 12,\n        boxShadow: \"0 8px 16px rgba(29,39,55,.25)\",\n        [theme.breakpoints.down(\"sm\")]: {\n            /*height: \"calc(var(--vh, 100vh) - 56px)\",*/\n            borderRadius: 0,\n            maxWidth: 1000,\n        },\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    boxContent: {\n        padding: 24,\n        display: \"flex\",\n        flex: \"1\",\n    },\n    fileName: {\n        marginLeft: 20,\n    },\n    fileSize: {\n        color: theme.palette.text.disabled,\n        fontSize: 14,\n    },\n    boxFooter: {\n        display: \"flex\",\n        padding: \"20px 16px\",\n        justifyContent: \"space-between\",\n    },\n    downloadButton: {\n        marginLeft: 8,\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: (key) => {\n            dispatch(openResaveDialog(key));\n        },\n    };\n};\n\nconst Modals = React.lazy(() => import(\"../FileManager/Modals\"));\nconst ImgPreview = React.lazy(() => import(\"../FileManager/ImgPreview\"));\n\nclass SharedFileCompoment extends Component {\n    state = {\n        anchorEl: null,\n        open: false,\n        purchaseCallback: null,\n        loading: false,\n        openReport: false,\n    };\n\n    downloaded = false;\n\n    // TODO merge into react thunk\n    preview = () => {\n        if (pathHelper.isSharePage(this.props.location.pathname)) {\n            if (!Auth.Check()) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                return;\n            }\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                return;\n            }\n        }\n\n        switch (isPreviewable(this.props.share.source.name)) {\n            case \"img\":\n                this.props.showImgPreivew({\n                    key: this.props.share.key,\n                    name: this.props.share.source.name,\n                });\n                return;\n            case \"msDoc\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/doc?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"audio\":\n                this.props.setSelectedTarget([\n                    {\n                        key: this.props.share.key,\n                        type: \"share\",\n                    },\n                ]);\n                this.props.openMusicDialog();\n                return;\n            case \"video\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/video?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"edit\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/text?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"pdf\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/pdf?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"code\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/code?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            default:\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"此文件无法预览\",\n                    \"warning\"\n                );\n                return;\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n    }\n\n    scoreHandle = (callback) => (event) => {\n        if (this.props.share.score > 0) {\n            if (!Auth.Check()) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"登录后才能继续操作\",\n                    \"warning\"\n                );\n                return;\n            }\n            if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n                this.setState({\n                    purchaseCallback: () => {\n                        this.setState({\n                            purchaseCallback: null,\n                        });\n                        callback(event);\n                    },\n                });\n                return;\n            }\n        }\n        callback(event);\n    };\n\n    download = () => {\n        this.setState({ loading: true });\n        API.put(\"/share/download/\" + this.props.share.key)\n            .then((response) => {\n                this.downloaded = true;\n                window.location.assign(response.data);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .then(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    rewards = () => {\n        if (!Auth.Check()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            return;\n        }\n        window.opensendgift(this.props.share.key);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isLogin = Auth.Check();\n\n        return (\n            <div className={classes.layout}>\n                <Modals />\n                <ImgPreview />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share.score}\n                    onClose={() => this.setState({ purchaseCallback: null })}\n                />\n                <Report\n                    open={this.state.openReport}\n                    share={this.props.share}\n                    onClose={() => this.setState({ openReport: false })}\n                />\n                <div className={classes.box}>\n                    <Creator share={this.props.share} />\n                    <Divider />\n                    <div className={classes.boxContent}>\n                        <TypeIcon\n                            className={classes.icon}\n                            isUpload\n                            fileName={this.props.share.source.name}\n                        />\n                        <div className={classes.fileName}>\n                            <Typography style={{ wordBreak: \"break-all\" }}>\n                                {this.props.share.source.name}\n                            </Typography>\n                            <Typography className={classes.fileSize}>\n                                {sizeToString(this.props.share.source.size)}\n                            </Typography>\n                        </div>\n                    </div>\n                    <Divider />\n                    <div className={classes.boxFooter}>\n                        <div className={classes.actionLeft}>\n                            <Button\n                                onClick={() =>\n                                    this.props.openResave(this.props.share.key)\n                                }\n                                color=\"secondary\"\n                            >\n                                保存文件\n                            </Button>\n                            <Button\n                                onClick={() =>\n                                    this.setState({ openReport: true })\n                                }\n                                color=\"secondary\"\n                            >\n                                举报\n                            </Button>\n                        </div>\n                        <div className={classes.actions}>\n                            <IconButton color=\"secondary\" style={{ padding:'unset',paddingRight:'12px'}} title=\"打赏\" aria-label=\"to reward\" onClick={() => this.rewards()}>\n                              <MonetizationOnIcon />\n                            </IconButton>\n                            {this.props.share.preview && (\n                                <Button\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    onClick={this.scoreHandle(this.preview)}\n                                    disabled={this.state.loading}\n                                >\n                                    预览\n                                </Button>\n                            )}\n                            <Button\n                                variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.downloadButton}\n                                onClick={this.scoreHandle(this.download)}\n                                disabled={this.state.loading}\n                            >\n                                下载\n                                {this.props.share.score > 0 &&\n                                    (!isLogin || !user.group.shareFree) &&\n                                    \" (\" + this.props.share.score + \"积分)\"}\n                                {this.props.share.score > 0 &&\n                                    isLogin &&\n                                    user.group.shareFree &&\n                                    \" (免积分)\"}\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst SharedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFileCompoment)));\n\nexport default SharedFile;\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    setShareUserPopover,\n    showImgPreivew,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport FileManager from \"../FileManager/FileManager\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Creator from \"./Creator\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport pathHelper from \"../../utils/page\";\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: 30,\n        marginBottom: 30,\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n        },\n    },\n    managerContainer: {\n        overflowY: \"auto\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"28rem\"\n        },\n\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\n\nconst ReadMe = React.lazy(() => import(\"./ReadMe\"));\n\nconst mapStateToProps = (state) => {\n    return {\n        anchorEl: state.viewUpdate.shareUserPopoverAnchorEl,\n        fileList: state.explorer.fileList,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: (key) => {\n            dispatch(openResaveDialog(key));\n        },\n        setShareUserPopover: (e) => {\n            dispatch(setShareUserPopover(e));\n        },\n    };\n};\n\nclass SharedFolderComponent extends Component {\n    state = {};\n\n    UNSAFE_componentWillMount() {\n        window.shareInfo = this.props.share;\n    }\n\n    componentWillUnmount() {\n        window.shareInfo = null;\n        this.props.setSelectedTarget([]);\n    }\n\n    handleClickAway = () => {\n        if (!pathHelper.isMobile()) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        let readmeShowed = false;\n        const id = this.props.anchorEl !== null ? \"simple-popover\" : undefined;\n\n        return (\n            <div className={classes.layout}>\n                <ClickAwayListener onClickAway={this.handleClickAway}>\n                    <Paper className={classes.managerContainer}>\n                        <FileManager isShare share={this.props.share} />\n                    </Paper>\n                </ClickAwayListener>\n                {/* eslint-disable-next-line */}\n                {this.props.fileList.map((value) => {\n                    if (\n                        (value.name.toLowerCase() === \"readme.md\" ||\n                            value.name.toLowerCase() === \"readme.txt\") &&\n                        !readmeShowed\n                    ) {\n                        readmeShowed = true;\n                        return <ReadMe share={this.props.share} file={value} />;\n                    }\n                })}\n                <Popover\n                    id={id}\n                    open={this.props.anchorEl !== null}\n                    anchorEl={this.props.anchorEl}\n                    onClose={() => this.props.setShareUserPopover(null)}\n                    anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\",\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\",\n                    }}\n                >\n                    <Typography>\n                        <Creator\n                            isFolder\n                            onClose={() => this.props.setShareUserPopover(null)}\n                            share={this.props.share}\n                        />\n                    </Typography>\n                </Popover>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst SharedFolder = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFolderComponent)));\n\nexport default SharedFolder;\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport PageLoading from \"../Placeholder/PageLoading\";\nimport { useParams } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport { useDispatch } from \"react-redux\";\nimport Notice from \"./NotFound\";\nimport LockedFile from \"./LockedFile\";\nimport SharedFile from \"./SharedFile\";\nimport SharedFolder from \"./SharedFolder\";\n\nexport default function SharePreload() {\n    const dispatch = useDispatch();\n    const { id } = useParams();\n\n    const [share, setShare] = useState(undefined);\n    const [loading, setLoading] = useState(false);\n    const [password, setPassword] = useState(\"\");\n\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (share) {\n            if (share.locked) {\n                SetSubTitle(share.creator.nick + \"的加密分享\");\n                if (password !== \"\") {\n                    ToggleSnackbar(\"top\", \"right\", \"密码不正确\", \"warning\");\n                }\n            } else {\n                SetSubTitle(share.source.name);\n            }\n        } else {\n            SetSubTitle();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [share, SetSubTitle, ToggleSnackbar]);\n\n    useEffect(() => {\n        return () => {\n            SetSubTitle();\n        };\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        setLoading(true);\n        let withPassword = \"\";\n        if (password !== \"\") {\n            withPassword = \"?password=\" + password;\n        }\n        API.get(\"/share/info/\" + id + withPassword)\n            .then((response) => {\n                setShare(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                setLoading(false);\n                if (error.code === 404) {\n                    setShare(null);\n                } else {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                }\n            });\n    }, [id, password, ToggleSnackbar]);\n\n    return (\n        <Suspense fallback={<PageLoading />}>\n            {share === undefined && <PageLoading />}\n            {share === null && <Notice msg={\"分享不存在或已过期\"} />}\n            {share && share.locked && (\n                <LockedFile\n                    loading={loading}\n                    setPassowrd={setPassword}\n                    share={share}\n                />\n            )}\n            {share && !share.locked && !share.is_dir && (\n                <SharedFile share={share} />\n            )}\n            {share && !share.locked && share.is_dir && (\n                <SharedFolder share={share} />\n            )}\n        </Suspense>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(() => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"-48px\",\n    },\n\n    container: {\n        border: \"none\",\n        width: \"100%\",\n        height: \"calc(100vh - 18px)\",\n        marginBottom: -3,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function DocViewer() {\n    const [url, setURL] = useState(\"\");\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/doc/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/doc/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n        API.get(requestURL)\n            .then((response) => {\n                setURL(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            {url !== \"\" && (\n                <iframe title={\"ms\"} className={classes.container} src={url} />\n            )}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Typography,\n    Paper,\n    Button,\n    Grid,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from \"@material-ui/core\";\nimport { sizeToString } from \"../../utils\";\nimport { withRouter } from \"react-router\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n\n    gird: {\n        marginTop: \"30px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary,\n    },\n    data: {\n        fontSize: \"25px\",\n        color: theme.palette.primary.main,\n    },\n    proBar: {\n        height: \"10px\",\n    },\n    r1: {\n        backgroundColor: \"#f0ad4e\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r2: {\n        backgroundColor: \"#4caf50\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r3: {\n        backgroundColor: \"#5bc0de\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    note_block: {\n        width: \"10px\",\n        height: \"10px\",\n        display: \"inline-block\",\n        position: \"relative\",\n        marginLeft: \"10px\",\n        marginRight: \"3px\",\n    },\n    r1_block: {\n        backgroundColor: \"#f0ad4e\",\n    },\n    r2_block: {\n        backgroundColor: \"#4caf50\",\n    },\n    r3_block: {\n        backgroundColor: \"#5bc0de\",\n    },\n    title: {\n        marginTop: \"30px\",\n        marginBottom: \"30px\",\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    table: {\n        overflowX: \"auto\",\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass QuotaCompoment extends Component {\n    state = {\n        data: {\n            basic: 0,\n            used: 0,\n            total: 0,\n            pack: 0,\n            r1: 0,\n            r2: 0,\n            r3: 0,\n        },\n        packs: [],\n    };\n\n    firstLoad = true;\n\n    componentDidMount() {\n        if (this.firstLoad) {\n            this.firstLoad = !this.firstLoad;\n            API.get(\"/vas/pack\")\n                .then((response) => {\n                    let usedR,\n                        baseR,\n                        packR = 0;\n                    if (response.data.used > response.data.base) {\n                        usedR = response.data.used / response.data.total;\n                        baseR = 0;\n                        packR = 1 - usedR;\n                    } else {\n                        usedR = response.data.used / response.data.total;\n                        baseR =\n                            (response.data.base - response.data.used) /\n                            response.data.total;\n                        packR = 1 - usedR - baseR;\n                    }\n\n                    this.setState({\n                        data: {\n                            used: response.data.used,\n                            pack: response.data.pack,\n                            total: response.data.total,\n                            basic: response.data.base,\n                            r1: usedR > 1 ? 100 : usedR * 100,\n                            r2: usedR > 1 ? 0 : baseR * 100,\n                            r3: usedR > 1 ? 0 : packR * 100,\n                        },\n                        packs: response.data.packs,\n                    });\n                })\n                .catch((error) => {\n                    this.setState({\n                        loading: false,\n                    });\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n    }\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Typography color=\"textSecondary\" variant=\"h4\">\n                    容量配额\n                </Typography>\n                <Grid container className={classes.gird} spacing={2}>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.basic)}\n                            </Typography>\n                            <Typography>用户组基础容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.pack)}\n                            </Typography>\n                            <Typography>有效容量包附加附加容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.used)}\n                            </Typography>\n                            <Typography>已使用容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.total)}\n                            </Typography>\n                            <Typography>总容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paper}>\n                            <div className={classes.proBar}>\n                                <div\n                                    className={classes.r1}\n                                    style={{ width: this.state.data.r1 + \"%\" }}\n                                />\n                                <div\n                                    className={classes.r2}\n                                    style={{ width: this.state.data.r2 + \"%\" }}\n                                />\n                                <div\n                                    className={classes.r3}\n                                    style={{ width: this.state.data.r3 + \"%\" }}\n                                />\n                            </div>\n                            <div style={{ textAlign: \"right\" }}>\n                                <span\n                                    className={classNames(\n                                        classes.r1_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                已用容量\n                                <span\n                                    className={classNames(\n                                        classes.r2_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                用户组基础容量\n                                <span\n                                    className={classNames(\n                                        classes.r3_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                有效容量包附加附加容量\n                            </div>\n                        </Paper>\n                    </Grid>\n                </Grid>\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    可用容量包\n                </Typography>\n                <Paper className={classes.paper}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.button}\n                        onClick={() => this.props.history.push(\"/buy\")}\n                    >\n                        购买容量包\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        className={classes.button}\n                        onClick={() => this.props.history.push(\"/buy?tab=3\")}\n                    >\n                        使用激活码兑换\n                    </Button>\n                    <div className={classes.table}>\n                        <Table>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell align=\"left\">\n                                        容量包名称\n                                    </TableCell>\n                                    <TableCell align=\"center\">大小</TableCell>\n                                    <TableCell align=\"center\">\n                                        激活日期\n                                    </TableCell>\n                                    <TableCell align=\"center\">有效期</TableCell>\n                                    <TableCell align=\"center\">\n                                        过期日期\n                                    </TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {this.state.packs.map((row, id) => (\n                                    <TableRow key={id}>\n                                        <TableCell component=\"th\" scope=\"row\">\n                                            {row.name}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {sizeToString(row.size)}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {row.activate_date}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {Math.round(row.expiration / 86400)}\n                                            天\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {row.expiration_date}\n                                        </TableCell>\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                        </Table>\n                    </div>\n                </Paper>\n            </div>\n        );\n    }\n}\n\nconst Quota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(QuotaCompoment)));\n\nexport default Quota;\n","import React, { Component } from \"react\";\nimport classNames from \"classnames\";\nimport { withStyles, ButtonBase, Typography } from \"@material-ui/core\";\nconst styles = (theme) => ({\n    container: {\n        boxShadow: \"0 0 0 1px #e6e9eb\",\n        borderRadius: \"4px\",\n        transition: \"box-shadow .5s\",\n        width: \"100%\",\n        display: \"block\",\n    },\n    active: {\n        boxShadow: \"0 0 0 3px \" + theme.palette.primary.main,\n    },\n    boxHead: {\n        textAlign: \"center\",\n        padding: \"10px 10px 10px\",\n        borderBottom: \"1px solid #e6e9eb\",\n        color: theme.palette.text.main,\n        width: \"100%\",\n    },\n    price: {\n        fontSize: \"33px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color: theme.palette.primary.main,\n    },\n    priceWithScore: {\n        fontSize: \"23px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color: theme.palette.primary.main,\n    },\n    packName: {\n        marginTop: \"5px\",\n        marginBottom: \"5px\",\n    },\n    boxBottom: {\n        color: theme.palette.text.main,\n        textAlign: \"center\",\n        padding: \"5px\",\n    },\n});\n\nclass PackSelect extends Component {\n    render() {\n        const { classes, pack } = this.props;\n        return (\n            <ButtonBase\n                className={classNames(classes.container, {\n                    [classes.active]: this.props.active,\n                })}\n                onClick={this.props.onSelect}\n            >\n                <div className={classes.boxHead}>\n                    <Typography\n                        variant=\"subtitle1\"\n                        className={classes.packName}\n                    >\n                        {pack.name}\n                    </Typography>\n                    {pack.score === 0 && (\n                        <Typography className={classes.price}>\n                            ￥{(pack.price / 100).toFixed(2)}\n                        </Typography>\n                    )}\n                    {pack.score !== 0 && (\n                        <Typography className={classes.priceWithScore}>\n                            ￥{(pack.price / 100).toFixed(2)} / {pack.score}{\" \"}\n                            积分\n                        </Typography>\n                    )}\n                </div>\n                <div className={classes.boxBottom}>\n                    <Typography>\n                        有效期：{Math.ceil(pack.time / 86400)}天\n                    </Typography>\n                </div>\n            </ButtonBase>\n        );\n    }\n}\n\nexport default withStyles(styles)(PackSelect);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport SdStorage from \"@material-ui/icons/SdStorage\";\nimport ShopIcon from \"@material-ui/icons/ShoppingCart\";\nimport PackSelect from \"./PackSelect\";\nimport SupervisedUserCircle from \"@material-ui/icons/SupervisedUserCircle\";\nimport StarIcon from \"@material-ui/icons/StarBorder\";\nimport LocalPlay from \"@material-ui/icons/LocalPlay\";\nimport API from \"../../middleware/Api\";\nimport QRCode from \"qrcode-react\";\n\nimport {\n    withStyles,\n    AppBar,\n    Tabs,\n    Tab,\n    Typography,\n    Paper,\n    Button,\n    TextField,\n    Grid,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n} from \"@material-ui/core\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { AccountBalanceWallet } from \"@material-ui/icons\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n\n    gird: {\n        marginTop: \"30px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary,\n    },\n    title: {\n        marginTop: \"30px\",\n        marginBottom: \"30px\",\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    action: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n    },\n    textField: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        width: 70,\n        textAlign: \"center!important\",\n    },\n    priceShow: {\n        color: theme.palette.secondary.main,\n        fontSize: \"30px\",\n    },\n    codeContainer: {\n        textAlign: \"center\",\n        marginTop: \"20px\",\n    },\n    cardHeader: {\n        backgroundColor:\n            theme.palette.type === \"dark\"\n                ? theme.palette.background.default\n                : theme.palette.grey[200],\n    },\n    cardPricing: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"baseline\",\n        marginBottom: theme.spacing(2),\n    },\n    cardActions: {\n        [theme.breakpoints.up(\"sm\")]: {\n            paddingBottom: theme.spacing(2),\n        },\n    },\n    redeemContainer: {\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: \"50px\",\n            marginRight: \"50px\",\n            width: \"auto\",\n        },\n        marginTop: \"50px\",\n        marginBottom: \"50px\",\n    },\n    doRedeem: {\n        textAlign: \"right\",\n    },\n    payMethod: {\n        marginTop: theme.spacing(4),\n        padding: theme.spacing(2),\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass BuyQuotaCompoment extends Component {\n    IntervalId = null;\n    constructor(props) {\n        super(props);\n\n        const tab = new URLSearchParams(this.props.location.search);\n        const index = tab.get(\"tab\");\n\n        this.state = {\n            value: index ? parseInt(index) : 0,\n            selectedPack: -1,\n            selectedGroup: -1,\n            times: 1,\n            scoreNum: 1,\n            loading: false,\n            redeemCode: \"\",\n            dialog: null,\n            payment: {\n                type: \"\",\n                img: \"\",\n            },\n            scorePrice: 0,\n            redeemInfo: null,\n            packs: [],\n            groups: [],\n            alipay: false,\n            payjs: false,\n            packPayMethod: null,\n        };\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.IntervalId);\n    }\n\n    componentDidMount() {\n        API.get(\"/vas/product\")\n            .then((response) => {\n                this.setState({\n                    packs: response.data.packs,\n                    groups: response.data.groups,\n                    alipay: response.data.alipay,\n                    payjs: response.data.payjs,\n                    scorePrice: response.data.score_price,\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    }\n\n    confirmRedeem = () => {\n        this.setState({\n            loading: true,\n        });\n        API.post(\"/vas/redeem/\" + this.state.redeemCode)\n            .then(() => {\n                this.setState({\n                    loading: false,\n                    dialog: \"success\",\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doRedeem = () => {\n        if (this.state.redeemCode === \"\") {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请输入激活码\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/vas/redeem/\" + this.state.redeemCode)\n            .then((response) => {\n                this.setState({\n                    loading: false,\n                    dialog: \"redeem\",\n                    redeemInfo: response.data,\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    buyPack = (packType) => {\n        if (packType === \"pack\" && this.state.selectedPack === -1) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请先选择一个容量包\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true,\n        });\n        API.post(\"/vas/order\", {\n            action: packType,\n            method: this.state.packPayMethod,\n            id:\n                packType === \"score\"\n                    ? 1\n                    : packType === \"pack\"\n                    ? this.state.packs[this.state.selectedPack].id\n                    : this.state.groups[this.state.selectedGroup].id,\n            num:\n                packType === \"score\"\n                    ? parseInt(this.state.scoreNum)\n                    : parseInt(this.state.times),\n        })\n            .then((response) => {\n                if (!response.data.payment) {\n                    this.setState({\n                        loading: false,\n                        dialog: \"success\",\n                    });\n                    return;\n                }\n                if (response.data.qr_code) {\n                    this.setState({\n                        loading: false,\n                        dialog: \"qr\",\n                        payment: {\n                            type: this.state.packPayMethod,\n                            img: response.data.qr_code,\n                        },\n                    });\n                    this.IntervalId = window.setInterval(() => {\n                        this.querryLoop(response.data.id);\n                    }, 3000);\n                }\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    querryLoop = (id) => {\n        API.get(\"/vas/order/\" + id)\n            .then((response) => {\n                if (response.data === 1) {\n                    this.setState({\n                        dialog: \"success\",\n                    });\n                    window.clearInterval(this.IntervalId);\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n                window.clearInterval(this.IntervalId);\n            });\n    };\n\n    handleChange = (event, value) => {\n        this.setState({\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n        this.setState({ value });\n    };\n\n    handleChangeIndex = (index) => {\n        this.setState({ value: index });\n    };\n\n    handleClose = () => {\n        window.clearInterval(this.IntervalId);\n        this.setState({\n            dialog: null,\n        });\n    };\n\n    handleTexyChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    selectPack = (id) => {\n        this.setState({\n            selectedPack: id,\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n    };\n\n    selectGroup = (id) => {\n        this.setState({\n            selectedGroup: id,\n            dialog: \"buyGroup\",\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n    };\n\n    selectPackPayMethod = (event) => {\n        this.setState({\n            packPayMethod: event.target.value,\n        });\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        const methodSelect = (\n            <div>\n                <FormLabel>选择支付方式：</FormLabel>\n                <RadioGroup\n                    name=\"spacing\"\n                    aria-label=\"spacing\"\n                    value={this.state.packPayMethod}\n                    onChange={this.selectPackPayMethod}\n                    row\n                >\n                    {!this.state.alipay &&\n                        !this.state.payjs &&\n                        this.state.value === 0 &&\n                        (this.state.selectedPack === -1 ||\n                            this.state.packs[this.state.selectedPack].score ===\n                                0) &&\n                        this.state.value === 1 &&\n                        (this.state.selectedGroup === -1 ||\n                            this.state.groups[this.state.selectedGroup]\n                                .score === 0) && (\n                            <Typography>无可用支付方式</Typography>\n                        )}\n                    {this.state.alipay && (\n                        <FormControlLabel\n                            value={\"alipay\"}\n                            control={<Radio />}\n                            label={\"支付宝扫码\"}\n                        />\n                    )}\n                    {this.state.payjs && (\n                        <FormControlLabel\n                            value={\"payjs\"}\n                            control={<Radio />}\n                            label={\"微信扫码\"}\n                        />\n                    )}\n                    {this.state.value === 0 &&\n                        this.state.selectedPack !== -1 &&\n                        this.state.packs[this.state.selectedPack].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                    {this.state.value === 1 &&\n                        this.state.selectedGroup !== -1 &&\n                        this.state.groups[this.state.selectedGroup].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                </RadioGroup>\n                <div>\n                    {this.state.value !== 2 && (\n                        <FormLabel>购买时长倍数：</FormLabel>\n                    )}\n                    {this.state.value === 2 && (\n                        <FormLabel>充值积分数量：</FormLabel>\n                    )}\n                </div>\n                {this.state.value !== 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            max: \"99\",\n                            step: \"1\",\n                        }}\n                        value={this.state.times}\n                        onChange={this.handleTexyChange(\"times\")}\n                    />\n                )}\n                {this.state.value === 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            step: \"1\",\n                            max: \"9999999\",\n                        }}\n                        value={this.state.scoreNum}\n                        onChange={this.handleTexyChange(\"scoreNum\")}\n                    />\n                )}\n            </div>\n        );\n\n        return (\n            <div className={classes.layout}>\n                <Typography\n                    color=\"textSecondary\"\n                    className={classes.title}\n                    variant=\"h3\"\n                >\n                    购买\n                </Typography>\n                <AppBar position=\"static\">\n                    <Tabs\n                        value={this.state.value}\n                        onChange={this.handleChange}\n                        variant=\"fullWidth\"\n                    >\n                        <Tab label=\"容量包\" icon={<SdStorage />} />\n                        <Tab label=\"会员\" icon={<SupervisedUserCircle />} />\n                        {this.state.scorePrice > 0 && (\n                            <Tab\n                                label=\"积分充值\"\n                                icon={<AccountBalanceWallet />}\n                            />\n                        )}\n                        <Tab label=\"使用激活码\" icon={<LocalPlay />} />\n                    </Tabs>\n                </AppBar>\n                {this.state.value === 0 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={3}>\n                            {this.state.packs.map((value, id) => (\n                                <Grid item xs={12} md={3} key={id}>\n                                    <PackSelect\n                                        pack={value}\n                                        onSelect={() => this.selectPack(id)}\n                                        active={this.state.selectedPack === id}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {(\n                                                                (this.state\n                                                                    .packs[\n                                                                    this.state\n                                                                        .selectedPack\n                                                                ].price /\n                                                                    100) *\n                                                                this.state.times\n                                                            ).toFixed(2)}\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                        {this.state.packPayMethod ===\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {this.state.packs[\n                                                                this.state\n                                                                    .selectedPack\n                                                            ].score *\n                                                                this.state\n                                                                    .times}{\" \"}\n                                                            积分\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() => this.buyPack(\"pack\")}\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n                {this.state.value === 1 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={5} alignItems=\"flex-end\">\n                            {this.state.groups.map((tier, id) => (\n                                // Enterprise card is full width at sm breakpoint\n                                <Grid item key={id} xs={12} sm={6} md={4}>\n                                    <Card>\n                                        <CardHeader\n                                            title={tier.name}\n                                            subheader={\n                                                tier.highlight ? \"推荐\" : null\n                                            }\n                                            titleTypographyProps={{\n                                                align: \"center\",\n                                            }}\n                                            subheaderTypographyProps={{\n                                                align: \"center\",\n                                            }}\n                                            action={\n                                                tier.highlight ? (\n                                                    <StarIcon />\n                                                ) : null\n                                            }\n                                            className={classes.cardHeader}\n                                        />\n                                        <CardContent>\n                                            <div\n                                                className={classes.cardPricing}\n                                            >\n                                                <Typography\n                                                    component=\"h2\"\n                                                    variant=\"h3\"\n                                                    color=\"textPrimary\"\n                                                >\n                                                    ￥{tier.price / 100}\n                                                </Typography>\n                                                <Typography\n                                                    variant=\"h6\"\n                                                    color=\"textSecondary\"\n                                                >\n                                                    /\n                                                    {Math.ceil(\n                                                        tier.time / 86400\n                                                    )}\n                                                    天\n                                                </Typography>\n                                            </div>\n                                            {tier.des.map((line) => (\n                                                <Typography\n                                                    variant=\"subtitle1\"\n                                                    align=\"center\"\n                                                    key={line}\n                                                >\n                                                    {line}\n                                                </Typography>\n                                            ))}\n                                        </CardContent>\n                                        <CardActions\n                                            className={classes.cardActions}\n                                        >\n                                            <Button\n                                                fullWidth\n                                                variant={\n                                                    tier.highlight\n                                                        ? \"contained\"\n                                                        : \"outlined\"\n                                                }\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    this.selectGroup(id)\n                                                }\n                                            >\n                                                立即购买\n                                            </Button>\n                                        </CardActions>\n                                    </Card>\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 2 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                <span>\n                                                    {(\n                                                        (this.state.scorePrice /\n                                                            100) *\n                                                        this.state.scoreNum\n                                                    ).toFixed(2)}\n                                                </span>\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() =>\n                                                this.buyPack(\"score\")\n                                            }\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 3 && (\n                    <Paper className={classes.paper} square={true}>\n                        <div className={classes.redeemContainer}>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"输入激活码\"\n                                value={this.state.redeemCode}\n                                onChange={this.handleTexyChange(\"redeemCode\")}\n                                margin=\"normal\"\n                                inputProps={{\n                                    style: { textTransform: \"uppercase\" },\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.doRedeem}>\n                                <Button\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    className={classes.button}\n                                    disabled={this.state.loading}\n                                    onClick={this.doRedeem}\n                                >\n                                    下一步\n                                </Button>\n                            </div>\n                        </div>\n                    </Paper>\n                )}\n                <Dialog\n                    open={this.state.dialog === \"qr\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            请使用\n                            {this.state.payment.type === \"alipay\" && (\n                                <span>支付宝</span>\n                            )}\n                            {this.state.payment.type === \"payjs\" && (\n                                <span>微信</span>\n                            )}\n                            扫描下方二维码完成付款，付款完成后本页面会自动刷新。\n                        </DialogContentText>\n                        <div className={classes.codeContainer}>\n                            <QRCode value={this.state.payment.img} />,\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"success\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付完成</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            您所购买的商品已到账。\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"redeem\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">确认兑换</DialogTitle>\n                    <DialogContent>\n                        {this.state.redeemInfo !== null && (\n                            <DialogContentText id=\"alert-dialog-description\">\n                                <Typography variant=\"subtitle1\">\n                                    商品名称：\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.name}\n                                </Typography>\n                                <Typography variant=\"subtitle1\">\n                                    {this.state.redeemInfo.type === 2\n                                        ? \"数量：\"\n                                        : \"时长：\"}\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.type === 2 && (\n                                        <>{this.state.redeemInfo.num}</>\n                                    )}\n                                    {this.state.redeemInfo.type !== 2 && (\n                                        <>\n                                            {Math.ceil(\n                                                this.state.redeemInfo.time /\n                                                    86400\n                                            ) * this.state.redeemInfo.num}\n                                            天\n                                        </>\n                                    )}\n                                </Typography>\n                            </DialogContentText>\n                        )}\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose}>取消</Button>\n                        <Button\n                            onClick={this.confirmRedeem}\n                            color=\"primary\"\n                            disabled={this.state.loading}\n                        >\n                            确认兑换\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"buyGroup\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">\n                        购买用户组\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            已选：\n                            {this.state.selectedGroup !== -1 &&\n                                this.state.groups[this.state.selectedGroup]\n                                    .name}\n                        </DialogContentText>\n                        {methodSelect}\n                        <div>\n                            当前费用：\n                            {this.state.packPayMethod !== \"score\" && (\n                                <span className={classes.priceShow}>\n                                    ￥\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {(\n                                                    (this.state.groups[\n                                                        this.state.selectedGroup\n                                                    ].price /\n                                                        100) *\n                                                    this.state.times\n                                                ).toFixed(2)}\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                            {this.state.packPayMethod === \"score\" && (\n                                <span className={classes.priceShow}>\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {this.state.groups[\n                                                    this.state.selectedGroup\n                                                ].score * this.state.times}{\" \"}\n                                                积分\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button\n                            onClick={this.handleClose}\n                            disabled={this.state.loading}\n                        >\n                            取消\n                        </Button>\n                        <Button\n                            disabled={\n                                this.state.loading ||\n                                this.state.packPayMethod === null\n                            }\n                            onClick={() => this.buyPack(\"group\")}\n                            color=\"primary\"\n                        >\n                            购买\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst BuyQuota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(BuyQuotaCompoment)));\n\nexport default BuyQuota;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FolderOpenOutlined, LabelOutlined } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1),\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color: theme.palette.text.secondary,\n    },\n    input: {\n        width: 250,\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24,\n    },\n    button: {\n        marginTop: 8,\n    },\n}));\n\nexport default function CreateWebDAVAccount(props) {\n    const [value, setValue] = useState({\n        name: \"\",\n        path: \"/\",\n    });\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n    const classes = useStyles();\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = (name) => (e) => {\n        setValue({\n            ...value,\n            [name]: e.target.value,\n        });\n    };\n\n    const selectPath = () => {\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath,\n        });\n        setPathSelectDialog(false);\n    };\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    selected={[]}\n                    onSelect={setMoveTarget}\n                />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button\n                        onClick={selectPath}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\"}\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <LabelOutlined />\n                        </div>\n\n                        <TextField\n                            className={classes.input}\n                            value={value.name}\n                            onChange={handleInputChange(\"name\")}\n                            label=\"备注名\"\n                        />\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"相对根目录\"\n                            />\n                            <br />\n                            <Button\n                                className={classes.button}\n                                color=\"primary\"\n                                onClick={() => setPathSelectDialog(true)}\n                            >\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    disabled={value.path === \"\" || value.name === \"\"}\n                    color=\"primary\"\n                    onClick={() => props.callback(value)}\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { FolderOpenOutlined, Storage } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { toggleSnackbar } from \"../../actions\";\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1),\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color: theme.palette.text.secondary,\n    },\n    input: {\n        width: 250,\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24,\n    },\n    button: {\n        marginTop: 8,\n    },\n}));\n\nexport default function CreateWebDAVMount(props) {\n    const [value, setValue] = useState({\n        policy: \"\",\n        path: \"/\",\n    });\n    const [policies, setPolicies] = useState([]);\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = (name) => (e) => {\n        setValue({\n            ...value,\n            [name]: e.target.value,\n        });\n    };\n\n    const selectPath = () => {\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath,\n        });\n        setPathSelectDialog(false);\n    };\n\n    useEffect(() => {\n        API.get(\"/user/setting/policies\")\n            .then((response) => {\n                setPolicies(response.data.options);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    selected={[]}\n                    onSelect={setMoveTarget}\n                />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button\n                        onClick={selectPath}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\"}\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <Storage />\n                        </div>\n                        <FormControl className={classes.formControl}>\n                            <InputLabel id=\"demo-simple-select-label\">\n                                存储策略\n                            </InputLabel>\n                            <Select\n                                className={classes.input}\n                                labelId=\"demo-simple-select-label\"\n                                value={value.policy}\n                                onChange={handleInputChange(\"policy\")}\n                            >\n                                {policies.map((v, k) => (\n                                    <MenuItem key={k} value={v.id}>\n                                        {v.name}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"目录\"\n                            />\n                            <br />\n                            <Button\n                                className={classes.button}\n                                color=\"primary\"\n                                onClick={() => setPathSelectDialog(true)}\n                            >\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    disabled={value.path === \"\" || value.policy === \"\"}\n                    color=\"primary\"\n                    onClick={() => props.callback(value)}\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Button from \"@material-ui/core/Button\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Delete } from \"@material-ui/icons\";\nimport CreateWebDAVAccount from \"../Modals/CreateWebDAVAccount\";\nimport TimeAgo from \"timeago-react\";\nimport CreateWebDAVMount from \"../Modals/CreateWebDAVMount\";\nimport Link from \"@material-ui/core/Link\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n    content: {\n        marginTop: theme.spacing(4),\n    },\n    cardContent: {\n        padding: theme.spacing(2),\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n    create: {\n        marginTop: theme.spacing(2),\n    },\n    copy: {\n        marginLeft: 10,\n    },\n}));\n\nexport default function WebDAV() {\n    const [tab, setTab] = useState(0);\n    const [create, setCreate] = useState(false);\n    const [mount, setMount] = useState(false);\n    const [accounts, setAccounts] = useState([]);\n    const [folders, setFolders] = useState([]);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const copyToClipboard = (text) => {\n        navigator.clipboard.writeText(text);\n        ToggleSnackbar(\"top\", \"center\", \"已复制到剪切板\", \"success\");\n    };\n\n    const loadList = () => {\n        API.get(\"/webdav/accounts\")\n            .then((response) => {\n                setAccounts(response.data.accounts);\n                setFolders(response.data.folders);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n    useEffect(() => {\n        loadList();\n        // eslint-disable-next-line\n    }, []);\n\n    const deleteAccount = (id) => {\n        const account = accounts[id];\n        API.delete(\"/webdav/accounts/\" + account.ID)\n            .then(() => {\n                let accountCopy = [...accounts];\n                accountCopy = accountCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setAccounts(accountCopy);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const deleteMount = (id) => {\n        const folder = folders[id];\n        API.delete(\"/webdav/mount/\" + folder.id)\n            .then(() => {\n                let folderCopy = [...folders];\n                folderCopy = folderCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setFolders(folderCopy);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addAccount = (account) => {\n        setCreate(false);\n        API.post(\"/webdav/accounts\", {\n            path: account.path,\n            name: account.name,\n        })\n            .then((response) => {\n                setAccounts([\n                    {\n                        ID: response.data.id,\n                        Password: response.data.password,\n                        CreatedAt: response.data.created_at,\n                        Name: account.name,\n                        Root: account.path,\n                    },\n                    ...accounts,\n                ]);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addMount = (mountInfo) => {\n        setMount(false);\n        API.post(\"/webdav/mount\", {\n            path: mountInfo.path,\n            policy: mountInfo.policy,\n        })\n            .then(() => {\n                loadList();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const user = Auth.GetUser();\n\n    return (\n        <div className={classes.layout}>\n            <CreateWebDAVAccount\n                callback={addAccount}\n                open={create}\n                onClose={() => setCreate(false)}\n            />\n            <CreateWebDAVMount\n                callback={addMount}\n                open={mount}\n                onClose={() => setMount(false)}\n            />\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                WebDAV\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Tabs\n                    value={tab}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    onChange={(event, newValue) => setTab(newValue)}\n                    aria-label=\"disabled tabs example\"\n                >\n                    <Tab label=\"账号管理\" />\n                    <Tab label=\"存储策略挂载\" />\n                </Tabs>\n                <div className={classes.cardContent}>\n                    {tab === 0 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                WebDAV的地址为：\n                                {window.location.origin + \"/dav\"}\n                                ；登陆用户名统一为：{user.user_name}{\" \"}\n                                ；密码为所创建账号的密码。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>备注名</TableCell>\n                                            <TableCell>密码</TableCell>\n                                            <TableCell align=\"right\">\n                                                根目录\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                创建日期\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {accounts.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.Name}\n                                                </TableCell>\n                                                <TableCell>\n                                                    {row.Password}\n                                                    <Link\n                                                        className={classes.copy}\n                                                        onClick={() =>\n                                                            copyToClipboard(\n                                                                row.Password\n                                                            )\n                                                        }\n                                                        href={\"javascript:void\"}\n                                                    >\n                                                        复制\n                                                    </Link>\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.Root}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <TimeAgo\n                                                        datetime={row.CreatedAt}\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteAccount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setCreate(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                创建新账号\n                            </Button>\n                        </div>\n                    )}\n                    {tab === 1 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                为目录挂载存储策略后，在 WebDAV\n                                中上传至此目录的新文件将会使用挂载的存储策略存储。复制、移动到此目录不会应用挂载的存储策略；挂载设置不会被子目录继承。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    size=\"small\"\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>目录名</TableCell>\n                                            <TableCell align=\"right\">\n                                                挂载存储策略\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {folders.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.policy_name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteMount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setMount(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                挂载新目录\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport API from \"../../middleware/Api\";\nimport TimeAgo from \"timeago-react\";\nimport { getTaskProgress, getTaskStatus, getTaskType } from \"../../config\";\nimport Pagination from \"@material-ui/lab/Pagination\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n    content: {\n        marginTop: theme.spacing(4),\n        overflowX: \"auto\",\n    },\n    cardContent: {\n        padding: theme.spacing(2),\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n    create: {\n        marginTop: theme.spacing(2),\n    },\n    noWrap: {\n        wordBreak: \"keepAll\",\n    },\n    footer: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function Tasks() {\n    const [tasks, setTasks] = useState([]);\n    const [total, setTotal] = useState(0);\n    const [page, setPage] = useState(1);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = (page) => {\n        API.get(\"/user/setting/tasks?page=\" + page)\n            .then((response) => {\n                setTasks(response.data.tasks);\n                setTotal(response.data.total);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList(page);\n        // eslint-disable-next-line\n    }, [page]);\n\n    const getError = (error) => {\n        if (error === \"\") {\n            return \"-\";\n        }\n        try {\n            const res = JSON.parse(error);\n            return res.msg;\n        } catch (e) {\n            return \"未知\";\n        }\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                任务队列\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Table className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell nowrap=\"nowrap\">创建于</TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                任务类型\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                状态\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                最后进度\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\">错误信息</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {tasks.map((row, id) => (\n                            <TableRow key={id}>\n                                <TableCell\n                                    nowrap=\"nowrap\"\n                                    component=\"th\"\n                                    scope=\"row\"\n                                >\n                                    <TimeAgo\n                                        datetime={row.create_date}\n                                        locale=\"zh_CN\"\n                                    />\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskType(row.type)}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskStatus(row.status)}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskProgress(row.type, row.progress)}\n                                </TableCell>\n                                <TableCell className={classes.noWrap}>\n                                    {getError(row.error)}\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n                <div className={classes.footer}>\n                    <Pagination\n                        count={Math.ceil(total / 10)}\n                        onChange={(e, v) => setPage(v)}\n                        color=\"secondary\"\n                    />\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\r\nimport { useParams } from \"react-router\";\n\nexport default function Ifm() {\r\n    const params = useParams(\"action\");\r\n\tlet iFrameHeight = '500px';\r\n\tlet iframe = null;\r\n\r\n    const getCookie =(name)=> {\r\n        const strcookie = document.cookie;//获取cookie字符串\r\n            const arrcookie = strcookie.split(\"; \");//分割\r\n            //遍历匹配\r\n            for ( let i = 0; i < arrcookie.length; i++) {\r\n                const arr = arrcookie[i].split(\"=\");\r\n                if (arr[0] == name){\r\n                    return unescape(arr[1]);\r\n                }\r\n            }\r\n        return null;\r\n    }\r\n\t\r\n    const ifmUrl = ()=>{\r\n        return \"/app/index.php?\" + params.action + \"&token=\" + getCookie(\"token\");\r\n    }\n     return (\n        <iframe \n                style={{width:'100%', overflow:'visible'}}\n                onLoad={() => {\r\n\t\t\t\t\tiFrameHeight = (document.documentElement.clientHeight - (document.documentElement.clientHeight * 0.075)) + 'px';\r\n\t\t\t\t\tiframe.height = iFrameHeight;\r\n                }} \r\n\t\t\t\tref={(c) => { iframe = c; }}\n                src={ifmUrl()} \n                width=\"100%\" \n                height={iFrameHeight} \n                frameBorder=\"0\"\n\t\t\t\tscrolling=\"auto\"\n            />\n     );\n}","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Paper,\n    Avatar,\n    Typography,\n    Tabs,\n    Tab,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    Grid,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport Pagination from \"@material-ui/lab/Pagination\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        marginBottom: \"30px\",\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    userNav: {\n        height: \"270px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"bottom\",\n    },\n    avatarContainer: {\n        height: \"80px\",\n        width: \"80px\",\n        borderRaidus: \"50%\",\n        margin: \"auto\",\n        marginTop: \"50px\",\n        boxShadow:\n            \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n        border: \"2px solid #fff\",\n    },\n    nickName: {\n        width: \"200px\",\n        margin: \"auto\",\n        textAlign: \"center\",\n        marginTop: \"1px\",\n        fontSize: \"25px\",\n        color: \"#ffffff\",\n        opacity: \"0.81\",\n    },\n    th: {\n        minWidth: \"106px\",\n    },\n    mobileHide: {\n        [theme.breakpoints.down(\"md\")]: {\n            display: \"none\",\n        },\n    },\n    tableLink: {\n        cursor: \"pointer\",\n    },\n    navigator: {\n        padding: theme.spacing(2),\n    },\n    pageInfo: {\n        marginTop: \"14px\",\n        marginLeft: \"23px\",\n    },\n    infoItem: {\n        paddingLeft: \"46px!important\",\n        paddingBottom: \"20px!important\",\n    },\n    infoContainer: {\n        marginTop: \"30px\",\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass ProfileCompoment extends Component {\n    state = {\n        listType: 0,\n        shareList: [],\n        page: 1,\n        user: null,\n        total: 0,\n    };\n\n    handleChange = (event, listType) => {\n        this.setState({ listType });\n        if (listType === 1) {\n            this.loadList(1, \"hot\");\n        } else if (listType === 0) {\n            this.loadList(1, \"default\");\n        }\n    };\n\n    componentDidMount = () => {\n        this.loadList(1, \"default\");\n    };\n\n    loadList = (page, order) => {\n        API.get(\n            \"/user/profile/\" +\n                this.props.match.params.id +\n                \"?page=\" +\n                page +\n                \"&type=\" +\n                order\n        )\n            .then((response) => {\n                this.setState({\n                    shareList: response.data.items,\n                    user: response.data.user,\n                    total: response.data.total,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadNext = () => {\n        this.loadList(\n            this.state.page + 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    loadPrev = () => {\n        this.loadList(\n            this.state.page - 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                {this.state.user === null && <div></div>}\n                {this.state.user !== null && (\n                    <Paper square>\n                        <div className={classes.userNav}>\n                            <div>\n                                <Avatar\n                                    className={classes.avatarContainer}\n                                    src={\n                                        \"/api/v3/user/avatar/\" +\n                                        this.state.user.id +\n                                        \"/l\"\n                                    }\n                                />\n                            </div>\n                            <div>\n                                <Typography className={classes.nickName} noWrap>\n                                    {this.state.user.nick}\n                                </Typography>\n                            </div>\n                        </div>\n                        <Tabs\n                            value={this.state.listType}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            onChange={this.handleChange}\n                            centered\n                        >\n                            <Tab label=\"全部分享\" />\n                            <Tab label=\"热门分享\" />\n                            <Tab label=\"个人资料\" />\n                        </Tabs>\n                        {this.state.listType === 2 && (\n                            <div className={classes.infoContainer}>\n                                <Grid container spacing={24}>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            UID\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.id}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            昵称\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.nick}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            用户组\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.group}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            分享总数\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.total}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            注册日期\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.date}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        )}\n                        {(this.state.listType === 0 ||\n                            this.state.listType === 1) && (\n                            <div>\n                                <div className={classes.tableContainer}>\n                                    <Table className={classes.table}>\n                                        <TableHead>\n                                            <TableRow>\n                                                <TableCell>文件名</TableCell>\n                                                <TableCell\n                                                    className={\n                                                        classes.mobileHide\n                                                    }\n                                                >\n                                                    分享日期\n                                                </TableCell>\n                                                <TableCell\n                                                    className={[\n                                                        classes.th,\n                                                        classes.mobileHide,\n                                                    ]}\n                                                >\n                                                    下载次数\n                                                </TableCell>\n                                                <TableCell\n                                                    className={[\n                                                        classes.th,\n                                                        classes.mobileHide,\n                                                    ]}\n                                                >\n                                                    浏览次数\n                                                </TableCell>\n                                            </TableRow>\n                                        </TableHead>\n                                        <TableBody>\n                                            {this.state.shareList.map(\n                                                (row, id) => (\n                                                    <TableRow\n                                                        key={id}\n                                                        className={\n                                                            classes.tableLink\n                                                        }\n                                                        onClick={() =>\n                                                            this.props.history.push(\n                                                                \"/s/\" + row.key\n                                                            )\n                                                        }\n                                                    >\n                                                        <TableCell>\n                                                            <Typography>\n                                                                {row.source\n                                                                    ? row.source\n                                                                          .name\n                                                                    : \"[已失效]\"}\n                                                            </Typography>\n                                                        </TableCell>\n                                                        <TableCell\n                                                            nowrap={\"nowrap\"}\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.create_date}\n                                                        </TableCell>\n                                                        <TableCell\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.downloads}\n                                                        </TableCell>\n                                                        <TableCell\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.views}\n                                                        </TableCell>\n                                                    </TableRow>\n                                                )\n                                            )}\n                                        </TableBody>\n                                    </Table>\n                                </div>\n                                {this.state.shareList.length !== 0 &&\n                                    this.state.listType === 0 && (\n                                        <div className={classes.navigator}>\n                                            <Pagination\n                                                count={Math.ceil(\n                                                    this.state.total / 10\n                                                )}\n                                                onChange={(e, v) =>\n                                                    this.loadList(\n                                                        v,\n                                                        this.state.listType ===\n                                                            0\n                                                            ? \"default\"\n                                                            : \"hot\"\n                                                    )\n                                                }\n                                                color=\"secondary\"\n                                            />\n                                        </div>\n                                    )}\n                            </div>\n                        )}\n                    </Paper>\n                )}\n            </div>\n        );\n    }\n}\n\nconst Profile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ProfileCompoment)));\n\nexport default Profile;\n","import React, { useState, useCallback } from \"react\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport { Add, Fingerprint, HighlightOff } from \"@material-ui/icons\";\nimport API from \"../../middleware/Api\";\nimport { bufferDecode, bufferEncode } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\",\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40,\n    },\n    flexContainer: {\n        display: \"flex\",\n    },\n}));\n\nexport default function Authn(props) {\n    const [selected, setSelected] = useState(\"\");\n    const [confirm, setConfirm] = useState(false);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const deleteCredential = (id) => {\n        API.patch(\"/user/setting/authn\", {\n            id: id,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"凭证已删除\", \"success\");\n                props.remove(id);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setConfirm(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    const addCredential = () => {\n        if (!navigator.credentials) {\n            ToggleSnackbar(\"top\", \"right\", \"当前浏览器或环境不支持\", \"warning\");\n\n            return;\n        }\n        API.put(\"/user/authn\", {})\n            .then((response) => {\n                const credentialCreationOptions = response.data;\n                credentialCreationOptions.publicKey.challenge = bufferDecode(\n                    credentialCreationOptions.publicKey.challenge\n                );\n                credentialCreationOptions.publicKey.user.id = bufferDecode(\n                    credentialCreationOptions.publicKey.user.id\n                );\n                if (credentialCreationOptions.publicKey.excludeCredentials) {\n                    for (\n                        let i = 0;\n                        i <\n                        credentialCreationOptions.publicKey.excludeCredentials\n                            .length;\n                        i++\n                    ) {\n                        credentialCreationOptions.publicKey.excludeCredentials[\n                            i\n                        ].id = bufferDecode(\n                            credentialCreationOptions.publicKey\n                                .excludeCredentials[i].id\n                        );\n                    }\n                }\n\n                return navigator.credentials.create({\n                    publicKey: credentialCreationOptions.publicKey,\n                });\n            })\n            .then((credential) => {\n                const attestationObject = credential.response.attestationObject;\n                const clientDataJSON = credential.response.clientDataJSON;\n                const rawId = credential.rawId;\n                return API.put(\n                    \"/user/authn/finish\",\n                    JSON.stringify({\n                        id: credential.id,\n                        rawId: bufferEncode(rawId),\n                        type: credential.type,\n                        response: {\n                            attestationObject: bufferEncode(attestationObject),\n                            clientDataJSON: bufferEncode(clientDataJSON),\n                        },\n                    })\n                );\n            })\n            .then((response) => {\n                props.add(response.data);\n                ToggleSnackbar(\"top\", \"right\", \"验证器已添加\", \"success\");\n                return;\n            })\n            .catch((error) => {\n                console.log(error);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <div>\n            <Dialog open={confirm} onClose={() => setConfirm(false)}>\n                <DialogTitle>删除凭证</DialogTitle>\n                <DialogContent>确定要吊销这个凭证吗？</DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setConfirm(false)} color=\"default\">\n                        取消\n                    </Button>\n                    <Button\n                        onClick={() => deleteCredential(selected)}\n                        color=\"primary\"\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Typography className={classes.sectionTitle} variant=\"subtitle2\">\n                外部认证器\n            </Typography>\n            <Paper>\n                <List className={classes.desenList}>\n                    {props.list.map((v) => (\n                        <>\n                            <ListItem\n                                button\n                                style={{\n                                    paddingRight: 60,\n                                }}\n                                onClick={() => {\n                                    setConfirm(true);\n                                    setSelected(v.id);\n                                }}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Fingerprint />\n                                </ListItemIcon>\n                                <ListItemText primary={v.fingerprint} />\n\n                                <ListItemSecondaryAction\n                                    onClick={() => deleteCredential(v.id)}\n                                    className={classes.flexContainer}\n                                >\n                                    <HighlightOff\n                                        className={classes.rightIcon}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                        </>\n                    ))}\n                    <ListItem button onClick={() => addCredential()}>\n                        <ListItemIcon className={classes.iconFix}>\n                            <Add />\n                        </ListItemIcon>\n                        <ListItemText primary=\"添加新验证器\" />\n\n                        <ListItemSecondaryAction\n                            className={classes.flexContainer}\n                        >\n                            <RightIcon className={classes.rightIcon} />\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                </List>\n            </Paper>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PhotoIcon from \"@material-ui/icons/InsertPhoto\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport DateIcon from \"@material-ui/icons/DateRange\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport LinkIcon from \"@material-ui/icons/Phonelink\";\nimport AlarmOff from \"@material-ui/icons/AlarmOff\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport SecurityIcon from \"@material-ui/icons/Security\";\nimport NickIcon from \"@material-ui/icons/PermContactCalendar\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport VerifyIcon from \"@material-ui/icons/VpnKey\";\nimport ColorIcon from \"@material-ui/icons/Palette\";\nimport {\n    applyThemes,\n    changeViewMethod,\n    toggleDaylightMode,\n    toggleSnackbar,\n} from \"../../actions\";\nimport axios from \"axios\";\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport {\n    ListItemIcon,\n    withStyles,\n    Button,\n    Divider,\n    TextField,\n    Avatar,\n    Paper,\n    Typography,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    ListItemAvatar,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Switch,\n} from \"@material-ui/core\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport SettingsInputHdmi from \"@material-ui/icons/SettingsInputHdmi\";\nimport { blue, green, yellow } from \"@material-ui/core/colors\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { withRouter } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\nimport QRCode from \"qrcode-react\";\nimport {\n    Brightness3,\n    Check,\n    ConfirmationNumber,\n    ListAlt,\n    PermContactCalendar,\n} from \"@material-ui/icons\";\nimport { transformTime } from \"../../utils\";\nimport Authn from \"./Authn\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\",\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    userGravatar: {\n        backgroundColor: yellow[100],\n        color: yellow[800],\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800],\n    },\n    infoText: {\n        marginRight: \"17px\",\n    },\n    infoTextWithIcon: {\n        marginRight: \"17px\",\n        marginTop: \"1px\",\n    },\n    rightIconWithText: {\n        marginTop: \"0px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40,\n    },\n    flexContainer: {\n        display: \"flex\",\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    flexContainerResponse: {\n        display: \"flex\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"initial\",\n        },\n    },\n    desText: {\n        marginTop: \"10px\",\n    },\n    secondColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.secondary.main,\n        borderRadius: \"50%\",\n        marginRight: \"17px\",\n    },\n    firstColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: \"50%\",\n        marginRight: \"6px\",\n    },\n    themeBlock: {\n        height: \"20px\",\n        width: \"20px\",\n    },\n    paddingBottom: {\n        marginBottom: \"30px\",\n    },\n    paddingText: {\n        paddingRight: theme.spacing(2),\n    },\n    qrcode: {\n        width: 128,\n        marginTop: 16,\n        marginRight: 16,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        title: state.siteConfig.title,\n        authn: state.siteConfig.authn,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        applyThemes: (color) => {\n            dispatch(applyThemes(color));\n        },\n        toggleDaylightMode: () => {\n            dispatch(toggleDaylightMode());\n        },\n        changeView: (method) => {\n            dispatch(changeViewMethod(method));\n        },\n    };\n};\n\nclass UserSettingCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.fileInput = React.createRef();\n    }\n\n    state = {\n        avatarModal: false,\n        nickModal: false,\n        changePassword: false,\n        loading: \"\",\n        oldPwd: \"\",\n        newPwd: \"\",\n        webdavPwd: \"\",\n        newPwdRepeat: \"\",\n        twoFactor: false,\n        authCode: \"\",\n        changeTheme: false,\n        chosenTheme: null,\n        showWebDavUrl: false,\n        showWebDavUserName: false,\n        changeWebDavPwd: false,\n        groupBackModal: false,\n        changePolicy: false,\n        settings: {\n            uid: 0,\n            group_expires: 0,\n            policy: {\n                current: {\n                    name: \"-\",\n                    id: \"\",\n                },\n                options: [],\n            },\n            qq: \"\",\n            homepage: true,\n            two_factor: \"\",\n            two_fa_secret: \"\",\n            prefer_theme: \"\",\n            themes: {},\n            authn: [],\n        },\n    };\n\n    handleClose = () => {\n        this.setState({\n            avatarModal: false,\n            nickModal: false,\n            changePassword: false,\n            loading: \"\",\n            twoFactor: false,\n            changeTheme: false,\n            showWebDavUrl: false,\n            showWebDavUserName: false,\n            changeWebDavPwd: false,\n            groupBackModal: false,\n            changePolicy: false,\n        });\n    };\n\n    componentDidMount() {\n        this.loadSetting();\n    }\n\n    toggleViewMethod = () => {\n        const newMethod =\n            this.props.viewMethod === \"icon\"\n                ? \"list\"\n                : this.props.viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        this.props.changeView(newMethod);\n    };\n\n    loadSetting = () => {\n        API.get(\"/user/setting\")\n            .then((response) => {\n                const theme = JSON.parse(response.data.themes);\n                response.data.themes = theme;\n                this.setState({\n                    settings: response.data,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doChangeGroup = () => {\n        API.patch(\"/user/setting/vip\", {})\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"解约成功，更改会在数分钟后生效\",\n                    \"success\"\n                );\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useGravatar = () => {\n        this.setState({\n            loading: \"gravatar\",\n        });\n        API.put(\"/user/setting/avatar\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changePolicy = (id) => {\n        API.patch(\"/user/setting/policy\", {\n            id: id,\n        })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changeNick = () => {\n        this.setState({\n            loading: \"nick\",\n        });\n        API.patch(\"/user/setting/nick\", {\n            nick: this.state.nick,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"昵称已更改，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    bindQQ = () => {\n        this.setState({\n            loading: \"nick\",\n        });\n        API.patch(\"/user/setting/qq\", {})\n            .then((response) => {\n                if (response.data === \"\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"已解除与QQ账户的关联\",\n                        \"success\"\n                    );\n                    this.setState({\n                        settings: {\n                            ...this.state.settings,\n                            qq: false,\n                        },\n                    });\n                } else {\n                    window.location.href = response.data;\n                }\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    uploadAvatar = () => {\n        this.setState({\n            loading: \"avatar\",\n        });\n        const formData = new FormData();\n        formData.append(\"avatar\", this.fileInput.current.files[0]);\n        API.post(\"/user/setting/avatar\", formData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n            },\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    handleToggle = () => {\n        API.patch(\"/user/setting/homepage\", {\n            status: !this.state.settings.homepage,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设置已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    settings: {\n                        ...this.state.settings,\n                        homepage: !this.state.settings.homepage,\n                    },\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changhePwd = () => {\n        if (this.state.newPwd !== this.state.newPwdRepeat) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"两次密码输入不一致\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: \"changePassword\",\n        });\n        API.patch(\"/user/setting/password\", {\n            old: this.state.oldPwd,\n            new: this.state.newPwd,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"密码已更新\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changeTheme = () => {\n        this.setState({\n            loading: \"changeTheme\",\n        });\n        API.patch(\"/user/setting/theme\", {\n            theme: this.state.chosenTheme,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"主题配色已更换\",\n                    \"success\"\n                );\n                this.props.applyThemes(this.state.chosenTheme);\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changheWebdavPwd = () => {\n        this.setState({\n            loading: \"changheWebdavPwd\",\n        });\n        axios\n            .post(\"/Member/setWebdavPwd\", {\n                pwd: this.state.webdavPwd,\n            })\n            .then((response) => {\n                if (response.data.error === \"1\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"error\"\n                    );\n                    this.setState({\n                        loading: \"\",\n                    });\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"success\"\n                    );\n                    this.setState({\n                        loading: \"\",\n                        changeWebDavPwd: false,\n                    });\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    init2FA = () => {\n        if (this.state.settings.two_factor) {\n            this.setState({ twoFactor: true });\n            return;\n        }\n        API.get(\"/user/setting/2fa\")\n            .then((response) => {\n                this.setState({\n                    two_fa_secret: response.data,\n                    twoFactor: true,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    twoFactor = () => {\n        this.setState({\n            loading: \"twoFactor\",\n        });\n        API.patch(\"/user/setting/2fa\", {\n            code: this.state.authCode,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设定已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                    settings: {\n                        ...this.state.settings,\n                        two_factor: !this.state.settings.two_factor,\n                    },\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    handleAlignment = (event, chosenTheme) => this.setState({ chosenTheme });\n\n    toggleThemeMode = (current) => {\n        if (current !== null) {\n            this.props.toggleDaylightMode();\n            Auth.SetPreference(\"theme_mode\", null);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const dark = Auth.GetPreference(\"theme_mode\");\n\n        return (\n            <div>\n                <div className={classes.layout}>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个人资料\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ avatarModal: true })\n                                }\n                            >\n                                <ListItemAvatar>\n                                    <Avatar\n                                        src={\n                                            \"/api/v3/user/avatar/\" +\n                                            user.id +\n                                            \"/l\"\n                                        }\n                                    />\n                                </ListItemAvatar>\n                                <ListItemText primary=\"头像\" />\n                                <ListItemSecondaryAction>\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <PermContactCalendar />\n                                </ListItemIcon>\n                                <ListItemText primary=\"UID\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.uid}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ nickModal: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <NickIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"昵称\" />\n\n                                <ListItemSecondaryAction\n                                    onClick={() =>\n                                        this.setState({ nickModal: true })\n                                    }\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.nickname}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <EmailIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Email\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.user_name}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.props.history.push(\"/buy?tab=1\")\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <GroupIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"用户组\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.group.name}\n                                        {this.state.settings.group_expires >\n                                            0 && (\n                                            <span>\n                                                {\" \"}\n                                                <Tooltip\n                                                    title={transformTime(\n                                                        this.state.settings\n                                                            .group_expires *\n                                                            1000\n                                                    )}\n                                                >\n                                                    <TimeAgo\n                                                        datetime={\n                                                            this.state.settings\n                                                                .group_expires +\n                                                            \"000\"\n                                                        }\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </Tooltip>{\" \"}\n                                                过期\n                                            </span>\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            {this.state.settings.group_expires > 0 && (\n                                <div>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                groupBackModal: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <AlarmOff />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"手动解约当前用户组\" />\n\n                                        <ListItemSecondaryAction>\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </div>\n                            )}\n                            <Divider />\n                            <ListItem button onClick={() => this.bindQQ()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <SettingsInputHdmi />\n                                </ListItemIcon>\n                                <ListItemText primary=\"QQ账号\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.qq\n                                            ? \"解除绑定\"\n                                            : \"绑定\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePolicy: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Backup />\n                                </ListItemIcon>\n                                <ListItemText primary=\"存储策略\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {\n                                            this.state.settings.policy.current\n                                                .name\n                                        }\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ConfirmationNumber />\n                                </ListItemIcon>\n                                <ListItemText primary=\"积分\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.score}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <DateIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"注册时间\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {transformTime(\n                                            parseInt(user.created_at + \"000\")\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        安全隐私\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <HomeIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"个人主页\" />\n\n                                <ListItemSecondaryAction>\n                                    <Switch\n                                        onChange={this.handleToggle}\n                                        checked={this.state.settings.homepage}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePassword: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <LockIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"登录密码\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button onClick={() => this.init2FA()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <VerifyIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"二步验证\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {!this.state.settings.two_factor\n                                            ? \"未开启\"\n                                            : \"已开启\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n\n                    <Authn\n                        list={this.state.settings.authn}\n                        add={(credential) => {\n                            this.setState({\n                                settings: {\n                                    ...this.state.settings,\n                                    authn: [\n                                        ...this.state.settings.authn,\n                                        credential,\n                                    ],\n                                },\n                            });\n                        }}\n                        remove={(id) => {\n                            let credentials = [...this.state.settings.authn];\n                            credentials = credentials.filter((v) => {\n                                return v.id !== id;\n                            });\n                            this.setState({\n                                settings: {\n                                    ...this.state.settings,\n                                    authn: credentials,\n                                },\n                            });\n                        }}\n                    />\n\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个性化\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changeTheme: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ColorIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"主题配色\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <div className={classes.firstColor}></div>\n                                    <div className={classes.secondColor}></div>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() => this.toggleThemeMode(dark)}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Brightness3 />\n                                </ListItemIcon>\n                                <ListItemText primary=\"黑暗模式\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {dark &&\n                                            (dark === \"dark\"\n                                                ? \"偏好开启\"\n                                                : \"偏好关闭\")}\n                                        {dark === null && \"跟随系统\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() => this.toggleViewMethod()}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ListAlt />\n                                </ListItemIcon>\n                                <ListItemText primary=\"文件列表\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.props.viewMethod === \"icon\" &&\n                                            \"大图标\"}\n                                        {this.props.viewMethod === \"list\" &&\n                                            \"列表\"}\n                                        {this.props.viewMethod ===\n                                            \"smallIcon\" && \"小图标\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    {user.group.webdav && (\n                        <div>\n                            <Typography\n                                className={classes.sectionTitle}\n                                variant=\"subtitle2\"\n                            >\n                                WebDAV\n                            </Typography>\n                            <Paper>\n                                <List className={classes.desenList}>\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUrl: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <LinkIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"连接地址\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUserName: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <InputIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"用户名\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <SecurityIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"账号管理\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            </Paper>\n                        </div>\n                    )}\n                    <div className={classes.paddingBottom}></div>\n                </div>\n                <Dialog\n                    open={this.state.changePolicy}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>切换存储策略</DialogTitle>\n                    <List>\n                        {this.state.settings.policy.options.map(\n                            (value, index) => (\n                                <ListItem\n                                    button\n                                    component=\"label\"\n                                    key={index}\n                                    onClick={() => this.changePolicy(value.id)}\n                                >\n                                    <ListItemAvatar>\n                                        {value.id ===\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.policySelected\n                                                }\n                                            >\n                                                <Check />\n                                            </Avatar>\n                                        )}\n                                        {value.id !==\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.uploadFromFile\n                                                }\n                                            >\n                                                <Backup />\n                                            </Avatar>\n                                        )}\n                                    </ListItemAvatar>\n                                    <ListItemText primary={value.name} />\n                                </ListItem>\n                            )\n                        )}\n                    </List>\n                </Dialog>\n                <Dialog\n                    open={this.state.avatarModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改头像</DialogTitle>\n                    <List>\n                        <ListItem\n                            button\n                            component=\"label\"\n                            disabled={this.state.loading === \"avatar\"}\n                        >\n                            <input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                style={{ display: \"none\" }}\n                                ref={this.fileInput}\n                                onChange={this.uploadAvatar}\n                            />\n                            <ListItemAvatar>\n                                <Avatar className={classes.uploadFromFile}>\n                                    <PhotoIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText primary=\"从文件上传\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            onClick={this.useGravatar}\n                            disabled={this.state.loading === \"gravatar\"}\n                        >\n                            <ListItemAvatar>\n                                <Avatar className={classes.userGravatar}>\n                                    <FingerprintIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                className={classes.paddingText}\n                                primary=\"使用 Gravatar 头像 \"\n                            />\n                        </ListItem>\n                    </List>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            取消\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.nickModal} onClose={this.handleClose}>\n                    <DialogTitle>修改昵称</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            label=\"昵称\"\n                            className={classes.textField}\n                            value={this.state.nick}\n                            onChange={this.handleChange(\"nick\")}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeNick}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"nick\" ||\n                                this.state.nick === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.groupBackModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>解约用户组</DialogTitle>\n                    <DialogContent>\n                        将要退回到初始用户组，且所支付金额无法退还，确定要继续吗？\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button onClick={this.doChangeGroup} color=\"primary\">\n                            确定\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changePassword}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改登录密码</DialogTitle>\n                    <DialogContent>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"原密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.oldPwd}\n                                onChange={this.handleChange(\"oldPwd\")}\n                                margin=\"normal\"\n                                autoFocus\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwd}\n                                onChange={this.handleChange(\"newPwd\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"确认新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwdRepeat}\n                                onChange={this.handleChange(\"newPwdRepeat\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changhePwd}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changePassword\" ||\n                                this.state.oldPwd === \"\" ||\n                                this.state.newPwdRepeat === \"\" ||\n                                this.state.newPwd === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.twoFactor} onClose={this.handleClose}>\n                    <DialogTitle>\n                        {this.state.settings.two_factor ? \"关闭\" : \"启用\"}\n                        二步验证\n                    </DialogTitle>\n                    <DialogContent>\n                        <div className={classes.flexContainerResponse}>\n                            {!this.state.settings.two_factor && (\n                                <div className={classes.qrcode}>\n                                    <QRCode\n                                        value={\n                                            \"otpauth://totp/\" +\n                                            this.props.title +\n                                            \"?secret=\" +\n                                            this.state.two_fa_secret\n                                        }\n                                    />\n                                </div>\n                            )}\n\n                            <div className={classes.desText}>\n                                {!this.state.settings.two_factor && (\n                                    <Typography>\n                                        请使用任意二步验证APP或者支持二步验证的密码管理软件扫描左侧二维码添加本站。扫描完成后请填写二步验证APP给出的6位验证码以开启二步验证。\n                                    </Typography>\n                                )}\n                                {this.state.settings.two_factor && (\n                                    <Typography>\n                                        请验证当前二步验证代码。\n                                    </Typography>\n                                )}\n                                <TextField\n                                    id=\"standard-name\"\n                                    label=\"6位验证码\"\n                                    type=\"number\"\n                                    className={classes.textField}\n                                    value={this.state.authCode}\n                                    onChange={this.handleChange(\"authCode\")}\n                                    margin=\"normal\"\n                                    autoFocus\n                                    fullWidth\n                                />\n                            </div>\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.twoFactor}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"twoFactor\" ||\n                                this.state.authCode === \"\"\n                            }\n                        >\n                            {this.state.settings.two_factor ? \"关闭\" : \"启用\"}\n                            二步验证\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changeTheme}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>更改主题配色</DialogTitle>\n                    <DialogContent>\n                        <ToggleButtonGroup\n                            value={this.state.chosenTheme}\n                            exclusive\n                            onChange={this.handleAlignment}\n                        >\n                            {Object.keys(this.state.settings.themes).map(\n                                (value, key) => (\n                                    <ToggleButton value={value} key={key}>\n                                        <div\n                                            className={classes.themeBlock}\n                                            style={{ backgroundColor: value }}\n                                        />\n                                    </ToggleButton>\n                                )\n                            )}\n                        </ToggleButtonGroup>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeTheme}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changeTheme\" ||\n                                this.state.chosenTheme === null\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUrl}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV连接地址</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={window.location.origin + \"/dav\"}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUserName}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV用户名</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={user.user_name}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst UserSetting = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserSettingCompoment)));\n\nexport default UserSetting;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { applyThemes, setSessionStatus, toggleSnackbar } from \"../../actions\";\nimport Notice from \"../Share/NotFound\";\nimport { useHistory, useLocation } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { enableUploaderLoad } from \"../../middleware/Init\";\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function QQCallback() {\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback((theme) => dispatch(applyThemes(theme)), [\n        dispatch,\n    ]);\n    const SetSessionStatus = useCallback(\n        (status) => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const [msg, setMsg] = useState(\"\");\n\n    const afterLogin = (data) => {\n        Auth.authenticate(data);\n\n        // 设置用户主题色\n        if (data[\"preferred_theme\"] !== \"\") {\n            ApplyThemes(data[\"preferred_theme\"]);\n        }\n        enableUploaderLoad();\n\n        // 设置登录状态\n        SetSessionStatus(true);\n\n        history.push(\"/home\");\n        ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n        localStorage.removeItem(\"siteConfigCache\");\n    };\n\n    useEffect(() => {\n        if (query.get(\"error_description\")) {\n            setMsg(query.get(\"error_description\"));\n            return;\n        }\n        if (query.get(\"code\") === null) {\n            return;\n        }\n        API.post(\"/callback/qq\", {\n            code: query.get(\"code\"),\n            state: query.get(\"state\"),\n        })\n            .then((response) => {\n                if (response.rawData.code === 203) {\n                    afterLogin(response.data);\n                } else {\n                    history.push(response.data);\n                }\n            })\n            .catch((error) => {\n                setMsg(error.message);\n            });\n        // eslint-disable-next-line\n    }, [location]);\n\n    return <>{msg !== \"\" && <Notice msg={msg} />}</>;\n}\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport RegIcon from \"@material-ui/icons/AssignmentIndOutlined\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    buttonContainer: {\n        display: \"flex\",\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16,\n    },\n    avatarSuccess: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nfunction Register() {\n    const [input, setInput] = useState({\n        email: \"\",\n        password: \"\",\n        password_repeat: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const [emailActive, setEmailActive] = useState(false);\n\n    const title = useSelector((state) => state.siteConfig.title);\n    const regCaptcha = useSelector((state) => state.siteConfig.regCaptcha);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n    const classes = useStyles();\n\n    const register = (e) => {\n        e.preventDefault();\n\n        if (input.password !== input.password_repeat) {\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return;\n        }\n\n        setLoading(true);\n        if (!isValidate.current.isValidate && regCaptcha) {\n            validate(() => register(e), setLoading);\n            return;\n        }\n        API.post(\"/user\", {\n            userName: input.email,\n            Password: input.password,\n            ...captchaParamsRef.current,\n        })\n            .then((response) => {\n                setLoading(false);\n                if (response.rawData.code === 203) {\n                    setEmailActive(true);\n                } else {\n                    history.push(\"/login?username=\" + input.email);\n                    ToggleSnackbar(\"top\", \"right\", \"注册成功\", \"success\");\n                }\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    return (\n        <div className={classes.layout}>\n            <>\n                {!emailActive && (\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatar}>\n                            <RegIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            注册 {title}\n                        </Typography>\n\n                        <form className={classes.form} onSubmit={register}>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"email\">\n                                    电子邮箱\n                                </InputLabel>\n                                <Input\n                                    id=\"email\"\n                                    type=\"email\"\n                                    name=\"email\"\n                                    onChange={handleInputChange(\"email\")}\n                                    autoComplete\n                                    value={input.email}\n                                    autoFocus\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"password\">密码</InputLabel>\n                                <Input\n                                    name=\"password\"\n                                    onChange={handleInputChange(\"password\")}\n                                    type=\"password\"\n                                    id=\"password\"\n                                    value={input.password}\n                                    autoComplete\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"password\">\n                                    确认密码\n                                </InputLabel>\n                                <Input\n                                    name=\"pwdRepeat\"\n                                    onChange={handleInputChange(\n                                        \"password_repeat\"\n                                    )}\n                                    type=\"password\"\n                                    id=\"pwdRepeat\"\n                                    value={input.password_repeat}\n                                    autoComplete\n                                />\n                            </FormControl>\n                            {regCaptcha && <CaptchaRender />}\n\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                disabled={\n                                    loading ||\n                                    (regCaptcha ? captchaLoading : false)\n                                }\n                                className={classes.submit}\n                            >\n                                注册账号\n                            </Button>\n                        </form>\n\n                        <Divider />\n                        <div className={classes.link}>\n                            <div>\n                                <Link href={\"/login\"}>返回登录</Link>\n                            </div>\n                            <div>\n                                <Link href={\"https://support.qq.com/products/261676/blog/480523\"} target=\"_blank\">注册协议</Link>\n                            </div>\n                        </div>\n                    </Paper>\n                )}\n                {emailActive && (\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatarSuccess}>\n                            <EmailIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            邮件激活\n                        </Typography>\n                        <Typography style={{ marginTop: \"10px\" }}>\n                            一封激活邮件已经发送至您的邮箱，请访问邮件中的链接以继续完成注册。\n                        </Typography>\n                    </Paper>\n                )}\n            </>\n        </div>\n    );\n}\n\nexport default Register;\n","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Apps() {\r\n\r\n    const JumpUrl = () =>{\r\n        const history = useHistory();\r\n        const Days = 365;\r\n        const exp = new Date(); \r\n        exp.setTime(exp.getTime() + Days*24*60*60*1000);\r\n        document.cookie = \"thisapp=ok; expires=\"+exp.toGMTString()+\"; path=/\";\r\n        history.push(\"/home\");\r\n    }\r\n\r\n    return (\r\n        <div>{JumpUrl()}</div>\r\n    );\r\n}\r\n\r\nexport default Apps;\r\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport { Button, Paper, Avatar, Typography } from \"@material-ui/core\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport { useLocation } from \"react-router\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction Activation() {\n    const query = useQuery();\n    const location = useLocation();\n\n    const [success, setSuccess] = useState(false);\n    const [email, setEmail] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        API.get(\n            \"/user/activate/\" + query.get(\"id\") + \"?sign=\" + query.get(\"sign\")\n        )\n            .then((response) => {\n                setEmail(response.data);\n                setSuccess(true);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                history.push(\"/login\");\n            });\n        // eslint-disable-next-line\n    }, [location]);\n\n    return (\n        <div className={classes.layout}>\n            {success && (\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <EmailIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        激活成功\n                    </Typography>\n                    <Typography style={{ marginTop: \"20px\" }}>\n                        您的账号已被成功激活。\n                    </Typography>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={() => history.push(\"/login?username=\" + email)}\n                    >\n                        返回登录\n                    </Button>\n                </Paper>\n            )}\n        </div>\n    );\n}\n\nexport default Activation;\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport {\n    Button,\n    FormControl,\n    Divider,\n    Link,\n    Input,\n    InputLabel,\n    Paper,\n    Avatar,\n    Typography,\n} from \"@material-ui/core\";\nimport { useLocation } from \"react-router\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction ResetForm() {\n    const query = useQuery();\n    const [input, setInput] = useState({\n        password: \"\",\n        password_repeat: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (input.password !== input.password_repeat) {\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return;\n        }\n        setLoading(true);\n        API.patch(\"/user/reset\", {\n            secret: query.get(\"sign\"),\n            id: query.get(\"id\"),\n            Password: input.password,\n        })\n            .then(() => {\n                setLoading(false);\n                history.push(\"/login\");\n                ToggleSnackbar(\"top\", \"right\", \"密码已重设\", \"success\");\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">新密码</InputLabel>\n                        <Input\n                            id=\"pwd\"\n                            type=\"password\"\n                            name=\"pwd\"\n                            onChange={handleInputChange(\"password\")}\n                            autoComplete\n                            value={input.password}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">重复新密码</InputLabel>\n                        <Input\n                            id=\"pwdRepeat\"\n                            type=\"password\"\n                            name=\"pwdRepeat\"\n                            onChange={handleInputChange(\"password_repeat\")}\n                            autoComplete\n                            value={input.password_repeat}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={loading}\n                        className={classes.submit}\n                    >\n                        重设密码\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default ResetForm;\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport API from \"../../middleware/Api\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n}));\n\nfunction Reset() {\n    const [input, setInput] = useState({\n        email: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const forgetCaptcha = useSelector(\n        (state) => state.siteConfig.forgetCaptcha\n    );\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        if (!isValidate.current.isValidate && forgetCaptcha) {\n            validate(() => submit(e), setLoading);\n            return;\n        }\n        API.post(\"/user/reset\", {\n            userName: input.email,\n            ...captchaParamsRef.current,\n        })\n            .then(() => {\n                setLoading(false);\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"密码重置邮件已发送，请注意查收\",\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">注册邮箱</InputLabel>\n                        <Input\n                            id=\"email\"\n                            type=\"email\"\n                            name=\"email\"\n                            onChange={handleInputChange(\"email\")}\n                            autoComplete\n                            value={input.email}\n                            autoFocus\n                        />\n                    </FormControl>\n                    {forgetCaptcha && <CaptchaRender />}\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={\n                            loading || (forgetCaptcha ? captchaLoading : false)\n                        }\n                        className={classes.submit}\n                    >\n                        发送密码重置邮件\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default Reset;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { FormControl, makeStyles, TextField } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { reportReasons } from \"../../config\";\nimport Auth from \"../../middleware/Auth\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    content: {\n        overflowWrap: \"break-word\",\n    },\n}));\n\nexport default function SiteNotice() {\n    const content = useSelector((state) => state.siteConfig.site_notice);\n    const classes = useStyles();\n    const [show, setShow] = useState(false);\n    const setRead = () => {\n        setShow(false);\n        Auth.SetPreference(\"notice_read\", content);\n    };\n    useEffect(() => {\n        const newNotice = Auth.GetPreference(\"notice_read\");\n        if (content !== \"\" && newNotice !== content) {\n            setShow(true);\n        }\n    }, [content]);\n    return (\n        <Dialog\n            open={show}\n            onClose={() => setShow(false)}\n            aria-labelledby=\"form-dialog-title\"\n            maxWidth=\"sm\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">公告</DialogTitle>\n            <DialogContent\n                className={classes.content}\n                dangerouslySetInnerHTML={{ __html: content }}\n            />\n\n            <DialogActions>\n                <Button onClick={() => setRead()} color=\"primary\">\n                    不再显示\n                </Button>\n                <Button onClick={() => setShow(false)}>关闭</Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Suspense } from \"react\";\nimport AuthRoute from \"./middleware/AuthRoute\";\nimport Navbar from \"./component/Navbar/Navbar.js\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport AlertBar from \"./component/Common/Snackbar\";\nimport { createMuiTheme, lighten } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Auth from \"./middleware/Auth\";\nimport { CssBaseline, makeStyles, ThemeProvider } from \"@material-ui/core\";\nimport PageLoading from \"./component/Placeholder/PageLoading.js\";\nimport { changeThemeColor } from \"./utils\";\nimport NotFound from \"./component/Share/NotFound\";\n// Lazy loads\nimport LoginForm from \"./component/Login/LoginForm\";\nimport FileManager from \"./component/FileManager/FileManager.js\";\nimport VideoPreview from \"./component/Viewer/Video.js\";\nimport SearchResult from \"./component/Share/SearchResult\";\nimport MyShare from \"./component/Share/MyShare\";\nimport Download from \"./component/Download/Download\";\nimport SharePreload from \"./component/Share/SharePreload\";\nimport DocViewer from \"./component/Viewer/Doc\";\nimport TextViewer from \"./component/Viewer/Text\";\nimport Quota from \"./component/VAS/Quota\";\nimport BuyQuota from \"./component/VAS/BuyQuota\";\nimport WebDAV from \"./component/Setting/WebDAV\";\nimport Tasks from \"./component/Setting/Tasks\";\nimport Ifm from \"./component/Setting/Ifm\";\nimport Profile from \"./component/Setting/Profile\";\nimport UserSetting from \"./component/Setting/UserSetting\";\nimport QQCallback from \"./component/Login/QQ\";\nimport Register from \"./component/Login/Register\";\nimport Apps from \"./component/Login/Apps\";\nimport Activation from \"./component/Login/Activication\";\nimport ResetForm from \"./component/Login/ResetForm\";\nimport Reset from \"./component/Login/Reset\";\nimport CodeViewer from \"./component/Viewer/Code\";\nimport SiteNotice from \"./component/Modals/SiteNotice\";\n\nconst PDFViewer = React.lazy(() =>\n    import(/* webpackChunkName: \"pdf\" */ \"./component/Viewer/PDF\")\n);\n\nexport default function App() {\n    const themeConfig = useSelector((state) => state.siteConfig.theme);\n    const isLogin = useSelector((state) => state.viewUpdate.isLogin);\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n    const theme = React.useMemo(() => {\n        themeConfig.palette.type = prefersDarkMode ? \"dark\" : \"light\";\n        const prefer = Auth.GetPreference(\"theme_mode\");\n        if (prefer) {\n            themeConfig.palette.type = prefer;\n        }\n        const theme = createMuiTheme({\n            ...themeConfig,\n            palette: {\n                ...themeConfig.palette,\n                primary: {\n                    ...themeConfig.palette.primary,\n                    main:\n                        themeConfig.palette.type === \"dark\"\n                            ? lighten(themeConfig.palette.primary.main, 0.3)\n                            : themeConfig.palette.primary.main,\n                },\n            },\n        });\n        changeThemeColor(\n            themeConfig.palette.type === \"dark\"\n                ? theme.palette.background.default\n                : theme.palette.primary.main\n        );\n        return theme;\n    }, [prefersDarkMode, themeConfig]);\n\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            display: \"flex\",\n        },\n        content: {\n            flexGrow: 1,\n            padding: theme.spacing(0),\n            minWidth: 0,\n        },\n        toolbar: theme.mixins.toolbar,\n    }));\n\n    const classes = useStyles();\n\n    const { path } = useRouteMatch();\n    return (\n        <React.Fragment>\n            <ThemeProvider theme={theme}>\n                <div className={classes.root} id=\"container\">\n                    <CssBaseline />\n                    <AlertBar />\n                    <Navbar />\n                    <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Switch>\n                            <AuthRoute exact path={path} isLogin={isLogin}>\n                                <Redirect\n                                    to={{\n                                        pathname: \"/home\",\n                                    }}\n                                />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}home`} isLogin={isLogin}>\n                                <>\n                                    <SiteNotice />\n                                    <FileManager />\n                                </>\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}video`} isLogin={isLogin}>\n                                <VideoPreview />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}text`} isLogin={isLogin}>\n                                <TextViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}doc`} isLogin={isLogin}>\n                                <DocViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}pdf`} isLogin={isLogin}>\n                                <Suspense fallback={<PageLoading />}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}code`} isLogin={isLogin}>\n                                <CodeViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}aria2`} isLogin={isLogin}>\n                                <Download />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}shares`} isLogin={isLogin}>\n                                <MyShare />\n                            </AuthRoute>\n\n                            <Route path={`${path}search`} isLogin={isLogin}>\n                                <SearchResult />\n                            </Route>\n\n                            <AuthRoute path={`${path}quota`} isLogin={isLogin}>\n                                <Quota />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}buy`} isLogin={isLogin}>\n                                <BuyQuota />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}setting`}\n                                isLogin={isLogin}\n                            >\n                                <UserSetting />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}profile/:id`}\n                                isLogin={isLogin}\n                            >\n                                <Profile />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}webdav`} isLogin={isLogin}>\n                                <WebDAV />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}tasks`} isLogin={isLogin}>\n                                <Tasks />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}ifm/:action`} isLogin={isLogin}>\n                                <Ifm />\n                            </AuthRoute>\n\n                            <Route path={`${path}apps`} exact>\n                                <Apps />\n                            </Route>\n\n                            <Route path={`${path}login`} exact>\n                                <LoginForm />\n                            </Route>\n\n                            <Route path={`${path}signup`} exact>\n                                <Register />\n                            </Route>\n\n                            <Route path={`${path}activate`} exact>\n                                <Activation />\n                            </Route>\n\n                            <Route path={`${path}reset`} exact>\n                                <ResetForm />\n                            </Route>\n\n                            <Route path={`${path}forget`} exact>\n                                <Reset />\n                            </Route>\n\n                            <Route path={`${path}login/qq`}>\n                                <QQCallback />\n                            </Route>\n\n                            <Route exact path={`${path}s/:id`}>\n                                <SharePreload />\n                            </Route>\n\n                            <Route path={`${path}s/:id/video(/)*`}>\n                                <VideoPreview />\n                            </Route>\n\n                            <Route path={`${path}s/:id/doc(/)*`}>\n                                <DocViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/text(/)*`}>\n                                <TextViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/pdf(/)*`}>\n                                <Suspense fallback={<PageLoading />}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </Route>\n\n                            <Route path={`${path}s/:id/code(/)*`}>\n                                <CodeViewer />\n                            </Route>\n\n                            <Route path=\"*\">\n                                <NotFound msg={\"页面不存在\"} />\n                            </Route>\n                        </Switch>\n                    </main>\n                </div>\n            </ThemeProvider>\n        </React.Fragment>\n    );\n}\n","import { AnyAction } from \"redux\";\nimport Auth from \"../../middleware/Auth\";\n\ndeclare global {\n    interface Window {\n        shareKey: any;\n    }\n}\n\nexport interface ViewUpdateState {\n    isLogin: boolean;\n    loadUploader: boolean;\n    open: boolean;\n    explorerViewMethod: string;\n    sortMethod:\n        | \"sizePos\"\n        | \"sizeRes\"\n        | \"namePos\"\n        | \"nameRev\"\n        | \"timePos\"\n        | \"timeRev\";\n    subTitle: string | null;\n    contextType: string;\n    contextOpen: boolean;\n    menuOpen: boolean;\n    navigatorLoading: boolean;\n    navigatorError: boolean;\n    navigatorErrorMsg: string | null;\n    modalsLoading: boolean;\n    storageRefresh: boolean;\n    userPopoverAnchorEl: any;\n    shareUserPopoverAnchorEl: any;\n    modals: {\n        createNewFolder: boolean;\n        createNewFile: boolean;\n        rename: boolean;\n        move: boolean;\n        remove: boolean;\n        share: boolean;\n        music: boolean;\n        remoteDownload: boolean;\n        torrentDownload: boolean;\n        getSource: boolean;\n        copy: boolean;\n        resave: boolean;\n        compress: boolean;\n        decompress: boolean;\n        relocate: boolean;\n        loading: boolean;\n        loadingText: string;\n    };\n    snackbar: {\n        toggle: boolean;\n        vertical: string;\n        horizontal: string;\n        msg: string;\n        color: string;\n    };\n}\nexport const initState: ViewUpdateState = {\n    // 是否登录\n    isLogin: Auth.Check(),\n    loadUploader: false,\n    open: false,\n    explorerViewMethod: \"icon\",\n    sortMethod: \"timePos\",\n    subTitle: null,\n    contextType: \"none\",\n    contextOpen: false,\n    menuOpen: false,\n    navigatorLoading: true,\n    navigatorError: false,\n    navigatorErrorMsg: null,\n    modalsLoading: false,\n    storageRefresh: false,\n    userPopoverAnchorEl: null,\n    shareUserPopoverAnchorEl: null,\n    modals: {\n        createNewFolder: false,\n        createNewFile: false,\n        rename: false,\n        move: false,\n        remove: false,\n        share: false,\n        music: false,\n        remoteDownload: false,\n        torrentDownload: false,\n        getSource: false,\n        copy: false,\n        resave: false,\n        compress: false,\n        relocate: false,\n        decompress: false,\n        loading: false,\n        loadingText: \"\",\n    },\n    snackbar: {\n        toggle: false,\n        vertical: \"top\",\n        horizontal: \"center\",\n        msg: \"\",\n        color: \"\",\n    },\n};\nconst viewUpdate = (state: ViewUpdateState = initState, action: AnyAction) => {\n    switch (action.type) {\n        case \"DRAWER_TOGGLE\":\n            return Object.assign({}, state, {\n                open: action.open,\n            });\n        case \"CHANGE_VIEW_METHOD\":\n            return Object.assign({}, state, {\n                explorerViewMethod: action.method,\n            });\n        case \"SET_NAVIGATOR_LOADING_STATUE\":\n            return Object.assign({}, state, {\n                navigatorLoading: action.status,\n            });\n        case \"SET_NAVIGATOR_ERROR\":\n            return Object.assign({}, state, {\n                navigatorError: action.status,\n                navigatorErrorMsg: action.msg,\n            });\n        case \"OPEN_CREATE_FOLDER_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFolder: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_CREATE_FILE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFile: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RENAME_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    rename: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_REMOVE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    remove: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_MOVE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    move: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RESAVE_DIALOG\":\n            window.shareKey = action.key;\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    resave: true,\n                }),\n                contextOpen: false,\n            });\n        case \"SET_USER_POPOVER\":\n            return Object.assign({}, state, {\n                userPopoverAnchorEl: action.anchor,\n            });\n        case \"SET_SHARE_USER_POPOVER\":\n            return Object.assign({}, state, {\n                shareUserPopoverAnchorEl: action.anchor,\n            });\n        case \"OPEN_SHARE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    share: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_MUSIC_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    music: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_REMOTE_DOWNLOAD_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    remoteDownload: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_TORRENT_DOWNLOAD_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    torrentDownload: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_DECOMPRESS_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    decompress: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_COMPRESS_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    compress: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_GET_SOURCE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    getSource: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RELOCATE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    relocate: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_COPY_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    copy: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_LOADING_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    loading: true,\n                    loadingText: action.text,\n                }),\n                contextOpen: false,\n            });\n        case \"CLOSE_CONTEXT_MENU\":\n            return Object.assign({}, state, {\n                contextOpen: false,\n            });\n        case \"CLOSE_ALL_MODALS\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFolder: false,\n                    createNewFile: false,\n                    rename: false,\n                    move: false,\n                    remove: false,\n                    share: false,\n                    music: false,\n                    remoteDownload: false,\n                    torrentDownload: false,\n                    getSource: false,\n                    resave: false,\n                    copy: false,\n                    loading: false,\n                    relocate: false,\n                    compress: false,\n                    decompress: false,\n                }),\n            });\n        case \"TOGGLE_SNACKBAR\":\n            return Object.assign({}, state, {\n                snackbar: {\n                    toggle: !state.snackbar.toggle,\n                    vertical: action.vertical,\n                    horizontal: action.horizontal,\n                    msg: action.msg,\n                    color: action.color,\n                },\n            });\n        case \"SET_MODALS_LOADING\":\n            return Object.assign({}, state, {\n                modalsLoading: action.status,\n            });\n        case \"SET_SESSION_STATUS\":\n            return {\n                ...state,\n                isLogin: action.status,\n            };\n        case \"ENABLE_LOAD_UPLOADER\":\n            return Object.assign({}, state, {\n                loadUploader: true,\n            });\n        case \"REFRESH_STORAGE\":\n            return Object.assign({}, state, {\n                storageRefresh: !state.storageRefresh,\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                contextOpen: false,\n                navigatorError: false,\n                navigatorLoading: true,\n            });\n        case \"CHANGE_CONTEXT_MENU\":\n            if (state.contextOpen && action.open) {\n                return Object.assign({}, state);\n            }\n            return Object.assign({}, state, {\n                contextOpen: action.open,\n                contextType: action.menuType,\n            });\n        case \"SET_SUBTITLE\":\n            return Object.assign({}, state, {\n                subTitle: action.title,\n            });\n        case \"SET_SORT_METHOD\":\n            return {\n                ...state,\n                sortMethod: action.method,\n            };\n        case \"SET_NAVIGATOR\":\n            return {\n                ...state,\n                contextOpen: false,\n                navigatorError: false,\n                navigatorLoading: action.navigatorLoading,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default viewUpdate;\n","import { InitSiteConfig } from \"../middleware/Init\";\nimport { combineReducers } from \"../redux/combineReducers\";\nimport viewUpdate from \"../redux/viewUpdate/reducer\";\nimport explorer from \"../redux/explorer/reducer\";\nimport { connectRouter } from \"connected-react-router\";\n\nconst doNavigate = (path, state) => {\n    window.currntPath = path;\n    return Object.assign({}, state, {\n        navigator: Object.assign({}, state.navigator, {\n            path: path,\n        }),\n    });\n};\n\nexport const initState = {\n    siteConfig: {\n        title: window.subTitle,\n        siteICPId: \"\",\n        loginCaptcha: false,\n        regCaptcha: false,\n        forgetCaptcha: false,\n        emailActive: false,\n        QQLogin: false,\n        themes: null,\n        authn: false,\n        theme: {\n            palette: {\n                common: { black: \"#000\", white: \"#fff\" },\n                background: { paper: \"#fff\", default: \"#fafafa\" },\n                primary: {\n                    light: \"#7986cb\",\n                    main: \"#3f51b5\",\n                    dark: \"#303f9f\",\n                    contrastText: \"#fff\",\n                },\n                secondary: {\n                    light: \"#ff4081\",\n                    main: \"#f50057\",\n                    dark: \"#c51162\",\n                    contrastText: \"#fff\",\n                },\n                error: {\n                    light: \"#e57373\",\n                    main: \"#f44336\",\n                    dark: \"#d32f2f\",\n                    contrastText: \"#fff\",\n                },\n                text: {\n                    primary: \"rgba(0, 0, 0, 0.87)\",\n                    secondary: \"rgba(0, 0, 0, 0.54)\",\n                    disabled: \"rgba(0, 0, 0, 0.38)\",\n                    hint: \"rgba(0, 0, 0, 0.38)\",\n                },\n                explorer: {\n                    filename: \"#474849\",\n                    icon: \"#8f8f8f\",\n                    bgSelected: \"#D5DAF0\",\n                    emptyIcon: \"#e8e8e8\",\n                },\n            },\n        },\n        captcha_ReCaptchaKey: \"defaultKey\",\n        site_notice: \"\",\n        captcha_type: \"normal\",\n        tcaptcha_captcha_app_id: \"\",\n    },\n    navigator: {\n        path: \"/\",\n        refresh: true,\n    },\n};\n\nconst defaultStatus = InitSiteConfig(initState);\n\n// TODO: 将cloureveApp切分成小的reducer\nconst cloudreveApp = (state = defaultStatus, action) => {\n    switch (action.type) {\n        case \"SET_NAVIGATOR\":\n            return doNavigate(action.path, state);\n        case \"TOGGLE_DAYLIGHT_MODE\": {\n            const copy = Object.assign({}, state);\n            if (\n                copy.siteConfig.theme.palette.type === undefined ||\n                copy.siteConfig.theme.palette.type === \"light\"\n            ) {\n                return {\n                    ...state,\n                    siteConfig: {\n                        ...state.siteConfig,\n                        theme: {\n                            ...state.siteConfig.theme,\n                            palette: {\n                                ...state.siteConfig.theme.palette,\n                                type: \"dark\",\n                            },\n                        },\n                    },\n                };\n            }\n            return {\n                ...state,\n                siteConfig: {\n                    ...state.siteConfig,\n                    theme: {\n                        ...state.siteConfig.theme,\n                        palette: {\n                            ...state.siteConfig.theme.palette,\n                            type: \"light\",\n                        },\n                    },\n                },\n            };\n        }\n        case \"APPLY_THEME\":\n            if (state.siteConfig.themes !== null) {\n                const themes = JSON.parse(state.siteConfig.themes);\n                if (themes[action.theme] === undefined) {\n                    return state;\n                }\n                return Object.assign({}, state, {\n                    siteConfig: Object.assign({}, state.siteConfig, {\n                        theme: themes[action.theme],\n                    }),\n                });\n            }\n            break;\n        case \"NAVIGATOR_UP\":\n            return doNavigate(action.path, state);\n        case \"SET_SITE_CONFIG\":\n            return Object.assign({}, state, {\n                siteConfig: action.config,\n            });\n\n        case \"REFRESH_FILE_LIST\":\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    refresh: !state.navigator.refresh,\n                }),\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    path: \"/搜索结果\",\n                    refresh:\n                        state.explorer.keywords === \"\"\n                            ? state.navigator.refresh\n                            : !state.navigator.refresh,\n                }),\n            });\n        default:\n            return state;\n    }\n};\n\nexport default (history) => (state, action) => {\n    const { viewUpdate: viewUpdateState, explorer: explorerState } =\n        state || {};\n    const appState = cloudreveApp(state, action);\n    const combinedState = combineReducers({\n        viewUpdate,\n        explorer,\n        router: connectRouter(history),\n    })({ viewUpdate: viewUpdateState, explorer: explorerState }, action);\n    return {\n        ...appState,\n        ...combinedState,\n    };\n};\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\n\nconst styles = {\n    h1: {\n        color: \"#a4a4a4\",\n        margin: \"5px 0px\",\n    },\n    h2: {\n        margin: \"15px 0px\",\n    },\n};\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false, error: null, errorInfo: null };\n    }\n\n    static getDerivedStateFromError() {\n        // 更新 state 使下一次渲染能够显示降级后的 UI\n        return { hasError: true };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo,\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        if (this.state.hasError) {\n            // 你可以自定义降级后的 UI 并渲染\n            return (\n                <>\n                    <h1 className={classes.h1}>:(</h1>\n                    <h2 className={classes.h2}>\n                        页面渲染出现错误，请尝试刷新此页面。\n                    </h2>\n                    {this.state.error &&\n                        this.state.errorInfo &&\n                        this.state.errorInfo.componentStack && (\n                            <details>\n                                <summary>错误详情</summary>\n                                <pre>\n                                    <code>{this.state.error.toString()}</code>\n                                </pre>\n                                <pre>\n                                    <code>\n                                        {this.state.errorInfo.componentStack}\n                                    </code>\n                                </pre>\n                            </details>\n                        )}\n                </>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default withStyles(styles)(ErrorBoundary);\n","import React, { Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport App from \"./App\";\nimport cloureveApp from \"./reducers\";\nimport { UpdateSiteConfig } from \"./middleware/Init\";\nimport ErrorBoundary from \"./component/Placeholder/ErrorBoundary\";\nimport { createBrowserHistory } from \"history\";\nimport { routerMiddleware } from \"connected-react-router\";\nimport { ConnectedRouter } from \"connected-react-router\";\nconst Admin = React.lazy(() => import(\"./Admin\"));\n\nif (window.location.hash !== \"\") {\n    window.location.href = window.location.hash.split(\"#\")[1];\n}\n\nserviceWorker.register();\nexport const history = createBrowserHistory();\nlet reduxEnhance = applyMiddleware(routerMiddleware(history), thunk);\nif (\n    process.env.NODE_ENV === \"development\" &&\n    window.__REDUX_DEVTOOLS_EXTENSION__\n) {\n    reduxEnhance = compose(reduxEnhance, window.__REDUX_DEVTOOLS_EXTENSION__());\n}\n\nconst store = createStore(cloureveApp(history), reduxEnhance);\nUpdateSiteConfig(store);\n\nReactDOM.render(\n    <ErrorBoundary>\n        <Provider store={store}>\n            <ConnectedRouter history={history}>\n                <Switch>\n                    <Route path=\"/admin\">\n                        <Suspense fallback={\"Loading...\"}>\n                            <Admin />\n                        </Suspense>\n                    </Route>\n                    <Route exact path=\"\">\n                        <App />\n                    </Route>\n                </Switch>\n            </ConnectedRouter>\n        </Provider>\n    </ErrorBoundary>,\n    document.getElementById(\"root\")\n);\n","import {\n    combineReducers as combine,\n    ReducersMapObject,\n    AnyAction,\n} from \"redux\";\nimport invariant from \"invariant\";\n\nexport const combineReducers = (reducers: ReducersMapObject) => {\n    const combinedReducer = combine(reducers);\n    // TODO: define state type\n    return (state: any, action: AnyAction) => {\n        if (\n            action.type &&\n            !action.type.startsWith(\"@@\") &&\n            action.type.split(\"/\").length > 1\n        ) {\n            const namespace = action.type.split(\"/\")[0];\n            const reducer = reducers[namespace];\n            invariant(!!reducer, `reducer ${namespace} doesn't exist`);\n            return reducer && reducer(state, action);\n        }\n        return combinedReducer(state, action);\n    };\n};\n","import { ThunkAction } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nexport interface ActionSetSubtitle extends AnyAction {\n    type: \"SET_SUBTITLE\";\n    title: string;\n}\n\nexport const setSubtitle = (title: string): ActionSetSubtitle => {\n    return {\n        type: \"SET_SUBTITLE\",\n        title,\n    };\n};\n\nexport const closeContextMenu = () => {\n    return {\n        type: \"CLOSE_CONTEXT_MENU\",\n    };\n};\n\nexport const changeSubTitle = (\n    title: string\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState) => {\n        const state = getState();\n        document.title =\n            title === null || title === undefined\n                ? state.siteConfig.title\n                : title + \" - \" + state.siteConfig.title;\n        dispatch(setSubtitle(title));\n    };\n};\n"],"sourceRoot":""}
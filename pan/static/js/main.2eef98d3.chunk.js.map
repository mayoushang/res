{"version":3,"sources":["redux/explorer/action.ts","utils/page.js","redux/explorer/reducer.ts","middleware/Auth.ts","component/Dial/AutoHidden.js","component/Placeholder/TextLoading.js","utils/index.js","component/Navbar/DarkModeSwitcher.js","component/FileManager/Navigator/SubActions.js","component/Modals/Report.js","component/Modals/PurchaseShare.js","component/Dial/Save.js","component/Modals/Loading.js","component/Modals/Copy.js","component/Modals/CreateShare.js","component/Modals/Decompress.js","component/Modals/Compress.js","component/Modals/Relocate.js","component/FileManager/Modals.js","component/Viewer/Text.js","component/Viewer/Code.js","actions/explorer.js","actions/index.js","config.js","utils/datetime.js","component/Common/Snackbar.js","component/Navbar/UserAvatarPopover.js","component/Navbar/PolicySwitcher.js","component/Navbar/UserAvatar.js","component/Navbar/Navbar.js","component/Navbar/SearchBar.js","component/Navbar/StorageBar.js","component/Navbar/UserInfo.js","component/Navbar/FileTags.js","component/FileManager/ImgPreview.js","component/FileManager/TypeIcon.js","loader/utils.js","loader/index.js","component/Upload/FileList.js","component/Dial/Create.js","component/Upload/Uploader.js","serviceWorker.js","middleware/AuthRoute.js","component/Placeholder/PageLoading.js","component/Share/NotFound.js","middleware/Init.js","component/Common/ICPFooter.js","component/Placeholder/Captcha.js","hooks/normal.js","component/Login/ReCaptchaWrapper.js","component/Login/ReCaptcha.js","hooks/recaptcha.js","hooks/tcaptcha.js","hooks/useCaptcha.js","component/Login/LoginForm.js","redux/explorer/index.ts","component/FileManager/Navigator/PathButton.js","component/FileManager/Navigator/DropDownItem.js","component/FileManager/Navigator/DropDown.js","component/FileManager/Navigator/Navigator.js","component/FileManager/SmallIcon.js","component/FileManager/FileIcon.js","component/FileManager/Folder.js","component/FileManager/DnD/Preview.js","component/FileManager/DnD/DragLayer.js","component/FileManager/TableRow.js","component/FileManager/DnD/DropWarpper.js","component/FileManager/ObjectIcon.js","component/FileManager/ContextMenu.js","component/FileManager/Explorer.js","component/Placeholder/ListLoading.js","component/FileManager/Sidebar/SideDrawer.js","component/FileManager/FileManager.js","component/Viewer/Video.js","component/Share/SearchResult.js","component/Share/MyShare.js","component/Modals/SelectFile.js","component/Download/DownloadingCard.js","component/Download/FinishedCard.js","component/Dial/Aria2.js","component/Download/Download.js","component/Share/LockedFile.js","component/Share/Creator.js","component/Share/SharedFile.js","component/Share/SharedFolder.js","component/Share/SharePreload.js","component/Viewer/Doc.js","component/VAS/Quota.js","component/VAS/PackSelect.js","component/VAS/BuyQuota.js","component/Modals/CreateWebDAVAccount.js","component/Modals/CreateWebDAVMount.js","component/Setting/WebDAV.js","component/Setting/Tasks.js","component/Setting/Ifm.js","component/Setting/Profile.js","component/Setting/Authn.js","component/Modals/TimeZone.js","component/Setting/UserSetting.js","component/Login/QQ.js","component/Login/Register.js","component/Login/Apps.js","component/Login/Activication.js","component/Login/ResetForm.js","component/Login/Reset.js","component/Modals/SiteNotice.js","component/FileManager/MusicPlayer.js","App.js","redux/viewUpdate/reducer.ts","reducers/index.js","component/Placeholder/ErrorBoundary.js","index.js","redux/combineReducers.ts","component/FileManager/PathSelector.js","redux/viewUpdate/action.ts","middleware/Api.js"],"names":["setFileList","list","type","setDirList","setSortMethod","method","setSideBar","open","sortMethodFuncs","sizePos","a","b","size","sizeRes","namePos","name","localeCompare","navigator","languages","language","numeric","ignorePunctuation","nameRev","timePos","Date","parse","date","timeRev","updateFileList","dispatch","getState","sortMethod","viewUpdate","dirList","filter","x","fileList","sortFunc","sort","changeSortMethod","explorer","toggleObjectInfoSidebar","closeContextMenu","statusHelper","isHomePage","path","isSharePage","startsWith","isAdminPage","isLoginPage","isMobile","window","innerWidth","initState","dndSignal","dndTarget","dndSource","selected","selectProps","isMultiple","withFolder","withFile","lastSelect","file","id","index","shiftSelectedIds","imgPreview","first","other","audioPreview","playingName","paused","isOpen","keywords","fileSave","sideBarOpen","checkSelectedProps","length","forEach","value","state","action","Object","assign","target","source","addedSelected","targets","newSelected","fileIds","filteredSelected","includes","Auth","isAuthenticated","authenticate","cb","SetUser","GetUser","JSON","localStorage","getItem","newUser","setItem","stringify","Check","anonymous","signout","oldUser","SetPreference","key","preference","GetPreference","AutoHidden","children","enable","useState","hidden","setHidden","prev","scrollY","lastUpdate","useEffect","addEventListener","e","currentTarget","handleNavigation","in","useStyles","makeStyles","theme","loader","width","padding","breakpoints","down","MyLoader","props","backgroundColor","dark","foregroundColor","className","TextLoading","useTheme","classes","palette","sizeToString","bytes","i","Math","floor","log","pow","toFixed","setCookie","days","setTime","getTime","document","cookie","setGetParameter","paramName","paramValue","url","location","href","indexOf","prefix","substring","suffix","history","pushState","allowSharePreview","shareInfo","allowPreview","userInfo","uid","checkGetParameters","field","changeThemeColor","color","querySelector","setAttribute","bufferDecode","Uint8Array","from","atob","c","charCodeAt","bufferEncode","btoa","String","fromCharCode","apply","replace","pathBack","folders","substr","split","this","slice","join","filePath","hex2bin","hex","parseInt","toString","padStart","pathJoin","parts","sep","separator","map","part","RegExp","basename","pathList","pop","filename","randomStr","result","characters","charactersLength","charAt","random","getNumber","base","conditions","v","isMac","platform","toUpperCase","vhCheck","vh","innerHeight","documentElement","style","setProperty","icon","opacity","DarkModeSwitcher","position","ThemeType","useSelector","siteConfig","useDispatch","ToggleThemeMode","useCallback","toggleDaylightMode","isDayLight","isDark","title","placement","classNames","onClick","sideButton","marginRight","sortOptions","SubActions","isSmall","share","inherit","viewMethod","explorerViewMethod","OpenLoadingDialog","changeViewMethod","ChangeSortMethod","OpenResaveDialog","openResaveDialog","SetShareUserPopover","setShareUserPopover","anchorSort","setAnchorSort","selectedIndex","setSelectedIndex","openReport","setOpenReport","toggleViewMethod","newMethod","toggleSnackbars","vertical","horizontal","msg","toggleSnackbar","opensendgift","fontSize","anchorEl","Boolean","onClose","option","event","0","1","2","3","4","5","handleMenuItemClick","creator","nick","height","src","widthAnimation","shareUrl","minWidth","wrapper","margin","spacing","buttonProgress","secondary","light","top","left","flexCenter","alignItems","noFlex","display","scoreCalc","marginTop","Report","reason","setReason","des","setDes","loading","setLoading","ToggleSnackbar","setTimeout","aria-labelledby","maxWidth","fullWidth","component","aria-label","onChange","reportReasons","k","control","label","multiline","variant","rows","API","post","then","catch","error","message","disabled","PurchaseShareDialog","callback","score","autoFocus","fab","right","bottom","zIndex","badge","fabProgress","green","buttonSuccess","SaveButton","buttonClassname","clsx","status","avatar","blue","loadingContainer","marginLeft","LoadingDialog","modals","text","loadingText","Dialog","DialogContent","DialogContentText","CircularProgress","contentFix","CopyDialog","selectedPath","setSelectedPath","selectedPathName","setSelectedPathName","SetModalsLoading","setModalsLoading","RefreshFileList","refreshFileList","DialogTitle","PathSelector","presentPath","onSelect","folder","DialogActions","Button","preventDefault","dirs","items","push","src_dir","dst","modalsLoading","ExpansionPanel","withStyles","root","border","boxShadow","borderBottom","expanded","MuiExpansionPanel","ExpansionPanelSummary","content","MuiExpansionPanelSummary","ExpansionPanelDetails","background","default","MuiExpansionPanelDetails","CreatShare","scoreEnabled","score_enabled","scoreRate","share_score_rate","React","setExpanded","shareURL","setShareURL","password","downloads","expires","showPassword","values","setValues","expire","preview","shareOption","setShareOption","handleChange","prop","handleExpand","panel","isExpanded","handleCheck","Divider","List","aria-controls","ListItem","button","ListItemIcon","ListItemText","primary","ListItemSecondaryAction","Checkbox","checked","FormControl","InputLabel","htmlFor","OutlinedInput","endAdornment","InputAdornment","Tooltip","IconButton","edge","onMouseDown","on","onIcon","Visibility","offIcon","VisibilityOff","labelWidth","Select","labelId","MenuItem","Typography","inputProps","min","ceil","TextField","onFocus","select","readonly","submitFormBody","is_dir","response","data","DecompressDialog","CompressDialog","fileName","setFileName","input","RelocateDialog","selectedPolicy","setSelectedPolicy","policies","setPolicies","get","options","current","dst_policy_id","ModalsCompoment","newFolderName","newFileName","newName","secretShare","sharePwd","downloadURL","remoteDownloadPathSelect","purchaseCallback","handleInputChange","setState","newNameSuffix","downloaded","UNSAFE_componentWillReceiveProps","nextProps","dndSignale","modalsStatus","rename","getSource","pathHelper","pathname","scoreHandler","archiveDownload","Download","dragMove","group","shareFree","reqURL","downloadPath","encodeURIComponent","put","postBody","rawData","code","refreshStorage","submitRemove","delete","submitResave","shareKey","submitMove","patch","DragSelectedPath","closeAllModals","doMove","openLoadingDialog","submitRename","findIndex","new_name","submitCreateNewFolder","submitCreateNewFile","submitTorrentDownload","submitDownload","setMoveTarget","remoteDownloadNext","copyToClipboard","clipboard","writeText","PurchaseShare","onSubmit","onContextMenu","createNewFolder","createNewFile","copy","move","resave","remove","music","controls","baseURL","remoteDownload","placeholder","torrentDownload","decompress","compress","relocate","Component","Modals","connect","withRouter","layout","up","player","borderRadius","overflowX","TextViewer","setContent","setStatus","math","useRouteMatch","$vm","createRef","useLocation","query","URLSearchParams","search","useParams","SetSubTitle","changeSubTitle","params","requestURL","responseType","textdata","Buffer","toBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","save","addImg","$file","$img2Url","console","elevation","ref","onSave","toolbar","h1","h2","h3","h4","img","link","expand","undo","redo","subfield","MonacoEditor","lazy","editor","formControl","toobar","textAlign","CodeViewer","setSuffix","extension","codePreviewSuffix","Array","Set","keys","fallback","readOnly","extraEditorClassName","removeSelectedTargets","addSelectedTargets","setSelectedTarget","openPreview","router","isShare","changeContextMenu","user","shareDownload","previewPath","isPreviewable","showImgPreivew","showAudioPreview","selectFile","fileIndex","ctrlKey","metaKey","shiftKey","isMacbook","begin","end","max","newShiftSelected","setLastSelect","setShiftSelectedIds","setNavigator","navigatorLoading","navigateTo","navigateUp","pathSplit","newPath","drawerToggleAction","dragAndDrop","menuType","setNavigatorLoadingStatus","setNavigatorError","openCreateFolderDialog","openCreateFileDialog","setUserPopover","anchor","openRenameDialog","openMoveDialog","openRemoveDialog","openShareDialog","applyThemes","setSessionStatus","openMusicDialog","openRemoteDownloadDialog","openTorrentDownloadDialog","openDecompressDialog","openCompressDialog","openRelocateDialog","openGetSourceDialog","openCopyDialog","enableLoadUploader","searchMyFile","audioPreviewSetIsOpen","audioPreviewSetPlaying","saveFile","setSiteConfig","config","imgPreviewSuffix","msDocPreviewSuffix","audioPreviewSuffix","videoPreviewSuffix","pdfPreviewSuffix","editSuffix","json","php","py","bat","cpp","h","cs","css","dockerfile","go","html","ini","java","js","jsx","less","lua","sh","sql","xml","yaml","mediaType","audio","video","image","pdf","word","ppt","excel","torrent","zip","excute","android","python","policyTypeMap","local","remote","qiniu","upyun","oss","cos","onedrive","s3","toLowerCase","isTorrent","isCompressFile","taskStatus","taskType","taskProgress","getTaskStatus","getTaskType","getTaskProgress","dayjs","extend","utc","timezone","preferTimeZone","timeZone","refreshTimeZone","formatLocalTime","time","format","tz","validateTimeZone","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","main","iconVariant","Icon","aria-describedby","close","SnackbarCompoment","snackbar","toggle","handleClose","anchorOrigin","autoHideDuration","AlertBar","UserAvatarPopoverCompoment","openURL","sigOut","reload","Popover","transformOrigin","visitorMenu","header","largeAvatarContainer","Avatar","largeAvatar","noWrap","nickname","user_name","Chip","UserAvatarPopover","userPopoverAnchorEl","uploadFromFile","policySelected","PolicySwitcher","setAnchorEl","undefined","switchTo","ListItemAvatar","UserAvatarCompoment","showUserInfo","returnHome","loginCheck","isLogin","mobileHidden","Grow","Home","UserAvatar","NavbarCompoment","componentDidMount","handleDrawerToggle","mobileOpen","loadUploader","openDownload","signOut","finally","UploaderRef","unlisten","listen","getCookie","arrcookie","arr","unescape","drawer","upDrawer","minStickDrawer","iconFix","webdav","_MEIQIA","iOS","process","browser","test","userAgent","appBar","menuButton","handleDesktopToggle","desktopOpen","menuButtonDesktop","menuIcon","subTitle","grow","sectionForFile","allowArchiveDownload","audioPreviewPlayingName","audioPreviewOpen","smUp","implementation","container","paper","drawerPaper","onOpen","disableDiscovery","ModalProps","keepMounted","xsDown","drawerPaperDesktop","drawerOpen","drawerClose","Navbar","audioPreviewIsOpen","withTheme","flexShrink","drawerDesktop","mixins","transition","transitions","create","easing","sharp","duration","enteringScreen","leavingScreen","flexGrow","nested","paddingLeft","extendedIcon","addButton","marginBottom","fabButton","badgeFix","dividerFix","folderShareIcon","verticalAlign","shareInfoContainer","textDecoration","shareAvatar","stickFooter","ownerInfo","overflowY","minHeight","configure","ignoreTags","keyMap","SEARCH","SearchBarCompoment","handlers","searchShare","blur","cancelSuggest","searchIcon","inputRoot","inputInput","onBlur","suggestBox","TransitionProps","timeout","square","SearchBar","shape","fade","common","white","pointerEvents","justifyContent","paddingTop","paddingRight","paddingBottom","StorageBarCompoment","percent","used","total","showExpand","firstLoad","updateStatus","refresh","onMouseEnter","onMouseLeave","storageContainer","detail","bar","StorageBar","storageRefresh","textFix","overflow","textOverflow","UserInfoCompoment","userNav","flexAvatar","avatarImg","storageCircle","nickName","groupName","UserInfo","backgroundImage","backgroundSize","transform","hiddenButton","subMenu","overFlow","whiteSpace","icons","Circle","CircleOutline","Heart","HeartOutline","Hexagon","HexagonOutline","Hexagram","HexagramOutline","Rhombus","RhombusOutline","Square","SquareOutline","Triangle","TriangleOutline","FolderHeartOutline","AddTag","FileTag","useHistory","tagOpen","setTagOpen","addTagModal","setAddTagModal","tagHover","setTagHover","tags","setTags","SearchMyFile","NavigateTo","onSuccess","tag","newTags","iconVideo","iconImg","iconAudio","iconDoc","expression","IconComponent","getIcon","ImagPreviewComponent","photoIndex","firstOne","newImg","intro","fileType","images","visible","onIndexChange","n","ImgPreivew","AudioIcon","VideoIcon","ImageIcon","PdfIcon","FileWordBox","FilePowerpointBox","FileExcelBox","ScriptText","MagnetOn","ZipBox","WindowRestore","Android","FileShowIcon","LanguagePhp","LanguageGo","LanguagePython","LanguageC","LanguageCpp","LanguageJavascript","TypeIcon","fileSuffix","lighten","getColor","getColorValue","isUpload","iconClassName","isFunction","val","noop","newScript","scriptElem","createElement","prototype","hasOwnProperty","call","body","appendChild","keyIterator","cols","next","parallel","tasks","each","hasError","successed","ret","task","err","args","series","thunk","nextKey","nextThunk","isArray","iterator","loadedScript","pendingScripts","failedScript","addCache","entry","removeFailedScript","script","node","parentNode","removeChild","uploaderLoader","WrappedComponent","ScriptLoader","context","isScriptLoaded","isScriptLoadSucceed","_isMounted","scripts","onComplete","loadNewScript","taskComplete","callbacks","startLoadingScripts","policyType","onScriptLoaded","refs","wrappedInstance","defaultProps","hoistStatics","FileList","files","openFileList","cancelUpload","deQueue","reQueue","addNewFile","getElementsByClassName","click","getProgressBackground","darken","filesNow","fileID","f","splice","errMsg","ignoreMsg","Slide","direction","inRef","bind","enQueue","setComplete","setError","fullScreen","isWidthDown","TransitionComponent","Transition","AppBar","Toolbar","flex","dialogContent","minHight","item","progressContainer","progress","progressContent","listAction","plupload","formatSize","speed","loaded","errorStatus","successStatus","progressBar","wordBreak","withWidth","UploadButton","setOpen","queued","setQueued","OpenNewFolderDialog","OpenNewFileDialog","Queued","openUpload","uploadButton","contains","uploadClicked","Badge","badgeContent","invisible","Backdrop","SpeedDial","ariaLabel","tooltipTitle","SpeedDialIcon","openIcon","FabProps","SpeedDialAction","tooltipOpen","UploaderComponent","uploader","addFile","fileAdd","currntPath","enqueFiles","isDsStore","removeFile","relativePath","pathCache","Qiniu","runtimes","browse_button","drop_element","max_file_size","policy","maxSize","dragdrop","chunk_size","getChunkSize","saveType","filters","mime_types","allowedType","extensions","multi_selection","uptoken_url","uptoken","domain","max_retries","get_new_uptoken","auto_start","log_level","init","FilesAdded","BeforeUpload","QueueChanged","UploadProgress","UploadComplete","Fresh","FileUploaded","Error","errTip","FilesRemoved","onError","setRef","Uploader","forwardRef","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","isLocalhost","hostname","match","AuthRoute","rest","render","to","PageLoading","emptyContainer","emptyInfoBig","ads","maxHeight","Notice","rel","initUserConfig","themes","enableUploaderLoad","uploadConfig","store","defaultTheme","preferListMethod","share_view_method","home_view_method","icp","ICPFooter","siteICPId","show","setShow","pageHelper","Link","primaryColor","secondaryColor","y","rx","ry","captchaPlacholder","NormalCaptcha","captchaRef","useStyle","captcha","setCaptcha","captchaData","setCaptchaData","refreshCaptcha","captchaCode","captchaContainer","required","Input","autoComplete","captchaPlaceholder","alt","ReCAPTCHA","handleExpired","handleErrored","handleRecaptchaRef","grecaptcha","_widgetId","getResponse","execute","_executeRequested","reset","onExpired","onErrored","token","sitekey","tabindex","stoken","hl","explicitRender","delayOfCaptchaIframeRemoving","temporaryNode","firstChild","elem","childProps","displayName","makeAsyncScriptLoader","callbackName","globalName","Recaptcha","reCaptchaKey","captcha_ReCaptchaKey","ReCaptcha","TCaptcha","isValidateRef","submitRef","appid","tcaptcha_captcha_app_id","onLoad","TencentCaptcha","res","ticket","randstr","isValidate","submit","defaultValidate","useCaptcha","captchaType","captcha_type","captchaLoading","setCaptchaLoading","captchaRefreshRef","useRef","normal","captchaParamsRef","CaptchaRender","validate","useNormalCaptcha","recaptcha","useRecaptcha","tcaptcha","useTCaptcha","flexDirection","form","buttonContainer","authnLink","LoginForm","email","setEmail","pwd","setPwd","useAuthn","setUseAuthn","twoFA","setTwoFA","faCode","setFACode","loginCaptcha","QQLogin","authn","ApplyThemes","SetSessionStatus","GetQueryString","reg","r","afterLogin","backurl","decodeURIComponent","removeItem","_QQLogin","Paper","login","userName","Password","credentials","credentialRequestOptions","publicKey","challenge","allowCredentials","listItem","assertion","authData","authenticatorData","clientDataJSON","rawId","sig","signature","userHandle","Fingerprint","VpnKey","actions","reducers","expandMore","active","textTransform","PathButton","inputRef","useDrop","accept","drop","more","collect","monitor","isOver","canDrop","isActive","last","DropDownItem","setActiveStatus","DropDown","timer","clearTimeout","shouldClose","element","NavigatorComponent","currentID","hiddenFolders","hiddenMode","anchorHidden","renderPath","onpopstate","navigateToPath","apiURL","parent","objects","pathTemp","checkOverFlow","redresh","componentDidUpdate","prevProps","prevStates","ms","drawerDesktopOpen","force","overflowInitLock","hasOverflowingChildren","offsetHeight","scrollHeight","offsetWidth","scrollWidth","showHiddenPath","performAction","newTarget","presentFolderMenu","Menu","disableAutoFocusItem","Archive","roundBorder","navigatorContainer","nav","rightIcon","optionContainer","Navigator","SmallIconCompoment","isSelected","ButtonBase","focusRipple","notSelected","onIconClick","iconSelected","iconNotSelected","isFolder","checkIcon","folderName","folderNameSelected","folderNameNotSelected","SmallIcon","divider","boxSizing","fontWeight","FileIconCompoment","showPicIcon","pic","hide","picPreview","afterLoad","beforeLoad","loadingAnimation","previewIcon","iconBig","fileInfo","shareFix","FileIcon","objectFit","Folder","dragging","cardDragged","diliverIcon","object","Preview","card","layerStyles","getItemStyles","initialOffset","currentOffset","pointerOffset","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","getInitialClientOffset","isDragging","renderItem","TableRowCompoment","tableIcon","TableRow","pref","contextMenu","handleClick","onDoubleClick","handleDoubleClick","selectedShared","TableCell","dref","scope","tableRow","hideAuto","TableItem","userSelect","FolderDropWarpper","isListView","fixFlex","ObjectIcon","navigatorPath","ContextMenu","SetSelectedTarget","NavitateTo","DragAndDrop","OpenPreview","selectFileAction","enterFolder","handleIconClick","stopPropagation","useDrag","dropResult","getDropResult","canDrag","drag","getEmptyImage","captureDraggingState","StyledListItemIcon","ContextMenuCompoment","X","Y","setPoint","clientY","clientX","openArchiveDownload","clickUpload","renderMenuItems","visibleCount","condition","dense","allowRemoteDownload","menuOpen","anchorReference","anchorPosition","Unarchive","InfoOutlined","propover","contextType","contextOpen","ExplorerCompoment","ClickAway","dataset","clickaway","DELETE_FILE","SELECT_ALL","away","showView","listView","Table","table","TableHead","TableSortLabel","changeSort","visuallyHidden","TableBody","normalView","flexFix","data-clickAway","typeHeader","Grid","xs","md","sm","lg","view","rootTable","rootShare","navigatorError","errorBox","errorMsg","navigatorErrorMsg","emptyIcon","emptyInfoSmall","Explorer","hint","upButton","clickAway","clip","ListLoading","drawerContainer","placeContent","fileIcon","fileIconSVG","folderIcon","closeIcon","placeSelf","propsContainer","propsLabel","propsTime","propsValue","SideDrawer","SetSideBar","setTarget","details","setDetails","propsItem","d","t","toLocaleString","child_folder_num","child_file_num","updated_at","created_at","datetime","query_date","locale","Hidden","Clear","Drawer","gutterBottom","FileManager","DndProvider","backend","HTML5Backend","DragLayer","VideoViewer","getBaseURL","Google","client","slot","cardContainer","shareTitle","avatarFile","avatarFolder","gird","loadMore","orderSelect","SearchResult","page","setPage","setTotal","shareList","setShareList","orderBy","setOrderBy","order","Card","CardHeader","subheader","create_date","Pagination","count","MyShareCompoment","showPwd","loadList","removeShare","oldList","changePermission","newPwd","shareIndex","changePreviewOption","handlePageChange","handleOrderChange","isExpired","remain_downloads","CardActions","disableActionSpacing","MyShare","SelectFileDialog","setFiles","dividers","FormGroup","row","FormControlLabel","filesCopy","iconContainer","borderInlineStart","contentSide","iconMultiple","subFileName","subFileIcon","scroll","actionButton","infoTitle","infoValue","bitmap","DownloadingCard","canvasRef","setTask","selectDialogOpen","setSelectDialogOpen","selectFileOption","setSelectFileOption","bitfield","str","canvas","getContext","clearRect","strokeStyle","bit","round","numPieces","beginPath","moveTo","lineTo","stroke","getPercent","completed","activeFiles","getDownloadName","bittorrent","mode","gid","indexes","newExpanded","CardContent","LinearProgress","completedLength","newIndex","newFiles","deleteFile","HighlightOff","update","uploadLength","uploadSpeed","infoHash","numSeeders","seeder","pieceLength","FinishedCard","task_status","getTaskError","task_error","RemoteDownloadButton","OpenRemoteDownloadDialog","Fab","Add","DownloadComponent","interval","previousDownloading","downloading","finishedList","continue","loadDownloading","reduce","LockedFileCompoment","setPassowrd","LockedFile","marginRottom","boxHeader","cursor","shareDes","Creator","userProfile","views","ImgPreview","SharedFileCompoment","scoreHandle","download","rewards","box","boxContent","fileSize","boxFooter","actionLeft","openResave","downloadButton","SharedFile","fileCotainer","buttonCotainer","ReadMe","SharedFolderComponent","handleClickAway","readmeShowed","ClickAwayListener","onClickAway","managerContainer","SharedFolder","shareUserPopoverAnchorEl","SharePreload","setShare","setPassword","locked","withPassword","DocViewer","setURL","QuotaCompoment","basic","pack","r1","r2","r3","packs","usedR","baseR","packR","proBar","r1_block","note_block","r2_block","r3_block","align","activate_date","expiration","expiration_date","Quota","lineHeight","float","PackSelect","boxHead","packName","price","priceWithScore","boxBottom","BuyQuotaCompoment","IntervalId","confirmRedeem","redeemCode","dialog","doRedeem","redeemInfo","buyPack","packType","selectedPack","packPayMethod","groups","selectedGroup","num","scoreNum","times","payment","qr_code","setInterval","querryLoop","clearInterval","handleChangeIndex","handleTexyChange","selectPack","selectGroup","selectPackPayMethod","scorePrice","alipay","payjs","wechat","score_price","methodSelect","FormLabel","RadioGroup","Radio","textField","step","Tabs","Tab","AccountBalanceWallet","payMethod","priceShow","tier","highlight","titleTypographyProps","subheaderTypographyProps","cardHeader","cardPricing","line","cardActions","redeemContainer","codeContainer","BuyQuota","grey","formGroup","formIcon","CreateWebDAVAccount","setValue","pathSelectDialog","setPathSelectDialog","formContainer","LabelOutlined","FolderOpenOutlined","CreateWebDAVMount","Storage","cardContent","tableContainer","WebDAV","tab","setTab","setCreate","mount","setMount","accounts","setAccounts","setFolders","account","ID","CreatedAt","Name","Root","mountInfo","indicatorColor","textColor","newValue","Alert","severity","origin","TableContainer","accountCopy","deleteAccount","policy_name","folderCopy","deleteMount","footer","Tasks","setTasks","nowrap","getError","Ifm","iFrameHeight","iframe","clientHeight","frameBorder","scrolling","ProfileCompoment","listType","loadNext","loadPrev","avatarContainer","centered","infoContainer","infoItem","mobileHide","th","tableLink","Profile","backgroundPosition","borderRaidus","pageInfo","sectionTitle","desenList","flexContainer","Authn","setSelected","confirm","setConfirm","deleteCredential","fingerprint","credentialCreationOptions","excludeCredentials","credential","attestationObject","add","TimeZoneDialog","timeZoneValue","setTimeZoneValue","UserSettingCompoment","avatarModal","nickModal","changePassword","oldPwd","webdavPwd","newPwdRepeat","twoFactor","authCode","changeTheme","chosenTheme","showWebDavUrl","showWebDavUserName","changeWebDavPwd","groupBackModal","changePolicy","changeTimeZone","settings","group_expires","qq","homepage","two_factor","two_fa_secret","prefer_theme","changeView","loadSetting","doChangeGroup","useGravatar","changeNick","bindQQ","uploadAvatar","formData","FormData","append","fileInput","headers","handleToggle","changhePwd","old","new","changheWebdavPwd","axios","init2FA","handleAlignment","toggleThemeMode","infoTextWithIcon","rightIconWithText","infoText","ConfirmationNumber","Switch","firstColor","secondColor","Brightness3","ListAlt","Schedule","userGravatar","paddingText","flexContainerResponse","qrcode","desText","ToggleButtonGroup","exclusive","ToggleButton","themeBlock","UserSetting","yellow","QQCallback","setMsg","avatarSuccess","Register","password_repeat","setInput","emailActive","setEmailActive","regCaptcha","Apps","exp","Days","toGMTString","JumpUrl","Activation","setSuccess","ResetForm","secret","Reset","forgetCaptcha","overflowWrap","SiteNotice","site_notice","newNotice","dangerouslySetInnerHTML","__html","MusicPlayerComponent","currentIndex","currentTime","progressText","looptype","myAudioRef","newItem","handleItemClick","pause","backgroundPlay","bindEvents","ele","readyPlay","loopnext","timeUpdate","unbindEvents","removeEventListener","play","formatTime","s","isNaN","minute","second","playOrPaues","isPlay","changeLoopType","lt","handleProgress","idx","Slider","slider_root","justify","Repeat","RepeatOne","Shuffle","MusicPlayer","PDFViewer","App","themeConfig","prefersDarkMode","useMediaQuery","useMemo","prefer","createMuiTheme","Fragment","ThemeProvider","CssBaseline","exact","Text","Code","doNavigate","defaultStatus","rawStore","configCache","InitSiteConfig","black","contrastText","bgSelected","ErrorBoundary","errorInfo","componentStack","Admin","hash","URL","fetch","contentType","ready","unregister","checkValidServiceWorker","createBrowserHistory","reduxEnhance","applyMiddleware","routerMiddleware","createStore","viewUpdateState","explorerState","appState","cloudreveApp","combinedState","combinedReducer","combine","namespace","reducer","invariant","combineReducers","connectRouter","UpdateSiteConfig","ReactDOM","getElementById","PathSelectorCompoment","selectedTarget","toBeLoad","back","paths","api","unshift","handleSelect","selector","primaryTypographyProps","buttonIcon","iconWhite","setSubtitle","instance","withCredentials","crossDomain","AppError","stack","constructor","interceptors","use"],"mappings":"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","file":"static/js/main.2eef98d3.chunk.js","sourcesContent":["import { AnyAction } from \"redux\";\nimport { ThunkAction } from \"redux-thunk\";\nimport { CloudreveFile, SortMethod } from \"./../../types/index\";\nimport { closeContextMenu } from \"../viewUpdate/action\";\n\nexport interface ActionSetFileList extends AnyAction {\n    type: \"SET_FILE_LIST\";\n    list: CloudreveFile[];\n}\nexport const setFileList = (list: CloudreveFile[]): ActionSetFileList => {\n    return {\n        type: \"SET_FILE_LIST\",\n        list,\n    };\n};\n\nexport interface ActionSetDirList extends AnyAction {\n    type: \"SET_DIR_LIST\";\n    list: CloudreveFile[];\n}\nexport const setDirList = (list: CloudreveFile[]): ActionSetDirList => {\n    return {\n        type: \"SET_DIR_LIST\",\n        list,\n    };\n};\n\nexport interface ActionSetSortMethod extends AnyAction {\n    type: \"SET_SORT_METHOD\";\n    method: SortMethod;\n}\nexport const setSortMethod = (method: SortMethod): ActionSetSortMethod => {\n    return {\n        type: \"SET_SORT_METHOD\",\n        method,\n    };\n};\n\nexport const setSideBar = (open: boolean) => {\n    return {\n        type: \"SET_SIDE_BAR\",\n        open,\n    };\n};\n\ntype SortFunc = (a: CloudreveFile, b: CloudreveFile) => number;\nconst sortMethodFuncs: Record<SortMethod, SortFunc> = {\n    sizePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return a.size - b.size;\n    },\n    sizeRes: (a: CloudreveFile, b: CloudreveFile) => {\n        return b.size - a.size;\n    },\n    namePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return a.name.localeCompare(\n            b.name,\n            navigator.languages[0] || navigator.language,\n            { numeric: true, ignorePunctuation: true }\n        );\n    },\n    nameRev: (a: CloudreveFile, b: CloudreveFile) => {\n        return b.name.localeCompare(\n            a.name,\n            navigator.languages[0] || navigator.language,\n            { numeric: true, ignorePunctuation: true }\n        );\n    },\n    timePos: (a: CloudreveFile, b: CloudreveFile) => {\n        return Date.parse(a.date) - Date.parse(b.date);\n    },\n    timeRev: (a: CloudreveFile, b: CloudreveFile) => {\n        return Date.parse(b.date) - Date.parse(a.date);\n    },\n};\n\nexport const updateFileList = (\n    list: CloudreveFile[]\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        // TODO: define state type\n        const { sortMethod } = state.viewUpdate;\n        const dirList = list.filter((x) => {\n            return x.type === \"dir\";\n        });\n        const fileList = list.filter((x) => {\n            return x.type === \"file\";\n        });\n        const sortFunc = sortMethodFuncs[sortMethod as SortMethod];\n        dispatch(setDirList(dirList.sort(sortFunc)));\n        dispatch(setFileList(fileList.sort(sortFunc)));\n    };\n};\n\nexport const changeSortMethod = (\n    method: SortMethod\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        const { fileList, dirList } = state.explorer;\n        const sortFunc = sortMethodFuncs[method];\n        dispatch(setSortMethod(method));\n        dispatch(setDirList(dirList.sort(sortFunc)));\n        dispatch(setFileList(fileList.sort(sortFunc)));\n    };\n};\n\nexport const toggleObjectInfoSidebar = (\n    open: boolean\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState): void => {\n        const state = getState();\n        if (open) {\n            dispatch(closeContextMenu());\n        }\n        dispatch(setSideBar(true));\n    };\n};\n","const statusHelper = {\n    isHomePage(path) {\n        return path === \"/home\";\n    },\n    isSharePage(path) {\n        return path && path.startsWith(\"/s/\");\n    },\n    isAdminPage(path) {\n        return path && path.startsWith(\"/admin\");\n    },\n    isLoginPage(path) {\n        return path && path.startsWith(\"/login\");\n    },\n    isMobile() {\n        return window.innerWidth < 600;\n    },\n};\nexport default statusHelper;\n","/* eslint-disable no-case-declarations */\nimport { AnyAction } from \"redux\";\nimport { CloudreveFile } from \"../../types\";\n\ninterface SelectProps {\n    isMultiple: boolean;\n    withFolder: boolean;\n    withFile: boolean;\n}\n\nexport interface ExplorerState {\n    dndSignal: boolean;\n    dndTarget: any;\n    dndSource: any;\n    fileList: CloudreveFile[];\n    dirList: CloudreveFile[];\n    selected: CloudreveFile[];\n    selectProps: SelectProps;\n    lastSelect: {\n        file: CloudreveFile;\n        index: number;\n    };\n    shiftSelectedIds: string[];\n    imgPreview: {\n        first: CloudreveFile;\n        other: [];\n    };\n    audioPreview: {\n        first: CloudreveFile;\n        other: [];\n        playingName: any;\n        paused: boolean;\n        isOpen: boolean;\n    };\n    keywords: string;\n    fileSave: boolean;\n    sideBarOpen: boolean;\n}\n\nexport const initState: ExplorerState = {\n    dndSignal: false,\n    dndTarget: null,\n    dndSource: null,\n    fileList: [],\n    dirList: [],\n    selected: [],\n    selectProps: {\n        isMultiple: false,\n        withFolder: false,\n        withFile: false,\n    },\n    lastSelect: {\n        file: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        index: -1,\n    },\n    shiftSelectedIds: [],\n    imgPreview: {\n        first: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        other: [],\n    },\n    audioPreview: {\n        first: {\n            id: \"\",\n            name: \"\",\n            size: 0,\n            type: \"file\",\n            date: \"\",\n        },\n        other: [],\n        playingName: null,\n        paused: false,\n        isOpen: false,\n    },\n    keywords: \"\",\n    fileSave: false,\n    sideBarOpen: false,\n};\n\nconst checkSelectedProps = (selected: CloudreveFile[]): SelectProps => {\n    const isMultiple = selected.length > 1;\n    let withFolder = false;\n    let withFile = false;\n    selected.forEach((value) => {\n        if (value.type === \"dir\") {\n            withFolder = true;\n        } else if (value.type === \"file\") {\n            withFile = true;\n        }\n    });\n    return {\n        isMultiple,\n        withFolder,\n        withFile,\n    };\n};\n\nconst explorer = (\n    state: ExplorerState = initState,\n    action: AnyAction\n): ExplorerState => {\n    switch (action.type) {\n        case \"DRAG_AND_DROP\":\n            return Object.assign({}, state, {\n                dndSignal: !state.dndSignal,\n                dndTarget: action.target,\n                dndSource: action.source,\n            });\n        case \"SET_FILE_LIST\":\n            return Object.assign({}, state, {\n                fileList: action.list,\n            });\n        case \"SET_DIR_LIST\":\n            return Object.assign({}, state, {\n                dirList: action.list,\n            });\n        case \"ADD_SELECTED_TARGETS\":\n            const addedSelected = [...state.selected, ...action.targets];\n            return Object.assign({}, state, {\n                selected: addedSelected,\n                selectProps: checkSelectedProps(addedSelected),\n            });\n        case \"SET_SELECTED_TARGET\":\n            const newSelected = action.targets;\n            return Object.assign({}, state, {\n                selected: newSelected,\n                selectProps: checkSelectedProps(newSelected),\n            });\n        case \"RMOVE_SELECTED_TARGETS\":\n            const { fileIds } = action;\n            const filteredSelected = state.selected.filter((file) => {\n                return !fileIds.includes(file.id);\n            });\n            return Object.assign({}, state, {\n                selected: filteredSelected,\n                selectProps: checkSelectedProps(filteredSelected),\n            });\n        case \"REFRESH_FILE_LIST\":\n            return Object.assign({}, state, {\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n                keywords: action.keywords,\n            });\n        case \"SHOW_IMG_PREIVEW\":\n            return Object.assign({}, state, {\n                imgPreview: {\n                    first: action.first,\n                    other: state.fileList,\n                },\n            });\n        case \"SHOW_AUDIO_PREVIEW\":\n            return Object.assign({}, state, {\n                audioPreview: {\n                    ...state.audioPreview,\n                    first: action.first,\n                    other: state.fileList,\n                },\n            });\n        case \"AUDIO_PREVIEW_SET_IS_OPEN\":            \n            return Object.assign({}, state, {\n                audioPreview: {\n                    ...state.audioPreview,\n                    isOpen: action.isOpen,\n                },\n            });\n        case \"AUDIO_PREVIEW_SET_PLAYING\":\n            return Object.assign({}, state, {\n                audioPreview: {\n                    ...state.audioPreview,\n                    playingName: action.playingName,\n                    paused: action.paused,\n                },\n            });\n        case \"SAVE_FILE\":\n            return {\n                ...state,\n                fileSave: !state.fileSave,\n            };\n        case \"SET_LAST_SELECT\":\n            const { file, index } = action;\n            return {\n                ...state,\n                lastSelect: {\n                    file,\n                    index,\n                },\n            };\n        case \"SET_SHIFT_SELECTED_IDS\":\n            const { shiftSelectedIds } = action;\n            return {\n                ...state,\n                shiftSelectedIds,\n            };\n        case \"SET_NAVIGATOR\":\n            return {\n                ...state,\n                selected: [],\n                selectProps: {\n                    isMultiple: false,\n                    withFolder: false,\n                    withFile: false,\n                },\n                keywords: \"\",\n            };\n        case \"SET_SIDE_BAR\":\n            return {\n                ...state,\n                sideBarOpen: action.open,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default explorer;\n","const Auth = {\n    isAuthenticated: false,\n    authenticate(cb: any) {\n        Auth.SetUser(cb);\n        Auth.isAuthenticated = true;\n    },\n    GetUser() {\n        return JSON.parse(localStorage.getItem(\"user\") || \"null\");\n    },\n    SetUser(newUser: any) {\n        localStorage.setItem(\"user\", JSON.stringify(newUser));\n    },\n    Check(): boolean {\n        if (Auth.isAuthenticated) {\n            return true;\n        }\n        if (localStorage.getItem(\"user\") !== null) {\n            return !Auth.GetUser().anonymous;\n        }\n        return false;\n    },\n    signout() {\n        Auth.isAuthenticated = false;\n        const oldUser = Auth.GetUser();\n        oldUser.id = 0;\n        localStorage.setItem(\"user\", JSON.stringify(oldUser));\n    },\n    SetPreference(key: string, value: any) {\n        let preference = JSON.parse(\n            localStorage.getItem(\"user_preference\") || \"{}\"\n        );\n        preference = preference == null ? {} : preference;\n        preference[key] = value;\n        localStorage.setItem(\"user_preference\", JSON.stringify(preference));\n    },\n    GetPreference(key: string): any | null {\n        const preference = JSON.parse(\n            localStorage.getItem(\"user_preference\") || \"{}\"\n        );\n        if (preference && preference[key]) {\n            return preference[key];\n        }\n        return null;\n    },\n};\n\nexport default Auth;\n","import React, { useState, useEffect } from \"react\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nfunction AutoHidden({ children, enable }) {\n    const [hidden, setHidden] = useState(false);\n\n    let prev = window.scrollY;\n    let lastUpdate = window.scrollY;\n    const show = 50;\n\n    useEffect(() => {\n        const handleNavigation = (e) => {\n            const window = e.currentTarget;\n\n            if (prev > window.scrollY) {\n                if (lastUpdate - window.scrollY > show) {\n                    lastUpdate = window.scrollY;\n                    setHidden(false);\n                }\n            } else if (prev < window.scrollY) {\n                if (window.scrollY - lastUpdate > show) {\n                    lastUpdate = window.scrollY;\n                    setHidden(true);\n                }\n            }\n            prev = window.scrollY;\n        };\n        if (enable) {\n            window.addEventListener(\"scroll\", (e) => handleNavigation(e));\n        }\n        // eslint-disable-next-line\n    }, [enable]);\n\n    return <Zoom in={!hidden}>{children}</Zoom>;\n}\n\nexport default AutoHidden;\n","import React from \"react\";\nimport { Code } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"70%\",\n        padding: 40,\n        [theme.breakpoints.down(\"md\")]: {\n            width: \"100%\",\n            padding: 10,\n        },\n    },\n}));\n\nconst MyLoader = (props) => (\n    <Code\n        backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n        foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n        className={props.className}\n    />\n);\n\nfunction TextLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div>\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default TextLoading;\n","export const sizeToString = (bytes) => {\n    if (bytes === 0 || bytes === \"0\") return \"0 B\";\n    const k = 1024;\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toFixed(1) + \" \" + sizes[i];\n};\n\nexport const fixUrlHash = (path) => {\n    return path;\n};\n\nexport const setCookie = (name, value, days) => {\n    if (days) {\n        const date = new Date();\n        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    }\n    document.cookie = name + \"=\" + (value || \"\") + \"; path=/\";\n};\n\nexport const setGetParameter = (paramName, paramValue) => {\n    let url = window.location.href;\n\n    if (url.indexOf(paramName + \"=\") >= 0) {\n        const prefix = url.substring(0, url.indexOf(paramName));\n        let suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix =\n            suffix.indexOf(\"&\") >= 0\n                ? suffix.substring(suffix.indexOf(\"&\"))\n                : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    } else {\n        if (url.indexOf(\"?\") < 0) url += \"?\" + paramName + \"=\" + paramValue;\n        else url += \"&\" + paramName + \"=\" + paramValue;\n    }\n    if (url === window.location.href) {\n        return;\n    }\n    window.history.pushState(null, null, url);\n};\n\nexport const allowSharePreview = () => {\n    if (!window.isSharePage) {\n        return true;\n    }\n    if (window.isSharePage) {\n        if (window.shareInfo.allowPreview) {\n            return true;\n        }\n        if (window.userInfo.uid === -1) {\n            return false;\n        }\n        return true;\n    }\n};\n\nexport const checkGetParameters = (field) => {\n    const url = window.location.href;\n    if (url.indexOf(\"?\" + field + \"=\") !== -1) return true;\n    else if (url.indexOf(\"&\" + field + \"=\") !== -1) return true;\n    return false;\n};\n\nexport const changeThemeColor = (color) => {\n    const metaThemeColor = window.document.querySelector(\n        \"meta[name=theme-color]\"\n    );\n    metaThemeColor.setAttribute(\"content\", color);\n};\n\nexport function bufferDecode(value) {\n    return Uint8Array.from(atob(value), (c) => c.charCodeAt(0));\n}\n\n// ArrayBuffer to URLBase64\nexport function bufferEncode(value) {\n    return btoa(String.fromCharCode.apply(null, new Uint8Array(value)))\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\")\n        .replace(/=/g, \"\");\n}\n\nexport function pathBack(path) {\n    const folders =\n        path !== null\n            ? path.substr(1).split(\"/\")\n            : this.props.path.substr(1).split(\"/\");\n    return \"/\" + folders.slice(0, folders.length - 1).join(\"/\");\n}\n\nexport function filePath(file) {\n    return file.path === \"/\"\n        ? file.path + file.name\n        : file.path + \"/\" + file.name;\n}\n\nexport function hex2bin(hex) {\n    return parseInt(hex, 16).toString(2).padStart(8, \"0\");\n}\n\nexport function pathJoin(parts, sep) {\n    const separator = sep || \"/\";\n    parts = parts.map((part, index) => {\n        if (index) {\n            part = part.replace(new RegExp(\"^\" + separator), \"\");\n        }\n        if (index !== parts.length - 1) {\n            part = part.replace(new RegExp(separator + \"$\"), \"\");\n        }\n        return part;\n    });\n    return parts.join(separator);\n}\n\nexport function basename(path) {\n    const pathList = path.split(\"/\");\n    pathList.pop();\n    return pathList.join(\"/\") === \"\" ? \"/\" : pathList.join(\"/\");\n}\n\nexport function filename(path) {\n    const pathList = path.split(\"/\");\n    return pathList.pop();\n}\n\nexport function randomStr(length) {\n    let result = \"\";\n    const characters =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(\n            Math.floor(Math.random() * charactersLength)\n        );\n    }\n    return result;\n}\n\nexport function getNumber(base, conditions) {\n    conditions.forEach((v) => {\n        if (v) {\n            base++;\n        }\n    });\n    return base;\n}\n\nexport const isMac = () => {\n    return navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0;\n};\n\nexport function vhCheck() {\n    const vh = window.innerHeight;\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n}\n","import React, { useCallback } from \"react\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport DayIcon from \"@material-ui/icons/Brightness7\";\nimport NightIcon from \"@material-ui/icons/Brightness4\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toggleDaylightMode } from \"../../actions\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Auth from \"../../middleware/Auth\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles(() => ({\n    icon: {\n        color: \"rgb(255, 255, 255)\",\n        opacity: \"0.54\",\n    },\n}));\n\nconst DarkModeSwitcher = ({ position }) => {\n    const ThemeType = useSelector(\n        (state) => state.siteConfig.theme.palette.type\n    );\n    const dispatch = useDispatch();\n    const ToggleThemeMode = useCallback(() => dispatch(toggleDaylightMode()), [\n        dispatch,\n    ]);\n    const isDayLight = (ThemeType && ThemeType === \"light\") || !ThemeType;\n    const isDark = ThemeType && ThemeType === \"dark\";\n    const toggleMode = () => {\n        Auth.SetPreference(\"theme_mode\", isDayLight ? \"dark\" : \"light\");\n        ToggleThemeMode();\n    };\n    const classes = useStyles();\n    return (\n        <Tooltip\n            title={isDayLight ? \"切换到深色模式\" : \"切换到浅色模式\"}\n            placement=\"bottom\"\n        >\n            <IconButton\n                className={classNames({\n                    [classes.icon]: \"left\" === position,\n                })}\n                onClick={toggleMode}\n                color=\"inherit\"\n            >\n                {isDayLight && <NightIcon />}\n                {isDark && <DayIcon />}\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default DarkModeSwitcher;\n","import React, { useCallback, useState } from \"react\";\nimport { IconButton, makeStyles, Menu, MenuItem } from \"@material-ui/core\";\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\nimport ViewSmallIcon from \"@material-ui/icons/ViewComfy\";\nimport ViewModuleIcon from \"@material-ui/icons/ViewModule\";\nimport TextTotateVerticalIcon from \"@material-ui/icons/TextRotateVertical\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { Report as ReportIcon } from \"@material-ui/icons\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport Report from \"../../Modals/Report\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Auth from \"../../../middleware/Auth\";\nimport {\n    changeViewMethod,\n    openResaveDialog,\n    setShareUserPopover,\n    toggleSnackbar,\n} from \"../../../actions\";\nimport { changeSortMethod } from \"../../../redux/explorer/action\";\n\nconst useStyles = makeStyles((theme) => ({\n    sideButton: {\n        padding: \"8px\",\n        marginRight: \"5px\",\n    },\n}));\n\nconst sortOptions = [\"A-Z\", \"Z-A\", \"最早\", \"最新\", \"最小\", \"最大\"];\n\nexport default function SubActions({ isSmall, share, inherit }) {\n    const dispatch = useDispatch();\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const OpenLoadingDialog = useCallback(\n        (method) => dispatch(changeViewMethod(method)),\n        [dispatch]\n    );\n    const ChangeSortMethod = useCallback(\n        (method) => dispatch(changeSortMethod(method)),\n        [dispatch]\n    );\n    const OpenResaveDialog = useCallback(\n        (key) => dispatch(openResaveDialog(key)),\n        [dispatch]\n    );\n    const SetShareUserPopover = useCallback(\n        (e) => dispatch(setShareUserPopover(e)),\n        [dispatch]\n    );\n    const [anchorSort, setAnchorSort] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const [openReport, setOpenReport] = useState(false);\n    const showSortOptions = (e) => {\n        setAnchorSort(e.currentTarget);\n    };\n    const handleMenuItemClick = (e, index) => {\n        setSelectedIndex(index);\n        const optionsTable = {\n            0: \"namePos\",\n            1: \"nameRev\",\n            2: \"timePos\",\n            3: \"timeRev\",\n            4: \"sizePos\",\n            5: \"sizeRes\",\n        };\n        ChangeSortMethod(optionsTable[index]);\n        setAnchorSort(null);\n    };\n\n    const toggleViewMethod = () => {\n        const newMethod =\n            viewMethod === \"icon\"\n                ? \"list\"\n                : viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        OpenLoadingDialog(newMethod);\n    };\n\n    const toggleSnackbars = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const rewards = () => {\n        if (!Auth.Check()) {\n            toggleSnackbars(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            return;\n        }\n        window.opensendgift(share.key);\n    };\n\n    const classes = useStyles();\n    return (\n        <>  \n            {share && (\n            <IconButton title=\"打赏\" className={classes.sideButton} onClick={rewards}>\n              <MonetizationOnIcon fontSize=\"small\"/>\n            </IconButton>\n            )}\n            {viewMethod === \"icon\" && (\n                <IconButton\n                    title=\"列表展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewListIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n            {viewMethod === \"list\" && (\n                <IconButton\n                    title=\"小图标展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewSmallIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n\n            {viewMethod === \"smallIcon\" && (\n                <IconButton\n                    title=\"大图标展示\"\n                    className={classes.sideButton}\n                    onClick={toggleViewMethod}\n                    color={inherit ? \"inherit\" : \"default\"}\n                >\n                    <ViewModuleIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                </IconButton>\n            )}\n\n            <IconButton\n                title=\"排序方式\"\n                className={classes.sideButton}\n                onClick={showSortOptions}\n                color={inherit ? \"inherit\" : \"default\"}\n            >\n                <TextTotateVerticalIcon\n                    fontSize={isSmall ? \"small\" : \"default\"}\n                />\n            </IconButton>\n            <Menu\n                id=\"sort-menu\"\n                anchorEl={anchorSort}\n                open={Boolean(anchorSort)}\n                onClose={() => setAnchorSort(null)}\n            >\n                {sortOptions.map((option, index) => (\n                    <MenuItem\n                        key={option}\n                        selected={index === selectedIndex}\n                        onClick={(event) => handleMenuItemClick(event, index)}\n                    >\n                        {option}\n                    </MenuItem>\n                ))}\n            </Menu>\n            {share && (\n                <>\n                    <IconButton\n                        title={\"保存到我的文件\"}\n                        className={classes.sideButton}\n                        onClick={() => OpenResaveDialog(share.key)}\n                    >\n                        <SaveIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                    </IconButton>\n                    <IconButton\n                        title={\"举报\"}\n                        className={classes.sideButton}\n                        onClick={() => setOpenReport(true)}\n                    >\n                        <ReportIcon fontSize={isSmall ? \"small\" : \"default\"} />\n                    </IconButton>\n                    <Report\n                        open={openReport}\n                        share={share}\n                        onClose={() => setOpenReport(false)}\n                    />\n                </>\n            )}\n            {share && (\n                <IconButton\n                    title={\"由 \" + share.creator.nick + \" 创建\"}\n                    className={classes.sideButton}\n                    onClick={(e) => SetShareUserPopover(e.currentTarget)}\n                    style={{ padding: 5 }}\n                >\n                    <Avatar\n                        style={{ height: 23, width: 23 }}\n                        src={\"/api/v3/user/avatar/\" + share.creator.key + \"/s\"}\n                    />\n                </IconButton>\n            )}\n        </>\n    );\n}\n","import React, { useCallback, useState } from \"react\";\nimport { FormControl, makeStyles, TextField } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { reportReasons } from \"../../config\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n    },\n    flexCenter: {\n        alignItems: \"center\",\n    },\n    noFlex: {\n        display: \"block\",\n    },\n    scoreCalc: {\n        marginTop: 10,\n    },\n}));\n\nexport default function Report(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n    const [reason, setReason] = useState(\"0\");\n    const [des, setDes] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(() => {\n            setDes(\"\");\n            setReason(\"0\");\n        }, 500);\n    };\n\n    const submitReport = () => {\n        setLoading(true);\n        API.post(\"/share/report/\" + props.share.key, {\n            des: des,\n            reason: parseInt(reason),\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"举报成功\", \"success\");\n                setLoading(false);\n                onClose();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">举报</DialogTitle>\n            <DialogContent>\n                <FormControl component=\"fieldset\">\n                    <RadioGroup\n                        aria-label=\"gender\"\n                        name=\"gender1\"\n                        value={reason}\n                        onChange={(e) => setReason(e.target.value)}\n                    >\n                        {reportReasons.map((v, k) => (\n                            <FormControlLabel\n                                key={k}\n                                value={k.toString()}\n                                control={<Radio />}\n                                label={v}\n                            />\n                        ))}\n                    </RadioGroup>\n                </FormControl>\n                <TextField\n                    fullWidth\n                    id=\"standard-multiline-static\"\n                    label=\"补充描述\"\n                    multiline\n                    value={des}\n                    onChange={(e) => setDes(e.target.value)}\n                    variant=\"filled\"\n                    rows={4}\n                />\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n                <Button\n                    onClick={submitReport}\n                    color=\"secondary\"\n                    disabled={loading}\n                >\n                    提交\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\n\nexport default function PurchaseShareDialog(props) {\n    return (\n        <Dialog\n            open={props.callback}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                确定要支付 {props.score}积分 购买此分享？\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    购买后，您可以自由预览、下载此分享的所有内容，一定期限内不会重复扣费。\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    onClick={() => props.callback()}\n                    color=\"primary\"\n                    autoFocus\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7,\n    },\n    fabProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: -6,\n        left: -6,\n        zIndex: 1,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonSuccess: {\n        backgroundColor: green[500],\n        \"&:hover\": {\n            backgroundColor: green[700],\n        },\n    },\n}));\n\nexport default function SaveButton(props) {\n    const classes = useStyles();\n    const buttonClassname = clsx({\n        [classes.buttonSuccess]: props.status === \"success\",\n    });\n\n    return (\n        <AutoHidden enable={statusHelper.isMobile()}>\n            <div className={classes.fab}>\n                <div className={classes.wrapper}>\n                    <Tooltip title={\"保存\"} placement={\"left\"}>\n                        <Fab\n                            onClick={props.onClick}\n                            color=\"primary\"\n                            className={buttonClassname}\n                            disabled={props.status === \"loading\"}\n                            aria-label=\"add\"\n                        >\n                            {props.status === \"success\" ? (\n                                <CheckIcon />\n                            ) : (\n                                <SaveIcon />\n                            )}\n                        </Fab>\n                    </Tooltip>\n                    {props.status === \"loading\" && (\n                        <CircularProgress\n                            size={68}\n                            className={classes.fabProgress}\n                        />\n                    )}\n                </div>\n            </div>\n        </AutoHidden>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { blue } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\n\nconst useStyles = makeStyles({\n    avatar: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    loadingContainer: {\n        display: \"flex\",\n    },\n    loading: {\n        marginTop: 10,\n        marginLeft: 20,\n    },\n});\n\nexport default function LoadingDialog() {\n    const classes = useStyles();\n    const open = useSelector((state) => state.viewUpdate.modals.loading);\n    const text = useSelector((state) => state.viewUpdate.modals.loadingText);\n\n    return (\n        <Dialog aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogContent>\n                <DialogContentText className={classes.loadingContainer}>\n                    <CircularProgress color=\"secondary\" />\n                    <div className={classes.loading}>{text}</div>\n                </DialogContentText>\n            </DialogContent>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport {\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n} from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CopyDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n    const RefreshFileList = useCallback(() => {\n        dispatch(refreshFileList());\n    }, [dispatch]);\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n\n        if (props.selected[0].type === \"dir\") {\n            dirs.push(props.selected[0].id);\n        } else {\n            items.push(props.selected[0].id);\n        }\n\n        API.post(\"/object/copy\", {\n            src_dir: props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                RefreshFileList();\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">复制到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        复制到 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Checkbox,\n    FormControl,\n    makeStyles,\n    TextField,\n} from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport TimerIcon from \"@material-ui/icons/Timer\";\nimport CasinoIcon from \"@material-ui/icons/Casino\";\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Divider from \"@material-ui/core/Divider\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport EyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport ToggleIcon from \"material-ui-toggle-icon\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    shareUrl: {\n        minWidth: \"400px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n    },\n    flexCenter: {\n        alignItems: \"center\",\n    },\n    noFlex: {\n        display: \"block\",\n    },\n    scoreCalc: {\n        marginTop: 10,\n    },\n}));\n\nconst ExpansionPanel = withStyles({\n    root: {\n        border: \"0px solid rgba(0, 0, 0, .125)\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {\n            margin: \"auto\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        padding: 0,\n        \"&$expanded\": {},\n    },\n    content: {\n        margin: 0,\n        display: \"initial\",\n        \"&$expanded\": {\n            margin: \"0 0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        padding: 24,\n        backgroundColor: theme.palette.background.default,\n    },\n}))(MuiExpansionPanelDetails);\n\nexport default function CreatShare(props) {\n    const dispatch = useDispatch();\n    const classes = useStyles();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const scoreEnabled = useSelector((state) => state.siteConfig.score_enabled);\n    const scoreRate = useSelector((state) => state.siteConfig.share_score_rate);\n\n    const [expanded, setExpanded] = React.useState(false);\n    const [shareURL, setShareURL] = React.useState(\"\");\n    const [values, setValues] = React.useState({\n        password: \"\",\n        downloads: 1,\n        expires: 24 * 3600,\n        showPassword: false,\n        score: 0,\n    });\n    const [shareOption, setShareOption] = React.useState({\n        password: false,\n        expire: false,\n        score: false,\n        preview: true,\n    });\n\n    const handleChange = (prop) => (event) => {\n        // 输入密码\n        if (prop === \"password\") {\n            if (event.target.value === \"\") {\n                setShareOption({ ...shareOption, password: false });\n            } else {\n                setShareOption({ ...shareOption, password: true });\n            }\n        }\n\n        // 输入积分\n        if (prop === \"score\") {\n            if (event.target.value == \"0\") {\n                setShareOption({ ...shareOption, score: false });\n            } else {\n                setShareOption({ ...shareOption, score: true });\n            }\n        }\n\n        setValues({ ...values, [prop]: event.target.value });\n    };\n\n    const handleClickShowPassword = () => {\n        setValues({ ...values, showPassword: !values.showPassword });\n    };\n\n    const handleMouseDownPassword = (event) => {\n        event.preventDefault();\n    };\n\n    const randomPassword = () => {\n        setShareOption({ ...shareOption, password: true });\n        setValues({\n            ...values,\n            password: Math.random().toString(36).substr(2).slice(2, 8),\n            showPassword: true,\n        });\n    };\n\n    const handleExpand = (panel) => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    const handleCheck = (prop) => () => {\n        if (!shareOption[prop]) {\n            handleExpand(prop)(null, true);\n        }\n        if (prop === \"password\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                password: \"\",\n            });\n        }\n        if (prop === \"score\" && shareOption[prop]) {\n            setValues({\n                ...values,\n                score: 0,\n            });\n        }\n        setShareOption({ ...shareOption, [prop]: !shareOption[prop] });\n    };\n\n    const onClose = () => {\n        props.onClose();\n        setTimeout(() => {\n            setShareURL(\"\");\n        }, 500);\n    };\n\n    const submitShare = (e) => {\n        e.preventDefault();\n        props.setModalsLoading(true);\n        const submitFormBody = {\n            id: props.selected[0].id,\n            is_dir: props.selected[0].type === \"dir\",\n            password: values.password,\n            downloads: shareOption.expire ? values.downloads : -1,\n            expire: values.expires,\n            score: parseInt(values.score),\n            preview: shareOption.preview,\n        };\n\n        API.post(\"/share\", submitFormBody)\n            .then((response) => {\n                setShareURL(response.data);\n                setValues({\n                    password: \"\",\n                    downloads: 1,\n                    expires: 24 * 3600,\n                    showPassword: false,\n                    score: 0,\n                });\n                setShareOption({\n                    password: false,\n                    expire: false,\n                    score: false,\n                });\n                props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                props.setModalsLoading(false);\n            });\n    };\n\n    const handleFocus = (event) => event.target.select();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={onClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.widthAnimation}\n            maxWidth=\"xs\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">创建分享链接</DialogTitle>\n\n            {shareURL === \"\" && (\n                <>\n                    <Divider />\n                    <List>\n                        <ExpansionPanel\n                            expanded={expanded === \"password\"}\n                            onChange={handleExpand(\"password\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"使用密码保护\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.password}\n                                            onChange={handleCheck(\"password\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <FormControl\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    fullWidth\n                                >\n                                    <InputLabel htmlFor=\"filled-adornment-password\">\n                                        分享密码\n                                    </InputLabel>\n                                    <OutlinedInput\n                                        fullWidth\n                                        id=\"outlined-adornment-password\"\n                                        type={\n                                            values.showPassword\n                                                ? \"text\"\n                                                : \"password\"\n                                        }\n                                        value={values.password}\n                                        onChange={handleChange(\"password\")}\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <Tooltip title=\"随机生成\">\n                                                    <IconButton\n                                                        aria-label=\"toggle password visibility\"\n                                                        onClick={randomPassword}\n                                                        edge=\"end\"\n                                                    >\n                                                        <CasinoIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                                <IconButton\n                                                    aria-label=\"toggle password visibility\"\n                                                    onClick={\n                                                        handleClickShowPassword\n                                                    }\n                                                    onMouseDown={\n                                                        handleMouseDownPassword\n                                                    }\n                                                    edge=\"end\"\n                                                >\n                                                    <ToggleIcon\n                                                        on={values.showPassword}\n                                                        onIcon={<Visibility />}\n                                                        offIcon={\n                                                            <VisibilityOff />\n                                                        }\n                                                    />\n                                                </IconButton>\n                                            </InputAdornment>\n                                        }\n                                        labelWidth={70}\n                                    />\n                                </FormControl>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        <ExpansionPanel\n                            expanded={expanded === \"expire\"}\n                            onChange={handleExpand(\"expire\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <TimerIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"自动过期\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.expire}\n                                            onChange={handleCheck(\"expire\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails\n                                className={classes.flexCenter}\n                            >\n                                <FormControl\n                                    style={{\n                                        marginRight: 10,\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.downloads}\n                                        onChange={handleChange(\"downloads\")}\n                                    >\n                                        <MenuItem value={1}>1 次下载</MenuItem>\n                                        <MenuItem value={2}>2 次下载</MenuItem>\n                                        <MenuItem value={3}>3 次下载</MenuItem>\n                                        <MenuItem value={4}>4 次下载</MenuItem>\n                                        <MenuItem value={5}>5 次下载</MenuItem>\n                                        <MenuItem value={20}>\n                                            20 次下载\n                                        </MenuItem>\n                                        <MenuItem value={50}>\n                                            50 次下载\n                                        </MenuItem>\n                                        <MenuItem value={100}>\n                                            100 次下载\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>或者</Typography>\n                                <FormControl\n                                    style={{\n                                        marginRight: 10,\n                                        marginLeft: 10,\n                                    }}\n                                >\n                                    <Select\n                                        labelId=\"demo-simple-select-label\"\n                                        id=\"demo-simple-select\"\n                                        value={values.expires}\n                                        onChange={handleChange(\"expires\")}\n                                    >\n                                        <MenuItem value={300}>5 分钟</MenuItem>\n                                        <MenuItem value={3600}>1 小时</MenuItem>\n                                        <MenuItem value={24 * 3600}>\n                                            1 天\n                                        </MenuItem>\n                                        <MenuItem value={7 * 24 * 3600}>\n                                            7 天\n                                        </MenuItem>\n                                        <MenuItem value={30 * 24 * 3600}>\n                                            30 天\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                                <Typography>后过期</Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                        {scoreEnabled && (\n                            <ExpansionPanel\n                                expanded={expanded === \"score\"}\n                                onChange={handleExpand(\"score\")}\n                            >\n                                <ExpansionPanelSummary\n                                    aria-controls=\"panel1a-content\"\n                                    id=\"panel1a-header\"\n                                >\n                                    <ListItem button>\n                                        <ListItemIcon>\n                                            <AccountBalanceWalletIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"付积分下载\" />\n                                        <ListItemSecondaryAction>\n                                            <Checkbox\n                                                checked={shareOption.score}\n                                                onChange={handleCheck(\"score\")}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </ExpansionPanelSummary>\n\n                                <ExpansionPanelDetails\n                                    className={classes.noFlex}\n                                >\n                                    <FormControl\n                                        variant=\"outlined\"\n                                        color=\"secondary\"\n                                        fullWidth\n                                    >\n                                        <InputLabel htmlFor=\"filled-adornment-password\">\n                                            每人次下载需支付的积分\n                                        </InputLabel>\n                                        <OutlinedInput\n                                            fullWidth\n                                            id=\"outlined-adornment-password\"\n                                            type=\"number\"\n                                            inputProps={{ min: 0 }}\n                                            value={values.score}\n                                            onChange={handleChange(\"score\")}\n                                            labelWidth={180}\n                                        />\n                                    </FormControl>\n                                    {values.score !== 0 && scoreRate !== \"100\" && (\n                                        <Typography\n                                            variant=\"body2\"\n                                            className={classes.scoreCalc}\n                                        >\n                                            {\"预计每人次下载可到账 \" +\n                                                Math.ceil(\n                                                    (values.score * scoreRate) /\n                                                        100\n                                                ) +\n                                                \" 积分\"}\n                                        </Typography>\n                                    )}\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        )}\n                        <ExpansionPanel\n                            expanded={expanded === \"preview\"}\n                            onChange={handleExpand(\"preview\")}\n                        >\n                            <ExpansionPanelSummary\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <ListItem button>\n                                    <ListItemIcon>\n                                        <LockIcon />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"允许预览\" />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            checked={shareOption.preview}\n                                            onChange={handleCheck(\"preview\")}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails>\n                                <Typography>\n                                    是否允许在分享页面预览文件内容\n                                </Typography>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </List>\n                    <Divider />\n                </>\n            )}\n            {shareURL !== \"\" && (\n                <DialogContent>\n                    <TextField\n                        onFocus={handleFocus}\n                        autoFocus\n                        inputProps={{ readonly: true }}\n                        label=\"分享链接\"\n                        value={shareURL}\n                        variant=\"outlined\"\n                        fullWidth\n                    />\n                </DialogContent>\n            )}\n\n            <DialogActions>\n                <Button onClick={onClose}>关闭</Button>\n\n                {shareURL === \"\" && (\n                    <div className={classes.wrapper}>\n                        <Button\n                            onClick={submitShare}\n                            color=\"secondary\"\n                            disabled={props.modalsLoading}\n                        >\n                            创建分享链接\n                            {props.modalsLoading && (\n                                <CircularProgress\n                                    size={24}\n                                    className={classes.buttonProgress}\n                                />\n                            )}\n                        </Button>\n                    </div>\n                )}\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport { filePath } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function DecompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n        API.post(\"/file/decompress\", {\n            src: filePath(props.selected[0]),\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"解压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">解压送至</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        解压送至 <strong>{selectedPathName}</strong>\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n        backgroundColor: theme.palette.background.default,\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}));\n\nexport default function CompressDialog(props) {\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    const [fileName, setFileName] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const dispatch = useDispatch();\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n\n        API.post(\"/file/compress\", {\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            name: fileName,\n            dst: selectedPath === \"//\" ? \"/\" : selectedPath,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"压缩任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">存放到</DialogTitle>\n            <PathSelector\n                presentPath={props.presentPath}\n                selected={props.selected}\n                onSelect={setMoveTarget}\n            />\n\n            {selectedPath !== \"\" && (\n                <DialogContent className={classes.contentFix}>\n                    <DialogContentText>\n                        <TextField\n                            onChange={(e) => setFileName(e.target.value)}\n                            value={fileName}\n                            fullWidth\n                            autoFocus\n                            id=\"standard-basic\"\n                            label=\"压缩文件名\"\n                        />\n                    </DialogContentText>\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitMove}\n                        color=\"primary\"\n                        disabled={\n                            selectedPath === \"\" ||\n                            fileName === \"\" ||\n                            props.modalsLoading\n                        }\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    input: {\n        width: 250,\n    },\n}));\n\nexport default function RelocateDialog(props) {\n    const [selectedPolicy, setSelectedPolicy] = useState(\"\");\n    const [policies, setPolicies] = useState([]);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const SetModalsLoading = useCallback(\n        (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        [dispatch]\n    );\n\n    const submitRelocate = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        SetModalsLoading(true);\n\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n\n        API.post(\"/file/relocate\", {\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst_policy_id: selectedPolicy,\n        })\n            .then(() => {\n                props.onClose();\n                ToggleSnackbar(\"top\", \"right\", \"转移任务已创建\", \"success\");\n                SetModalsLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                SetModalsLoading(false);\n            });\n    };\n\n    useEffect(() => {\n        if (props.open) {\n            API.get(\"/user/setting/policies\")\n                .then((response) => {\n                    setPolicies(response.data.options);\n                    setSelectedPolicy(response.data.current.id);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n\n        // eslint-disable-next-line\n    }, [props.open]);\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">转移到存储策略</DialogTitle>\n\n            <DialogContent className={classes.contentFix}>\n                <Select\n                    className={classes.input}\n                    labelId=\"demo-simple-select-label\"\n                    value={selectedPolicy}\n                    onChange={(e) => setSelectedPolicy(e.target.value)}\n                >\n                    {policies.map((v, k) => (\n                        <MenuItem key={k} value={v.id}>\n                            {v.name}\n                        </MenuItem>\n                    ))}\n                </Select>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        onClick={submitRelocate}\n                        color=\"primary\"\n                        disabled={selectedPolicy === \"\" || props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    closeAllModals,\n    toggleSnackbar,\n    setModalsLoading,\n    refreshFileList,\n    refreshStorage,\n    openLoadingDialog,\n} from \"../../actions/index\";\nimport PathSelector from \"./PathSelector\";\nimport API, { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    Button,\n    TextField,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport Loading from \"../Modals/Loading\";\nimport CopyDialog from \"../Modals/Copy\";\nimport CreatShare from \"../Modals/CreateShare\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport Auth from \"../../middleware/Auth\";\nimport DecompressDialog from \"../Modals/Decompress\";\nimport CompressDialog from \"../Modals/Compress\";\nimport RelocateDialog from \"../Modals/Relocate\";\n\nconst styles = (theme) => ({\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        modalsStatus: state.viewUpdate.modals,\n        modalsLoading: state.viewUpdate.modalsLoading,\n        dirList: state.explorer.dirList,\n        fileList: state.explorer.fileList,\n        dndSignale: state.explorer.dndSignal,\n        dndTarget: state.explorer.dndTarget,\n        dndSource: state.explorer.dndSource,\n        loading: state.viewUpdate.modals.loading,\n        loadingText: state.viewUpdate.modals.loadingText,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setModalsLoading: (status) => {\n            dispatch(setModalsLoading(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n    };\n};\n\nclass ModalsCompoment extends Component {\n    state = {\n        newFolderName: \"\",\n        newFileName: \"\",\n        newName: \"\",\n        selectedPath: \"\",\n        selectedPathName: \"\",\n        secretShare: false,\n        sharePwd: \"\",\n        shareUrl: \"\",\n        downloadURL: \"\",\n        remoteDownloadPathSelect: false,\n        source: \"\",\n        purchaseCallback: null,\n    };\n\n    handleInputChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value,\n        });\n    };\n\n    newNameSuffix = \"\";\n    downloaded = false;\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (this.props.dndSignale !== nextProps.dndSignale) {\n            this.dragMove(nextProps.dndSource, nextProps.dndTarget);\n            return;\n        }\n        if (this.props.loading !== nextProps.loading) {\n            // 打包下载\n            if (nextProps.loading === true) {\n                if (nextProps.loadingText === \"打包中...\") {\n                    if (\n                        pathHelper.isSharePage(this.props.location.pathname) &&\n                        this.props.share &&\n                        this.props.share.score > 0\n                    ) {\n                        this.scoreHandler(this.archiveDownload);\n                        return;\n                    }\n                    this.archiveDownload();\n                } else if (nextProps.loadingText === \"获取下载地址...\") {\n                    if (\n                        pathHelper.isSharePage(this.props.location.pathname) &&\n                        this.props.share &&\n                        this.props.share.score > 0\n                    ) {\n                        this.scoreHandler(this.Download);\n                        return;\n                    }\n                    this.Download();\n                }\n            }\n            return;\n        }\n        if (this.props.modalsStatus.rename !== nextProps.modalsStatus.rename) {\n            const name = nextProps.selected[0].name;\n            this.setState({\n                newName: name,\n            });\n            return;\n        }\n        if (\n            this.props.modalsStatus.getSource !==\n                nextProps.modalsStatus.getSource &&\n            nextProps.modalsStatus.getSource === true\n        ) {\n            API.get(\"/file/source/\" + this.props.selected[0].id)\n                .then((response) => {\n                    this.setState({\n                        source: response.data.url,\n                    });\n                })\n                .catch((error) => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n    };\n\n    scoreHandler = (callback) => {\n        // 分享页面需要积分下载\n        if (!Auth.Check()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            this.onClose();\n            return;\n        }\n        if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n            this.setState({\n                purchaseCallback: () => {\n                    this.setState({\n                        purchaseCallback: null,\n                    });\n                    callback();\n                },\n            });\n        } else {\n            callback();\n        }\n    };\n\n    Download = () => {\n        let reqURL = \"\";\n        if (this.props.selected[0].key) {\n            const downloadPath =\n                this.props.selected[0].path === \"/\"\n                    ? this.props.selected[0].path + this.props.selected[0].name\n                    : this.props.selected[0].path +\n                      \"/\" +\n                      this.props.selected[0].name;\n            reqURL =\n                \"/share/download/\" +\n                this.props.selected[0].key +\n                \"?path=\" +\n                encodeURIComponent(downloadPath);\n        } else {\n            reqURL = \"/file/download/\" + this.props.selected[0].id;\n        }\n\n        API.put(reqURL)\n            .then((response) => {\n                window.location.assign(response.data);\n                this.onClose();\n                this.downloaded = true;\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    archiveDownload = () => {\n        const dirs = [],\n            items = [];\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n            return null;\n        });\n\n        let reqURL = \"/file/archive\";\n        const postBody = {\n            items: items,\n            dirs: dirs,\n        };\n        if (pathHelper.isSharePage(this.props.location.pathname)) {\n            reqURL = \"/share/archive/\" + window.shareInfo.key;\n            postBody[\"path\"] = this.props.selected[0].path;\n        }\n\n        API.post(reqURL, postBody)\n            .then((response) => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    window.location.assign(response.data);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.onClose();\n                this.props.refreshStorage();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.onClose();\n            });\n    };\n\n    submitRemove = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.delete(\"/object\", {\n            data: {\n                items: items,\n                dirs: dirs,\n            },\n        })\n            .then((response) => {\n                if (response.rawData.code === 0) {\n                    this.onClose();\n                    setTimeout(this.props.refreshFileList, 500);\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.rawData.msg,\n                        \"warning\"\n                    );\n                }\n                this.props.setModalsLoading(false);\n                this.props.refreshStorage();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitResave = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/share/save/\" + window.shareKey, {\n            path:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.onClose();\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"文件已保存\",\n                    \"success\"\n                );\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitMove = (e) => {\n        if (e != null) {\n            e.preventDefault();\n        }\n        this.props.setModalsLoading(true);\n        const dirs = [],\n            items = [];\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            if (value.type === \"dir\") {\n                dirs.push(value.id);\n            } else {\n                items.push(value.id);\n            }\n        });\n        API.patch(\"/object\", {\n            action: \"move\",\n            src_dir: this.props.selected[0].path,\n            src: {\n                dirs: dirs,\n                items: items,\n            },\n            dst: this.DragSelectedPath\n                ? this.DragSelectedPath\n                : this.state.selectedPath === \"//\"\n                ? \"/\"\n                : this.state.selectedPath,\n        })\n            .then(() => {\n                this.onClose();\n                this.props.refreshFileList();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            })\n            .then(() => {\n                this.props.closeAllModals();\n            });\n    };\n\n    dragMove = (source, target) => {\n        if (this.props.selected.length === 0) {\n            this.props.selected[0] = source;\n        }\n        let doMove = true;\n\n        // eslint-disable-next-line\n        this.props.selected.map((value) => {\n            // 根据ID过滤\n            if (value.id === target.id && value.type === target.type) {\n                doMove = false;\n                // eslint-disable-next-line\n                return;\n            }\n            // 根据路径过滤\n            if (\n                value.path ===\n                target.path + (target.path === \"/\" ? \"\" : \"/\") + target.name\n            ) {\n                doMove = false;\n            }\n        });\n        if (doMove) {\n            this.DragSelectedPath =\n                target.path === \"/\"\n                    ? target.path + target.name\n                    : target.path + \"/\" + target.name;\n            this.props.openLoadingDialog(\"处理中...\");\n            this.submitMove();\n        }\n    };\n\n    submitRename = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        const newName = this.state.newName;\n\n        const src = {\n            dirs: [],\n            items: [],\n        };\n\n        if (this.props.selected[0].type === \"dir\") {\n            src.dirs[0] = this.props.selected[0].id;\n        } else {\n            src.items[0] = this.props.selected[0].id;\n        }\n\n        // 检查重名\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1 ||\n            this.props.fileList.findIndex((value) => {\n                return value.name === newName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"新名称与已有文件重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/object/rename\", {\n                action: \"rename\",\n                src: src,\n                new_name: newName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                    this.props.setModalsLoading(false);\n                });\n        }\n    };\n\n    submitCreateNewFolder = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFolderName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件夹名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.put(\"/directory\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFolderName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitCreateNewFile = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        if (\n            this.props.dirList.findIndex((value) => {\n                return value.name === this.state.newFileName;\n            }) !== -1\n        ) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"文件名称重复\",\n                \"warning\"\n            );\n            this.props.setModalsLoading(false);\n        } else {\n            API.post(\"/file/create\", {\n                path:\n                    (this.props.path === \"/\" ? \"\" : this.props.path) +\n                    \"/\" +\n                    this.state.newFileName,\n            })\n                .then(() => {\n                    this.onClose();\n                    this.props.refreshFileList();\n                    this.props.setModalsLoading(false);\n                })\n                .catch((error) => {\n                    this.props.setModalsLoading(false);\n\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n        //this.props.toggleSnackbar();\n    };\n\n    submitTorrentDownload = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/aria2/torrent/\" + this.props.selected[0].id, {\n            dst:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已创建\",\n                    \"success\"\n                );\n                this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    submitDownload = (e) => {\n        e.preventDefault();\n        this.props.setModalsLoading(true);\n        API.post(\"/aria2/url\", {\n            url: this.state.downloadURL,\n            dst:\n                this.state.selectedPath === \"//\"\n                    ? \"/\"\n                    : this.state.selectedPath,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已创建\",\n                    \"success\"\n                );\n                this.onClose();\n                this.props.setModalsLoading(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.props.setModalsLoading(false);\n            });\n    };\n\n    setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        this.setState({\n            selectedPath: path,\n            selectedPathName: folder.name,\n        });\n    };\n\n    remoteDownloadNext = () => {\n        this.props.closeAllModals();\n        this.setState({\n            remoteDownloadPathSelect: true,\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            newFolderName: \"\",\n            newFileName: \"\",\n            newName: \"\",\n            selectedPath: \"\",\n            selectedPathName: \"\",\n            secretShare: false,\n            sharePwd: \"\",\n            downloadURL: \"\",\n            shareUrl: \"\",\n            remoteDownloadPathSelect: false,\n            source: \"\",\n        });\n        this.newNameSuffix = \"\";\n        this.props.closeAllModals();\n    };\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.checked });\n    };\n\n    copyToClipboard = (text) => {\n        navigator.clipboard.writeText(text);\n        this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"已复制到剪切板\",\n                    \"success\"\n                );\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div>\n                <Loading />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share ? this.props.share.score : 0}\n                    onClose={() => {\n                        this.setState({ purchaseCallback: null });\n                        this.onClose();\n                    }}\n                />\n                <Dialog\n                    open={this.props.modalsStatus.getSource}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        获取文件外链\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"外链地址(右击复制)\"\n                                type=\"text\"\n                                value={this.state.source}\n                                onContextMenu={() =>\n                                    this.copyToClipboard(\n                                        this.state.source\n                                    )\n                                }\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.createNewFolder}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件夹</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFolder}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFolderName\"\n                                label=\"文件夹名称\"\n                                type=\"text\"\n                                value={this.state.newFolderName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFolder}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFolderName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.createNewFile}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">新建文件</DialogTitle>\n\n                    <DialogContent>\n                        <form onSubmit={this.submitCreateNewFile}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newFileName\"\n                                label=\"文件名称\"\n                                type=\"text\"\n                                value={this.state.newFileName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitCreateNewFile}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newFileName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.props.modalsStatus.rename}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    maxWidth=\"sm\"\n                    fullWidth={true}\n                >\n                    <DialogTitle id=\"form-dialog-title\">重命名</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText>\n                            输入{\" \"}\n                            <strong>\n                                {this.props.selected.length === 1\n                                    ? this.props.selected[0].name\n                                    : \"\"}\n                            </strong>{\" \"}\n                            的新名称：\n                        </DialogContentText>\n                        <form onSubmit={this.submitRename}>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"newName\"\n                                label=\"新名称\"\n                                type=\"text\"\n                                value={this.state.newName}\n                                onChange={(e) => this.handleInputChange(e)}\n                                fullWidth\n                            />\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRename}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.newName === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <CopyDialog\n                    open={this.props.modalsStatus.copy}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.move}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">移动至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                移动至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitMove}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.resave}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">保存至</DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                保存至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitResave}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remove}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">删除对象</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            确定要删除\n                            {this.props.selected.length === 1 && (\n                                <strong> {this.props.selected[0].name} </strong>\n                            )}\n                            {this.props.selected.length > 1 && (\n                                <span>\n                                    这{this.props.selected.length}个对象\n                                </span>\n                            )}\n                            吗？\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitRemove}\n                                color=\"primary\"\n                                disabled={this.props.modalsLoading}\n                            >\n                                确定\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <CreatShare\n                    open={this.props.modalsStatus.share}\n                    onClose={this.onClose}\n                    modalsLoading={this.props.modalsLoading}\n                    setModalsLoading={this.props.setModalsLoading}\n                    selected={this.props.selected}\n                />\n\n                <Dialog\n                    open={this.props.modalsStatus.music}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">音频播放</DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            {this.props.selected.length !== 0 && (\n                                <audio\n                                    controls\n                                    src={\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )\n                                            ? baseURL +\n                                              \"/share/preview/\" +\n                                              this.props.selected[0].key +\n                                              (this.props.selected[0].key\n                                                  ? \"?path=\" +\n                                                    encodeURIComponent(\n                                                        this.props.selected[0]\n                                                            .path === \"/\"\n                                                            ? this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                            : this.props\n                                                                  .selected[0]\n                                                                  .path +\n                                                                  \"/\" +\n                                                                  this.props\n                                                                      .selected[0]\n                                                                      .name\n                                                    )\n                                                  : \"\")\n                                            : baseURL +\n                                              \"/file/preview/\" +\n                                              this.props.selected[0].id\n                                    }\n                                />\n                            )}\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.remoteDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                    fullWidth\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        新建离线下载任务\n                    </DialogTitle>\n\n                    <DialogContent>\n                        <DialogContentText>\n                            <TextField\n                                label=\"文件地址\"\n                                autoFocus\n                                fullWidth\n                                id=\"downloadURL\"\n                                onChange={this.handleInputChange}\n                                placeholder=\"输入文件下载地址，支持 HTTP(s)/FTP/磁力链\"\n                            />\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.onClose}>关闭</Button>\n                        <Button\n                            onClick={this.remoteDownloadNext}\n                            color=\"primary\"\n                            disabled={\n                                this.props.modalsLoading ||\n                                this.state.downloadURL === \"\"\n                            }\n                        >\n                            下一步\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.remoteDownloadPathSelect}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.props.modalsStatus.torrentDownload}\n                    onClose={this.onClose}\n                    aria-labelledby=\"form-dialog-title\"\n                >\n                    <DialogTitle id=\"form-dialog-title\">\n                        选择存储位置\n                    </DialogTitle>\n                    <PathSelector\n                        presentPath={this.props.path}\n                        selected={this.props.selected}\n                        onSelect={this.setMoveTarget}\n                    />\n\n                    {this.state.selectedPath !== \"\" && (\n                        <DialogContent className={classes.contentFix}>\n                            <DialogContentText>\n                                下载至{\" \"}\n                                <strong>{this.state.selectedPathName}</strong>\n                            </DialogContentText>\n                        </DialogContent>\n                    )}\n                    <DialogActions>\n                        <Button onClick={this.onClose}>取消</Button>\n                        <div className={classes.wrapper}>\n                            <Button\n                                onClick={this.submitTorrentDownload}\n                                color=\"primary\"\n                                disabled={\n                                    this.state.selectedPath === \"\" ||\n                                    this.props.modalsLoading\n                                }\n                            >\n                                创建任务\n                                {this.props.modalsLoading && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.buttonProgress}\n                                    />\n                                )}\n                            </Button>\n                        </div>\n                    </DialogActions>\n                </Dialog>\n\n                <DecompressDialog\n                    open={this.props.modalsStatus.decompress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n                <CompressDialog\n                    open={this.props.modalsStatus.compress}\n                    onClose={this.onClose}\n                    presentPath={this.props.path}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n                <RelocateDialog\n                    open={this.props.modalsStatus.relocate}\n                    onClose={this.onClose}\n                    selected={this.props.selected}\n                    modalsLoading={this.props.modalsLoading}\n                />\n            </div>\n        );\n    }\n}\n\nModalsCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst Modals = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ModalsCompoment)));\n\nexport default Modals;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport Editor from \"for-editor\";\nimport SaveButton from \"../Dial/Save\";\nimport pathHelper from \"../../utils/page\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    player: {\n        borderRadius: \"4px\",\n    },\n    root: {\n        backgroundColor: \"white\",\n        borderRadius: \"8px\",\n    },\n    \"@global\": {\n        \".for-toolbar\": {\n            overflowX: \"auto!important\",\n        },\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function TextViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const math = useRouteMatch();\n    const $vm = React.createRef();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/content/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: \"arraybuffer\" })\n            .then((response) => {\n                const buffer = new Buffer(response.rawData, \"binary\");\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                setLoading(false);\n            });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const toBase64 = (file) =>\n        new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = () => resolve(reader.result);\n            reader.onerror = (error) => reject(error);\n        });\n\n    const save = () => {\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"), content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(() => setStatus(\"\"), 2000);\n            })\n            .catch((error) => {\n                setStatus(\"\");\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addImg = async ($file) => {\n        $vm.current.$img2Url($file.name, await toBase64($file));\n        console.log($file);\n    };\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                {loading && <TextLoading />}\n                {!loading && (\n                    <Editor\n                        ref={$vm}\n                        value={content}\n                        onSave={() => save()}\n                        addImg={($file) => addImg($file)}\n                        onChange={(value) => setContent(value)}\n                        toolbar={{\n                            h1: true, // h1\n                            h2: true, // h2\n                            h3: true, // h3\n                            h4: true, // h4\n                            img: true, // 图片\n                            link: true, // 链接\n                            code: true, // 代码块\n                            preview: true, // 预览\n                            expand: true, // 全屏\n                            /* v0.0.9 */\n                            undo: true, // 撤销\n                            redo: true, // 重做\n                            save: false, // 保存\n                            /* v0.2.3 */\n                            subfield: true, // 单双栏模式\n                        }}\n                    />\n                )}\n            </Paper>\n            {!pathHelper.isSharePage(location.pathname) && (\n                <SaveButton onClick={save} status={status} />\n            )}\n        </div>\n    );\n}\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { Paper, useTheme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\nimport SaveButton from \"../Dial/Save\";\nimport { codePreviewSuffix } from \"../../config\";\nimport TextLoading from \"../Placeholder/TextLoading\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Divider from \"@material-ui/core/Divider\";\nconst MonacoEditor = React.lazy(() =>\n    import(/* webpackChunkName: \"codeEditor\" */ \"react-monaco-editor\")\n);\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    editor: {\n        borderRadius: \"4px\",\n    },\n    \"@global\": {\n        \".overflow-guard\": {\n            borderRadius: \"4px!important\",\n        },\n    },\n    formControl: {\n        margin: \"8px 16px 8px 16px\",\n    },\n    toobar: {\n        textAlign: \"right\",\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function CodeViewer() {\n    const [content, setContent] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const [suffix, setSuffix] = useState(\"javascript\");\n\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const theme = useTheme();\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            const extension = query.get(\"p\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            const extension = query.get(\"name\").split(\".\");\n            setSuffix(codePreviewSuffix[extension.pop()]);\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/content/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/content/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n\n        setLoading(true);\n        API.get(requestURL, { responseType: \"arraybuffer\" })\n            .then((response) => {\n                const buffer = new Buffer(response.rawData, \"binary\");\n                const textdata = buffer.toString(); // for string\n                setContent(textdata);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法读取文件内容，\" + error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                setLoading(false);\n            });\n        // eslint-disable-next-line\n    }, [math.params[0]]);\n\n    const save = () => {\n        setStatus(\"loading\");\n        API.put(\"/file/update/\" + query.get(\"id\"), content)\n            .then(() => {\n                setStatus(\"success\");\n                setTimeout(() => setStatus(\"\"), 2000);\n            })\n            .catch((error) => {\n                setStatus(\"\");\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const isSharePage = pathHelper.isSharePage(location.pathname);\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <div className={classes.toobar}>\n                    <FormControl className={classes.formControl}>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={suffix}\n                            onChange={(e) => setSuffix(e.target.value)}\n                        >\n                            {Array.from(\n                                new Set(\n                                    Object.keys(codePreviewSuffix).map((k) => {\n                                        return codePreviewSuffix[k];\n                                    })\n                                )\n                            ).map((extension) => (\n                                // eslint-disable-next-line react/jsx-key\n                                <MenuItem value={extension}>\n                                    {extension}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </div>\n                <Divider />\n                {loading && <TextLoading />}\n                {!loading && (\n                    <Suspense fallback={<TextLoading />}>\n                        <MonacoEditor\n                            height=\"600\"\n                            language={suffix}\n                            theme={\n                                theme.palette.type === \"dark\" ? \"vs-dark\" : \"vs\"\n                            }\n                            value={content}\n                            options={{\n                                readOnly: isSharePage,\n                                extraEditorClassName: classes.editor,\n                            }}\n                            onChange={(value) => setContent(value)}\n                        />\n                    </Suspense>\n                )}\n            </Paper>\n            {!isSharePage && <SaveButton onClick={save} status={status} />}\n        </div>\n    );\n}\n","import { isMac } from \"../utils\";\nimport pathHelper from \"../utils/page\";\nimport Auth from \"../middleware/Auth\";\nimport {\n    changeContextMenu,\n    openLoadingDialog,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    showAudioPreview,\n} from \"./index\";\nimport { isPreviewable } from \"../config\";\nimport { push } from \"connected-react-router\";\n\nexport const removeSelectedTargets = (fileIds) => {\n    return {\n        type: \"RMOVE_SELECTED_TARGETS\",\n        fileIds,\n    };\n};\n\nexport const addSelectedTargets = (targets) => {\n    return {\n        type: \"ADD_SELECTED_TARGETS\",\n        targets,\n    };\n};\n\nexport const setSelectedTarget = (targets) => {\n    return {\n        type: \"SET_SELECTED_TARGET\",\n        targets,\n    };\n};\n\nexport const setLastSelect = (file, index) => {\n    return {\n        type: \"SET_LAST_SELECT\",\n        file,\n        index,\n    };\n};\n\nexport const setShiftSelectedIds = (shiftSelectedIds) => {\n    return {\n        type: \"SET_SHIFT_SELECTED_IDS\",\n        shiftSelectedIds,\n    };\n};\n\nexport const openPreview = () => {\n    return (dispatch, getState) => {\n        const {\n            explorer: { selected },\n            router: {\n                location: { pathname },\n            },\n        } = getState();\n        const isShare = pathHelper.isSharePage(pathname);\n        if (isShare) {\n            if (!Auth.Check()) {\n                dispatch(toggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\"));\n                dispatch(changeContextMenu(\"file\", false));\n                return;\n            }\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                dispatch(toggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\"));\n                dispatch(changeContextMenu(\"file\", false));\n                return;\n            }\n        }\n\n        dispatch(changeContextMenu(\"file\", false));\n        const previewPath =\n            selected[0].path === \"/\"\n                ? selected[0].path + selected[0].name\n                : selected[0].path + \"/\" + selected[0].name;\n        switch (isPreviewable(selected[0].name)) {\n            case \"img\":\n                dispatch(showImgPreivew(selected[0]));\n                return;\n            case \"msDoc\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/doc?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/doc?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"audio\":\n                //if (isShare) {\n                //    dispatch(openMusicDialog());\n                //}else{\n                    dispatch(showAudioPreview(selected[0]));\n                //}\n                return;\n            case \"video\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/video?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/video?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"pdf\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/pdf?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/pdf?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"edit\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/text?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/text?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            case \"code\":\n                if (isShare) {\n                    dispatch(\n                        push(\n                            selected[0].key +\n                                \"/code?name=\" +\n                                encodeURIComponent(selected[0].name) +\n                                \"&share_path=\" +\n                                encodeURIComponent(previewPath)\n                        )\n                    );\n                    return;\n                }\n                dispatch(\n                    push(\n                        \"/code?p=\" +\n                            encodeURIComponent(previewPath) +\n                            \"&id=\" +\n                            selected[0].id\n                    )\n                );\n                return;\n            default:\n                dispatch(openLoadingDialog(\"获取下载地址...\"));\n                return;\n        }\n    };\n};\n\nexport const selectFile = (file, event, fileIndex) => {\n    const { ctrlKey, metaKey, shiftKey } = event;\n    return (dispatch, getState) => {\n        // 多种组合操作忽略\n        if ([ctrlKey, metaKey, shiftKey].filter(Boolean).length > 1) {\n            return;\n        }\n        const isMacbook = isMac();\n        const { explorer } = getState();\n        const {\n            selected,\n            lastSelect,\n            dirList,\n            fileList,\n            shiftSelectedIds,\n        } = explorer;\n        if (\n            shiftKey &&\n            !ctrlKey &&\n            !metaKey &&\n            selected.length !== 0 &&\n            // 点击类型一样\n            file.type === lastSelect.file.type\n        ) {\n            // shift 多选\n            // 取消原有选择\n            dispatch(removeSelectedTargets(selected.map((v) => v.id)));\n            // 添加新选择\n            const begin = Math.min(lastSelect.index, fileIndex);\n            const end = Math.max(lastSelect.index, fileIndex);\n            const list = file.type === \"dir\" ? dirList : fileList;\n            const newShiftSelected = list.slice(begin, end + 1);\n            return dispatch(addSelectedTargets(newShiftSelected));\n        }\n        dispatch(setLastSelect(file, fileIndex));\n        dispatch(setShiftSelectedIds([]));\n        if ((ctrlKey && !isMacbook) || (metaKey && isMacbook)) {\n            // Ctrl/Command 单击添加/删除\n            const presentIndex = selected.findIndex((value) => {\n                return value.id === file.id;\n            });\n            if (presentIndex !== -1) {\n                return dispatch(removeSelectedTargets([file.id]));\n            }\n            return dispatch(addSelectedTargets([file]));\n        }\n        // 单选\n        return dispatch(setSelectedTarget([file]));\n    };\n};\n","export * from \"./explorer\";\n\nexport const setNavigator = (path, navigatorLoading) => {\n    return {\n        type: \"SET_NAVIGATOR\",\n        path,\n        navigatorLoading,\n    };\n};\n\nexport const navigateTo = (path) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const navigatorLoading = path !== state.navigator.path;\n        dispatch(setNavigator(path, navigatorLoading));\n    };\n};\n\nexport const navigateUp = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const pathSplit = state.navigator.path.split(\"/\");\n        pathSplit.pop();\n        const newPath = pathSplit.length === 1 ? \"/\" : pathSplit.join(\"/\");\n        const navigatorLoading = newPath !== state.navigator.path;\n        dispatch(setNavigator(newPath, navigatorLoading));\n    };\n};\n\nexport const drawerToggleAction = (open) => {\n    return {\n        type: \"DRAWER_TOGGLE\",\n        open: open,\n    };\n};\n\nexport const dragAndDrop = (source, target) => {\n    return {\n        type: \"DRAG_AND_DROP\",\n        source: source,\n        target: target,\n    };\n};\n\nexport const changeViewMethod = (method) => {\n    return {\n        type: \"CHANGE_VIEW_METHOD\",\n        method: method,\n    };\n};\n\nexport const toggleDaylightMode = () => {\n    return {\n        type: \"TOGGLE_DAYLIGHT_MODE\",\n    };\n};\n\nexport const changeContextMenu = (type, open) => {\n    return {\n        type: \"CHANGE_CONTEXT_MENU\",\n        menuType: type,\n        open: open,\n    };\n};\n\nexport const setNavigatorLoadingStatus = (status) => {\n    return {\n        type: \"SET_NAVIGATOR_LOADING_STATUE\",\n        status: status,\n    };\n};\n\nexport const setNavigatorError = (status, msg) => {\n    return {\n        type: \"SET_NAVIGATOR_ERROR\",\n        status: status,\n        msg: msg,\n    };\n};\n\nexport const openCreateFolderDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FOLDER_DIALOG\",\n    };\n};\n\nexport const openCreateFileDialog = () => {\n    return {\n        type: \"OPEN_CREATE_FILE_DIALOG\",\n    };\n};\n\nexport const setUserPopover = (anchor) => {\n    return {\n        type: \"SET_USER_POPOVER\",\n        anchor: anchor,\n    };\n};\n\nexport const setShareUserPopover = (anchor) => {\n    return {\n        type: \"SET_SHARE_USER_POPOVER\",\n        anchor: anchor,\n    };\n};\n\nexport const openRenameDialog = () => {\n    return {\n        type: \"OPEN_RENAME_DIALOG\",\n    };\n};\n\nexport const openResaveDialog = (key) => {\n    return {\n        type: \"OPEN_RESAVE_DIALOG\",\n        key: key,\n    };\n};\n\nexport const openMoveDialog = () => {\n    return {\n        type: \"OPEN_MOVE_DIALOG\",\n    };\n};\n\nexport const openRemoveDialog = () => {\n    return {\n        type: \"OPEN_REMOVE_DIALOG\",\n    };\n};\n\nexport const openShareDialog = () => {\n    return {\n        type: \"OPEN_SHARE_DIALOG\",\n    };\n};\n\nexport const applyThemes = (theme) => {\n    return {\n        type: \"APPLY_THEME\",\n        theme: theme,\n    };\n};\n\nexport const setSessionStatus = (status) => {\n    return {\n        type: \"SET_SESSION_STATUS\",\n        status: status,\n    };\n};\n\nexport const openMusicDialog = () => {\n    return {\n        type: \"OPEN_MUSIC_DIALOG\",\n    };\n};\n\nexport const openRemoteDownloadDialog = () => {\n    return {\n        type: \"OPEN_REMOTE_DOWNLOAD_DIALOG\",\n    };\n};\n\nexport const openTorrentDownloadDialog = () => {\n    return {\n        type: \"OPEN_TORRENT_DOWNLOAD_DIALOG\",\n    };\n};\n\nexport const openDecompressDialog = () => {\n    return {\n        type: \"OPEN_DECOMPRESS_DIALOG\",\n    };\n};\n\nexport const openCompressDialog = () => {\n    return {\n        type: \"OPEN_COMPRESS_DIALOG\",\n    };\n};\n\nexport const openRelocateDialog = () => {\n    return {\n        type: \"OPEN_RELOCATE_DIALOG\",\n    };\n};\n\nexport const openGetSourceDialog = () => {\n    return {\n        type: \"OPEN_GET_SOURCE_DIALOG\",\n    };\n};\n\nexport const openCopyDialog = () => {\n    return {\n        type: \"OPEN_COPY_DIALOG\",\n    };\n};\n\nexport const openLoadingDialog = (text) => {\n    return {\n        type: \"OPEN_LOADING_DIALOG\",\n        text: text,\n    };\n};\n\nexport const closeAllModals = () => {\n    return {\n        type: \"CLOSE_ALL_MODALS\",\n    };\n};\n\nexport const toggleSnackbar = (vertical, horizontal, msg, color) => {\n    return {\n        type: \"TOGGLE_SNACKBAR\",\n        vertical: vertical,\n        horizontal: horizontal,\n        msg: msg,\n        color: color,\n    };\n};\n\nexport const enableLoadUploader = () => {\n    return {\n        type: \"ENABLE_LOAD_UPLOADER\",\n    };\n};\n\nexport const setModalsLoading = (status) => {\n    return {\n        type: \"SET_MODALS_LOADING\",\n        status: status,\n    };\n};\n\nexport const refreshFileList = () => {\n    return {\n        type: \"REFRESH_FILE_LIST\",\n    };\n};\n\nexport const searchMyFile = (keywords) => {\n    return {\n        type: \"SEARCH_MY_FILE\",\n        keywords: keywords,\n    };\n};\n\nexport const showImgPreivew = (first) => {\n    return {\n        type: \"SHOW_IMG_PREIVEW\",\n        first: first,\n    };\n};\n\nexport const showAudioPreview = (first) => {\n    return {\n        type: \"SHOW_AUDIO_PREVIEW\",\n        first: first,\n    };\n};\n\nexport const audioPreviewSetIsOpen = (isOpen) => {\n    return {\n        type: \"AUDIO_PREVIEW_SET_IS_OPEN\",\n        isOpen,\n    };\n};\n\nexport const audioPreviewSetPlaying = (playingName,paused) => {\n    return {\n        type: \"AUDIO_PREVIEW_SET_PLAYING\",\n        playingName,//the playing content name\n        paused,\n    };\n};\n\n\nexport const refreshStorage = () => {\n    return {\n        type: \"REFRESH_STORAGE\",\n    };\n};\n\nexport const saveFile = () => {\n    return {\n        type: \"SAVE_FILE\",\n    };\n};\n\nexport const setSiteConfig = (config) => {\n    return {\n        type: \"SET_SITE_CONFIG\",\n        config: config,\n    };\n};\n","export const imgPreviewSuffix = [\n    \"bmp\",\n    \"png\",\n    \"gif\",\n    \"jpg\",\n    \"jpeg\",\n    \"svg\",\n    \"webp\",\n];\nexport const msDocPreviewSuffix = [\n    \"ppt\",\n    \"pptx\",\n    \"pps\",\n    \"doc\",\n    \"docx\",\n    \"xlsx\",\n    \"xls\",\n];\nexport const audioPreviewSuffix = [\"mp3\", \"ogg\",\"flac\"];\nexport const videoPreviewSuffix = [\"mp4\", \"mkv\", \"webm\"];\nexport const pdfPreviewSuffix = [\"pdf\"];\nexport const editSuffix = [\"md\", \"txt\"];\nexport const codePreviewSuffix = {\n    json: \"json\",\n    php: \"php\",\n    py: \"python\",\n    bat: \"bat\",\n    cpp: \"cpp\",\n    c: \"cpp\",\n    h: \"cpp\",\n    cs: \"csharp\",\n    css: \"css\",\n    dockerfile: \"dockerfile\",\n    go: \"go\",\n    html: \"html\",\n    ini: \"ini\",\n    java: \"java\",\n    js: \"javascript\",\n    jsx: \"javascript\",\n    less: \"less\",\n    lua: \"lua\",\n    sh: \"shell\",\n    sql: \"sql\",\n    xml: \"xml\",\n    yaml: \"yaml\",\n};\nexport const mediaType = {\n    audio: [\"mp3\", \"flac\", \"ape\", \"wav\", \"acc\", \"ogg\"],\n    video: [\"mp4\", \"flv\", \"avi\", \"wmv\", \"mkv\", \"rm\", \"rmvb\", \"mov\", \"ogv\"],\n    image: [\"bmp\", \"iff\", \"png\", \"gif\", \"jpg\", \"jpeg\", \"psd\", \"svg\", \"webp\"],\n    pdf: [\"pdf\"],\n    word: [\"doc\", \"docx\"],\n    ppt: [\"ppt\", \"pptx\"],\n    excel: [\"xls\", \"xlsx\", \"csv\"],\n    text: [\"txt\", \"md\", \"html\"],\n    torrent: [\"torrent\"],\n    zip: [\"zip\", \"gz\", \"tar\", \"rar\", \"7z\"],\n    excute: [\"exe\"],\n    android: [\"apk\"],\n    php: [\"php\"],\n    go: [\"go\"],\n    python: [\"py\"],\n    cpp: [\"cpp\"],\n    c: [\"c\"],\n    js: [\"js\", \"jsx\"],\n};\nexport const policyTypeMap = {\n    local: \"本机\",\n    remote: \"从机\",\n    qiniu: \"七牛\",\n    upyun: \"又拍云\",\n    oss: \"阿里云 OSS\",\n    cos: \"腾讯云\",\n    onedrive: \"OneDrive\",\n    s3: \"Amazon S3\",\n};\nexport const isPreviewable = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if (imgPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"img\";\n    } else if (msDocPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"msDoc\";\n    } else if (audioPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"audio\";\n    } else if (videoPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"video\";\n    } else if (editSuffix.indexOf(suffix) !== -1) {\n        return \"edit\";\n    } else if (pdfPreviewSuffix.indexOf(suffix) !== -1) {\n        return \"pdf\";\n    } else if (Object.keys(codePreviewSuffix).indexOf(suffix) !== -1) {\n        return \"code\";\n    }\n    return false;\n};\nexport const isTorrent = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    if (mediaType.torrent.indexOf(suffix) !== -1) {\n        return true;\n    }\n    return false;\n};\n\nexport const isCompressFile = (name) => {\n    const suffix = name.split(\".\").pop().toLowerCase();\n    return suffix === \"zip\";\n};\n\nconst taskStatus = [\"排队中\", \"处理中\", \"失败\", \"取消\", \"已完成\"];\nconst taskType = [\"压缩\", \"解压缩\", \"文件中转\", \"导入外部目录\", \"存储策略转移\"];\nconst taskProgress = [\n    \"等待中\",\n    \"压缩中\",\n    \"解压缩中\",\n    \"下载中\",\n    \"转存中\",\n    \"索引中\",\n    \"插入中\",\n];\n\nexport const getTaskStatus = (status) => {\n    return taskStatus[status];\n};\n\nexport const getTaskType = (status) => {\n    return taskType[status];\n};\n\nexport const getTaskProgress = (type, status) => {\n    if (type === 2) {\n        return \"已完成 \" + (status + 1) + \" 个文件\";\n    }\n    return taskProgress[status];\n};\n\nexport const reportReasons = [\n    \"色情信息\",\n    \"包含病毒\",\n    \"侵权\",\n    \"不恰当的言论\",\n    \"其他\",\n];\n","import dayjs from \"dayjs\";\nimport timezone from \"dayjs/plugin/timezone\";\nimport utc from \"dayjs/plugin/utc\";\nimport Auth from \"../middleware/Auth\";\ndayjs.extend(utc);\ndayjs.extend(timezone);\n\nconst defaultTimeZone = \"Asia/Shanghai\";\nconst preferTimeZone = Auth.GetPreference(\"timeZone\");\nexport let timeZone = preferTimeZone ? preferTimeZone : defaultTimeZone;\n\nexport function refreshTimeZone() {\n    timeZone = Auth.GetPreference(\"timeZone\");\n    timeZone = timeZone ? timeZone : defaultTimeZone;\n}\n\nexport function formatLocalTime(time, format) {\n    return dayjs(time).tz(timeZone).format(format);\n}\n\nexport function validateTimeZone(name) {\n    try {\n        dayjs().tz(name).format();\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {} from \"../../actions\";\nimport classNames from \"classnames\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\n\nimport { green, amber } from \"@material-ui/core/colors\";\n\nimport {\n    withStyles,\n    SnackbarContent,\n    Snackbar,\n    IconButton,\n} from \"@material-ui/core\";\n\nconst mapStateToProps = (state) => {\n    return {\n        snackbar: state.viewUpdate.snackbar,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n};\n\nconst styles1 = (theme) => ({\n    success: {\n        backgroundColor: theme.palette.success.main,\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n    },\n    info: {\n        backgroundColor: theme.palette.info.main,\n    },\n    warning: {\n        backgroundColor: theme.palette.warning.main,\n    },\n    icon: {\n        fontSize: 20,\n    },\n    iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing(1),\n    },\n    message: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n});\n\nfunction MySnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n\n    return (\n        <SnackbarContent\n            className={classNames(classes[variant], className)}\n            aria-describedby=\"client-snackbar\"\n            message={\n                <span id=\"client-snackbar\" className={classes.message}>\n                    <Icon\n                        className={classNames(\n                            classes.icon,\n                            classes.iconVariant\n                        )}\n                    />\n                    {message}\n                </span>\n            }\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"Close\"\n                    color=\"inherit\"\n                    className={classes.close}\n                    onClick={onClose}\n                >\n                    <CloseIcon className={classes.icon} />\n                </IconButton>,\n            ]}\n            {...other}\n        />\n    );\n}\nMySnackbarContent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf([\"alert\", \"success\", \"warning\", \"error\", \"info\"])\n        .isRequired,\n};\n\nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);\nconst styles = (theme) => ({\n    margin: {\n        margin: theme.spacing(1),\n    },\n});\nclass SnackbarCompoment extends Component {\n    state = {\n        open: false,\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (nextProps.snackbar.toggle !== this.props.snackbar.toggle) {\n            this.setState({ open: true });\n        }\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <Snackbar\n                anchorOrigin={{\n                    vertical: this.props.snackbar.vertical,\n                    horizontal: this.props.snackbar.horizontal,\n                }}\n                open={this.state.open}\n                autoHideDuration={6000}\n                onClose={this.handleClose}\n            >\n                <MySnackbarContentWrapper\n                    onClose={this.handleClose}\n                    variant={this.props.snackbar.color}\n                    message={this.props.snackbar.msg}\n                />\n            </Snackbar>\n        );\n    }\n}\n\nconst AlertBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(SnackbarCompoment));\n\nexport default AlertBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    LogoutVariant,\n    HomeAccount,\n    DesktopMacDashboard,\n    AccountArrowRight,\n    AccountPlus,\n} from \"mdi-material-ui\";\nimport {\n    setSessionStatus,\n    setUserPopover,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Avatar,\n    Popover,\n    Typography,\n    Chip,\n    ListItemIcon,\n    MenuItem,\n    Divider,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport pathHelper from \"../../utils/page\";\n\nconst mapStateToProps = (state) => {\n    return {\n        anchorEl: state.viewUpdate.userPopoverAnchorEl,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        setSessionStatus: (status) => {\n            dispatch(setSessionStatus(status));\n        },\n    };\n};\nconst styles = () => ({\n    avatar: {\n        width: \"30px\",\n        height: \"30px\",\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\",\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge: {\n        marginTop: \"10px\",\n    },\n    visitorMenu: {\n        width: 200,\n    },\n});\n\nclass UserAvatarPopoverCompoment extends Component {\n    handleClose = () => {\n        this.props.setUserPopover(null);\n    };\n\n    openURL = (url) => {\n        window.location.href = url;\n    };\n\n    sigOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .then(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isAdminPage = pathHelper.isAdminPage(\n            this.props.location.pathname\n        );\n\n        return (\n            <Popover\n                open={this.props.anchorEl !== null}\n                onClose={this.handleClose}\n                anchorEl={this.props.anchorEl}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n            >\n                {!Auth.Check() && (\n                    <div className={classes.visitorMenu}>\n                        <Divider />\n                        <MenuItem\n                            onClick={() => this.props.history.push(\"/login\")}\n                        >\n                            <ListItemIcon>\n                                <AccountArrowRight />\n                            </ListItemIcon>\n                            登录\n                        </MenuItem>\n                        <MenuItem\n                            onClick={() => this.props.history.push(\"/signup\")}\n                        >\n                            <ListItemIcon>\n                                <AccountPlus />\n                            </ListItemIcon>\n                            注册\n                        </MenuItem>\n                    </div>\n                )}\n                {Auth.Check() && (\n                    <div>\n                        <div className={classes.header}>\n                            <div className={classes.largeAvatarContainer}>\n                                <Avatar\n                                    className={classes.largeAvatar}\n                                    src={\n                                        \"/api/v3/user/avatar/\" + user.id + \"/l\"\n                                    }\n                                />\n                            </div>\n                            <div className={classes.info}>\n                                <Typography noWrap>{user.nickname}</Typography>\n                                <Typography\n                                    color=\"textSecondary\"\n                                    style={{\n                                        fontSize: \"0.875rem\",\n                                    }}\n                                    noWrap\n                                >\n                                    {user.user_name}\n                                </Typography>\n                                <Chip\n                                    className={classes.badge}\n                                    color={\n                                        user.group.id === 1\n                                            ? \"secondary\"\n                                            : \"default\"\n                                    }\n                                    label={user.group.name}\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <Divider />\n                            {!isAdminPage && (\n                                <MenuItem\n                                    style={{\n                                        padding: \" 11px 16px 11px 16px\",\n                                    }}\n                                    onClick={() => {\n                                        this.handleClose();\n                                        this.props.history.push(\n                                            \"/profile/\" + user.id\n                                        );\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <HomeAccount />\n                                    </ListItemIcon>\n                                    个人主页\n                                </MenuItem>\n                            )}\n                            {user.group.id === 1 && (\n                                <MenuItem\n                                    style={{\n                                        padding: \" 11px 16px 11px 16px\",\n                                    }}\n                                    onClick={() => {\n                                        this.handleClose();\n                                        this.props.history.push(\"/admin/home\");\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <DesktopMacDashboard />\n                                    </ListItemIcon>\n                                    管理面板\n                                </MenuItem>\n                            )}\n\n                            <MenuItem\n                                style={{\n                                    padding: \" 11px 16px 11px 16px\",\n                                }}\n                                onClick={this.sigOut}\n                            >\n                                <ListItemIcon>\n                                    <LogoutVariant />\n                                </ListItemIcon>\n                                退出登录\n                            </MenuItem>\n                        </div>\n                    </div>\n                )}\n            </Popover>\n        );\n    }\n}\n\nUserAvatarPopoverCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatarPopover = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarPopoverCompoment)));\n\nexport default UserAvatarPopover;\n","import React, { useCallback } from \"react\";\nimport {\n    Avatar,\n    IconButton,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n} from \"@material-ui/core\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Nas } from \"mdi-material-ui\";\nimport Popover from \"@material-ui/core/Popover\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { Check } from \"@material-ui/icons\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport { blue, green } from \"@material-ui/core/colors\";\nimport List from \"@material-ui/core/List\";\n\nconst useStyles = makeStyles(() => ({\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800],\n    },\n}));\n\nconst PolicySwitcher = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [policies, setPolicies] = React.useState({\n        current: { id: \"\", name: \"\" },\n        options: [],\n    });\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleClick = (event) => {\n        if (policies.current.id === \"\") {\n            API.get(\"/user/setting/policies\", {})\n                .then((response) => {\n                    setPolicies(response.data);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const switchTo = (id) => {\n        if (id === policies.current.id) {\n            handleClose();\n            return;\n        }\n        API.patch(\"/user/setting/policy\", {\n            id: id,\n        })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? \"simple-popover\" : undefined;\n\n    const classes = useStyles();\n    return (\n        <>\n            <Tooltip title={\"存储策略\"} placement=\"bottom\">\n                <IconButton onClick={handleClick} color=\"inherit\">\n                    <Nas />\n                </IconButton>\n            </Tooltip>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"center\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }}\n            >\n                <List>\n                    {policies.options.map((value, index) => (\n                        <ListItem\n                            button\n                            component=\"label\"\n                            key={index}\n                            onClick={() => switchTo(value.id)}\n                        >\n                            <ListItemAvatar>\n                                {value.id === policies.current.id && (\n                                    <Avatar className={classes.policySelected}>\n                                        <Check />\n                                    </Avatar>\n                                )}\n                                {value.id !== policies.current.id && (\n                                    <Avatar className={classes.uploadFromFile}>\n                                        <Backup />\n                                    </Avatar>\n                                )}\n                            </ListItemAvatar>\n                            <ListItemText primary={value.name} />\n                        </ListItem>\n                    ))}\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default PolicySwitcher;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport SettingIcon from \"@material-ui/icons/Settings\";\nimport UserAvatarPopover from \"./UserAvatarPopover\";\nimport { AccountCircle } from \"mdi-material-ui\";\nimport { setUserPopover } from \"../../actions\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    withStyles,\n    Grow,\n    Avatar,\n    IconButton,\n    Tooltip,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\";\nimport PolicySwitcher from \"./PolicySwitcher\";\nimport { Home } from \"@material-ui/icons\";\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    mobileHidden: {\n        [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\",\n        },\n        whiteSpace: \"nowrap\",\n    },\n    avatar: {\n        width: \"30px\",\n        height: \"30px\",\n    },\n    header: {\n        display: \"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar: {\n        height: \"90px\",\n        width: \"90px\",\n    },\n    info: {\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge: {\n        marginTop: \"10px\",\n    },\n    visitorMenu: {\n        width: 200,\n    },\n});\n\nclass UserAvatarCompoment extends Component {\n    state = {\n        anchorEl: null,\n    };\n\n    showUserInfo = (e) => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    handleClose = () => {\n        this.setState({\n            anchorEl: null,\n        });\n    };\n\n    openURL = (url) => {\n        window.location.href = url;\n    };\n\n    returnHome = () => {\n        window.location.href = \"/home\";\n    };\n\n    render() {\n        const { classes } = this.props;\n        const loginCheck = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n        const isAdminPage = pathHelper.isAdminPage(\n            this.props.location.pathname\n        );\n\n        return (\n            <div className={classes.mobileHidden}>\n                <Grow\n                    in={\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                    }\n                >\n                    <div>\n                        {!isAdminPage && (\n                            <>\n                                <DarkModeSwitcher position=\"top\" />\n                                {loginCheck && (\n                                    <>\n                                        <PolicySwitcher />\n                                        <Tooltip\n                                            title={\"设置\"}\n                                            placement=\"bottom\"\n                                        >\n                                            <IconButton\n                                                onClick={() =>\n                                                    this.props.history.push(\n                                                        \"/setting?\"\n                                                    )\n                                                }\n                                                color=\"inherit\"\n                                            >\n                                                <SettingIcon />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </>\n                                )}\n                            </>\n                        )}\n                        {isAdminPage && (\n                            <Tooltip title={\"返回主页\"} placement=\"bottom\">\n                                <IconButton\n                                    color=\"inherit\"\n                                    onClick={this.returnHome}\n                                >\n                                    <Home />\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        <IconButton color=\"inherit\" onClick={this.showUserInfo}>\n                            {!loginCheck && <AccountCircle />}\n                            {loginCheck && (\n                                <Avatar\n                                    src={\n                                        \"/api/v3/user/avatar/\" + user.id + \"/s\"\n                                    }\n                                    className={classes.avatar}\n                                />\n                            )}\n                        </IconButton>{\" \"}\n                    </div>\n                </Grow>\n                <UserAvatarPopover />\n            </div>\n        );\n    }\n}\n\nUserAvatarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserAvatarCompoment)));\n\nexport default UserAvatar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport MusicNote from \"@material-ui/icons/MusicNote\";\nimport BackIcon from \"@material-ui/icons/ArrowBack\";\nimport Pageview from \"@material-ui/icons/Pageview\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AccountBalanceWallet from \"@material-ui/icons/AccountBalanceWallet\";\nimport ChatIcon from '@material-ui/icons/Chat';\nimport WebIcon from '@material-ui/icons/Web';\nimport LinkIcon from \"@material-ui/icons/InsertLink\";\nimport { isPreviewable } from \"../../config\";\nimport {\n    drawerToggleAction,\n    setSelectedTarget,\n    navigateTo,\n    openCreateFolderDialog,\n    openGetSourceDialog,\n    changeContextMenu,\n    searchMyFile,\n    saveFile,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    openRenameDialog,\n    openLoadingDialog,\n    setSessionStatus,\n    openPreview,\n    audioPreviewSetIsOpen,\n} from \"../../actions\";\nimport {\n    allowSharePreview,\n    checkGetParameters,\n    changeThemeColor,\n} from \"../../utils\";\nimport Uploader from \"../Upload/Uploader.js\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport pathHelper from \"../../utils/page\";\nimport SezrchBar from \"./SearchBar\";\nimport StorageBar from \"./StorageBar\";\nimport UserAvatar from \"./UserAvatar\";\nimport UserInfo from \"./UserInfo\";\nimport { AccountArrowRight, AccountPlus, LogoutVariant } from \"mdi-material-ui\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n    AppBar,\n    Toolbar,\n    Typography,\n    withStyles,\n    withTheme,\n    Drawer,\n    SwipeableDrawer,\n    IconButton,\n    Hidden,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    List,\n    Grow,\n    Tooltip,\n} from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport FileTag from \"./FileTags\";\nimport { Assignment, Devices, MoreHoriz, Settings } from \"@material-ui/icons\";\nimport Divider from \"@material-ui/core/Divider\";\nimport SubActions from \"../FileManager/Navigator/SubActions\";\n\nvhCheck();\nconst drawerWidth = 240;\nconst drawerWidthMobile = 270;\n\nconst mapStateToProps = (state) => {\n    return {\n        desktopOpen: state.viewUpdate.open,\n        selected: state.explorer.selected,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        keywords: state.explorer.keywords,\n        title: state.siteConfig.title,\n        subTitle: state.viewUpdate.subTitle,\n        loadUploader: state.viewUpdate.loadUploader,\n        isLogin: state.viewUpdate.isLogin,\n        audioPreviewPlayingName:state.explorer.audioPreview.playingName,\n        audioPreviewIsOpen:state.explorer.audioPreview.isOpen,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        handleDesktopToggle: (open) => {\n            dispatch(drawerToggleAction(open));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openGetSourceDialog: () => {\n            dispatch(openGetSourceDialog());\n        },\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        searchMyFile: (keywords) => {\n            dispatch(searchMyFile(keywords));\n        },\n        saveFile: () => {\n            dispatch(saveFile());\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n        setSessionStatus: () => {\n            dispatch(setSessionStatus());\n        },\n        openPreview: () => {\n            dispatch(openPreview());\n        },\n        audioPreviewOpen: () => {\n            dispatch(audioPreviewSetIsOpen(true));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    appBar: {\n        marginLeft: drawerWidth,\n        [theme.breakpoints.down(\"xs\")]: {\n            marginLeft: drawerWidthMobile,\n        },\n        zIndex: theme.zIndex.drawer + 1,\n        transition: \" background-color 250ms\",\n    },\n\n    drawer: {\n        width: 0,\n        flexShrink: 0,\n    },\n    drawerDesktop: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    icon: {\n        marginRight: theme.spacing(2),\n    },\n    menuButton: {\n        marginRight: 20,\n        [theme.breakpoints.up(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    menuButtonDesktop: {\n        marginRight: 20,\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    menuIcon: {\n        marginRight: 20,\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: drawerWidthMobile,\n    },\n    drawerPaperDesktop: {\n        width: drawerWidth,\n    },\n    upDrawer: {\n        overflowX: \"hidden\",\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerClose: {\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: \"hidden\",\n        width: 0,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    badge: {\n        top: 1,\n        right: -15,\n    },\n    nested: {\n        paddingLeft: theme.spacing(4),\n    },\n    sectionForFile: {\n        display: \"flex\",\n    },\n    extendedIcon: {\n        marginRight: theme.spacing(1),\n    },\n    addButton: {\n        marginLeft: \"40px\",\n        marginTop: \"25px\",\n        marginBottom: \"15px\",\n    },\n    fabButton: {\n        borderRadius: \"100px\",\n    },\n    badgeFix: {\n        right: \"10px\",\n    },\n    iconFix: {\n        marginLeft: \"16px\",\n    },\n    dividerFix: {\n        marginTop: \"8px\",\n    },\n    folderShareIcon: {\n        verticalAlign: \"sub\",\n        marginRight: \"5px\",\n    },\n    shareInfoContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        marginBottom: \"20px\",\n        marginLeft: \"28px\",\n        textDecoration: \"none\",\n    },\n    shareAvatar: {\n        width: \"40px\",\n        height: \"40px\",\n    },\n    stickFooter: {\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.paper,\n        width: \"100%\",\n    },\n    ownerInfo: {\n        marginLeft: \"10px\",\n        width: \"150px\",\n    },\n    minStickDrawer: {\n        overflowY: \"auto\",\n        [theme.breakpoints.up(\"sm\")]: {\n            height: \"calc(var(--vh, 100vh) - 145px)\",\n        },\n\n        [theme.breakpoints.down(\"sm\")]: {\n            minHeight: \"calc(var(--vh, 100vh) - 360px)\",\n        },\n    },\n});\nclass NavbarCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false,\n        };\n        this.UploaderRef = React.createRef();\n    }\n\n    UNSAFE_componentWillMount() {\n        this.unlisten = this.props.history.listen(() => {\n            this.setState(() => ({ mobileOpen: false }));\n        });\n    }\n    componentWillUnmount() {\n        this.unlisten();\n    }\n\n    componentDidMount = () => {\n        changeThemeColor(\n            this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)\n                ? this.props.theme.palette.primary.main\n                : this.props.theme.palette.background.default\n        );\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (\n            (this.props.selected.length <= 1 &&\n                !(!this.props.isMultiple && this.props.withFile)) !==\n            (nextProps.selected.length <= 1 &&\n                !(!nextProps.isMultiple && nextProps.withFile))\n        ) {\n            changeThemeColor(\n                !(\n                    this.props.selected.length <= 1 &&\n                    !(!this.props.isMultiple && this.props.withFile)\n                )\n                    ? this.props.theme.palette.type === \"dark\"\n                        ? this.props.theme.palette.background.default\n                        : this.props.theme.palette.primary.main\n                    : this.props.theme.palette.background.default\n            );\n        }\n    };\n\n    handleDrawerToggle = () => {\n        this.setState((state) => ({ mobileOpen: !state.mobileOpen }));\n    };\n\n    loadUploader = () => {\n        if (pathHelper.isHomePage(this.props.location.pathname)) {\n            return (\n                <>\n                    {this.props.loadUploader && this.props.isLogin && (\n                        <Uploader />\n                    )}\n                </>\n            );\n        }\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            return;\n        }\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    archiveDownload = () => {\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    signOut = () => {\n        API.delete(\"/user/session/\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"您已退出登录\",\n                    \"success\"\n                );\n                Auth.signout();\n                window.location.reload();\n                this.props.setSessionStatus(false);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            })\n            .finally(() => {\n                this.handleClose();\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser(this.props.isLogin);\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n        const getCookie =(name)=> {\n            const strcookie = document.cookie;//获取cookie字符串\n                const arrcookie = strcookie.split(\"; \");//分割\n                //遍历匹配\n                for ( let i = 0; i < arrcookie.length; i++) {\n                    const arr = arrcookie[i].split(\"=\");\n                    if (arr[0] == name){\n                        return unescape(arr[1]);\n                    }\n                }\n            return null;\n        }\n\n        const drawer = (\n            <div id=\"container\" className={classes.upDrawer}>\n                {pathHelper.isMobile() && <UserInfo />}\n\n                {Auth.Check(this.props.isLogin) && (\n                    <>\n                        <div className={classes.minStickDrawer}>\n                            <FileTag />\n                            <List>\n                                <ListItem\n                                    button\n                                    key=\"我的分享\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/shares?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <ShareIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"我的分享\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"离线下载\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/aria2?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <DownloadIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"离线下载\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"寻求资源\"\n                                    onClick={() => window.open('https://ask.bilnn.com/api/user/panlogin?token='+getCookie(\"token\"))}\n                                >\n                                    <ListItemIcon>\n                                        <Pageview\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"寻求资源\" />\n                                </ListItem>\n                                {user.group.webdav && (\n                                    <ListItem\n                                        button\n                                        key=\"WebDAV\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Devices\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"WebDAV\" />\n                                    </ListItem>\n                                )}\n\n                                <ListItem\n                                    button\n                                    key=\"任务队列\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/tasks?\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <Assignment\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"任务队列\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"财务管理\"\n                                    onClick={() =>\n                                        this.props.history.push(\"/ifm/c=user&a=account\")\n                                    }\n                                >\n                                    <ListItemIcon>\n                                        <AccountBalanceWallet\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"财务管理\" />\n                                </ListItem>\n                                <ListItem\n                                    button\n                                    key=\"在线客服\"\n                                    onClick={() => window._MEIQIA('showPanel')}\n                                >\n                                    <ListItemIcon>\n                                        <ChatIcon\n                                            className={classes.iconFix}\n                                        />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"在线客服\" />\n                                </ListItem>\n                            </List>\n                        </div>\n\n                        {pathHelper.isMobile() && (\n                            <>\n                                <Divider />\n                                <List>\n                                    <ListItem\n                                        button\n                                        key=\"个人设置\"\n                                        onClick={() =>\n                                            this.props.history.push(\"/setting?\")\n                                        }\n                                    >\n                                        <ListItemIcon>\n                                            <Settings\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"个人设置\" />\n                                    </ListItem>\n\n                                    <ListItem\n                                        button\n                                        key=\"退出登录\"\n                                        onClick={this.signOut}\n                                    >\n                                        <ListItemIcon>\n                                            <LogoutVariant\n                                                className={classes.iconFix}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"退出登录\" />\n                                    </ListItem>\n                                </List>\n                            </>\n                        )}\n                        <div>\n                            <StorageBar></StorageBar>\n                        </div>\n                    </>\n                )}\n\n                {!Auth.Check(this.props.isLogin) && (\n                    <div>\n                        <ListItem\n                            button\n                            key=\"登录\"\n                            onClick={() => this.props.history.push(\"/login\")}\n                        >\n                            <ListItemIcon>\n                                <AccountArrowRight\n                                    className={classes.iconFix}\n                                />\n                            </ListItemIcon>\n                            <ListItemText primary=\"登录\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            key=\"注册\"\n                            onClick={() => this.props.history.push(\"/signup\")}\n                        >\n                            <ListItemIcon>\n                                <AccountPlus className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary=\"注册\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            key=\"官网首页\"\n                            onClick={() => window.location.href='https://www.bilnn.com/'}\n                        >\n                            <ListItemIcon>\n                                <WebIcon className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary=\"官网首页\" />\n                        </ListItem>\n                    </div>\n                )}\n            </div>\n        );\n        const iOS =\n            process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n        return (\n            <div>\n                <AppBar\n                    position=\"fixed\"\n                    className={classes.appBar}\n                    color={\n                        this.props.theme.palette.type !== \"dark\" &&\n                        this.props.selected.length <= 1 &&\n                        !(!this.props.isMultiple && this.props.withFile)\n                            ? \"primary\"\n                            : \"default\"\n                    }\n                >\n                    <Toolbar>\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={this.handleDrawerToggle}\n                                    className={classes.menuButton}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <IconButton\n                                    color=\"inherit\"\n                                    aria-label=\"Open drawer\"\n                                    onClick={() =>\n                                        this.props.handleDesktopToggle(\n                                            !this.props.desktopOpen\n                                        )\n                                    }\n                                    className={classes.menuButtonDesktop}\n                                >\n                                    <MenuIcon />\n                                </IconButton>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage ||\n                                pathHelper.isSharePage(\n                                    this.props.location.pathname\n                                )) && (\n                                <Grow\n                                    in={\n                                        this.props.selected.length > 1 ||\n                                        (!this.props.isMultiple &&\n                                            this.props.withFile)\n                                    }\n                                >\n                                    <IconButton\n                                        color=\"inherit\"\n                                        className={classes.menuIcon}\n                                        onClick={() =>\n                                            this.props.setSelectedTarget([])\n                                        }\n                                    >\n                                        <BackIcon />\n                                    </IconButton>\n                                </Grow>\n                            )}\n                        {getCookie(\"thisapp\")!=\"ok\" && !Auth.Check(this.props.isLogin) && this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap\n                                            onClick={() => {window.location.href='https://www.bilnn.com/'}}\n                                >\n                                    {this.props.subTitle\n                                        ? this.props.subTitle\n                                        : this.props.title}\n                                </Typography>\n                            )}\n                        {getCookie(\"thisapp\")==\"ok\" && !Auth.Check(this.props.isLogin) && this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap\n                                            onClick={() => {this.props.history.push(\"/\")}}\n                                >\n                                    {this.props.subTitle\n                                        ? this.props.subTitle\n                                        : this.props.title}\n                                </Typography>\n                            )}\n\n                        {!this.props.isMultiple &&\n                            this.props.withFile &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected[0].name}{\" \"}\n                                    {(isHomePage ||\n                                        pathHelper.isSharePage(\n                                            this.props.location.pathname\n                                        )) &&\n                                        \"(\" +\n                                            sizeToString(\n                                                this.props.selected[0].size\n                                            ) +\n                                            \")\"}\n                                </Typography>\n                            )}\n\n                        {this.props.selected.length > 1 &&\n                            !pathHelper.isMobile() && (\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                    {this.props.selected.length}个对象\n                                </Typography>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <SezrchBar />}\n                        <div className={classes.grow} />\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            !isHomePage &&\n                            !pathHelper.isSharePage(\n                                this.props.location.pathname\n                            ) &&\n                            Auth.Check(this.props.isLogin) &&\n                            !checkGetParameters(\"share\") && (\n                                <div className={classes.sectionForFile}>\n                                    <Tooltip title=\"保存\">\n                                        <IconButton\n                                            color=\"inherit\"\n                                            onClick={() =>\n                                                this.props.saveFile()\n                                            }\n                                        >\n                                            <SaveIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </div>\n                            )}\n                        {(this.props.selected.length > 1 ||\n                            (!this.props.isMultiple && this.props.withFile)) &&\n                            (isHomePage || isSharePage) && (\n                                <div className={classes.sectionForFile}>\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile &&\n                                        isPreviewable(\n                                            this.props.selected[0].name\n                                        ) && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile &&\n                                                    isPreviewable(\n                                                        this.props.selected[0]\n                                                            .name\n                                                    )\n                                                }\n                                            >\n                                                <Tooltip title=\"打开\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openPreview()\n                                                        }\n                                                    >\n                                                        <OpenIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple &&\n                                        this.props.withFile && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFile\n                                                }\n                                            >\n                                                <Tooltip title=\"下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.openDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {(this.props.isMultiple ||\n                                        this.props.withFolder) &&\n                                        user.group.allowArchiveDownload && (\n                                            <Grow\n                                                in={\n                                                    (this.props.isMultiple ||\n                                                        this.props\n                                                            .withFolder) &&\n                                                    user.group\n                                                        .allowArchiveDownload\n                                                }\n                                            >\n                                                <Tooltip title=\"打包下载\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.archiveDownload()\n                                                        }\n                                                    >\n                                                        <DownloadIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n\n                                    {!this.props.isMultiple &&\n                                        this.props.withFolder && (\n                                            <Grow\n                                                in={\n                                                    !this.props.isMultiple &&\n                                                    this.props.withFolder\n                                                }\n                                            >\n                                                <Tooltip title=\"进入目录\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.navigateTo(\n                                                                this.props\n                                                                    .path ===\n                                                                    \"/\"\n                                                                    ? this.props\n                                                                          .path +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                                    : this.props\n                                                                          .path +\n                                                                          \"/\" +\n                                                                          this\n                                                                              .props\n                                                                              .selected[0]\n                                                                              .name\n                                                            )\n                                                        }\n                                                    >\n                                                        <OpenFolderIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"外链\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openGetSourceDialog()\n                                                    }\n                                                >\n                                                    <LinkIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!this.props.isMultiple &&\n                                        !pathHelper.isMobile() &&\n                                        !isSharePage && (\n                                            <Grow in={!this.props.isMultiple}>\n                                                <Tooltip title=\"分享\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openShareDialog()\n                                                        }\n                                                    >\n                                                        <ShareIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n                                        )}\n                                    {!this.props.isMultiple && !isSharePage && (\n                                        <Grow in={!this.props.isMultiple}>\n                                            <Tooltip title=\"重命名\">\n                                                <IconButton\n                                                    color=\"inherit\"\n                                                    onClick={() =>\n                                                        this.props.openRenameDialog()\n                                                    }\n                                                >\n                                                    <RenameIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </Grow>\n                                    )}\n                                    {!isSharePage && (\n                                        <div style={{ display: \"flex\" }}>\n                                            {!pathHelper.isMobile() && (\n                                                <Grow\n                                                    in={\n                                                        this.props.selected\n                                                            .length !== 0 &&\n                                                        !pathHelper.isMobile()\n                                                    }\n                                                >\n                                                    <Tooltip title=\"移动\">\n                                                        <IconButton\n                                                            color=\"inherit\"\n                                                            onClick={() =>\n                                                                this.props.openMoveDialog()\n                                                            }\n                                                        >\n                                                            <MoveIcon />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </Grow>\n                                            )}\n\n                                            <Grow\n                                                in={\n                                                    this.props.selected\n                                                        .length !== 0\n                                                }\n                                            >\n                                                <Tooltip title=\"删除\">\n                                                    <IconButton\n                                                        color=\"inherit\"\n                                                        onClick={() =>\n                                                            this.props.openRemoveDialog()\n                                                        }\n                                                    >\n                                                        <DeleteIcon />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            </Grow>\n\n                                            {pathHelper.isMobile() && (\n                                                <Grow\n                                                    in={\n                                                        this.props.selected\n                                                            .length !== 0 &&\n                                                        pathHelper.isMobile()\n                                                    }\n                                                >\n                                                    <Tooltip title=\"更多操作\">\n                                                        <IconButton\n                                                            color=\"inherit\"\n                                                            onClick={() =>\n                                                                this.props.changeContextMenu(\n                                                                    \"file\",\n                                                                    true\n                                                                )\n                                                            }\n                                                        >\n                                                            <MoreHoriz />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </Grow>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && this.props.audioPreviewPlayingName!=null && (\n                            <IconButton\n                                title=\"音乐\"\n                                className={classes.sideButton}\n                                onClick={this.props.audioPreviewOpen}\n                                color={\"inherit\"}\n                            >\n                                <MusicNote fontSize={ \"default\"} />\n                            </IconButton>\n                        )}\n\n                        {this.props.selected.length <= 1 &&\n                            !(\n                                !this.props.isMultiple && this.props.withFile\n                            ) && <UserAvatar />}\n                        {this.props.selected.length <= 1 &&\n                            !(!this.props.isMultiple && this.props.withFile) &&\n                            isHomePage &&\n                            pathHelper.isMobile() && <SubActions inherit />}\n                    </Toolbar>\n                </AppBar>\n                {this.loadUploader()}\n\n                <Hidden smUp implementation=\"css\">\n                    <SwipeableDrawer\n                        container={this.props.container}\n                        variant=\"temporary\"\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        anchor=\"left\"\n                        open={this.state.mobileOpen}\n                        onClose={this.handleDrawerToggle}\n                        onOpen={() =>\n                            this.setState(() => ({ mobileOpen: true }))\n                        }\n                        disableDiscovery={iOS}\n                        ModalProps={{\n                            keepMounted: true, // Better open performance on mobile.\n                        }}\n                    >\n                        {drawer}\n                    </SwipeableDrawer>\n                </Hidden>\n                <Hidden xsDown implementation=\"css\">\n                    <Drawer\n                        classes={{\n                            paper: classes.drawerPaperDesktop,\n                        }}\n                        className={classNames(classes.drawer, {\n                            [classes.drawerOpen]: this.props.desktopOpen,\n                            [classes.drawerClose]: !this.props.desktopOpen,\n                        })}\n                        variant=\"persistent\"\n                        anchor=\"left\"\n                        open={this.props.desktopOpen}\n                    >\n                        <div className={classes.toolbar} />\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </div>\n        );\n    }\n}\nNavbarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n};\n\nconst Navbar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTheme(withStyles(styles)(withRouter(NavbarCompoment))));\n\nexport default Navbar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport { connect } from \"react-redux\";\nimport { searchMyFile } from \"../../actions\";\n\nimport {\n    withStyles,\n    InputBase,\n    Popper,\n    Fade,\n    Paper,\n    MenuItem,\n    ListItemIcon,\n    ListItemText,\n    Typography,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport { HotKeys, configure } from \"react-hotkeys\";\n\nconfigure({\n    ignoreTags: [],\n});\n\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        searchMyFile: (keywords) => {\n            dispatch(searchMyFile(keywords));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    search: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n        position: \"relative\",\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        \"&:hover\": {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: \"100%\",\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: theme.spacing(7.2),\n            width: \"auto\",\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(9),\n        height: \"100%\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    inputRoot: {\n        color: \"inherit\",\n        width: \"100%\",\n    },\n    inputInput: {\n        paddingTop: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        paddingLeft: theme.spacing(7),\n        transition: theme.transitions.create(\"width\"),\n        width: \"100%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: 200,\n            \"&:focus\": {\n                width: 300,\n            },\n        },\n    },\n    suggestBox: {\n        zIndex: \"9999\",\n        width: 364,\n    },\n});\n\nconst keyMap = {\n    SEARCH: \"enter\",\n};\n\nclass SearchBarCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            input: \"\",\n        };\n    }\n\n    handlers = {\n        SEARCH: (e) => {\n            if (pathHelper.isHomePage(this.props.location.pathname)) {\n                this.searchMyFile();\n            } else {\n                this.searchShare();\n            }\n            e.target.blur();\n        },\n    };\n\n    handleChange = (event) => {\n        const { currentTarget } = event;\n        this.input = event.target.value;\n        this.setState({\n            anchorEl: currentTarget,\n            input: event.target.value,\n        });\n    };\n\n    cancelSuggest = () => {\n        this.setState({\n            input: \"\",\n        });\n    };\n\n    searchMyFile = () => {\n        this.props.searchMyFile(\"keywords/\" + this.input);\n    };\n\n    searchShare = () => {\n        this.props.history.push(\n            \"/search?keywords=\" + encodeURIComponent(this.input)\n        );\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { anchorEl } = this.state;\n        const id = this.state.input !== \"\" ? \"simple-popper\" : null;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        return (\n            <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                    <SearchIcon />\n                </div>\n                <HotKeys keyMap={keyMap} handlers={this.handlers}>\n                    <InputBase\n                        placeholder=\"搜索...\"\n                        classes={{\n                            root: classes.inputRoot,\n                            input: classes.inputInput,\n                        }}\n                        onChange={this.handleChange}\n                        onBlur={this.cancelSuggest}\n                        value={this.state.input}\n                    />\n                </HotKeys>\n                <Popper\n                    id={id}\n                    open={this.state.input !== \"\"}\n                    anchorEl={anchorEl}\n                    className={classes.suggestBox}\n                    transition\n                >\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper square={true}>\n                                {isHomePage && (\n                                    <MenuItem onClick={this.searchMyFile}>\n                                        <ListItemIcon className={classes.icon}>\n                                            <FileIcon />\n                                        </ListItemIcon>\n                                        <ListItemText\n                                            classes={{\n                                                primary: classes.primary,\n                                            }}\n                                            primary={\n                                                <Typography noWrap>\n                                                    在我的文件中搜索{\" \"}\n                                                    <strong>\n                                                        {this.state.input}\n                                                    </strong>\n                                                </Typography>\n                                            }\n                                        />\n                                    </MenuItem>\n                                )}\n\n                                <MenuItem onClick={this.searchShare}>\n                                    <ListItemIcon className={classes.icon}>\n                                        <ShareIcon />\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        classes={{ primary: classes.primary }}\n                                        primary={\n                                            <Typography noWrap>\n                                                在全站分享中搜索{\" \"}\n                                                <strong>\n                                                    {this.state.input}\n                                                </strong>\n                                            </Typography>\n                                        }\n                                    />\n                                </MenuItem>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n            </div>\n        );\n    }\n}\n\nSearchBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst SearchBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SearchBarCompoment)));\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport { connect } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport { sizeToString } from \"../../utils\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    LinearProgress,\n    Typography,\n    Divider,\n    Tooltip,\n} from \"@material-ui/core\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport Link from \"@material-ui/core/Link\";\nimport { withRouter } from \"react-router\";\n\nconst mapStateToProps = (state) => {\n    return {\n        refresh: state.viewUpdate.storageRefresh,\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    iconFix: {\n        marginLeft: \"32px\",\n        marginRight: \"17px\",\n        color: theme.palette.text.secondary,\n        marginTop: \"2px\",\n    },\n    textFix: {\n        padding: \" 0 0 0 16px\",\n    },\n    storageContainer: {\n        display: \"flex\",\n        marginTop: \"15px\",\n        textAlign: \"left\",\n        marginBottom: \"11px\",\n    },\n    detail: {\n        width: \"100%\",\n        marginRight: \"35px\",\n    },\n    info: {\n        width: \"131px\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"162px\",\n        },\n        marginTop: \"5px\",\n    },\n    bar: {\n        marginTop: \"5px\",\n    },\n    stickFooter: {\n        backgroundColor: theme.palette.background.paper,\n    },\n});\n\nclass StorageBarCompoment extends Component {\n    state = {\n        percent: 0,\n        used: null,\n        total: null,\n        showExpand: false,\n    };\n\n    firstLoad = true;\n\n    componentDidMount = () => {\n        if (this.firstLoad && this.props.isLogin) {\n            this.firstLoad = !this.firstLoad;\n            this.updateStatus();\n        }\n    };\n\n    componentWillUnmount() {\n        this.firstLoad = false;\n    }\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (\n            (this.props.isLogin && this.props.refresh !== nextProps.refresh) ||\n            (this.props.isLogin !== nextProps.isLogin && nextProps.isLogin)\n        ) {\n            this.updateStatus();\n        }\n    };\n\n    updateStatus = () => {\n        let percent = 0;\n        API.get(\"/user/storage\")\n            .then((response) => {\n                if (response.data.used / response.data.total >= 1) {\n                    percent = 100;\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"您的已用容量已超过容量配额，请尽快删除多余文件或购买容量\",\n                        \"warning\"\n                    );\n                } else {\n                    percent = (response.data.used / response.data.total) * 100;\n                }\n                this.setState({\n                    percent: percent,\n                    used: sizeToString(response.data.used),\n                    total: sizeToString(response.data.total),\n                });\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .catch(() => {});\n    };\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div\n                onMouseEnter={() => this.setState({ showExpand: true })}\n                onMouseLeave={() => this.setState({ showExpand: false })}\n                className={classes.stickFooter}\n            >\n                <Divider />\n                <ButtonBase onClick={() => this.props.history.push(\"/quota\")}>\n                    <div className={classes.storageContainer}>\n                        <StorageIcon className={classes.iconFix} />\n                        <div className={classes.detail}>\n                            存储空间{\"   \"}\n                            {this.state.showExpand && (\n                                <Link href={\"/buy\"} color={\"secondary\"}>\n                                    扩容\n                                </Link>\n                            )}\n                            <LinearProgress\n                                className={classes.bar}\n                                color=\"secondary\"\n                                variant=\"determinate\"\n                                value={this.state.percent}\n                            />\n                            <div className={classes.info}>\n                                <Tooltip\n                                    title={\n                                        \"已使用 \" +\n                                        (this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used) +\n                                        \", 共 \" +\n                                        (this.state.total === null\n                                            ? \" -- \"\n                                            : this.state.total)\n                                    }\n                                    placement=\"top\"\n                                >\n                                    <Typography\n                                        variant=\"caption\"\n                                        noWrap\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.used === null\n                                            ? \" -- \"\n                                            : this.state.used}\n                                        {\" / \"}\n                                        {this.state.total === null\n                                            ? \" -- \"\n                                            : this.state.total}\n                                    </Typography>\n                                </Tooltip>\n                            </div>\n                        </div>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nStorageBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst StorageBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(StorageBarCompoment)));\n\nexport default StorageBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { setUserPopover } from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport Auth from \"../../middleware/Auth\";\nimport DarkModeSwitcher from \"./DarkModeSwitcher\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst mapStateToProps = (state) => {\n    return {\n        isLogin: state.viewUpdate.isLogin,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserPopover: (anchor) => {\n            dispatch(setUserPopover(anchor));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    userNav: {\n        height: \"170px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n    },\n    avatar: {\n        display: \"block\",\n        width: \"70px\",\n        height: \"70px\",\n        border: \" 2px solid #fff\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        boxShadow:\n            \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n    },\n    avatarImg: {\n        width: \"66px\",\n        height: \"66px\",\n    },\n    nickName: {\n        color: \"#fff\",\n        marginLeft: \"10px\",\n        marginTop: \"15px\",\n        fontSize: \"17px\",\n    },\n    flexAvatar: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"end\",\n    },\n    groupName: {\n        marginLeft: \"10px\",\n        color: \"#ffffff\",\n        opacity: \"0.54\",\n    },\n    storageCircle: {\n        width: \"200px\",\n    },\n});\n\nclass UserInfoCompoment extends Component {\n    showUserInfo = (e) => {\n        this.props.setUserPopover(e.currentTarget);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isLogin = Auth.Check(this.props.isLogin);\n        const user = Auth.GetUser(this.props.isLogin);\n\n        return (\n            <div className={classes.userNav}>\n                <div className={classes.flexAvatar}>\n                    {/* eslint-disable-next-line */}\n                    <a onClick={this.showUserInfo} className={classes.avatar}>\n                        {isLogin && (\n                            <Avatar\n                                src={\"/api/v3/user/avatar/\" + user.id + \"/l\"}\n                                className={classes.avatarImg}\n                            />\n                        )}\n                        {!isLogin && (\n                            <Avatar\n                                src={\"/api/v3/user/avatar/0/l\"}\n                                className={classes.avatarImg}\n                            />\n                        )}\n                    </a>\n                    <DarkModeSwitcher position=\"left\" />\n                </div>\n                <div className={classes.storageCircle}>\n                    <Typography\n                        className={classes.nickName}\n                        component=\"h2\"\n                        noWrap\n                    >\n                        {isLogin ? user.nickname : \"未登录\"}\n                    </Typography>\n                    <Typography\n                        className={classes.groupName}\n                        component=\"h2\"\n                        color=\"textSecondary\"\n                        noWrap\n                    >\n                        {isLogin ? user.group.name : \"游客\"}\n                    </Typography>\n                </div>\n            </div>\n        );\n    }\n}\n\nUserInfoCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserInfo = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(UserInfoCompoment));\n\nexport default UserInfo;\n","import React, { useCallback, useState, Suspense } from \"react\";\nimport {\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    withStyles,\n} from \"@material-ui/core\";\nimport { Clear, KeyboardArrowRight } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport FolderShared from \"@material-ui/icons/FolderShared\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport VideoIcon from \"@material-ui/icons/VideoLibraryOutlined\";\nimport ImageIcon from \"@material-ui/icons/CollectionsOutlined\";\nimport MusicIcon from \"@material-ui/icons/LibraryMusicOutlined\";\nimport DocIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport { useHistory, useLocation } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport { navigateTo, searchMyFile, toggleSnackbar } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport Auth from \"../../middleware/Auth\";\nimport {\n    Circle,\n    CircleOutline,\n    Heart,\n    HeartOutline,\n    Hexagon,\n    HexagonOutline,\n    Hexagram,\n    HexagramOutline,\n    Rhombus,\n    RhombusOutline,\n    Square,\n    SquareOutline,\n    Triangle,\n    TriangleOutline,\n    FolderHeartOutline,\n    TagPlus,\n} from \"mdi-material-ui\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport API from \"../../middleware/Api\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": { margin: 0 },\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 0,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"block\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    expand: {\n        display: \"none\",\n        transition: \".15s all ease-in-out\",\n    },\n    expanded: {\n        display: \"block\",\n        transform: \"rotate(90deg)\",\n    },\n    iconFix: {\n        marginLeft: \"16px\",\n    },\n    hiddenButton: {\n        display: \"none\",\n    },\n    subMenu: {\n        marginLeft: theme.spacing(2),\n    },\n    overFlow: {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n    },\n}));\n\nconst icons = {\n    Circle: Circle,\n    CircleOutline: CircleOutline,\n    Heart: Heart,\n    HeartOutline: HeartOutline,\n    Hexagon: Hexagon,\n    HexagonOutline: HexagonOutline,\n    Hexagram: Hexagram,\n    HexagramOutline: HexagramOutline,\n    Rhombus: Rhombus,\n    RhombusOutline: RhombusOutline,\n    Square: Square,\n    SquareOutline: SquareOutline,\n    Triangle: Triangle,\n    TriangleOutline: TriangleOutline,\n    FolderHeartOutline: FolderHeartOutline,\n};\n\nconst AddTag = React.lazy(() => import(\"../Modals/AddTag\"));\n\nexport default function FileTag() {\n    const classes = useStyles();\n\n    const location = useLocation();\n    const history = useHistory();\n\n    const isHomePage = pathHelper.isHomePage(location.pathname);\n\n    const [tagOpen, setTagOpen] = useState(true);\n    const [addTagModal, setAddTagModal] = useState(false);\n    const [tagHover, setTagHover] = useState(null);\n    const [tags, setTags] = useState(\n        Auth.GetUser().tags ? Auth.GetUser().tags : []\n    );\n\n    const dispatch = useDispatch();\n    const SearchMyFile = useCallback((k) => dispatch(searchMyFile(k)), [\n        dispatch,\n    ]);\n    const NavigateTo = useCallback((k) => dispatch(navigateTo(k)), [dispatch]);\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const getIcon = (icon, color) => {\n        if (icons[icon]) {\n            const IconComponent = icons[icon];\n            return (\n                <IconComponent\n                    className={[classes.iconFix]}\n                    style={\n                        color\n                            ? {\n                                  color: color,\n                              }\n                            : {}\n                    }\n                />\n            );\n        }\n        return <Circle className={[classes.iconFix]} />;\n    };\n\n    const submitSuccess = (tag) => {\n        const newTags = [...tags, tag];\n        setTags(newTags);\n        const user = Auth.GetUser();\n        user.tags = newTags;\n        Auth.SetUser(user);\n    };\n\n    const submitDelete = (id) => {\n        API.delete(\"/tag/\" + id)\n            .then(() => {\n                const newTags = tags.filter((v) => {\n                    return v.id !== id;\n                });\n                setTags(newTags);\n                const user = Auth.GetUser();\n                user.tags = newTags;\n                Auth.SetUser(user);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <>\n            <Suspense fallback={\"\"}>\n                <AddTag\n                    onSuccess={submitSuccess}\n                    open={addTagModal}\n                    onClose={() => setAddTagModal(false)}\n                />\n            </Suspense>\n            <ExpansionPanel\n                square\n                expanded={tagOpen && isHomePage}\n                onChange={() => isHomePage && setTagOpen(!tagOpen)}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <ListItem\n                        button\n                        key=\"我的文件\"\n                        onClick={() =>\n                            !isHomePage && history.push(\"/home?path=%2F\")\n                        }\n                    >\n                        <ListItemIcon>\n                            <KeyboardArrowRight\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            tagOpen && isHomePage,\n                                        [classes.iconFix]: true,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                            {!(tagOpen && isHomePage) && (\n                                <FolderShared className={classes.iconFix} />\n                            )}\n                        </ListItemIcon>\n                        <ListItemText primary=\"我的文件\" />\n                    </ListItem>\n                    <Divider />\n                </ExpansionPanelSummary>\n\n                <ExpansionPanelDetails>\n                    <List onMouseLeave={() => setTagHover(null)}>\n                        <ListItem\n                            button\n                            id=\"pickfiles\"\n                            className={classes.hiddenButton}\n                        >\n                            <ListItemIcon>\n                                <UploadIcon />\n                            </ListItemIcon>\n                            <ListItemText />\n                        </ListItem>\n                        <ListItem\n                            button\n                            id=\"pickfolder\"\n                            className={classes.hiddenButton}\n                        >\n                            <ListItemIcon>\n                                <UploadIcon />\n                            </ListItemIcon>\n                            <ListItemText />\n                        </ListItem>\n                        {[\n                            {\n                                key: \"视频\",\n                                id: \"video\",\n                                icon: (\n                                    <VideoIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconVideo,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"图片\",\n                                id: \"image\",\n                                icon: (\n                                    <ImageIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconImg,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"音频\",\n                                id: \"audio\",\n                                icon: (\n                                    <MusicIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconAudio,\n                                        ]}\n                                    />\n                                ),\n                            },\n                            {\n                                key: \"文档\",\n                                id: \"doc\",\n                                icon: (\n                                    <DocIcon\n                                        className={[\n                                            classes.iconFix,\n                                            classes.iconDoc,\n                                        ]}\n                                    />\n                                ),\n                            },\n                        ].map((v) => (\n                            <ListItem\n                                button\n                                key={v.key}\n                                onClick={() => SearchMyFile(v.id + \"/internal\")}\n                            >\n                                <ListItemIcon className={classes.subMenu}>\n                                    {v.icon}\n                                </ListItemIcon>\n                                <ListItemText primary={v.key} />\n                            </ListItem>\n                        ))}\n                        {tags.map((v) => (\n                            <ListItem\n                                button\n                                key={v.id}\n                                onMouseEnter={() => setTagHover(v.id)}\n                                onClick={() => {\n                                    if (v.type === 0) {\n                                        SearchMyFile(\"tag/\" + v.id);\n                                    } else {\n                                        NavigateTo(v.expression);\n                                    }\n                                }}\n                            >\n                                <ListItemIcon className={classes.subMenu}>\n                                    {getIcon(\n                                        v.type === 0\n                                            ? v.icon\n                                            : \"FolderHeartOutline\",\n                                        v.type === 0 ? v.color : null\n                                    )}\n                                </ListItemIcon>\n                                <ListItemText\n                                    className={classes.overFlow}\n                                    primary={v.name}\n                                />\n\n                                {tagHover === v.id && (\n                                    <ListItemSecondaryAction\n                                        onClick={() => submitDelete(v.id)}\n                                    >\n                                        <IconButton\n                                            size={\"small\"}\n                                            edge=\"end\"\n                                            aria-label=\"delete\"\n                                        >\n                                            <Clear />\n                                        </IconButton>\n                                    </ListItemSecondaryAction>\n                                )}\n                            </ListItem>\n                        ))}\n\n                        <ListItem button onClick={() => setAddTagModal(true)}>\n                            <ListItemIcon className={classes.subMenu}>\n                                <TagPlus className={classes.iconFix} />\n                            </ListItemIcon>\n                            <ListItemText primary={\"添加标签...\"} />\n                        </ListItem>\n                    </List>{\" \"}\n                    <Divider />\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { baseURL } from \"../../middleware/Api\";\nimport { showImgPreivew } from \"../../actions/index\";\nimport { imgPreviewSuffix } from \"../../config\";\nimport { withStyles } from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\nimport { PhotoSlider } from \"react-photo-view\";\nimport \"react-photo-view/dist/index.css\";\nimport * as explorer from \"../../redux/explorer/reducer\";\n\nconst styles = () => ({});\n\nconst mapStateToProps = (state) => {\n    return {\n        first: state.explorer.imgPreview.first,\n        other: state.explorer.imgPreview.other,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n    };\n};\n\nclass ImagPreviewComponent extends Component {\n    state = {\n        items: [],\n        photoIndex: 0,\n        isOpen: false,\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        const items = [];\n        let firstOne = 0;\n        if (nextProps.first.id !== \"\") {\n            if (\n                pathHelper.isSharePage(this.props.location.pathname) &&\n                !nextProps.first.path\n            ) {\n                const newImg = {\n                    intro: nextProps.first.name,\n                    src: baseURL + \"/share/preview/\" + nextProps.first.key,\n                };\n                firstOne = 0;\n                items.push(newImg);\n                this.setState({\n                    photoIndex: firstOne,\n                    items: items,\n                    isOpen: true,\n                });\n                return;\n            }\n            // eslint-disable-next-line\n            nextProps.other.map((value) => {\n                const fileType = value.name.split(\".\").pop().toLowerCase();\n                if (imgPreviewSuffix.indexOf(fileType) !== -1) {\n                    let src = \"\";\n                    if (pathHelper.isSharePage(this.props.location.pathname)) {\n                        src = baseURL + \"/share/preview/\" + value.key;\n                        src =\n                            src +\n                            \"?path=\" +\n                            encodeURIComponent(\n                                value.path === \"/\"\n                                    ? value.path + value.name\n                                    : value.path + \"/\" + value.name\n                            );\n                    } else {\n                        src = baseURL + \"/file/preview/\" + value.id;\n                    }\n                    const newImg = {\n                        intro: value.name,\n                        src: src,\n                    };\n                    if (\n                        value.path === nextProps.first.path &&\n                        value.name === nextProps.first.name\n                    ) {\n                        firstOne = items.length;\n                    }\n                    items.push(newImg);\n                }\n            });\n            this.setState({\n                photoIndex: firstOne,\n                items: items,\n                isOpen: true,\n            });\n        }\n    };\n\n    handleClose = () => {\n        this.props.showImgPreivew(explorer.initState.imgPreview.first);\n        this.setState({\n            isOpen: false,\n        });\n    };\n\n    render() {\n        const { photoIndex, isOpen, items } = this.state;\n\n        return (\n            <div>\n                {isOpen && (\n                    <PhotoSlider\n                        images={items}\n                        visible={isOpen}\n                        onClose={() => this.handleClose()}\n                        index={photoIndex}\n                        onIndexChange={(n) =>\n                            this.setState({\n                                photoIndex: n,\n                            })\n                        }\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nImagPreviewComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst ImgPreivew = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ImagPreviewComponent)));\n\nexport default ImgPreivew;\n","import React from \"react\";\nimport { mediaType } from \"../../config\";\nimport ImageIcon from \"@material-ui/icons/PhotoSizeSelectActual\";\nimport VideoIcon from \"@material-ui/icons/Videocam\";\nimport AudioIcon from \"@material-ui/icons/Audiotrack\";\nimport PdfIcon from \"@material-ui/icons/PictureAsPdf\";\nimport {\n    Android,\n    FileExcelBox,\n    FilePowerpointBox,\n    FileWordBox,\n    LanguageC,\n    LanguageCpp,\n    LanguageGo,\n    LanguageJavascript,\n    LanguagePhp,\n    LanguagePython,\n    MagnetOn,\n    ScriptText,\n    WindowRestore,\n    ZipBox,\n} from \"mdi-material-ui\";\nimport FileShowIcon from \"@material-ui/icons/InsertDriveFile\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport { Avatar } from \"@material-ui/core\";\n\nconst icons = {\n    audio: {\n        color: \"#651fff\",\n        icon: AudioIcon,\n    },\n    video: {\n        color: \"#d50000\",\n        icon: VideoIcon,\n    },\n    image: {\n        color: \"#d32f2f\",\n        icon: ImageIcon,\n    },\n    pdf: {\n        color: \"#f44336\",\n        icon: PdfIcon,\n    },\n    word: {\n        color: \"#538ce5\",\n        icon: FileWordBox,\n    },\n    ppt: {\n        color: \"rgb(239, 99, 63)\",\n        icon: FilePowerpointBox,\n    },\n    excel: {\n        color: \"#4caf50\",\n        icon: FileExcelBox,\n    },\n    text: {\n        color: \"#607d8b\",\n        icon: ScriptText,\n    },\n    torrent: {\n        color: \"#5c6bc0\",\n        icon: MagnetOn,\n    },\n    zip: {\n        color: \"#f9a825\",\n        icon: ZipBox,\n    },\n    excute: {\n        color: \"#1a237e\",\n        icon: WindowRestore,\n    },\n    android: {\n        color: \"#8bc34a\",\n        icon: Android,\n    },\n    file: {\n        color: \"#607d8b\",\n        icon: FileShowIcon,\n    },\n    php: {\n        color: \"#777bb3\",\n        icon: LanguagePhp,\n    },\n    go: {\n        color: \"#16b3da\",\n        icon: LanguageGo,\n    },\n    python: {\n        color: \"#3776ab\",\n        icon: LanguagePython,\n    },\n    c: {\n        color: \"#a8b9cc\",\n        icon: LanguageC,\n    },\n    cpp: {\n        color: \"#004482\",\n        icon: LanguageCpp,\n    },\n    js: {\n        color: \"#f4d003\",\n        icon: LanguageJavascript,\n    },\n};\n\nconst getColor = (theme, color) =>\n    theme.palette.type === \"light\" ? color : lighten(color, 0.2);\n\nlet color;\n\nconst TypeIcon = (props) => {\n    const theme = useTheme();\n\n    const fileSuffix = props.fileName.split(\".\").pop().toLowerCase();\n    let fileType = \"file\";\n    Object.keys(mediaType).forEach((k) => {\n        if (mediaType[k].indexOf(fileSuffix) !== -1) {\n            fileType = k;\n        }\n    });\n    const IconComponent = icons[fileType].icon;\n    color = getColor(theme, icons[fileType].color);\n    if (props.getColorValue) {\n        props.getColorValue(color);\n    }\n\n    return (\n        <>\n            {props.isUpload && (\n                <Avatar\n                    className={props.className}\n                    style={{\n                        backgroundColor: color,\n                    }}\n                >\n                    <IconComponent\n                        className={props.iconClassName}\n                        style={{\n                            color: theme.palette.background.paper,\n                        }}\n                    />\n                </Avatar>\n            )}\n            {!props.isUpload && (\n                <IconComponent\n                    className={props.className}\n                    style={{\n                        color: color,\n                    }}\n                />\n            )}\n        </>\n    );\n};\n\nexport default TypeIcon;\n","export const isDefined = (val) => val != null;\nexport const isFunction = (val) => typeof val === \"function\";\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noop = () => {};\n\nexport const newScript = (src) => (cb) => {\n    const scriptElem = document.createElement(\"script\");\n    if (typeof src === \"object\") {\n        // copy every property to the element\n        for (const key in src) {\n            if (Object.prototype.hasOwnProperty.call(src, key)) {\n                scriptElem[key] = src[key];\n            }\n        }\n        src = src.src;\n    } else {\n        scriptElem.src = src;\n    }\n    scriptElem.addEventListener(\"load\", () => cb(null, src));\n    scriptElem.addEventListener(\"error\", () => cb(true, src));\n    document.body.appendChild(scriptElem);\n    return scriptElem;\n};\n\nconst keyIterator = (cols) => {\n    const keys = Object.keys(cols);\n    let i = -1;\n    return {\n        next() {\n            i++; // inc\n            if (i >= keys.length) return null;\n            else return keys[i];\n        },\n    };\n};\n\n// tasks should be a collection of thunk\nexport const parallel = (...tasks) => (each) => (cb) => {\n    let hasError = false;\n    let successed = 0;\n    const ret = [];\n    tasks = tasks.filter(isFunction);\n\n    if (tasks.length <= 0) cb(null);\n    else {\n        tasks.forEach((task, i) => {\n            const thunk = task;\n            thunk((err, ...args) => {\n                if (err) hasError = true;\n                else {\n                    // collect result\n                    if (args.length <= 1) args = args[0];\n\n                    ret[i] = args;\n                    successed++;\n                }\n\n                if (isFunction(each)) each.call(null, err, args, i);\n\n                if (hasError) cb(true);\n                else if (tasks.length === successed) {\n                    cb(null, ret);\n                }\n            });\n        });\n    }\n};\n\n// tasks should be a collection of thunk\nexport const series = (...tasks) => (each) => (cb) => {\n    tasks = tasks.filter((val) => val != null);\n    const nextKey = keyIterator(tasks);\n    const nextThunk = () => {\n        const key = nextKey.next();\n        let thunk = tasks[key];\n        // eslint-disable-next-line prefer-spread\n        if (Array.isArray(thunk))\n            // eslint-disable-next-line prefer-spread\n            thunk = parallel.apply(null, thunk).call(null, each);\n        return [+key, thunk]; // convert `key` to number\n    };\n    let key, thunk;\n    let next = nextThunk();\n    key = next[0];\n    thunk = next[1];\n    if (thunk == null) return cb(null);\n\n    const ret = [];\n    const iterator = () => {\n        thunk((err, ...args) => {\n            if (args.length <= 1) args = args[0];\n            if (isFunction(each)) each.call(null, err, args, key);\n\n            if (err) cb(err);\n            else {\n                // collect result\n                ret.push(args);\n\n                next = nextThunk();\n                key = next[0];\n                thunk = next[1];\n                if (thunk == null) return cb(null, ret);\n                // finished\n                else iterator();\n            }\n        });\n    };\n    iterator();\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nimport { newScript, series, noop } from \"./utils\";\n\nconst loadedScript = [];\nconst pendingScripts = {};\nlet failedScript = [];\n\nconst addCache = (entry) => {\n    if (loadedScript.indexOf(entry) < 0) {\n        loadedScript.push(entry);\n    }\n};\n\nconst removeFailedScript = () => {\n    if (failedScript.length > 0) {\n        failedScript.forEach((script) => {\n            const node = document.querySelector(`script[src='${script}']`);\n            if (node != null) {\n                node.parentNode.removeChild(node);\n            }\n        });\n\n        failedScript = [];\n    }\n};\n\nexport function startLoadingScripts(scripts, onComplete = noop) {\n    // sequence load\n    const loadNewScript = (script) => {\n        const src = typeof script === \"object\" ? script.src : script;\n        if (loadedScript.indexOf(src) < 0) {\n            return (taskComplete) => {\n                const callbacks = pendingScripts[src] || [];\n                callbacks.push(taskComplete);\n                pendingScripts[src] = callbacks;\n                if (callbacks.length === 1) {\n                    return newScript(script)((err) => {\n                        pendingScripts[src].forEach((cb) => cb(err, src));\n                        delete pendingScripts[src];\n                    });\n                }\n            };\n        }\n    };\n    const tasks = scripts.map((src) => {\n        if (Array.isArray(src)) {\n            return src.map(loadNewScript);\n        } else return loadNewScript(src);\n    });\n\n    series(...tasks)((err, src) => {\n        if (err) {\n            failedScript.push(src);\n        } else {\n            if (Array.isArray(src)) {\n                src.forEach(addCache);\n            } else addCache(src);\n        }\n    })((err) => {\n        removeFailedScript();\n        onComplete(err);\n    });\n}\n\nconst uploaderLoader = () => (WrappedComponent) => {\n    class ScriptLoader extends Component {\n        static propTypes = {\n            onScriptLoaded: PropTypes.func,\n        };\n\n        static defaultProps = {\n            onScriptLoaded: noop,\n        };\n\n        constructor(props, context) {\n            super(props, context);\n\n            this.state = {\n                isScriptLoaded: false,\n                isScriptLoadSucceed: false,\n            };\n\n            this._isMounted = false;\n        }\n\n        componentDidMount() {\n            this._isMounted = true;\n            const scripts = [\n                [\"/static/js/uploader/moxie.js\"],\n                [\"/static/js/uploader/plupload.dev.js\"],\n                [\"/static/js/uploader/i18n/zh_CN.js\"],\n                [\"/static/js/uploader/ui.js\"],\n                [\"/static/js/uploader/uploader_\" + window.policyType + \".js\"],\n            ];\n            startLoadingScripts(scripts, (err) => {\n                if (this._isMounted) {\n                    this.setState(\n                        {\n                            isScriptLoaded: true,\n                            isScriptLoadSucceed: !err,\n                        },\n                        () => {\n                            if (!err) {\n                                this.props.onScriptLoaded();\n                            }\n                        }\n                    );\n                }\n            });\n        }\n\n        componentWillUnmount() {\n            this._isMounted = false;\n        }\n\n        getWrappedInstance() {\n            // eslint-disable-next-line react/no-string-refs\n            return this.refs.wrappedInstance;\n        }\n\n        render() {\n            const props = {\n                ...this.props,\n                ...this.state,\n                ref: \"wrappedInstance\",\n            };\n\n            return <WrappedComponent {...props} />;\n        }\n    }\n\n    return hoistStatics(ScriptLoader, WrappedComponent);\n};\n\nexport default uploaderLoader;\n","import React, { Component } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport AddIcon from \"@material-ui/icons/AddCircleOutline\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { darken, lighten } from \"@material-ui/core/styles/colorManipulator\";\nimport {\n    withStyles,\n    Dialog,\n    ListItemText,\n    ListItem,\n    List,\n    Divider,\n    AppBar,\n    Toolbar,\n    IconButton,\n    Typography,\n    Slide,\n    ListItemSecondaryAction,\n    withWidth,\n    DialogContent,\n    Tooltip,\n} from \"@material-ui/core\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport { withTheme } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n    appBar: {\n        position: \"relative\",\n    },\n    flex: {\n        flex: 1,\n    },\n    progressBar: {\n        marginTop: 5,\n    },\n    minHight: {\n        [theme.breakpoints.up(\"sm\")]: {\n            minWidth: 500,\n        },\n        padding: 0,\n    },\n    dialogContent: {\n        padding: 0,\n    },\n    successStatus: {\n        color: \"#4caf50\",\n    },\n    errorStatus: {\n        color: \"#ff5722\",\n        wordBreak: \"break-all\",\n    },\n    listAction: {\n        marginLeft: 20,\n        marginRight: 20,\n    },\n    delete: {\n        zIndex: 9,\n    },\n    progressContainer: {\n        position: \"relative\",\n    },\n    progressContent: {\n        position: \"relative\",\n        zIndex: 9,\n    },\n    progress: {\n        transition: \"width .4s linear\",\n        zIndex: 1,\n        height: \"100%\",\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n    },\n    fileName: {\n        wordBreak: \"break-all\",\n    },\n});\nclass FileList extends Component {\n    state = {\n        open: false,\n        files: [],\n    };\n\n    //入队\n    enQueue(files) {\n        this.setState({\n            files: [...this.state.files, ...files],\n        });\n    }\n\n    deQueue(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow.splice(fileID, 1);\n            this.setState({\n                files: filesNow,\n                open: filesNow.length !== 0,\n            });\n        }\n    }\n\n    updateStatus(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (!file.errMsg || file.ignoreMsg) {\n            if (filesNow[fileID] && !filesNow[fileID].errMsg) {\n                filesNow[fileID] = file;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n        } else {\n            file.ignoreMsg = true;\n        }\n    }\n\n    setComplete(file) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            if (filesNow[fileID].status !== 4) {\n                filesNow[fileID].status = 5;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n        }\n    }\n\n    setError(file, errMsg) {\n        const filesNow = [...this.state.files];\n        const fileID = filesNow.findIndex((f) => {\n            return f.id === file.id;\n        });\n        if (fileID !== -1) {\n            filesNow[fileID].status = 4;\n            filesNow[fileID].errMsg = errMsg;\n        } else {\n            file.status = 4;\n            file.errMsg = errMsg;\n            filesNow.push(file);\n        }\n        this.setState({\n            files: filesNow,\n        });\n    }\n\n    Transition(props) {\n        return <Slide direction=\"up\" {...props} />;\n    }\n    openFileList = () => {\n        if (!this.state.open) {\n            this.setState({ open: true });\n        }\n    };\n\n    cancelUpload = (file) => {\n        this.props.cancelUpload(file);\n        this.deQueue(file);\n    };\n\n    reQueue = (file) => {\n        this.props.reQueue(file);\n        this.deQueue(file);\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    addNewFile = () => {\n        document.getElementsByClassName(\"uploadFileForm\")[0].click();\n    };\n\n    getProgressBackground = () => {\n        return this.props.theme.palette.type === \"light\"\n            ? lighten(this.props.theme.palette.primary.main, 0.8)\n            : darken(this.props.theme.palette.background.paper, 0.2);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { width } = this.props;\n\n        this.props.inRef({\n            openFileList: this.openFileList.bind(this),\n            enQueue: this.enQueue.bind(this),\n            updateStatus: this.updateStatus.bind(this),\n            setComplete: this.setComplete.bind(this),\n            setError: this.setError.bind(this),\n        });\n\n        return (\n            <Dialog\n                fullScreen={isWidthDown(\"sm\", width)}\n                open={this.state.open}\n                onClose={this.handleClose}\n                TransitionComponent={this.Transition}\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton\n                            color=\"inherit\"\n                            onClick={this.handleClose}\n                            aria-label=\"Close\"\n                        >\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography\n                            variant=\"h6\"\n                            color=\"inherit\"\n                            className={classes.flex}\n                        >\n                            上传队列\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={this.addNewFile}>\n                            <AddIcon />\n                        </IconButton>\n                    </Toolbar>\n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                    <List className={classes.minHight}>\n                        {this.state.files.map((item, i) => (\n                            <div key={i} className={classes.progressContainer}>\n                                {item.status === 2 && (\n                                    <div\n                                        style={{\n                                            backgroundColor: this.getProgressBackground(),\n                                            width: item.percent + \"%\",\n                                        }}\n                                        className={classes.progress}\n                                    />\n                                )}\n                                <ListItem\n                                    className={classes.progressContent}\n                                    button\n                                >\n                                    <TypeIcon fileName={item.name} isUpload />\n                                    {item.status === 1 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={<div>排队中...</div>}\n                                        />\n                                    )}\n                                    {item.status === 2 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div>\n                                                    {item.percent <= 99 && (\n                                                        <>\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.speed\n                                                                )\n                                                                .toUpperCase()}\n                                                            /s 已上传{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.loaded\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            , 共{\" \"}\n                                                            {window.plupload\n                                                                .formatSize(\n                                                                    item.size\n                                                                )\n                                                                .toUpperCase()}{\" \"}\n                                                            - {item.percent}%{\" \"}\n                                                        </>\n                                                    )}\n                                                    {item.percent > 99 && (\n                                                        <div>处理中...</div>\n                                                    )}\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 3 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={item.status}\n                                        />\n                                    )}\n                                    {item.status === 4 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.errorStatus\n                                                    }\n                                                >\n                                                    {item.errMsg}\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    {item.status === 5 && (\n                                        <ListItemText\n                                            className={classes.listAction}\n                                            primary={\n                                                <span\n                                                    className={classes.fileName}\n                                                >\n                                                    {item.name}\n                                                </span>\n                                            }\n                                            secondary={\n                                                <div\n                                                    className={\n                                                        classes.successStatus\n                                                    }\n                                                >\n                                                    已完成\n                                                    <br />\n                                                </div>\n                                            }\n                                        />\n                                    )}\n                                    <ListItemSecondaryAction\n                                        className={classes.delete}\n                                    >\n                                        {item.status !== 4 && (\n                                            <IconButton\n                                                aria-label=\"Delete\"\n                                                onClick={() =>\n                                                    this.cancelUpload(item)\n                                                }\n                                            >\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        )}\n                                        {item.status === 4 && (\n                                            <Tooltip title={\"重试\"}>\n                                                <IconButton\n                                                    aria-label=\"Delete\"\n                                                    onClick={() =>\n                                                        this.reQueue(item)\n                                                    }\n                                                >\n                                                    <RefreshIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        )}\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                                <Divider />\n                            </div>\n                        ))}\n                    </List>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n}\nFileList.propTypes = {};\n\nexport default withStyles(styles)(withWidth()(withTheme(FileList)));\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { makeStyles, Badge } from \"@material-ui/core\";\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport PublishIcon from \"@material-ui/icons/Publish\";\nimport {\n    openCreateFileDialog,\n    openCreateFolderDialog,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport statusHelper from \"../../utils/page\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport { FolderUpload, FilePlus } from \"mdi-material-ui\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n    badge: {\n        position: \"absolute\",\n        bottom: 26,\n        top: \"auto\",\n        zIndex: 9999,\n        right: 7,\n    },\n    \"@global\": {\n        \".MuiSpeedDialAction-staticTooltipLabel\": {\n            width: 100,\n        },\n    },\n}));\n\nexport default function UploadButton(props) {\n    const [open, setOpen] = useState(false);\n    const [queued, setQueued] = useState(5);\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const OpenNewFolderDialog = useCallback(\n        () => dispatch(openCreateFolderDialog()),\n        [dispatch]\n    );\n    const OpenNewFileDialog = useCallback(\n        () => dispatch(openCreateFileDialog()),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setQueued(props.Queued);\n    }, [props.Queued]);\n\n    const openUpload = (id) => {\n        const uploadButton = document.getElementsByClassName(id)[0];\n        if (document.body.contains(uploadButton)) {\n            uploadButton.click();\n        } else {\n            ToggleSnackbar(\"top\", \"right\", \"上传组件还未加载完成\", \"warning\");\n        }\n    };\n    const uploadClicked = () => {\n        if (open) {\n            if (queued !== 0) {\n                props.openFileList();\n            } else {\n                openUpload(\"uploadFileForm\");\n            }\n        }\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <AutoHidden enable>\n            <Badge\n                badgeContent={queued}\n                classes={{\n                    badge: classes.badge, // class name, e.g. `root-x`\n                }}\n                className={classes.fab}\n                invisible={queued === 0}\n                color=\"primary\"\n            >\n                <Backdrop open={open && statusHelper.isMobile()} />\n                <SpeedDial\n                    ariaLabel=\"SpeedDial openIcon example\"\n                    hidden={false}\n                    tooltipTitle=\"上传文件\"\n                    icon={\n                        <SpeedDialIcon\n                            openIcon={\n                                !statusHelper.isMobile() && <PublishIcon />\n                            }\n                        />\n                    }\n                    onClose={handleClose}\n                    FabProps={{\n                        onClick: () =>\n                            !statusHelper.isMobile() && uploadClicked(),\n                        color: \"secondary\",\n                    }}\n                    onOpen={handleOpen}\n                    open={open}\n                >\n                    {statusHelper.isMobile() && (\n                        <SpeedDialAction\n                            key=\"UploadFile\"\n                            icon={<PublishIcon />}\n                            tooltipOpen\n                            tooltipTitle=\"上传文件\"\n                            onClick={() => uploadClicked()}\n                            title={\"上传文件\"}\n                        />\n                    )}\n                    {!statusHelper.isMobile() && (\n                        <SpeedDialAction\n                            key=\"UploadFolder\"\n                            icon={<FolderUpload />}\n                            tooltipOpen\n                            tooltipTitle=\"上传目录\"\n                            onClick={() => openUpload(\"uploadFolderForm\")}\n                            title={\"上传目录\"}\n                        />\n                    )}\n                    <SpeedDialAction\n                        key=\"NewFolder\"\n                        icon={<CreateNewFolderIcon />}\n                        tooltipOpen\n                        tooltipTitle=\"新建目录\"\n                        onClick={() => OpenNewFolderDialog()}\n                        title={\"新建目录\"}\n                    />\n                    <SpeedDialAction\n                        key=\"NewFile\"\n                        icon={<FilePlus />}\n                        tooltipOpen\n                        tooltipTitle=\"新建文件\"\n                        onClick={() => OpenNewFileDialog()}\n                        title={\"新建文件\"}\n                    />\n                </SpeedDial>\n            </Badge>\n        </AutoHidden>\n    );\n}\n","import React, { Component } from \"react\";\nimport uploaderLoader from \"../../loader\";\nimport { connect } from \"react-redux\";\nimport { refreshFileList, refreshStorage, toggleSnackbar } from \"../../actions\";\nimport FileList from \"./FileList.js\";\nimport Auth from \"../../middleware/Auth\";\nimport UploadButton from \"../Dial/Create.js\";\nimport { basename, pathJoin } from \"../../utils\";\n\nlet loaded = false;\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        refreshStorage: () => {\n            dispatch(refreshStorage());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass UploaderComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            queued: 0,\n        };\n    }\n\n    setRef(val) {\n        window.fileList = val;\n    }\n\n    cancelUpload(file) {\n        this.uploader.removeFile(file);\n    }\n\n    reQueue = (file) => {\n        this.uploader.addFile(file.getSource());\n        this.props.toggleSnackbar(\n            \"top\",\n            \"right\",\n            \"文件已经重新加入上传队列\",\n            \"info\"\n        );\n    };\n\n    getChunkSize(policyType) {\n        if (policyType === \"qiniu\") {\n            return 4 * 1024 * 1024;\n        }\n        if (policyType === \"onedrive\") {\n            return 100 * 1024 * 1024;\n        }\n        return 0;\n    }\n\n    fileAdd = (up, files) => {\n        const path = window.currntPath ? window.currntPath : this.props.path;\n        if (\n            this.props.keywords === \"\" &&\n            window.location.pathname.toLowerCase().startsWith(\"/home\")\n        ) {\n            window.fileList[\"openFileList\"]();\n            const enqueFiles = files\n                // 不上传Mac下的布局文件 .DS_Store\n                .filter((file) => {\n                    const isDsStore = file.name.toLowerCase() === \".ds_store\";\n                    if (isDsStore) {\n                        up.removeFile(file);\n                    }\n                    return !isDsStore;\n                })\n                .map((file) => {\n                    const source = file.getSource();\n                    if (source.relativePath && source.relativePath !== \"\") {\n                        file.path = basename(\n                            pathJoin([path, source.relativePath])\n                        );\n                        window.pathCache[file.id] = basename(\n                            pathJoin([path, source.relativePath])\n                        );\n                    } else {\n                        window.pathCache[file.id] = path;\n                        file.path = path;\n                    }\n                    return file;\n                });\n            window.fileList[\"enQueue\"](enqueFiles);\n        } else {\n            window.plupload.each(files, (files) => {\n                up.removeFile(files);\n            });\n        }\n    };\n\n    UNSAFE_componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) {\n            // load finished\n            if (isScriptLoadSucceed) {\n                if (loaded) {\n                    return;\n                }\n                loaded = true;\n                const user = Auth.GetUser();\n                this.uploader = window.Qiniu.uploader({\n                    runtimes: \"html5\",\n                    browse_button: [\"pickfiles\", \"pickfolder\"],\n                    container: \"container\",\n                    drop_element: \"container\",\n                    max_file_size:\n                        user.policy.maxSize === \"0.00mb\"\n                            ? 0\n                            : user.policy.maxSize,\n                    dragdrop: true,\n                    chunk_size: this.getChunkSize(user.policy.saveType),\n                    filters: {\n                        mime_types:\n                            user.policy.allowedType === null ||\n                            user.policy.allowedType.length === 0\n                                ? []\n                                : [\n                                      {\n                                          title: \"files\",\n                                          extensions: user.policy.allowedType.join(\n                                              \",\"\n                                          ),\n                                      },\n                                  ],\n                    },\n                    // iOS不能多选？\n                    multi_selection: true,\n                    uptoken_url: \"/api/v3/file/upload/credential\",\n                    uptoken: user.policy.saveType === \"local\" ? \"token\" : null,\n                    domain: \"s\",\n                    max_retries: 0,\n                    get_new_uptoken: true,\n                    auto_start: true,\n                    log_level: 5,\n                    init: {\n                        FilesAdded: this.fileAdd,\n\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        BeforeUpload: function () {},\n                        QueueChanged: (up) => {\n                            this.setState({ queued: up.total.queued });\n                        },\n                        UploadProgress: (up, file) => {\n                            window.fileList[\"updateStatus\"](file);\n                        },\n                        UploadComplete: (up, file) => {\n                            if (file.length === 0) {\n                                return;\n                            }\n                            console.log(\n                                \"UploadComplete\",\n                                file[0].status,\n                                file[0]\n                            );\n                            for (let i = 0; i < file.length; i++) {\n                                if (file[i].status === 5) {\n                                    window.fileList[\"setComplete\"](file[i]);\n                                }\n                            }\n                            // 无异步操作的策略，直接刷新\n                            if (\n                                user.policy.saveType !== \"onedrive\" &&\n                                user.policy.saveType !== \"cos\"\n                            ) {\n                                this.props.refreshFileList();\n                                this.props.refreshStorage();\n                            }\n                        },\n                        Fresh: () => {\n                            this.props.refreshFileList();\n                            this.props.refreshStorage();\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FileUploaded: function () {},\n                        Error: (up, err, errTip) => {\n                            window.fileList[\"openFileList\"]();\n                            window.fileList[\"setError\"](err.file, errTip);\n                        },\n                        // eslint-disable-next-line @typescript-eslint/no-empty-function\n                        FilesRemoved: () => {},\n                    },\n                });\n                // this.fileList[\"openFileList\"]();\n            } else this.onError();\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onError() {}\n\n    openFileList = () => {\n        window.fileList[\"openFileList\"]();\n    };\n\n    render() {\n        return (\n            <div>\n                <FileList\n                    inRef={this.setRef.bind(this)}\n                    cancelUpload={this.cancelUpload.bind(this)}\n                    reQueue={this.reQueue.bind(this)}\n                />\n                {this.props.keywords === \"\" && (\n                    <UploadButton\n                        Queued={this.state.queued}\n                        openFileList={this.openFileList}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nconst Uploader = connect(mapStateToProps, mapDispatchToProps, null, {\n    forwardRef: true,\n})(uploaderLoader()(UploaderComponent));\n\nexport default Uploader;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister();\n        });\n    }\n}\n","import React from \"react\";\nimport Auth from \"./Auth\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction AuthRoute({ children, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                Auth.Check(rest.isLogin) ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: location },\n                        }}\n                    />\n                )\n            }\n        />\n    );\n}\n\nexport default AuthRoute;\n","import React from \"react\";\nimport { Facebook } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"80%\",\n        [theme.breakpoints.up(\"md\")]: {\n            width: \" 50%\",\n        },\n\n        marginTop: 30,\n    },\n}));\n\nconst MyLoader = (props) => {\n    return (\n        <Facebook\n            backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n            foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n            className={props.className}\n        />\n    );\n};\n\nfunction PageLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div\n            style={{\n                textAlign: \"center\",\n            }}\n        >\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default PageLoading;\n","import React from \"react\";\nimport SentimentVeryDissatisfiedIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    icon: {\n        fontSize: \"160px\",\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: lighten(theme.palette.text.disabled, 0.4),\n        textAlign: \"center\",\n        paddingTop: \"20px\",\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: lighten(theme.palette.text.disabled, 0.4),\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n}));\n\nexport default function Notice(props) {\n    const classes = useStyles();\n    return (\n        <div className={classes.emptyContainer}>\n            <SentimentVeryDissatisfiedIcon className={classes.icon} />\n            <div className={classes.emptyInfoBig}>{props.msg}</div>\n            <div className={classes.ads}>\n                <a href={\"https://ask.bilnn.com/\"} target=\"_blank\" rel=\"noopener noreferrer\"><img src={\"https://img30.360buyimg.com/ddfilesass/jfs/t1/200482/12/2151/21063/6110957aEdce92772/60486672694033de.jpg\"} /></a>\n            </div>\n        </div>\n    );\n}\n","import {\n    setSiteConfig,\n    toggleSnackbar,\n    enableLoadUploader,\n    changeViewMethod,\n} from \"../actions/index\";\nimport { fixUrlHash } from \"../utils/index\";\nimport API from \"./Api\";\nimport Auth from \"./Auth\";\nimport pathHelper from \"../utils/page\";\n\nconst initUserConfig = (siteConfig) => {\n    if (siteConfig.user !== undefined && !siteConfig.user.anonymous) {\n        const themes = JSON.parse(siteConfig.themes);\n        const user = siteConfig.user;\n        delete siteConfig.user;\n\n        //更换用户自定配色\n        if (\n            user[\"preferred_theme\"] !== \"\" &&\n            themes[user[\"preferred_theme\"]] !== undefined\n        ) {\n            siteConfig.theme = themes[user[\"preferred_theme\"]];\n        }\n\n        // 更新登录态\n        Auth.authenticate(user);\n    }\n    if (siteConfig.user !== undefined && siteConfig.user.anonymous) {\n        Auth.SetUser(siteConfig.user);\n    }\n    return siteConfig;\n};\n\nexport const InitSiteConfig = (rawStore) => {\n    // 从缓存获取默认配置\n    const configCache = JSON.parse(localStorage.getItem(\"siteConfigCache\"));\n    if (configCache != null) {\n        rawStore.siteConfig = configCache;\n    }\n    // 检查是否有path参数\n    //const url = new URL(window.location.href);\n\n    const reg = new RegExp(\"(^|&)\" + \"path\" + \"=([^&]*)(&|$)\",\"i\"); \n    const r = window.location.search.substr(1).match(reg); \n    const c = r!=null ? decodeURIComponent(r[2]) : null; \n\n    rawStore.navigator.path = c === null ? \"/\" : c;\n    // 初始化用户个性配置\n    rawStore.siteConfig = initUserConfig(rawStore.siteConfig);\n\n    // 更改站点标题\n    document.title = rawStore.siteConfig.title;\n    return rawStore;\n};\n\nexport function enableUploaderLoad() {\n    // 开启上传组件加载\n    const user = Auth.GetUser();\n    window.policyType = user !== null ? user.policy.saveType : \"local\";\n    window.uploadConfig = user !== null ? user.policy : {};\n    window.pathCache = [];\n}\n\nexport async function UpdateSiteConfig(store) {\n    API.get(\"/site/config\")\n        .then(function (response) {\n            const themes = JSON.parse(response.data.themes);\n            response.data.theme = themes[response.data.defaultTheme];\n            response.data = initUserConfig(response.data);\n            store.dispatch(setSiteConfig(response.data));\n            localStorage.setItem(\n                \"siteConfigCache\",\n                JSON.stringify(response.data)\n            );\n\n            // 偏爱的列表样式\n            const preferListMethod = Auth.GetPreference(\"view_method\");\n            if (preferListMethod) {\n                store.dispatch(changeViewMethod(preferListMethod));\n            } else {\n                if (pathHelper.isSharePage(window.location.pathname)) {\n                    store.dispatch(\n                        changeViewMethod(response.data.share_view_method)\n                    );\n                } else {\n                    store.dispatch(\n                        changeViewMethod(response.data.home_view_method)\n                    );\n                }\n            }\n        })\n        .catch(function (error) {\n            store.dispatch(\n                toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载站点配置：\" + error.message,\n                    \"error\"\n                )\n            );\n        })\n        .then(function () {\n            enableUploaderLoad(store);\n            store.dispatch(enableLoadUploader());\n        });\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { makeStyles, Link } from \"@material-ui/core\";\nimport pageHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(() => ({\n    icp: {\n        padding: \"8px 24px\",\n        position: \"absolute\",\n        bottom: 0,\n    },\n}));\n\nexport const ICPFooter = () => {\n    const siteICPId = useSelector((state) => state.siteConfig.siteICPId);\n    const classes = useStyles();\n    const location = useLocation();\n    const [show, setShow] = useState(true);\n\n    useEffect(() => {\n        // 只在分享和登录界面显示\n        const isSharePage = pageHelper.isSharePage(location.pathname);\n        const isLoginPage = pageHelper.isLoginPage(location.pathname);\n        setShow(siteICPId && (isSharePage || isLoginPage));\n    }, [siteICPId, location]);\n\n    if (!show) {\n        return <></>;\n    }\n    return (\n        <div className={classes.icp}>\n            {`备案号: `}\n            <Link\n                href=\"https://beian.miit.gov.cn/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n            >\n                {siteICPId}\n            </Link>\n        </div>\n    );\n};\n","import React from \"react\";\nimport ContentLoader from \"react-content-loader\";\n\nconst MyLoader = () => (\n    <ContentLoader\n        height={80}\n        width={200}\n        speed={2}\n        primaryColor=\"#f3f3f3\"\n        secondaryColor=\"#e4e4e4\"\n    >\n        <rect x=\"4\" y=\"4\" rx=\"7\" ry=\"7\" width=\"392\" height=\"116\" />\n    </ContentLoader>\n);\n\nfunction captchaPlacholder() {\n    return <MyLoader />;\n}\n\nexport default captchaPlacholder;\n","import React, {\n    forwardRef,\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../actions\";\nimport API from \"../middleware/Api\";\nimport { FormControl, Input, InputLabel } from \"@material-ui/core\";\nimport Placeholder from \"../component/Placeholder/Captcha\";\nimport { defaultValidate, useStyle } from \"./useCaptcha\";\n\nconst NormalCaptcha = forwardRef(function NormalCaptcha(\n    { captchaRef, setLoading },\n    ref\n) {\n    const classes = useStyle();\n\n    const [captcha, setCaptcha] = useState(\"\");\n    const [captchaData, setCaptchaData] = useState(null);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const refreshCaptcha = () => {\n        API.get(\"/site/captcha\")\n            .then((response) => {\n                setCaptchaData(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"无法加载验证码：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useEffect(() => {\n        ref.current = refreshCaptcha;\n        refreshCaptcha();\n    }, []);\n\n    useEffect(() => {\n        captchaRef.current.captchaCode = captcha;\n    }, [captcha]);\n\n    return (\n        <div className={classes.captchaContainer}>\n            <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"captcha\">验证码</InputLabel>\n                <Input\n                    name=\"captcha\"\n                    onChange={(e) => setCaptcha(e.target.value)}\n                    type=\"text\"\n                    id=\"captcha\"\n                    value={captcha}\n                    autoComplete\n                />\n            </FormControl>{\" \"}\n            <div>\n                {captchaData === null && (\n                    <div className={classes.captchaPlaceholder}>\n                        <Placeholder />\n                    </div>\n                )}\n                {captchaData !== null && (\n                    <img\n                        src={captchaData}\n                        alt=\"captcha\"\n                        onClick={refreshCaptcha}\n                    />\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default function useNormalCaptcha(captchaRefreshRef, setLoading) {\n    const isValidate = useRef({\n        isValidate: true,\n    });\n\n    const captchaParamsRef = useRef({\n        captchaCode: \"\",\n    });\n\n    const CaptchaRender = useCallback(\n        function Normal() {\n            return (\n                <NormalCaptcha\n                    captchaRef={captchaParamsRef}\n                    ref={captchaRefreshRef}\n                    setLoading={setLoading}\n                />\n            );\n        },\n        [captchaParamsRef, captchaRefreshRef, setLoading]\n    );\n\n    return {\n        isValidate,\n        validate: defaultValidate,\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class ReCAPTCHA extends React.Component {\n    constructor() {\n        super();\n        this.handleExpired = this.handleExpired.bind(this);\n        this.handleErrored = this.handleErrored.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleRecaptchaRef = this.handleRecaptchaRef.bind(this);\n    }\n\n    getValue() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this.props.grecaptcha.getResponse(this._widgetId);\n        }\n        return null;\n    }\n\n    getWidgetId() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            return this._widgetId;\n        }\n        return null;\n    }\n\n    execute() {\n        const { grecaptcha } = this.props;\n\n        if (grecaptcha && this._widgetId !== undefined) {\n            return grecaptcha.execute(this._widgetId);\n        } else {\n            this._executeRequested = true;\n        }\n    }\n\n    reset() {\n        if (this.props.grecaptcha && this._widgetId !== undefined) {\n            this.props.grecaptcha.reset(this._widgetId);\n        }\n    }\n\n    handleExpired() {\n        if (this.props.onExpired) {\n            this.props.onExpired();\n        } else {\n            this.handleChange(null);\n        }\n    }\n\n    handleErrored() {\n        if (this.props.onErrored) this.props.onErrored();\n    }\n\n    handleChange(token) {\n        if (this.props.onChange) this.props.onChange(token);\n    }\n\n    explicitRender() {\n        if (\n            this.props.grecaptcha &&\n            this.props.grecaptcha.render &&\n            this._widgetId === undefined\n        ) {\n            const wrapper = document.createElement(\"div\");\n            this._widgetId = this.props.grecaptcha.render(wrapper, {\n                sitekey: this.props.sitekey,\n                callback: this.handleChange,\n                theme: this.props.theme,\n                type: this.props.type,\n                tabindex: this.props.tabindex,\n                \"expired-callback\": this.handleExpired,\n                \"error-callback\": this.handleErrored,\n                size: this.props.size,\n                stoken: this.props.stoken,\n                hl: this.props.hl,\n                badge: this.props.badge,\n            });\n            this.captcha.appendChild(wrapper);\n        }\n        if (\n            this._executeRequested &&\n            this.props.grecaptcha &&\n            this._widgetId !== undefined\n        ) {\n            this._executeRequested = false;\n            this.execute();\n        }\n    }\n\n    componentDidMount() {\n        this.explicitRender();\n    }\n\n    componentDidUpdate() {\n        this.explicitRender();\n    }\n\n    componentWillUnmount() {\n        if (this._widgetId !== undefined) {\n            this.delayOfCaptchaIframeRemoving();\n            this.reset();\n        }\n    }\n\n    delayOfCaptchaIframeRemoving() {\n        const temporaryNode = document.createElement(\"div\");\n        document.body.appendChild(temporaryNode);\n        temporaryNode.style.display = \"none\";\n\n        // move of the recaptcha to a temporary node\n        while (this.captcha.firstChild) {\n            temporaryNode.appendChild(this.captcha.firstChild);\n        }\n\n        // delete the temporary node after reset will be done\n        setTimeout(() => {\n            document.body.removeChild(temporaryNode);\n        }, 5000);\n    }\n\n    handleRecaptchaRef(elem) {\n        this.captcha = elem;\n    }\n\n    render() {\n        // consume properties owned by the reCATPCHA, pass the rest to the div so the user can style it.\n        /* eslint-disable no-unused-vars */\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const {\n            sitekey,\n            onChange,\n            theme,\n            type,\n            tabindex,\n            onExpired,\n            onErrored,\n            size,\n            stoken,\n            grecaptcha,\n            badge,\n            hl,\n            ...childProps\n        } = this.props;\n        /* eslint-enable no-unused-vars */\n        return <div {...childProps} ref={this.handleRecaptchaRef} />;\n    }\n}\n\nReCAPTCHA.displayName = \"ReCAPTCHA\";\nReCAPTCHA.propTypes = {\n    sitekey: PropTypes.string.isRequired,\n    onChange: PropTypes.func,\n    grecaptcha: PropTypes.object,\n    theme: PropTypes.oneOf([\"dark\", \"light\"]),\n    type: PropTypes.oneOf([\"image\", \"audio\"]),\n    tabindex: PropTypes.number,\n    onExpired: PropTypes.func,\n    onErrored: PropTypes.func,\n    size: PropTypes.oneOf([\"compact\", \"normal\", \"invisible\"]),\n    stoken: PropTypes.string,\n    hl: PropTypes.string,\n    badge: PropTypes.oneOf([\"bottomright\", \"bottomleft\", \"inline\"]),\n};\nReCAPTCHA.defaultProps = {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onChange: () => {},\n    theme: \"light\",\n    type: \"image\",\n    tabindex: 0,\n    size: \"normal\",\n    badge: \"bottomright\",\n};\n","import ReCAPTCHA from \"./ReCaptchaWrapper\";\nimport makeAsyncScriptLoader from \"react-async-script\";\n\nconst callbackName = \"onloadcallback\";\nconst globalName = \"grecaptcha\";\n\nfunction getURL() {\n    const hostname = \"recaptcha.net\";\n    return `https://${hostname}/recaptcha/api.js?onload=${callbackName}&render=explicit`;\n}\n\nexport default makeAsyncScriptLoader(getURL, {\n    callbackName,\n    globalName,\n})(ReCAPTCHA);\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FormControl } from \"@material-ui/core\";\nimport ReCaptcha from \"../component/Login/ReCaptcha\";\nimport { defaultValidate, useStyle } from \"./useCaptcha\";\n\nconst Recaptcha = ({ captchaRef, setLoading }) => {\n    const classes = useStyle();\n\n    const [captcha, setCaptcha] = useState(\"\");\n\n    const reCaptchaKey = useSelector(\n        (state) => state.siteConfig.captcha_ReCaptchaKey\n    );\n\n    useEffect(() => {\n        captchaRef.current.captchaCode = captcha;\n    }, [captcha]);\n\n    useEffect(() => setLoading(false), []);\n\n    return (\n        <div className={classes.captchaContainer}>\n            <FormControl margin=\"normal\" required fullWidth>\n                <div>\n                    <ReCaptcha\n                        style={{\n                            display: \"inline-block\",\n                        }}\n                        sitekey={reCaptchaKey}\n                        onChange={(value) => setCaptcha(value)}\n                        id=\"captcha\"\n                        name=\"captcha\"\n                    />\n                </div>\n            </FormControl>{\" \"}\n        </div>\n    );\n};\n\nexport default function useRecaptcha(setLoading) {\n    const isValidate = useRef({\n        isValidate: true,\n    });\n\n    const captchaParamsRef = useRef({\n        captchaCode: \"\",\n    });\n\n    const CaptchaRender = useCallback(\n        function RecaptchaRender() {\n            return (\n                <Recaptcha\n                    captchaRef={captchaParamsRef}\n                    setLoading={setLoading}\n                />\n            );\n        },\n        [captchaParamsRef, setLoading]\n    );\n\n    return {\n        isValidate,\n        validate: defaultValidate,\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import React, { forwardRef, useCallback, useRef } from \"react\";\nimport Script from \"react-load-script\";\nimport { useSelector } from \"react-redux\";\n\nconst TCaptcha = forwardRef(function TCaptcha(\n    { captchaRef, setLoading, isValidateRef, submitRef },\n    ref\n) {\n    const appid = useSelector(\n        (state) => state.siteConfig.tcaptcha_captcha_app_id\n    );\n    const onLoad = () => {\n        try {\n            ref.current = new window.TencentCaptcha(appid, function (res) {\n                if (res.ret === 0) {\n                    captchaRef.current.ticket = res.ticket;\n                    captchaRef.current.randstr = res.randstr;\n\n                    isValidateRef.current.isValidate = true;\n                    submitRef.current.submit();\n                    console.log(submitRef);\n                } else {\n                    submitRef.current.setLoading(false);\n                }\n            });\n        } catch (e) {\n            console.error(e);\n        }\n        setLoading(false);\n    };\n    return (\n        <Script\n            url={\"https://ssl.captcha.qq.com/TCaptcha.js\"}\n            onLoad={onLoad}\n        />\n    );\n});\n\nexport default function useTCaptcha(setLoading) {\n    const isValidate = useRef({\n        isValidate: false,\n    });\n    const captchaParamsRef = useRef({\n        ticket: \"\",\n        randstr: \"\",\n    });\n    const submitRef = useRef({\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        submit: () => {},\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        setLoading: () => {},\n    });\n\n    const captchaRef = useRef();\n\n    const CaptchaRender = useCallback(\n        function TCaptchaRender() {\n            return (\n                <TCaptcha\n                    captchaRef={captchaParamsRef}\n                    setLoading={setLoading}\n                    isValidateRef={isValidate}\n                    submitRef={submitRef}\n                    ref={captchaRef}\n                />\n            );\n        },\n        [captchaParamsRef, setLoading, isValidate, submitRef, captchaRef]\n    );\n\n    return {\n        isValidate: isValidate,\n        validate: (submit, setLoading) => {\n            submitRef.current.submit = submit;\n            submitRef.current.setLoading = setLoading;\n            captchaRef.current.show();\n        },\n        captchaParamsRef,\n        CaptchaRender,\n    };\n}\n","import { useSelector } from \"react-redux\";\nimport { useRef, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport useNormalCaptcha from \"./normal\";\nimport useRecaptcha from \"./recaptcha\";\nimport useTCaptcha from \"./tcaptcha\";\n\nexport const useStyle = makeStyles((theme) => ({\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n}));\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars,@typescript-eslint/no-empty-function\nexport const defaultValidate = (submit, setLoading) => {};\n\nexport const useCaptcha = () => {\n    const captchaType = useSelector((state) => state.siteConfig.captcha_type);\n\n    const [captchaLoading, setCaptchaLoading] = useState(true);\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    const captchaRefreshRef = useRef(() => {});\n\n    const normal = useNormalCaptcha(captchaRefreshRef, setCaptchaLoading);\n    const recaptcha = useRecaptcha(setCaptchaLoading);\n    const tcaptcha = useTCaptcha(setCaptchaLoading);\n\n    switch (captchaType) {\n        case \"normal\":\n            return { ...normal, captchaRefreshRef, captchaLoading };\n        case \"recaptcha\":\n            return { ...recaptcha, captchaRefreshRef, captchaLoading };\n        case \"tcaptcha\":\n            return { ...tcaptcha, captchaRefreshRef, captchaLoading };\n        default:\n            return { ...normal, captchaRefreshRef, captchaLoading };\n    }\n};\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport {\n    applyThemes,\n    setSessionStatus,\n    toggleSnackbar,\n} from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { bufferDecode, bufferEncode } from \"../../utils/index\";\nimport { enableUploaderLoad } from \"../../middleware/Init\";\nimport { Fingerprint, VpnKey } from \"@material-ui/icons\";\nimport VpnIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport { useLocation } from \"react-router\";\nimport { ICPFooter } from \"../Common/ICPFooter\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    buttonContainer: {\n        display: \"flex\",\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction LoginForm() {\n    const [email, setEmail] = useState(\"\");\n    const [pwd, setPwd] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [useAuthn, setUseAuthn] = useState(false);\n    const [twoFA, setTwoFA] = useState(false);\n    const [faCode, setFACode] = useState(\"\");\n\n    const loginCaptcha = useSelector((state) => state.siteConfig.loginCaptcha);\n    const title = useSelector((state) => state.siteConfig.title);\n    const QQLogin = useSelector((state) => state.siteConfig.QQLogin);\n    const authn = useSelector((state) => state.siteConfig.authn);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback((theme) => dispatch(applyThemes(theme)), [\n        dispatch,\n    ]);\n    const SetSessionStatus = useCallback(\n        (status) => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const history = useHistory();\n    const location = useLocation();\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n    const query = useQuery();\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        setEmail(query.get(\"username\"));\n    }, [location]);\n\n    const getCookie =(name)=> {\n        const strcookie = document.cookie;//获取cookie字符串\n            const arrcookie = strcookie.split(\"; \");//分割\n            //遍历匹配\n            for ( let i = 0; i < arrcookie.length; i++) {\n                const arr = arrcookie[i].split(\"=\");\n                if (arr[0] == name){\n                    return unescape(arr[1]);\n                }\n            }\n        return null;\n    }\n\n    const GetQueryString =(name)=> {\n        const reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\",\"i\"); \n        const r = window.location.search.substr(1).match(reg); \n        if (r!=null) return (r[2]); return \"\"; \n    }\n\n    const afterLogin = (data) => {\n        Auth.authenticate(data);\n\n        // 设置用户主题色\n        if (data[\"preferred_theme\"] !== \"\") {\n            ApplyThemes(data[\"preferred_theme\"]);\n        }\n        enableUploaderLoad();\n\n        // 设置登录状态\n        SetSessionStatus(true);\n        const backurl = GetQueryString(\"backurl\");\n        if (backurl==\"\"){\n            history.push(\"/home\");\n        }else{\n            const backurl_path = backurl.split(\".\");\n            if (backurl_path[1]!=\"bilnn\"){\n                history.push(\"/home\");\n            }else{\n                window.location.href = decodeURIComponent(backurl)+\"?token=\"+getCookie(\"token\");\n            } \n        }\n        ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n        localStorage.removeItem(\"siteConfigCache\");\n    };\n\n    const authnLogin = (e) => {\n        e.preventDefault();\n        if (!navigator.credentials) {\n            ToggleSnackbar(\"top\", \"right\", \"当前浏览器或环境不支持\", \"warning\");\n\n            return;\n        }\n\n        setLoading(true);\n\n        API.get(\"/user/authn/\" + email)\n            .then((response) => {\n                const credentialRequestOptions = response.data;\n                console.log(credentialRequestOptions);\n                credentialRequestOptions.publicKey.challenge = bufferDecode(\n                    credentialRequestOptions.publicKey.challenge\n                );\n                credentialRequestOptions.publicKey.allowCredentials.forEach(\n                    function (listItem) {\n                        listItem.id = bufferDecode(listItem.id);\n                    }\n                );\n\n                return navigator.credentials.get({\n                    publicKey: credentialRequestOptions.publicKey,\n                });\n            })\n            .then((assertion) => {\n                const authData = assertion.response.authenticatorData;\n                const clientDataJSON = assertion.response.clientDataJSON;\n                const rawId = assertion.rawId;\n                const sig = assertion.response.signature;\n                const userHandle = assertion.response.userHandle;\n\n                return API.post(\n                    \"/user/authn/finish/\" + email,\n                    JSON.stringify({\n                        id: assertion.id,\n                        rawId: bufferEncode(rawId),\n                        type: assertion.type,\n                        response: {\n                            authenticatorData: bufferEncode(authData),\n                            clientDataJSON: bufferEncode(clientDataJSON),\n                            signature: bufferEncode(sig),\n                            userHandle: bufferEncode(userHandle),\n                        },\n                    })\n                );\n            })\n            .then((response) => {\n                afterLogin(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const login = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        if (!isValidate.current.isValidate && loginCaptcha) {\n            validate(() => login(e), setLoading);\n            return;\n        }\n        API.post(\"/user/session\", {\n            userName: email,\n            Password: pwd,\n            ...captchaParamsRef.current,\n        })\n            .then((response) => {\n                setLoading(false);\n                if (response.rawData.code === 203) {\n                    setTwoFA(true);\n                } else {\n                    afterLogin(response.data);\n                }\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    const initQQLogin = () => {\n        setLoading(true);\n        const backurl = GetQueryString(\"backurl\");\n        API.post(\"/user/qq?backurl=\"+backurl)\n            .then((response) => {\n                window.location.href = response.data;\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const twoFALogin = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        API.post(\"/user/2fa\", {\n            code: faCode,\n        })\n            .then((response) => {\n                setLoading(false);\n                afterLogin(response.data);\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    let _QQLogin = QQLogin;\n    if(getCookie(\"thisapp\")==\"ok\"){\n        _QQLogin = false;\n    }\n\n    return (\n        <div className={classes.layout}>\n            {!twoFA && (\n                <>\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatar}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            登录 {title}\n                        </Typography>\n                        {!useAuthn && (\n                            <form className={classes.form} onSubmit={login}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"email\">\n                                        电子邮箱\n                                    </InputLabel>\n                                    <Input\n                                        id=\"email\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        onChange={(e) =>\n                                            setEmail(e.target.value)\n                                        }\n                                        autoComplete\n                                        value={email}\n                                        autoFocus\n                                    />\n                                </FormControl>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"password\">\n                                        密码\n                                    </InputLabel>\n                                    <Input\n                                        name=\"password\"\n                                        onChange={(e) => setPwd(e.target.value)}\n                                        type=\"password\"\n                                        id=\"password\"\n                                        value={pwd}\n                                        autoComplete\n                                    />\n                                </FormControl>\n                                {loginCaptcha && <CaptchaRender />}\n                                {_QQLogin && (\n                                    <div className={classes.buttonContainer}>\n                                        <Button\n                                            type=\"submit\"\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            disabled={loading}\n                                            className={classes.submit}\n                                        >\n                                            登录\n                                        </Button>\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            style={{ marginLeft: \"10px\" }}\n                                            disabled={loading}\n                                            className={classes.submit}\n                                            onClick={initQQLogin}\n                                        >\n                                            使用QQ登录\n                                        </Button>\n                                    </div>\n                                )}\n                                {!_QQLogin && (\n                                    <Button\n                                        type=\"submit\"\n                                        fullWidth\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        disabled={loading}\n                                        className={classes.submit}\n                                    >\n                                        登录\n                                    </Button>\n                                )}\n                            </form>\n                        )}\n                        {useAuthn && (\n                            <form className={classes.form}>\n                                <FormControl margin=\"normal\" required fullWidth>\n                                    <InputLabel htmlFor=\"email\">\n                                        电子邮箱\n                                    </InputLabel>\n                                    <Input\n                                        id=\"email\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        onChange={(e) =>\n                                            setEmail(e.target.value)\n                                        }\n                                        autoComplete\n                                        value={email}\n                                        autoFocus\n                                    />\n                                </FormControl>\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    disabled={\n                                        loading ||\n                                        (loginCaptcha ? captchaLoading : false)\n                                    }\n                                    onClick={authnLogin}\n                                    className={classes.submit}\n                                >\n                                    下一步\n                                </Button>\n                            </form>\n                        )}\n                        <Divider />\n                        <div className={classes.link}>\n                            <div>\n                                <Link href={\"/forget\"}>忘记密码</Link>\n                            </div>\n                            <div>\n                                <Link href={\"/signup\"}>注册账号</Link>\n                            </div>\n                        </div>\n\n                        <ICPFooter />\n                    </Paper>\n\n                    {authn && (\n                        <div className={classes.authnLink}>\n                            <Button\n                                color=\"primary\"\n                                onClick={() => setUseAuthn(!useAuthn)}\n                            >\n                                {!useAuthn && (\n                                    <>\n                                        <Fingerprint\n                                            style={{\n                                                marginRight: 8,\n                                            }}\n                                        />\n                                        使用外部验证器登录\n                                    </>\n                                )}\n                                {useAuthn && (\n                                    <>\n                                        <VpnKey\n                                            style={{\n                                                marginRight: 8,\n                                            }}\n                                        />\n                                        使用密码登录\n                                    </>\n                                )}\n                            </Button>\n                        </div>\n                    )}\n                </>\n            )}\n            {twoFA && (\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <VpnIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        二步验证\n                    </Typography>\n                    <form className={classes.form} onSubmit={twoFALogin}>\n                        <FormControl margin=\"normal\" required fullWidth>\n                            <InputLabel htmlFor=\"code\">\n                                请输入六位二步验证代码\n                            </InputLabel>\n                            <Input\n                                id=\"code\"\n                                type=\"number\"\n                                name=\"code\"\n                                onChange={(event) =>\n                                    setFACode(event.target.value)\n                                }\n                                autoComplete\n                                value={faCode}\n                                autoFocus\n                            />\n                        </FormControl>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={loading}\n                            className={classes.submit}\n                        >\n                            继续登录\n                        </Button>{\" \"}\n                    </form>{\" \"}\n                    <Divider />\n                </Paper>\n            )}\n        </div>\n    );\n}\n\nexport default LoginForm;\n","import * as actions from \"./action\";\nimport * as reducers from \"./reducer\";\n\nexport default {\n    actions,\n    reducers,\n};\n","import React, { useEffect } from \"react\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\nimport MoreIcon from \"@material-ui/icons/MoreHoriz\";\n\nconst useStyles = makeStyles((theme) => ({\n    expandMore: {\n        color: \"#8d8d8d\",\n    },\n    active: {\n        boxShadow: \"0 0 0 2px \" + theme.palette.primary.light,\n    },\n    button: {\n        textTransform: \"none\",\n    },\n}));\n\nexport default function PathButton(props) {\n    const inputRef = React.useRef(null);\n\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            if (props.more) {\n                inputRef.current.click();\n            } else {\n                return {\n                    folder: {\n                        id: -1,\n                        path: props.path,\n                        name: props.folder === \"/\" ? \"\" : props.folder,\n                    },\n                };\n            }\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        if (props.more && isActive) {\n            inputRef.current.click();\n        }\n        // eslint-disable-next-line\n    }, [isActive]);\n\n    const classes = useStyles();\n    return (\n        <span onClick={props.onClick} ref={inputRef}>\n            <Button\n                ref={drop}\n                className={classNames(\n                    {\n                        [classes.active]: isActive,\n                    },\n                    classes.button\n                )}\n                component=\"span\"\n                title={props.title}\n            >\n                {props.more && <MoreIcon />}\n                {!props.more && (\n                    <>\n                        {props.folder}\n                        {props.last && (\n                            <ExpandMore className={classes.expandMore} />\n                        )}\n                    </>\n                )}\n            </Button>\n        </span>\n    );\n}\n","import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport { MenuItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport { useDrop } from \"react-dnd\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles((theme) => ({\n    active: {\n        border: \"2px solid \" + theme.palette.primary.light,\n    },\n}));\n\nexport default function DropDownItem(props) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => {\n            console.log({\n                folder: {\n                    id: -1,\n                    path: props.path,\n                    name: props.folder === \"/\" ? \"\" : props.folder,\n                },\n            });\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n\n    const isActive = canDrop && isOver;\n\n    useEffect(() => {\n        props.setActiveStatus(props.id, isActive);\n        // eslint-disable-next-line\n    }, [isActive]);\n\n    const classes = useStyles();\n    return (\n        <MenuItem\n            ref={drop}\n            className={classNames({\n                [classes.active]: isActive,\n            })}\n            onClick={(e) => props.navigateTo(e, props.id)}\n        >\n            <ListItemIcon>\n                <FolderIcon />\n            </ListItemIcon>\n            <ListItemText primary={props.folder} />\n        </MenuItem>\n    );\n}\n","import React from \"react\";\nimport DropDownItem from \"./DropDownItem\";\n\nexport default function DropDown(props) {\n    let timer;\n    let first = props.folders.length;\n    const status = [];\n    for (let index = 0; index < props.folders.length; index++) {\n        status[index] = false;\n    }\n\n    const setActiveStatus = (id, value) => {\n        status[id] = value;\n        if (value) {\n            clearTimeout(timer);\n        } else {\n            let shouldClose = true;\n            status.forEach((element) => {\n                if (element) {\n                    shouldClose = false;\n                }\n            });\n            if (shouldClose) {\n                if (first <= 0) {\n                    timer = setTimeout(() => {\n                        props.onClose();\n                    }, 100);\n                } else {\n                    first--;\n                }\n            }\n        }\n        console.log(status);\n    };\n\n    return (\n        <>\n            {props.folders.map((folder, id) => (\n                // eslint-disable-next-line react/jsx-key\n                <DropDownItem\n                    path={\"/\" + props.folders.slice(0, id).join(\"/\")}\n                    navigateTo={props.navigateTo}\n                    id={id}\n                    setActiveStatus={setActiveStatus}\n                    folder={folder}\n                />\n            ))}\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {\n    navigateTo,\n    navigateUp,\n    setNavigatorError,\n    setNavigatorLoadingStatus,\n    refreshFileList,\n    setSelectedTarget,\n    openCreateFolderDialog,\n    openShareDialog,\n    drawerToggleAction,\n    openCompressDialog,\n} from \"../../../actions/index\";\nimport explorer from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { setCookie, setGetParameter, fixUrlHash } from \"../../../utils/index\";\nimport {\n    withStyles,\n    Divider,\n    Menu,\n    MenuItem,\n    ListItemIcon,\n} from \"@material-ui/core\";\nimport PathButton from \"./PathButton\";\nimport DropDown from \"./DropDown\";\nimport pathHelper from \"../../../utils/page\";\nimport classNames from \"classnames\";\nimport Auth from \"../../../middleware/Auth\";\nimport { Archive } from \"@material-ui/icons\";\nimport { FilePlus } from \"mdi-material-ui\";\nimport { openCreateFileDialog } from \"../../../actions\";\nimport SubActions from \"./SubActions\";\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        refresh: state.navigator.refresh,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        keywords: state.explorer.keywords,\n        sortMethod: state.viewUpdate.sortMethod,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        navigateToPath: (path) => {\n            dispatch(navigateTo(path));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        setNavigatorError: (status, msg) => {\n            dispatch(setNavigatorError(status, msg));\n        },\n        updateFileList: (list) => {\n            dispatch(explorer.actions.updateFileList(list));\n        },\n        setNavigatorLoadingStatus: (status) => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        setSelectedTarget: (target) => {\n            dispatch(setSelectedTarget(target));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        handleDesktopToggle: (open) => {\n            dispatch(drawerToggleAction(open));\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        },\n    };\n};\n\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nconst styles = (theme) => ({\n    container: {\n       /* [theme.breakpoints.down(\"xs\")]: {\n            display: \"none\",\n        },*/\n        height: \"49px\",\n        overflow: \"hidden\",\n        backgroundColor: theme.palette.background.paper,\n    },\n    navigatorContainer: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    nav: {\n        height: \"48px\",\n        padding: \"5px 15px\",\n        display: \"flex\",\n    },\n    optionContainer: {\n        paddingTop: \"6px\",\n        marginRight: \"10px\",\n    },\n    rightIcon: {\n        marginTop: \"6px\",\n        verticalAlign: \"top\",\n        color: \"#868686\",\n    },\n    expandMore: {\n        color: \"#8d8d8d\",\n    },\n    roundBorder: {\n        borderRadius: \"4px 4px 0 0\",\n    },\n});\n\nclass NavigatorComponent extends Component {\n    keywords = \"\";\n    currentID = 0;\n\n    state = {\n        hidden: false,\n        hiddenFolders: [],\n        folders: [],\n        anchorEl: null,\n        hiddenMode: false,\n        anchorHidden: null,\n    };\n\n    constructor(props) {\n        super(props);\n        this.element = React.createRef();\n    }\n\n    componentDidMount = () => {\n        //const url = new URL(fixUrlHash(window.location.href));\n        const reg = new RegExp(\"(^|&)\" + \"path\" + \"=([^&]*)(&|$)\",\"i\"); \n        const r = window.location.search.substr(1).match(reg); \n        const c = r!=null ? decodeURIComponent(r[2]) : null; \n        this.renderPath(c === null ? \"/\" : c);\n\n        if (!this.props.isShare) {\n            // 如果是在个人文件管理页，首次加载时打开侧边栏\n            this.props.handleDesktopToggle(true);\n        }\n\n        // 后退操作时重新导航\n        window.onpopstate = () => {\n            //const url = new URL(fixUrlHash(window.location.href));\n            const reg = new RegExp(\"(^|&)\" + \"path\" + \"=([^&]*)(&|$)\",\"i\"); \n            const r = window.location.search.substr(1).match(reg); \n            const c = r!=null ? decodeURIComponent(r[2]) : null; \n            if (c !== null) {\n                this.props.navigateToPath(c);\n            }\n        };\n    };\n\n    renderPath = (path = null) => {\n        this.props.setNavigatorError(false, null);\n        this.setState({\n            folders:\n                path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\"),\n        });\n        let newPath = path !== null ? path : this.props.path;\n        const apiURL = this.props.share\n            ? \"/share/list/\" + this.props.share.key\n            : this.keywords === \"\"\n            ? \"/directory\"\n            : \"/file/search/\";\n        newPath = this.keywords === \"\" ? newPath : this.keywords;\n\n        API.get(apiURL + encodeURIComponent(newPath))\n            .then((response) => {\n                this.currentID = response.data.parent;\n                this.props.updateFileList(response.data.objects);\n                this.props.setNavigatorLoadingStatus(false);\n                const pathTemp = (path !== null\n                    ? path.substr(1).split(\"/\")\n                    : this.props.path.substr(1).split(\"/\")\n                ).join(\",\");\n                setCookie(\"path_tmp\", encodeURIComponent(pathTemp), 1);\n                if (this.keywords === \"\") {\n                    setGetParameter(\"path\", encodeURIComponent(newPath));\n                }\n            })\n            .catch((error) => {\n                this.props.setNavigatorError(true, error);\n            });\n\n        this.checkOverFlow(true);\n    };\n\n    redresh = (path) => {\n        this.props.setNavigatorLoadingStatus(true);\n        this.props.setNavigatorError(false, \"error\");\n        this.renderPath(path);\n    };\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (this.props.keywords !== nextProps.keywords) {\n            this.keywords = nextProps.keywords;\n        }\n        if (this.props.path !== nextProps.path) {\n            this.renderPath(nextProps.path);\n        }\n        if (this.props.refresh !== nextProps.refresh) {\n            this.redresh(nextProps.path);\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.updateFileList([]);\n    }\n\n    componentDidUpdate = (prevProps, prevStates) => {\n        if (this.state.folders !== prevStates.folders) {\n            this.checkOverFlow(true);\n        }\n        if (this.props.drawerDesktopOpen !== prevProps.drawerDesktopOpen) {\n            delay(500).then(() => this.checkOverFlow());\n        }\n    };\n\n    checkOverFlow = (force) => {\n        if (this.overflowInitLock && !force) {\n            return;\n        }\n        if (this.element.current !== null) {\n            const hasOverflowingChildren =\n                this.element.current.offsetHeight <\n                    this.element.current.scrollHeight ||\n                this.element.current.offsetWidth <\n                    this.element.current.scrollWidth;\n            if (hasOverflowingChildren) {\n                this.overflowInitLock = true;\n                this.setState({ hiddenMode: true });\n            }\n            if (!hasOverflowingChildren && this.state.hiddenMode) {\n                this.setState({ hiddenMode: false });\n            }\n        }\n    };\n\n    navigateTo = (event, id) => {\n        if (id === this.state.folders.length - 1) {\n            //最后一个路径\n            this.setState({ anchorEl: event.currentTarget });\n        } else if (\n            id === -1 &&\n            this.state.folders.length === 1 &&\n            this.state.folders[0] === \"\"\n        ) {\n            this.props.refreshFileList();\n            this.handleClose();\n        } else if (id === -1) {\n            this.props.navigateToPath(\"/\");\n            this.handleClose();\n        } else {\n            this.props.navigateToPath(\n                \"/\" + this.state.folders.slice(0, id + 1).join(\"/\")\n            );\n            this.handleClose();\n        }\n    };\n\n    handleClose = () => {\n        this.setState({ anchorEl: null, anchorHidden: null, anchorSort: null });\n    };\n\n    showHiddenPath = (e) => {\n        this.setState({ anchorHidden: e.currentTarget });\n    };\n\n    performAction = (e) => {\n        this.handleClose();\n        if (e === \"refresh\") {\n            this.redresh();\n            return;\n        }\n        const presentPath = this.props.path.split(\"/\");\n        const newTarget = [\n            {\n                id: this.currentID,\n                type: \"dir\",\n                name: presentPath.pop(),\n                path: presentPath.length === 1 ? \"/\" : presentPath.join(\"/\"),\n            },\n        ];\n        //this.props.navitateUp();\n        switch (e) {\n            case \"share\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openShareDialog();\n                break;\n            case \"newfolder\":\n                this.props.openCreateFolderDialog();\n                break;\n            case \"compress\":\n                this.props.setSelectedTarget(newTarget);\n                this.props.openCompressDialog();\n                break;\n            case \"newFile\":\n                this.props.openCreateFileDialog();\n                break;\n            default:\n                break;\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const user = Auth.GetUser();\n\n        const presentFolderMenu = (\n            <Menu\n                id=\"presentFolderMenu\"\n                anchorEl={this.state.anchorEl}\n                open={Boolean(this.state.anchorEl)}\n                onClose={this.handleClose}\n                disableAutoFocusItem={true}\n            >\n                <MenuItem onClick={() => this.performAction(\"refresh\")}>\n                    <ListItemIcon>\n                        <RefreshIcon />\n                    </ListItemIcon>\n                    刷新\n                </MenuItem>\n                {this.props.keywords === \"\" && isHomePage && (\n                    <div>\n                        <Divider />\n                        <MenuItem onClick={() => this.performAction(\"share\")}>\n                            <ListItemIcon>\n                                <ShareIcon />\n                            </ListItemIcon>\n                            分享\n                        </MenuItem>\n                        {user.group.compress && (\n                            <MenuItem\n                                onClick={() => this.performAction(\"compress\")}\n                            >\n                                <ListItemIcon>\n                                    <Archive />\n                                </ListItemIcon>\n                                压缩\n                            </MenuItem>\n                        )}\n                        <Divider />\n                        <MenuItem\n                            onClick={() => this.performAction(\"newfolder\")}\n                        >\n                            <ListItemIcon>\n                                <NewFolderIcon />\n                            </ListItemIcon>\n                            创建文件夹\n                        </MenuItem>\n\n                        <MenuItem onClick={() => this.performAction(\"newFile\")}>\n                            <ListItemIcon>\n                                <FilePlus />\n                            </ListItemIcon>\n                            创建文件\n                        </MenuItem>\n                    </div>\n                )}\n            </Menu>\n        );\n\n        return (\n            <div\n                className={classNames(\n                    {\n                        [classes.roundBorder]: this.props.isShare,\n                    },\n                    classes.container\n                )}\n            >\n                <div className={classes.navigatorContainer}>\n                    <div className={classes.nav} ref={this.element}>\n                        <span>\n                            <PathButton\n                                folder=\"/\"\n                                path=\"/\"\n                                onClick={(e) => this.navigateTo(e, -1)}\n                            />\n                            <RightIcon className={classes.rightIcon} />\n                        </span>\n                        {this.state.hiddenMode && (\n                            <span>\n                                <PathButton\n                                    more\n                                    title=\"显示路径\"\n                                    onClick={this.showHiddenPath}\n                                />\n                                <Menu\n                                    id=\"hiddenPathMenu\"\n                                    anchorEl={this.state.anchorHidden}\n                                    open={Boolean(this.state.anchorHidden)}\n                                    onClose={this.handleClose}\n                                    disableAutoFocusItem={true}\n                                >\n                                    <DropDown\n                                        onClose={this.handleClose}\n                                        folders={this.state.folders.slice(\n                                            0,\n                                            -1\n                                        )}\n                                        navigateTo={this.navigateTo}\n                                    />\n                                </Menu>\n                                <RightIcon className={classes.rightIcon} />\n                                {/* <Button component=\"span\" onClick={(e)=>this.navigateTo(e,this.state.folders.length-1)}>\n                                    {this.state.folders.slice(-1)}  \n                                    <ExpandMore className={classes.expandMore}/>\n                                </Button> */}\n                                <PathButton\n                                    folder={this.state.folders.slice(-1)}\n                                    path={\n                                        \"/\" +\n                                        this.state.folders\n                                            .slice(0, -1)\n                                            .join(\"/\")\n                                    }\n                                    last={true}\n                                    onClick={(e) =>\n                                        this.navigateTo(\n                                            e,\n                                            this.state.folders.length - 1\n                                        )\n                                    }\n                                />\n                                {presentFolderMenu}\n                            </span>\n                        )}\n                        {!this.state.hiddenMode &&\n                            this.state.folders.map((folder, id, folders) => (\n                                <span key={id}>\n                                    {folder !== \"\" && (\n                                        <span>\n                                            <PathButton\n                                                folder={folder}\n                                                path={\n                                                    \"/\" +\n                                                    folders\n                                                        .slice(0, id)\n                                                        .join(\"/\")\n                                                }\n                                                last={id === folders.length - 1}\n                                                onClick={(e) =>\n                                                    this.navigateTo(e, id)\n                                                }\n                                            />\n                                            {id === folders.length - 1 &&\n                                                presentFolderMenu}\n                                            {id !== folders.length - 1 && (\n                                                <RightIcon\n                                                    className={\n                                                        classes.rightIcon\n                                                    }\n                                                />\n                                            )}\n                                        </span>\n                                    )}\n                                </span>\n                            ))}\n                    </div>\n                    <div className={classes.optionContainer}>\n                        <SubActions isSmall share={this.props.share} />\n                    </div>\n                </div>\n                <Divider />\n            </div>\n        );\n    }\n}\n\nNavigatorComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired,\n};\n\nconst Navigator = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(NavigatorComponent)));\n\nexport default Navigator;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport {\n    withStyles,\n    ButtonBase,\n    Typography,\n    Tooltip,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\nimport { Folder } from \"@material-ui/icons\";\n\nconst styles = (theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass SmallIconCompoment extends Component {\n    state = {};\n\n    render() {\n        const { classes } = this.props;\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <ButtonBase\n                focusRipple\n                className={classNames(\n                    {\n                        [classes.selected]: isSelected,\n                        [classes.notSelected]: !isSelected,\n                    },\n                    classes.button\n                )}\n            >\n                <div\n                    onClick={this.props.onIconClick}\n                    className={classNames(classes.icon, {\n                        [classes.iconSelected]: isSelected,\n                        [classes.iconNotSelected]: !isSelected,\n                    })}\n                >\n                    {(!isSelected || !isMobile) && (\n                        <>\n                            {this.props.isFolder && <Folder />}\n                            {!this.props.isFolder && (\n                                <TypeIcon fileName={this.props.file.name} />\n                            )}\n                        </>\n                    )}\n                    {isSelected && isMobile && (\n                        <Grow in={isSelected && isMobile}>\n                            <CheckCircleRoundedIcon\n                                className={classes.checkIcon}\n                            />\n                        </Grow>\n                    )}\n                </div>\n                <Tooltip\n                    title={this.props.file.name}\n                    aria-label={this.props.file.name}\n                >\n                    <Typography\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                        variant=\"body2\"\n                    >\n                        {this.props.file.name}\n                    </Typography>\n                </Tooltip>\n            </ButtonBase>\n        );\n    }\n}\n\nSmallIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst SmallIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(SmallIconCompoment));\n\nexport default SmallIcon;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport ContentLoader from \"react-content-loader\";\nimport { baseURL } from \"../../middleware/Api\";\nimport {\n    withStyles,\n    ButtonBase,\n    Typography,\n    Divider,\n    Tooltip,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport { withRouter } from \"react-router\";\nimport pathHelper from \"../../utils/page\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\n\nconst styles = (theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        alignItems: \"initial\",\n        display: \"initial\",\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    preview: {\n        overflow: \"hidden\",\n        height: \"150px\",\n        width: \"100%\",\n        borderRadius: \"6px 6px 0 0\",\n        backgroundColor: theme.palette.background.default,\n    },\n    previewIcon: {\n        overflow: \"hidden\",\n        height: \"149px\",\n        width: \"100%\",\n        borderRadius: \"5px 5px 0 0\",\n        backgroundColor: theme.palette.background.paper,\n        paddingTop: \"50px\",\n    },\n    iconBig: {\n        fontSize: 50,\n    },\n    picPreview: {\n        objectFit: \"cover\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    fileInfo: {\n        height: \"50px\",\n        display: \"flex\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    hide: {\n        display: \"none\",\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\",\n        height: \"100%\",\n        width: \"100%\",\n    },\n    shareFix: {\n        marginLeft: \"20px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass FileIconCompoment extends Component {\n    static defaultProps = {\n        share: false,\n    };\n\n    state = {\n        loading: false,\n        showPicIcon: false,\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isSharePage = pathHelper.isSharePage(\n            this.props.location.pathname\n        );\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <div className={classes.container}>\n                <ButtonBase\n                    focusRipple\n                    className={classNames(\n                        {\n                            [classes.selected]: isSelected,\n                            [classes.notSelected]: !isSelected,\n                        },\n                        classes.button\n                    )}\n                >\n                    {this.props.file.pic !== \"\" &&\n                        !this.state.showPicIcon &&\n                        this.props.file.pic !== \" \" &&\n                        this.props.file.pic !== \"null,null\" && (\n                            <div className={classes.preview}>\n                                <LazyLoadImage\n                                    className={classNames({\n                                        [classes.hide]: this.state.loading,\n                                        [classes.picPreview]: !this.state\n                                            .loading,\n                                    })}\n                                    src={\n                                        baseURL +\n                                        (isSharePage\n                                            ? \"/share/thumb/\" +\n                                              window.shareInfo.key +\n                                              \"/\" +\n                                              this.props.file.id +\n                                              \"?path=\" +\n                                              encodeURIComponent(\n                                                  this.props.file.path\n                                              )\n                                            : \"/file/thumb/\" +\n                                              this.props.file.id)\n                                    }\n                                    afterLoad={() =>\n                                        this.setState({ loading: false })\n                                    }\n                                    beforeLoad={() =>\n                                        this.setState({ loading: true })\n                                    }\n                                    onError={() =>\n                                        this.setState({ showPicIcon: true })\n                                    }\n                                />\n                                <ContentLoader\n                                    height={150}\n                                    width={170}\n                                    className={classNames(\n                                        {\n                                            [classes.hide]: !this.state.loading,\n                                        },\n                                        classes.loadingAnimation\n                                    )}\n                                >\n                                    <rect\n                                        x=\"0\"\n                                        y=\"0\"\n                                        width=\"100%\"\n                                        height=\"150\"\n                                    />\n                                </ContentLoader>\n                            </div>\n                        )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && (\n                        <div className={classes.previewIcon}>\n                            <TypeIcon\n                                className={classes.iconBig}\n                                fileName={this.props.file.name}\n                            />\n                        </div>\n                    )}\n                    {(this.props.file.pic === \"\" ||\n                        this.state.showPicIcon ||\n                        this.props.file.pic === \" \" ||\n                        this.props.file.pic === \"null,null\") && <Divider />}\n                    <div className={classes.fileInfo}>\n                        {!this.props.share && (\n                            <div\n                                onClick={this.props.onIconClick}\n                                className={classNames(classes.icon, {\n                                    [classes.iconSelected]: isSelected,\n                                    [classes.iconNotSelected]: !isSelected,\n                                })}\n                            >\n                                {(!isSelected || !isMobile) && (\n                                    <TypeIcon fileName={this.props.file.name} />\n                                )}\n                                {isSelected && isMobile && (\n                                    <Grow in={isSelected && isMobile}>\n                                        <CheckCircleRoundedIcon\n                                            className={classes.checkIcon}\n                                        />\n                                    </Grow>\n                                )}\n                            </div>\n                        )}\n                        <Tooltip\n                            title={this.props.file.name}\n                            aria-label={this.props.file.name}\n                        >\n                            <Typography\n                                variant=\"body2\"\n                                className={classNames(classes.folderName, {\n                                    [classes.folderNameSelected]: isSelected,\n                                    [classes.folderNameNotSelected]: !isSelected,\n                                    [classes.shareFix]: this.props.share,\n                                })}\n                            >\n                                {this.props.file.name}\n                            </Typography>\n                        </Tooltip>\n                    </div>\n                </ButtonBase>\n            </div>\n        );\n    }\n}\n\nFileIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst FileIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileIconCompoment)));\n\nexport default FileIcon;\n","import React from \"react\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport {\n    ButtonBase,\n    Typography,\n    Tooltip,\n    makeStyles,\n    fade,\n} from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport statusHelper from \"../../utils/page\";\nimport TypeIcon from \"./TypeIcon\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: fade(\n            theme.palette.primary.main,\n            theme.palette.type === \"dark\" ? 0.3 : 0.18\n        ),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        height: \"50px\",\n        border: \"1px solid \" + theme.palette.divider,\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition:\n            \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"initial\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"3px\",\n        color: theme.palette.text.secondary,\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    active: {\n        boxShadow: \"0 0 0 2px \" + theme.palette.primary.light,\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default function Folder({ folder, isActive, onIconClick }) {\n    const selected = useSelector((state) => state.explorer.selected);\n    const classes = useStyles();\n    const isMobile = statusHelper.isMobile();\n    const isSelected =\n        selected.findIndex((value) => {\n            return value === folder;\n        }) !== -1;\n\n    return (\n        <ButtonBase\n            focusRipple\n            className={classNames(\n                {\n                    [classes.selected]: isSelected,\n                    [classes.notSelected]: !isSelected,\n                    [classes.active]: isActive,\n                },\n                classes.button\n            )}\n        >\n            <div\n                onClick={onIconClick}\n                className={classNames(classes.icon, {\n                    [classes.iconSelected]: isSelected,\n                    [classes.iconNotSelected]: !isSelected,\n                })}\n            >\n                {(!isSelected || !isMobile) && <FolderIcon />}\n                {isSelected && isMobile && (\n                    <CheckCircleRoundedIcon className={classes.checkIcon} />\n                )}\n            </div>\n            <Tooltip title={folder.name} aria-label={folder.name}>\n                <Typography\n                    variant=\"body2\"\n                    className={classNames(classes.folderName, {\n                        [classes.folderNameSelected]: isSelected,\n                        [classes.folderNameNotSelected]: !isSelected,\n                    })}\n                >\n                    {folder.name}\n                </Typography>\n            </Tooltip>\n        </ButtonBase>\n    );\n}\n","import React from \"react\";\nimport SmallIcon from \"../SmallIcon\";\nimport FileIcon from \"../FileIcon\";\nimport { useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Folder from \"../Folder\";\n\nconst useStyles = makeStyles(() => ({\n    dragging: {\n        width: \"200px\",\n    },\n    cardDragged: {\n        position: \"absolute\",\n        \"transform-origin\": \"bottom left\",\n    },\n}));\n\nconst diliverIcon = (object, viewMethod, classes) => {\n    if (object.type === \"dir\") {\n        return (\n            <div className={classes.dragging}>\n                <SmallIcon file={object} isFolder />\n            </div>\n        );\n    }\n    if (object.type === \"file\" && viewMethod === \"icon\") {\n        return (\n            <div className={classes.dragging}>\n                <FileIcon file={object} />\n            </div>\n        );\n    }\n    if (\n        (object.type === \"file\" && viewMethod === \"smallIcon\") ||\n        viewMethod === \"list\"\n    ) {\n        return (\n            <div className={classes.dragging}>\n                <SmallIcon file={object} />\n            </div>\n        );\n    }\n};\n\nconst Preview = (props) => {\n    const selected = useSelector((state) => state.explorer.selected);\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const classes = useStyles();\n    return (\n        <>\n            {selected.length === 0 &&\n                diliverIcon(props.object, viewMethod, classes)}\n            {selected.length > 0 && (\n                <>\n                    {selected.slice(0, 3).map((card, i) => (\n                        <div\n                            key={card.id}\n                            className={classes.cardDragged}\n                            style={{\n                                zIndex: selected.length - i,\n                                transform: `rotateZ(${-i * 2.5}deg)`,\n                            }}\n                        >\n                            {diliverIcon(card, viewMethod, classes)}\n                        </div>\n                    ))}\n                </>\n            )}\n        </>\n    );\n};\nexport default Preview;\n","import React from \"react\";\nimport { useDragLayer } from \"react-dnd\";\nimport Preview from \"./Preview\";\nimport { useSelector } from \"react-redux\";\nconst layerStyles = {\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\",\n};\n\nfunction getItemStyles(\n    initialOffset,\n    currentOffset,\n    pointerOffset,\n    viewMethod\n) {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: \"none\",\n        };\n    }\n    let { x, y } = currentOffset;\n    if (viewMethod === \"list\") {\n        x += pointerOffset.x - initialOffset.x;\n        y += pointerOffset.y - initialOffset.y;\n    }\n\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        opacity: 0.5,\n        transform,\n        WebkitTransform: transform,\n    };\n}\nconst CustomDragLayer = (props) => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        pointerOffset,\n    } = useDragLayer((monitor) => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        pointerOffset: monitor.getInitialClientOffset(),\n        isDragging: monitor.isDragging(),\n    }));\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    function renderItem() {\n        switch (itemType) {\n            case \"object\":\n                return <Preview object={item.object} />;\n            default:\n                return null;\n        }\n    }\n    if (!isDragging) {\n        return null;\n    }\n    return (\n        <div style={layerStyles}>\n            <div\n                style={getItemStyles(\n                    initialOffset,\n                    currentOffset,\n                    pointerOffset,\n                    viewMethod\n                )}\n            >\n                {renderItem()}\n            </div>\n        </div>\n    );\n};\nexport default CustomDragLayer;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport classNames from \"classnames\";\nimport { sizeToString } from \"../../utils/index\";\nimport {\n    withStyles,\n    TableCell,\n    TableRow,\n    Typography,\n    fade,\n} from \"@material-ui/core\";\nimport TypeIcon from \"./TypeIcon\";\nimport { lighten } from \"@material-ui/core/styles\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\nimport KeyboardReturnIcon from \"@material-ui/icons/KeyboardReturn\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport statusHelper from \"../../utils/page\";\nimport Grow from \"@material-ui/core/Grow\";\nimport dayjs from \"dayjs\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    selected: {\n        \"&:hover\": {},\n        backgroundColor: fade(theme.palette.primary.main, 0.18),\n    },\n\n    selectedShared: {\n        \"&:hover\": {},\n        backgroundColor: fade(theme.palette.primary.main, 0.18),\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    icon: {\n        verticalAlign: \"middle\",\n        marginRight: \"20px\",\n        color: theme.palette.text.secondary,\n    },\n    tableIcon: {\n        marginRight: \"20px\",\n        verticalAlign: \"middle\",\n    },\n    folderNameSelected: {\n        color:\n            theme.palette.type === \"dark\" ? \"#fff\" : theme.palette.primary.dark,\n        fontWeight: \"500\",\n        userSelect: \"none\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.text.secondary,\n        userSelect: \"none\",\n    },\n    folderName: {\n        marginRight: \"20px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    tableRow: {\n        padding: \"10px 16px\",\n    },\n    checkIcon: {\n        color: theme.palette.primary.main,\n    },\n    active: {\n        backgroundColor: fade(theme.palette.primary.main, 0.1),\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = () => {\n    return {};\n};\n\nclass TableRowCompoment extends Component {\n    state = {};\n\n    render() {\n        const { classes } = this.props;\n        const isShare = pathHelper.isSharePage(this.props.location.pathname);\n\n        let icon;\n        if (this.props.file.type === \"dir\") {\n            icon = <FolderIcon className={classes.icon} />;\n        } else if (this.props.file.type === \"up\") {\n            icon = <KeyboardReturnIcon className={classes.icon} />;\n        } else {\n            icon = (\n                <TypeIcon\n                    className={classes.tableIcon}\n                    fileName={this.props.file.name}\n                />\n            );\n        }\n        const isSelected =\n            this.props.selected.findIndex((value) => {\n                return value === this.props.file;\n            }) !== -1;\n        const isMobile = statusHelper.isMobile();\n\n        return (\n            <TableRow\n                ref={this.props.pref}\n                onContextMenu={this.props.contextMenu}\n                onClick={this.props.handleClick}\n                onDoubleClick={this.props.handleDoubleClick.bind(this)}\n                className={classNames({\n                    [classes.selected]: isSelected && !isShare,\n                    [classes.selectedShared]: isSelected && isShare,\n                    [classes.notSelected]: !isSelected,\n                    [classes.active]: this.props.isActive,\n                })}\n            >\n                <TableCell\n                    ref={this.props.dref}\n                    component=\"th\"\n                    scope=\"row\"\n                    className={classes.tableRow}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        <div\n                            onClick={\n                                this.props.file.type !== \"up\"\n                                    ? this.props.onIconClick\n                                    : null\n                            }\n                        >\n                            {(!isSelected || !isMobile) && icon}\n                            {isSelected && isMobile && (\n                                <Grow in={isSelected && isMobile}>\n                                    <CheckCircleRoundedIcon\n                                        className={classNames(\n                                            classes.checkIcon,\n                                            classes.icon\n                                        )}\n                                    />\n                                </Grow>\n                            )}\n                        </div>\n                        {this.props.file.name}\n                    </Typography>\n                </TableCell>\n                <TableCell\n                    className={classNames(classes.hideAuto, classes.tableRow)}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        {\" \"}\n                        {this.props.file.type !== \"dir\" &&\n                            this.props.file.type !== \"up\" &&\n                            sizeToString(this.props.file.size)}\n                    </Typography>\n                </TableCell>\n                <TableCell\n                    className={classNames(classes.hideAuto, classes.tableRow)}\n                >\n                    <Typography\n                        variant=\"body2\"\n                        className={classNames(classes.folderName, {\n                            [classes.folderNameSelected]: isSelected,\n                            [classes.folderNameNotSelected]: !isSelected,\n                        })}\n                    >\n                        {\" \"}\n                        {formatLocalTime(\n                            this.props.file.date,\n                            \"YYYY-MM-DD H:mm:ss\"\n                        )}\n                    </Typography>\n                </TableCell>\n            </TableRow>\n        );\n    }\n}\n\nTableRowCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\nconst TableItem = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(TableRowCompoment)));\n\nexport default TableItem;\n","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport Folder from \"../Folder\";\nimport classNames from \"classnames\";\nimport TableItem from \"../TableRow\";\nexport default function FolderDropWarpper({\n    isListView,\n    folder,\n    onIconClick,\n    contextMenu,\n    handleClick,\n    handleDoubleClick,\n    className,\n    pref,\n}) {\n    const [{ canDrop, isOver }, drop] = useDrop({\n        accept: \"object\",\n        drop: () => ({ folder }),\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    });\n    const isActive = canDrop && isOver;\n    if (!isListView) {\n        return (\n            <div ref={drop}>\n                <Folder\n                    folder={folder}\n                    onIconClick={onIconClick}\n                    isActive={isActive}\n                />\n            </div>\n        );\n    }\n    return (\n        <TableItem\n            pref={pref}\n            dref={drop}\n            className={className}\n            onIconClick={onIconClick}\n            contextMenu={contextMenu}\n            handleClick={handleClick}\n            handleDoubleClick={handleDoubleClick}\n            file={folder}\n            isActive={isActive}\n        />\n    );\n}\n","import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setSelectedTarget,\n    selectFile as selectFileAction,\n    navigateTo,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    dragAndDrop,\n    openLoadingDialog,\n} from \"../../actions/index\";\nimport statusHelper from \"../../utils/page\";\nimport FileIcon from \"./FileIcon\";\nimport SmallIcon from \"./SmallIcon\";\nimport TableItem from \"./TableRow\";\nimport classNames from \"classnames\";\nimport { isPreviewable } from \"../../config\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport DropWarpper from \"./DnD/DropWarpper\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { pathBack } from \"../../utils\";\nimport { openPreview } from \"../../actions\";\n\nconst useStyles = makeStyles(() => ({\n    container: {\n        padding: \"7px\",\n    },\n    fixFlex: {\n        minWidth: 0,\n    },\n    dragging: {\n        opacity: 0.4,\n    },\n}));\n\nexport default function ObjectIcon(props) {\n    const path = useSelector((state) => state.navigator.path);\n    const selected = useSelector((state) => state.explorer.selected);\n    const viewMethod = useSelector(\n        (state) => state.viewUpdate.explorerViewMethod\n    );\n    const navigatorPath = useSelector((state) => state.navigator.path);\n    const location = useLocation();\n\n    const dispatch = useDispatch();\n    const ContextMenu = useCallback(\n        (type, open) => dispatch(changeContextMenu(type, open)),\n        [dispatch]\n    );\n    const SetSelectedTarget = useCallback(\n        (targets) => dispatch(setSelectedTarget(targets)),\n        [dispatch]\n    );\n\n    const NavitateTo = useCallback((targets) => dispatch(navigateTo(targets)), [\n        dispatch,\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const DragAndDrop = useCallback(\n        (source, target) => dispatch(dragAndDrop(source, target)),\n        [dispatch]\n    );\n    const OpenLoadingDialog = useCallback(\n        (text) => dispatch(openLoadingDialog(text)),\n        [dispatch]\n    );\n    const OpenPreview = useCallback(() => dispatch(openPreview()), [dispatch]);\n\n    const classes = useStyles();\n\n    const contextMenu = (e) => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        e.preventDefault();\n        if (\n            selected.findIndex((value) => {\n                return value === props.file;\n            }) === -1\n        ) {\n            SetSelectedTarget([props.file]);\n        }\n        ContextMenu(\"file\", true);\n    };\n\n    const selectFile = (e) => {\n        dispatch(selectFileAction(props.file, e, props.index));\n    };\n    const enterFolder = () => {\n        NavitateTo(\n            path === \"/\" ? path + props.file.name : path + \"/\" + props.file.name\n        );\n    };\n    const handleClick = (e) => {\n        if (props.file.type === \"up\") {\n            NavitateTo(pathBack(navigatorPath));\n        }\n        if (\n            statusHelper.isMobile() ||\n            statusHelper.isSharePage(location.pathname)\n        ) {\n            selectFile(e);\n            if (props.file.type === \"dir\" && !e.ctrlKey) {\n                enterFolder();\n                return;\n            }\n        } else {\n            selectFile(e);\n        }\n    };\n\n    const handleDoubleClick = () => {\n        if (props.file.type === \"up\") {\n            return;\n        }\n        if (props.file.type === \"dir\") {\n            enterFolder();\n            return;\n        }\n        const isShare = statusHelper.isSharePage(location.pathname);\n        if (isShare) {\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                ToggleSnackbar(\"top\", \"right\", \"请先登录\", \"warning\");\n                return;\n            }\n        }\n        if (window.shareInfo && !window.shareInfo.preview) {\n            OpenLoadingDialog(\"获取下载地址...\");\n            return;\n        }\n\n        OpenPreview();\n    };\n\n    const handleIconClick = (e) => {\n        if (statusHelper.isMobile()) {\n            e.stopPropagation();\n            e.ctrlKey = true;\n            selectFile(e);\n            return false;\n        }\n    };\n\n    const [{ isDragging }, drag, preview] = useDrag({\n        item: {\n            object: props.file,\n            type: \"object\",\n            selected: [...selected],\n            viewMethod: viewMethod,\n        },\n        end: (item, monitor) => {\n            const dropResult = monitor.getDropResult();\n            if (item && dropResult) {\n                if (dropResult.folder) {\n                    if (\n                        item.object.id !== dropResult.folder.id ||\n                        item.object.type !== dropResult.folder.type\n                    ) {\n                        DragAndDrop(item.object, dropResult.folder);\n                    }\n                }\n            }\n        },\n        canDrag: () => {\n            return (\n                !statusHelper.isMobile() &&\n                statusHelper.isHomePage(location.pathname)\n            );\n        },\n        collect: (monitor) => ({\n            isDragging: monitor.isDragging(),\n        }),\n    });\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line\n    }, []);\n\n    if (viewMethod === \"list\") {\n        return (\n            <>\n                {props.file.type === \"dir\" && (\n                    <DropWarpper\n                        isListView={true}\n                        pref={drag}\n                        className={classNames(classes.container, {\n                            [classes.dragging]: isDragging,\n                        })}\n                        onIconClick={handleIconClick}\n                        contextMenu={contextMenu}\n                        handleClick={handleClick}\n                        handleDoubleClick={handleDoubleClick.bind(this)}\n                        folder={props.file}\n                    />\n                )}\n                {props.file.type !== \"dir\" && (\n                    <TableItem\n                        pref={drag}\n                        className={classNames(classes.container, {\n                            [classes.dragging]: isDragging,\n                        })}\n                        onIconClick={handleIconClick}\n                        contextMenu={contextMenu}\n                        handleClick={handleClick}\n                        handleDoubleClick={handleDoubleClick.bind(this)}\n                        file={props.file}\n                    />\n                )}\n            </>\n        );\n    }\n\n    return (\n        <div\n            ref={drag}\n            className={classNames({\n                [classes.container]: viewMethod !== \"list\",\n                [classes.dragging]: isDragging,\n            })}\n        >\n            <div\n                className={classes.fixFlex}\n                onContextMenu={contextMenu}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick.bind(this)}\n            >\n                {props.file.type === \"dir\" && viewMethod !== \"list\" && (\n                    <DropWarpper\n                        isListView={false}\n                        onIconClick={handleIconClick}\n                        folder={props.file}\n                    />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"icon\" && (\n                    <FileIcon\n                        onIconClick={handleIconClick}\n                        ref={drag}\n                        file={props.file}\n                    />\n                )}\n                {props.file.type === \"file\" && viewMethod === \"smallIcon\" && (\n                    <SmallIcon\n                        onIconClick={handleIconClick}\n                        file={props.file}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    changeContextMenu,\n    setNavigatorLoadingStatus,\n    navigateTo,\n    openCreateFolderDialog,\n    openRenameDialog,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    showImgPreivew,\n    openMusicDialog,\n    toggleSnackbar,\n    openRemoteDownloadDialog,\n    openTorrentDownloadDialog,\n    openGetSourceDialog,\n    openCopyDialog,\n    openLoadingDialog,\n    setSelectedTarget,\n    openDecompressDialog,\n    refreshFileList,\n    openCompressDialog,\n    openCreateFileDialog,\n    openRelocateDialog,\n} from \"../../actions/index\";\nimport { isCompressFile, isPreviewable, isTorrent } from \"../../config\";\nimport { allowSharePreview } from \"../../utils/index\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport OpenFolderIcon from \"@material-ui/icons/FolderOpen\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport RenameIcon from \"@material-ui/icons/BorderColor\";\nimport MoveIcon from \"@material-ui/icons/Input\";\nimport LinkIcon from \"@material-ui/icons/InsertLink\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport { FilePlus, MagnetOn, Transfer } from \"mdi-material-ui\";\nimport {\n    withStyles,\n    Typography,\n    MenuItem,\n    Divider,\n    ListItemIcon,\n} from \"@material-ui/core\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router-dom\";\nimport Auth from \"../../middleware/Auth\";\nimport { Archive, InfoOutlined, Unarchive } from \"@material-ui/icons\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { FolderUpload } from \"mdi-material-ui\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { openPreview } from \"../../actions\";\nimport {\n    setSideBar,\n    toggleObjectInfoSidebar,\n} from \"../../redux/explorer/action\";\n\nconst styles = () => ({\n    propover: {},\n    divider: {\n        marginTop: 4,\n        marginBottom: 4,\n    },\n});\n\nconst StyledListItemIcon = withStyles({\n    root: {\n        minWidth: 38,\n    },\n})(ListItemIcon);\n\nconst mapStateToProps = (state) => {\n    return {\n        menuType: state.viewUpdate.contextType,\n        menuOpen: state.viewUpdate.contextOpen,\n        isMultiple: state.explorer.selectProps.isMultiple,\n        withFolder: state.explorer.selectProps.withFolder,\n        withFile: state.explorer.selectProps.withFile,\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        setNavigatorLoadingStatus: (status) => {\n            dispatch(setNavigatorLoadingStatus(status));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n        openCreateFolderDialog: () => {\n            dispatch(openCreateFolderDialog());\n        },\n        openCreateFileDialog: () => {\n            dispatch(openCreateFileDialog());\n        },\n        openRenameDialog: () => {\n            dispatch(openRenameDialog());\n        },\n        openMoveDialog: () => {\n            dispatch(openMoveDialog());\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        openShareDialog: () => {\n            dispatch(openShareDialog());\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openRemoteDownloadDialog: () => {\n            dispatch(openRemoteDownloadDialog());\n        },\n        openTorrentDownloadDialog: () => {\n            dispatch(openTorrentDownloadDialog());\n        },\n        openGetSourceDialog: () => {\n            dispatch(openGetSourceDialog());\n        },\n        openCopyDialog: () => {\n            dispatch(openCopyDialog());\n        },\n        openLoadingDialog: (text) => {\n            dispatch(openLoadingDialog(text));\n        },\n        openDecompressDialog: () => {\n            dispatch(openDecompressDialog());\n        },\n        openCompressDialog: () => {\n            dispatch(openCompressDialog());\n        },\n        refreshFileList: () => {\n            dispatch(refreshFileList());\n        },\n        openRelocateDialog: () => {\n            dispatch(openRelocateDialog());\n        },\n        openPreview: () => {\n            dispatch(openPreview());\n        },\n        toggleObjectInfoSidebar: (open) => {\n            dispatch(toggleObjectInfoSidebar(open));\n        },\n    };\n};\n\nclass ContextMenuCompoment extends Component {\n    X = 0;\n    Y = 0;\n\n    state = {};\n\n    componentDidMount = () => {\n        window.document.addEventListener(\"mousemove\", this.setPoint);\n    };\n\n    setPoint = (e) => {\n        this.Y = e.clientY;\n        this.X = e.clientX;\n    };\n\n    openArchiveDownload = () => {\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"打包中...\");\n    };\n\n    openDownload = () => {\n        if (!allowSharePreview()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"未登录用户无法预览\",\n                \"warning\"\n            );\n            this.props.changeContextMenu(\"file\", false);\n            return;\n        }\n        this.props.changeContextMenu(\"file\", false);\n        this.props.openLoadingDialog(\"获取下载地址...\");\n    };\n\n    enterFolder = () => {\n        this.props.navigateTo(\n            this.props.path === \"/\"\n                ? this.props.path + this.props.selected[0].name\n                : this.props.path + \"/\" + this.props.selected[0].name\n        );\n    };\n\n    clickUpload = (id) => {\n        this.props.changeContextMenu(\"empty\", false);\n        const uploadButton = document.getElementsByClassName(id)[0];\n        if (document.body.contains(uploadButton)) {\n            uploadButton.click();\n        } else {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"上传组件还未加载完成\",\n                \"warning\"\n            );\n        }\n    };\n\n    // 暂时只对空白处右键菜单使用这个函数，疑似有bug会导致的一个菜单被默认选中。\n    // 相关issue： https://github.com/mui-org/material-ui/issues/23747\n    renderMenuItems = (items) => {\n        const res = [];\n        let key = 0;\n\n        [\"top\", \"center\", \"bottom\"].forEach((position) => {\n            let visibleCount = 0;\n            items[position].forEach((item) => {\n                if (item.condition) {\n                    res.push(\n                        <MenuItem dense key={key} onClick={item.onClick}>\n                            <ListItemIcon>{item.icon}</ListItemIcon>\n                            <Typography variant=\"inherit\">\n                                {item.text}\n                            </Typography>\n                        </MenuItem>\n                    );\n                    key++;\n                    visibleCount++;\n                }\n            });\n            if (visibleCount > 0 && position != \"bottom\") {\n                res.push(\n                    <Divider key={key} className={this.props.classes.divider} />\n                );\n                key++;\n            }\n        });\n\n        return res;\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n        const emptyMenuList = {\n            top: [\n                {\n                    condition: true,\n                    onClick: () => {\n                        this.props.refreshFileList();\n                        this.props.changeContextMenu(\n                            this.props.menuType,\n                            false\n                        );\n                    },\n                    icon: <RefreshIcon />,\n                    text: \"刷新\",\n                },\n            ],\n            center: [\n                {\n                    condition: true,\n                    onClick: () => this.clickUpload(\"uploadFileForm\"),\n                    icon: <UploadIcon />,\n                    text: \"上传文件\",\n                },\n                {\n                    condition: true,\n                    onClick: () => this.clickUpload(\"uploadFolderForm\"),\n                    icon: <FolderUpload />,\n                    text: \"上传目录\",\n                },\n                {\n                    condition: user.group.allowRemoteDownload,\n                    onClick: () => this.props.openRemoteDownloadDialog(),\n                    icon: <DownloadIcon />,\n                    text: \"离线下载\",\n                },\n            ],\n            bottom: [\n                {\n                    condition: true,\n                    onClick: () => this.props.openCreateFolderDialog(),\n                    icon: <NewFolderIcon />,\n                    text: \"创建文件夹\",\n                },\n                {\n                    condition: true,\n                    onClick: () => this.props.openCreateFileDialog(),\n                    icon: <FilePlus />,\n                    text: \"创建文件\",\n                },\n            ],\n        };\n\n        return (\n            <div>\n                <Menu\n                    keepMounted\n                    open={this.props.menuOpen}\n                    onClose={() =>\n                        this.props.changeContextMenu(this.props.menuType, false)\n                    }\n                    anchorReference=\"anchorPosition\"\n                    anchorPosition={{ top: this.Y, left: this.X }}\n                    anchorOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                    }}\n                >\n                    {this.props.menuType === \"empty\" && (\n                        <div>\n                            <MenuItem\n                                dense\n                                onClick={() => {\n                                    this.props.refreshFileList();\n                                    this.props.changeContextMenu(\n                                        this.props.menuType,\n                                        false\n                                    );\n                                }}\n                            >\n                                <StyledListItemIcon>\n                                    <RefreshIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">刷新</Typography>\n                            </MenuItem>\n                            <Divider className={classes.divider} />\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.clickUpload(\"uploadFileForm\")\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <UploadIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传文件\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.clickUpload(\"uploadFolderForm\")\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <FolderUpload />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    上传目录\n                                </Typography>\n                            </MenuItem>\n                            {user.group.allowRemoteDownload && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openRemoteDownloadDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <DownloadIcon />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        离线下载\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            <Divider className={classes.divider} />\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.props.openCreateFolderDialog()\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <NewFolderIcon />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件夹\n                                </Typography>\n                            </MenuItem>\n                            <MenuItem\n                                dense\n                                onClick={() =>\n                                    this.props.openCreateFileDialog()\n                                }\n                            >\n                                <StyledListItemIcon>\n                                    <FilePlus />\n                                </StyledListItemIcon>\n                                <Typography variant=\"inherit\">\n                                    创建文件\n                                </Typography>\n                            </MenuItem>\n                        </div>\n                    )}\n                    {this.props.menuType !== \"empty\" && (\n                        <div>\n                            {!this.props.isMultiple && this.props.withFolder && (\n                                <div>\n                                    <MenuItem dense onClick={this.enterFolder}>\n                                        <StyledListItemIcon>\n                                            <OpenFolderIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            进入\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && (\n                                        <Divider className={classes.divider} />\n                                    )}\n                                </div>\n                            )}\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                (!this.props.share ||\n                                    this.props.share.preview) &&\n                                isPreviewable(this.props.selected[0].name) && (\n                                    <div>\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openPreview()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <OpenIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                打开\n                                            </Typography>\n                                        </MenuItem>\n                                    </div>\n                                )}\n\n                            {!this.props.isMultiple && this.props.withFile && (\n                                <div>\n                                    <MenuItem\n                                        dense\n                                        onClick={() => this.openDownload()}\n                                    >\n                                        <StyledListItemIcon>\n                                            <DownloadIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            下载\n                                        </Typography>\n                                    </MenuItem>\n                                    {isHomePage && (\n                                        <Divider className={classes.divider} />\n                                    )}\n                                </div>\n                            )}\n\n                            {(this.props.isMultiple || this.props.withFolder) &&\n                                (user.group.allowArchiveDownload ||\n                                    !isHomePage) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.openArchiveDownload()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <DownloadIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            打包下载\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                this.props.withFile &&\n                                isHomePage && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openGetSourceDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <LinkIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            获取外链\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.allowRemoteDownload &&\n                                this.props.withFile &&\n                                isTorrent(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openTorrentDownloadDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <MagnetOn />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            创建离线下载任务\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n                            {!this.props.isMultiple &&\n                                isHomePage &&\n                                user.group.compress &&\n                                this.props.withFile &&\n                                isCompressFile(this.props.selected[0].name) && (\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openDecompressDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <Unarchive />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            解压缩\n                                        </Typography>\n                                    </MenuItem>\n                                )}\n\n                            {isHomePage && user.group.compress && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openCompressDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <Archive />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建压缩文件\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {isHomePage && user.group.relocate && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.openRelocateDialog()\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <Transfer />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        转移存储策略\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <MenuItem\n                                    dense\n                                    onClick={() => this.props.openShareDialog()}\n                                >\n                                    <StyledListItemIcon>\n                                        <ShareIcon />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        创建分享链接\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <MenuItem\n                                    dense\n                                    onClick={() =>\n                                        this.props.toggleObjectInfoSidebar(true)\n                                    }\n                                >\n                                    <StyledListItemIcon>\n                                        <InfoOutlined />\n                                    </StyledListItemIcon>\n                                    <Typography variant=\"inherit\">\n                                        详细信息\n                                    </Typography>\n                                </MenuItem>\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <Divider className={classes.divider} />\n                            )}\n\n                            {!this.props.isMultiple && isHomePage && (\n                                <div>\n                                    <MenuItem\n                                        dense\n                                        onClick={() =>\n                                            this.props.openRenameDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <RenameIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            重命名\n                                        </Typography>\n                                    </MenuItem>\n                                    {this.props.keywords === \"\" && (\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openCopyDialog()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <FileCopyIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                复制\n                                            </Typography>\n                                        </MenuItem>\n                                    )}\n                                </div>\n                            )}\n                            {isHomePage && (\n                                <div>\n                                    {this.props.keywords === \"\" && (\n                                        <MenuItem\n                                            dense\n                                            onClick={() =>\n                                                this.props.openMoveDialog()\n                                            }\n                                        >\n                                            <StyledListItemIcon>\n                                                <MoveIcon />\n                                            </StyledListItemIcon>\n                                            <Typography variant=\"inherit\">\n                                                移动\n                                            </Typography>\n                                        </MenuItem>\n                                    )}\n\n                                    <Divider className={classes.divider} />\n                                    <MenuItem\n                                        dense\n                                        className={classes.propover}\n                                        onClick={() =>\n                                            this.props.openRemoveDialog()\n                                        }\n                                    >\n                                        <StyledListItemIcon>\n                                            <DeleteIcon />\n                                        </StyledListItemIcon>\n                                        <Typography variant=\"inherit\">\n                                            删除\n                                        </Typography>\n                                    </MenuItem>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </Menu>\n            </div>\n        );\n    }\n}\n\nContextMenuCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    menuType: PropTypes.string.isRequired,\n};\n\nconst ContextMenu = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ContextMenuCompoment)));\n\nexport default ContextMenu;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n    navigateTo,\n    changeContextMenu,\n    navigateUp,\n    setSelectedTarget,\n    openRemoveDialog,\n} from \"../../actions/index\";\nimport explorer from \"../../redux/explorer\";\nimport ObjectIcon from \"./ObjectIcon\";\nimport ContextMenu from \"./ContextMenu\";\nimport EmptyIcon from \"@material-ui/icons/Unarchive\";\nimport SadIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport classNames from \"classnames\";\nimport ImgPreivew from \"./ImgPreview\";\nimport pathHelper from \"../../utils/page\";\nimport { isMac } from \"../../utils\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    withStyles,\n    Typography,\n    Grid,\n    CircularProgress,\n    Paper,\n} from \"@material-ui/core\";\nimport { GlobalHotKeys, configure } from \"react-hotkeys\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\n\nconst styles = (theme) => ({\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: \"center\",\n        color: theme.palette.text.secondary,\n        margin: \"10px\",\n    },\n    root: {\n        flexGrow: 1,\n        padding: \"10px\",\n        overflowY: \"auto\",\n        height: \"calc(100vh - 113px)\",\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\",\n        },\n    },\n    rootTable: {\n        padding: \"0px\",\n        backgroundColor: theme.palette.background.paper.white,\n        [theme.breakpoints.up(\"sm\")]: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 113px)\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"100%\",\n        },\n    },\n    typeHeader: {\n        margin: \"10px 25px\",\n        color: \"#6b6b6b\",\n        fontWeight: \"500\",\n    },\n    loading: {\n        justifyContent: \"center\",\n        display: \"flex\",\n        marginTop: \"40px\",\n    },\n    errorBox: {\n        padding: theme.spacing(4),\n    },\n    errorMsg: {\n        marginTop: \"10px\",\n    },\n    emptyContainer: {\n        bottom: \"0\",\n        height: \"300px\",\n        margin: \"50px auto\",\n        width: \"300px\",\n        color: theme.palette.text.disabled,\n        textAlign: \"center\",\n        paddingTop: \"20px\",\n    },\n    emptyIcon: {\n        fontSize: \"160px\",\n    },\n    emptyInfoBig: {\n        fontSize: \"25px\",\n        color: theme.palette.text.disabled,\n    },\n    emptyInfoSmall: {\n        color: theme.palette.text.hint,\n    },\n    hideAuto: {\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    flexFix: {\n        minWidth: 0,\n    },\n    upButton: {\n        marginLeft: \"20px\",\n        marginTop: \"10px\",\n        marginBottom: \"10px\",\n    },\n    clickAway: {\n        height: \"100%\",\n        width: \"100%\",\n    },\n    rootShare: {\n        height: \"100%\",\n        minHeight: 500,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        path: state.navigator.path,\n        drawerDesktopOpen: state.viewUpdate.open,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n        sortMethod: state.viewUpdate.sortMethod,\n        fileList: state.explorer.fileList,\n        dirList: state.explorer.dirList,\n        loading: state.viewUpdate.navigatorLoading,\n        navigatorError: state.viewUpdate.navigatorError,\n        navigatorErrorMsg: state.viewUpdate.navigatorErrorMsg,\n        keywords: state.explorer.keywords,\n        selected: state.explorer.selected,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        navigateToPath: (path) => {\n            dispatch(navigateTo(path));\n        },\n\n        changeContextMenu: (type, open) => {\n            dispatch(changeContextMenu(type, open));\n        },\n        navigateUp: () => {\n            dispatch(navigateUp());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        openRemoveDialog: () => {\n            dispatch(openRemoveDialog());\n        },\n        changeSort: (method) => {\n            dispatch(explorer.actions.changeSortMethod(method));\n        },\n    };\n};\n\nclass ExplorerCompoment extends Component {\n    constructor() {\n        super();\n        this.keyMap = {\n            DELETE_FILE: \"del\",\n            SELECT_ALL: `${isMac() ? \"command\" : \"ctrl\"}+a`,\n        };\n\n        this.handlers = {\n            DELETE_FILE: () => {\n                if (this.props.selected.length > 0 && !this.props.share) {\n                    this.props.openRemoveDialog();\n                }\n            },\n            SELECT_ALL: (e) => {\n                e.preventDefault();\n                if (\n                    this.props.selected.length >=\n                    this.props.dirList.length + this.props.fileList.length\n                ) {\n                    this.props.setSelectedTarget([]);\n                } else {\n                    this.props.setSelectedTarget([\n                        ...this.props.dirList,\n                        ...this.props.fileList,\n                    ]);\n                }\n            },\n        };\n\n        configure({\n            ignoreTags: [\"input\", \"select\", \"textarea\"],\n        });\n    }\n\n    contextMenu = (e) => {\n        e.preventDefault();\n        if (\n            this.props.keywords === \"\" &&\n            !pathHelper.isSharePage(this.props.location.pathname)\n        ) {\n            if (!this.props.loading) {\n                this.props.changeContextMenu(\"empty\", true);\n            }\n        }\n    };\n\n    componentDidUpdate() {\n        this.away = 0;\n    }\n\n    ClickAway = (e) => {\n        const element = e.target;\n        if (element.dataset.clickaway) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const isHomePage = pathHelper.isHomePage(this.props.location.pathname);\n\n        const showView =\n            !this.props.loading &&\n            (this.props.dirList.length !== 0 ||\n                this.props.fileList.length !== 0);\n        const listView = (\n            <Table className={classes.table}>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"namePos\" ||\n                                    this.props.sortMethod === \"nameRev\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"namePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"namePos\"\n                                            ? \"nameRev\"\n                                            : \"namePos\"\n                                    );\n                                }}\n                            >\n                                名称\n                                {this.props.sortMethod === \"namePos\" ||\n                                this.props.sortMethod === \"nameRev\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"nameRev\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                        <TableCell className={classes.hideAuto}>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"sizePos\" ||\n                                    this.props.sortMethod === \"sizeRes\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"sizePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"sizePos\"\n                                            ? \"sizeRes\"\n                                            : \"sizePos\"\n                                    );\n                                }}\n                            >\n                                大小\n                                {this.props.sortMethod === \"sizePos\" ||\n                                this.props.sortMethod === \"sizeRes\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"sizeRes\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                        <TableCell className={classes.hideAuto}>\n                            <TableSortLabel\n                                active={\n                                    this.props.sortMethod === \"timePos\" ||\n                                    this.props.sortMethod === \"timeRev\"\n                                }\n                                direction={\n                                    this.props.sortMethod === \"timePos\"\n                                        ? \"asc\"\n                                        : \"des\"\n                                }\n                                onClick={() => {\n                                    this.props.changeSort(\n                                        this.props.sortMethod === \"timePos\"\n                                            ? \"timeRev\"\n                                            : \"timePos\"\n                                    );\n                                }}\n                            >\n                                日期\n                                {this.props.sortMethod === \"timePos\" ||\n                                this.props.sortMethod === \"timeRev\" ? (\n                                    <span className={classes.visuallyHidden}>\n                                        {this.props.sortMethod === \"sizeRes\"\n                                            ? \"sorted descending\"\n                                            : \"sorted ascending\"}\n                                    </span>\n                                ) : null}\n                            </TableSortLabel>\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {pathHelper.isMobile() && this.props.path !== \"/\" && (\n                        <ObjectIcon\n                            file={{\n                                type: \"up\",\n                                name: \"上级目录\",\n                            }}\n                        />\n                    )}\n                    {this.props.dirList.map((value, index) => (\n                        <ObjectIcon key={value.id} file={value} index={index} />\n                    ))}\n                    {this.props.fileList.map((value, index) => (\n                        <ObjectIcon key={value.id} file={value} index={index} />\n                    ))}\n                </TableBody>\n            </Table>\n        );\n\n        const normalView = (\n            <div className={classes.flexFix}>\n                {this.props.dirList.length !== 0 && (\n                    <>\n                        <Typography\n                            data-clickAway={\"true\"}\n                            variant=\"body2\"\n                            className={classes.typeHeader}\n                        >\n                            文件夹\n                        </Typography>\n                        <Grid\n                            data-clickAway={\"true\"}\n                            container\n                            spacing={0}\n                            alignItems=\"flex-start\"\n                        >\n                            {this.props.dirList.map((value, index) => (\n                                <Grid\n                                    key={value.id}\n                                    item\n                                    xs={6}\n                                    md={3}\n                                    sm={4}\n                                    lg={2}\n                                >\n                                    <ObjectIcon\n                                        key={value.id}\n                                        file={value}\n                                        index={index}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </>\n                )}\n                {this.props.fileList.length !== 0 && (\n                    <>\n                        <Typography\n                            data-clickAway={\"true\"}\n                            variant=\"body2\"\n                            className={classes.typeHeader}\n                        >\n                            文件\n                        </Typography>\n                        <Grid\n                            data-clickAway={\"true\"}\n                            container\n                            spacing={0}\n                            alignItems=\"flex-start\"\n                        >\n                            {this.props.fileList.map((value, index) => (\n                                <Grid\n                                    key={value.id}\n                                    item\n                                    xs={6}\n                                    md={3}\n                                    sm={4}\n                                    lg={2}\n                                >\n                                    <ObjectIcon\n                                        key={value.id}\n                                        index={index}\n                                        file={value}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </>\n                )}\n            </div>\n        );\n        const view = this.props.viewMethod === \"list\" ? listView : normalView;\n        return (\n            <div\n                onContextMenu={this.contextMenu}\n                onClick={this.ClickAway}\n                className={classNames(\n                    {\n                        [classes.root]: this.props.viewMethod !== \"list\",\n                        [classes.rootTable]: this.props.viewMethod === \"list\",\n                        [classes.rootShare]: this.props.share,\n                    },\n                    classes.button\n                )}\n            >\n                <GlobalHotKeys handlers={this.handlers} keyMap={this.keyMap} />\n                <ContextMenu share={this.props.share} />\n                <ImgPreivew />\n                {this.props.navigatorError && (\n                    <Paper elevation={1} className={classes.errorBox}>\n                        <Typography variant=\"h5\" component=\"h3\">\n                            :( 请求时出现错误\n                        </Typography>\n                        <Typography\n                            color={\"textSecondary\"}\n                            className={classes.errorMsg}\n                        >\n                            {this.props.navigatorErrorMsg.message}\n                        </Typography>\n                    </Paper>\n                )}\n\n                {this.props.loading && !this.props.navigatorError && (\n                    <div className={classes.loading}>\n                        <CircularProgress />\n                    </div>\n                )}\n\n                {this.props.keywords === \"\" &&\n                    isHomePage &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError && (\n                        <div className={classes.emptyContainer}>\n                            <EmptyIcon className={classes.emptyIcon} />\n                            <div className={classes.emptyInfoBig}>\n                                拖拽文件至此\n                            </div>\n                            <div className={classes.emptyInfoSmall}>\n                                或点击右下方“上传文件”按钮添加文件\n                            </div>\n                        </div>\n                    )}\n                {((this.props.keywords !== \"\" &&\n                    this.props.dirList.length === 0 &&\n                    this.props.fileList.length === 0 &&\n                    !this.props.loading &&\n                    !this.props.navigatorError) ||\n                    (this.props.dirList.length === 0 &&\n                        this.props.fileList.length === 0 &&\n                        !this.props.loading &&\n                        !this.props.navigatorError &&\n                        !isHomePage)) && (\n                    <div className={classes.emptyContainer}>\n                        <SadIcon className={classes.emptyIcon} />\n                        <div className={classes.emptyInfoBig}>\n                            什么都没有找到\n                        </div>\n                    </div>\n                )}\n                {showView && view}\n            </div>\n        );\n    }\n}\n\nExplorerCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    path: PropTypes.string.isRequired,\n};\n\nconst Explorer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ExplorerCompoment)));\n\nexport default Explorer;\n","import React from \"react\";\nimport { BulletList } from \"react-content-loader\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    loader: {\n        width: \"100%\",\n        // padding: 40,\n        // [theme.breakpoints.down(\"md\")]: {\n        //     width: \"100%\",\n        //     padding: 10\n        // }\n    },\n}));\n\nconst MyLoader = (props) => (\n    <BulletList\n        backgroundColor={props.dark ? \"#333\" : \"#f5f6f7\"}\n        foregroundColor={props.dark ? \"#636363\" : \"#eee\"}\n        className={props.className}\n    />\n);\n\nfunction ListLoading() {\n    const theme = useTheme();\n    const classes = useStyles();\n\n    return (\n        <div>\n            <MyLoader\n                dark={theme.palette.type === \"dark\"}\n                className={classes.loader}\n            />\n        </div>\n    );\n}\n\nexport default ListLoading;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { Clear, Folder } from \"@material-ui/icons\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { setSideBar } from \"../../../redux/explorer/action\";\nimport TypeIcon from \"../TypeIcon\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport API from \"../../../middleware/Api\";\nimport { navigateTo, toggleSnackbar } from \"../../../actions\";\nimport { filename, sizeToString } from \"../../../utils\";\nimport Link from \"@material-ui/core/Link\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport TimeAgo from \"timeago-react\";\nimport ListLoading from \"../../Placeholder/ListLoading\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { formatLocalTime } from \"../../../utils/datetime\";\n\nconst drawerWidth = 350;\n\nconst useStyles = makeStyles((theme) => ({\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n        boxShadow:\n            \"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)\",\n    },\n    drawerContainer: {\n        overflow: \"auto\",\n    },\n    header: {\n        display: \"flex\",\n        padding: theme.spacing(3),\n        placeContent: \"space-between\",\n    },\n    fileIcon: { width: 33, height: 33 },\n    fileIconSVG: { fontSize: 20 },\n    folderIcon: {\n        color: theme.palette.text.secondary,\n        width: 33,\n        height: 33,\n    },\n    fileName: {\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        wordBreak: \"break-all\",\n        flexGrow: 2,\n    },\n    closeIcon: {\n        placeSelf: \"flex-start\",\n        marginTop: 2,\n    },\n    propsContainer: {\n        padding: theme.spacing(3),\n    },\n    propsLabel: {\n        color: theme.palette.text.secondary,\n        padding: theme.spacing(1),\n    },\n    propsTime: {\n        color: theme.palette.text.disabled,\n        padding: theme.spacing(1),\n    },\n    propsValue: {\n        padding: theme.spacing(1),\n        wordBreak: \"break-all\",\n    },\n    appBar: {\n        position: \"relative\",\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SideDrawer() {\n    const dispatch = useDispatch();\n    const sideBarOpen = useSelector((state) => state.explorer.sideBarOpen);\n    const selected = useSelector((state) => state.explorer.selected);\n    const SetSideBar = useCallback((open) => dispatch(setSideBar(open)), [\n        dispatch,\n    ]);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const NavigateTo = useCallback((k) => dispatch(navigateTo(k)), [dispatch]);\n    const keywords = useSelector((state) => state.explorer.keywords);\n    const [target, setTarget] = useState(null);\n    const [details, setDetails] = useState(null);\n    const loadProps = (object) => {\n        API.get(\n            \"/object/property/\" +\n                object.id +\n                \"?trace_root=\" +\n                (keywords !== \"\" ? \"true\" : \"false\") +\n                \"&is_folder=\" +\n                (object.type === \"dir\").toString()\n        )\n            .then((response) => {\n                setDetails(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        setDetails(null);\n        if (sideBarOpen) {\n            if (selected.length !== 1) {\n                SetSideBar(false);\n            } else {\n                setTarget(selected[0]);\n                loadProps(selected[0]);\n            }\n        }\n    }, [selected, sideBarOpen]);\n\n    const classes = useStyles();\n    const propsItem = [\n        {\n            label: \"大小\",\n            value: (d, t) =>\n                sizeToString(d.size) +\n                \"  (\" +\n                d.size.toLocaleString() +\n                \" 字节)\",\n            show: (d) => true,\n        },\n        {\n            label: \"存储策略\",\n            value: (d, t) => d.policy,\n            show: (d) => d.type === \"file\",\n        },\n        {\n            label: \"包含目录\",\n            value: (d, t) => d.child_folder_num.toLocaleString() + \" \" + \"个\",\n            show: (d) => d.type === \"dir\",\n        },\n        {\n            label: \"包含文件\",\n            value: (d, t) => d.child_file_num.toLocaleString() + \" \" + \"个\",\n            show: (d) => d.type === \"dir\",\n        },\n        {\n            label: \"所在目录\",\n            // eslint-disable-next-line react/display-name\n            value: (d, t) => {\n                const path = d.path === \"\" ? t.path : d.path;\n                const name = filename(path);\n                return (\n                    <Tooltip title={path}>\n                        <Link\n                            href={\"javascript:void\"}\n                            onClick={() => NavigateTo(path)}\n                        >\n                            {name === \"\" ? \"根目录\" : name}\n                        </Link>\n                    </Tooltip>\n                );\n            },\n            show: (d) => true,\n        },\n        {\n            label: \"修改于\",\n            value: (d, t) =>\n                formatLocalTime(d.updated_at, \"YYYY/MM/DD  H:mm:ss\"),\n            show: (d) => true,\n        },\n        {\n            label: \"创建于\",\n            value: (d) => formatLocalTime(d.created_at, \"YYYY/MM/DD  H:mm:ss\"),\n            show: (d) => true,\n        },\n    ];\n    const content = (\n        <Grid container className={classes.propsContainer}>\n            {!details && <ListLoading />}\n            {details && (\n                <>\n                    {propsItem.map((item) => {\n                        if (item.show(target)) {\n                            return (\n                                <>\n                                    <Grid\n                                        item\n                                        xs={5}\n                                        className={classes.propsLabel}\n                                    >\n                                        {item.label}\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        xs={7}\n                                        className={classes.propsValue}\n                                    >\n                                        {item.value(details, target)}\n                                    </Grid>\n                                </>\n                            );\n                        }\n                    })}\n                    {target.type === \"dir\" && (\n                        <Grid item xs={12} className={classes.propsTime}>\n                            统计于{\" \"}\n                            <TimeAgo\n                                datetime={details.query_date}\n                                locale=\"zh_CN\"\n                            />\n                        </Grid>\n                    )}\n                </>\n            )}\n        </Grid>\n    );\n    return (\n        <>\n            <Hidden smUp>\n                <Dialog\n                    fullScreen\n                    open={sideBarOpen}\n                    TransitionComponent={Transition}\n                >\n                    {target && (\n                        <>\n                            <AppBar className={classes.appBar}>\n                                <Toolbar>\n                                    <IconButton\n                                        edge=\"start\"\n                                        color=\"inherit\"\n                                        onClick={() => SetSideBar(false)}\n                                        aria-label=\"close\"\n                                    >\n                                        <Clear />\n                                    </IconButton>\n                                    <Typography\n                                        variant=\"h6\"\n                                        className={classes.title}\n                                    >\n                                        {target.name}\n                                    </Typography>\n                                </Toolbar>\n                            </AppBar>\n                            {content}\n                        </>\n                    )}\n                </Dialog>\n            </Hidden>\n            <Hidden xsDown>\n                <Drawer\n                    className={classes.drawer}\n                    variant=\"persistent\"\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                    open={sideBarOpen}\n                    anchor=\"right\"\n                >\n                    <Toolbar />\n                    <div className={classes.drawerContainer}>\n                        {target && (\n                            <>\n                                <div className={classes.header}>\n                                    {target.type === \"dir\" && (\n                                        <Folder\n                                            className={classes.folderIcon}\n                                        />\n                                    )}\n                                    {target.type !== \"dir\" && (\n                                        <TypeIcon\n                                            isUpload\n                                            className={classes.fileIcon}\n                                            iconClassName={classes.fileIconSVG}\n                                            fileName={target.name}\n                                        />\n                                    )}\n                                    <div className={classes.fileName}>\n                                        <Typography variant=\"h6\" gutterBottom>\n                                            {target.name}\n                                        </Typography>\n                                    </div>\n                                    <IconButton\n                                        onClick={() => SetSideBar(false)}\n                                        className={classes.closeIcon}\n                                        aria-label=\"close\"\n                                        size={\"small\"}\n                                    >\n                                        <Clear />\n                                    </IconButton>\n                                </div>\n                            </>\n                        )}\n                        <Divider />\n                        {content}\n                    </div>\n                </Drawer>\n            </Hidden>\n        </>\n    );\n}\n","import React, { Component } from \"react\";\n\nimport Navigator from \"./Navigator/Navigator\";\nimport { DndProvider } from \"react-dnd\";\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport DragLayer from \"./DnD/DragLayer\";\nimport Explorer from \"./Explorer\";\nimport Modals from \"./Modals\";\nimport { withStyles } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport {\n    closeAllModals,\n    navigateTo,\n    setSelectedTarget,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport { withRouter } from \"react-router-dom\";\nimport pathHelper from \"../../utils/page\";\nimport SideDrawer from \"./Sidebar/SideDrawer\";\nimport { ImageLoader } from \"@abslant/cd-image-loader\";\n\nconst styles = () => ({});\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeSubTitle: (text) => {\n            dispatch(changeSubTitle(text));\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        closeAllModals: () => {\n            dispatch(closeAllModals());\n        },\n        navigateTo: (path) => {\n            dispatch(navigateTo(path));\n        },\n    };\n};\n\nclass FileManager extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n        this.props.closeAllModals();\n        this.props.navigateTo(\"/\");\n    }\n\n    componentDidMount() {\n        if (pathHelper.isHomePage(this.props.location.pathname)) {\n            this.props.changeSubTitle(null);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <DndProvider backend={HTML5Backend}>\n                    <Modals share={this.props.share} />\n                    <Navigator\n                        isShare={this.props.isShare}\n                        share={this.props.share}\n                    />\n                    <Explorer share={this.props.share} />\n                    <DragLayer />\n                    <ImageLoader />\n                </DndProvider>\n                <SideDrawer />\n            </div>\n        );\n    }\n}\n\nFileManager.propTypes = {};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(FileManager)));\n","import React, { useCallback, useEffect } from \"react\";\nimport AdSense from 'react-adsense';\nimport DPlayer from \"react-dplayer\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport { getBaseURL } from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 50,\n    },\n    player: {\n        borderRadius: \"4px\",\n        maxHeight: 600,\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function VideoViewer() {\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.root} elevation={1}>\n                <DPlayer\n                    className={classes.player}\n                    options={{\n                        video: {\n                            url:\n                                getBaseURL() +\n                                (pathHelper.isSharePage(location.pathname)\n                                    ? \"/share/preview/\" +\n                                      id +\n                                      (query.get(\"share_path\") !== \"\"\n                                          ? \"?path=\" +\n                                            encodeURIComponent(\n                                                query.get(\"share_path\")\n                                            )\n                                          : \"\")\n                                    : \"/file/preview/\" + query.get(\"id\")),\n                        },\n                    }}\n                />\n            </Paper>\n            <div className={classes.ads}>\n                <AdSense.Google\n                    style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                    client='ca-pub-7329474538416487'\n                    slot='8294203043'\n                    format=''\n                />\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\n\nimport {\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    Typography,\n    Grid,\n    IconButton,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\n\nconst useStyles = makeStyles((theme) => ({\n    cardContainer: {\n        padding: theme.spacing(1),\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\",\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17,\n    },\n    orderSelect: {\n        textAlign: \"right\",\n        marginTop: 5,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function SearchResult() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n\n    const [page, setPage] = useState(1);\n    const [total, setTotal] = useState(0);\n    const [shareList, setShareList] = useState([]);\n    const [orderBy, setOrderBy] = useState(\"created_at DESC\");\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const search = (keywords, page, orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\n            \"/share/search?page=\" +\n                page +\n                \"&order_by=\" +\n                order[0] +\n                \"&order=\" +\n                order[1] +\n                \"&keywords=\" +\n                encodeURIComponent(keywords)\n        )\n            .then((response) => {\n                if (response.data.items.length === 0) {\n                    ToggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"找不到符合条件的分享\",\n                        \"info\"\n                    );\n                }\n                setTotal(response.data.total);\n                setShareList(response.data.items);\n            })\n            .catch(() => {\n                ToggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    useEffect(() => {\n        const keywords = query.get(\"keywords\");\n        if (keywords) {\n            search(keywords, page, orderBy);\n        } else {\n            ToggleSnackbar(\"top\", \"right\", \"请输入搜索关键词\", \"warning\");\n        }\n    }, [location]);\n\n    const handlePageChange = (event, value) => {\n        setPage(value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, value, orderBy);\n    };\n\n    const handleOrderChange = (event) => {\n        setOrderBy(event.target.value);\n        const keywords = query.get(\"keywords\");\n        search(keywords, page, event.target.value);\n    };\n\n    return (\n        <div className={classes.layout}>\n            <Grid container>\n                <Grid sm={6} xs={6}>\n                    <Typography color=\"textSecondary\" variant=\"h4\">\n                        搜索结果\n                    </Typography>\n                </Grid>\n                <Grid sm={6} xs={6} className={classes.orderSelect}>\n                    <FormControl>\n                        <Select\n                            color={\"secondary\"}\n                            onChange={handleOrderChange}\n                            value={orderBy}\n                        >\n                            <MenuItem value={\"created_at DESC\"}>\n                                创建日期由晚到早\n                            </MenuItem>\n                            <MenuItem value={\"created_at ASC\"}>\n                                创建日期由早到晚\n                            </MenuItem>\n                            <MenuItem value={\"downloads DESC\"}>\n                                下载次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"downloads ASC\"}>\n                                下载次数由小到大\n                            </MenuItem>\n                            <MenuItem value={\"views DESC\"}>\n                                浏览次数由大到小\n                            </MenuItem>\n                            <MenuItem value={\"views ASC\"}>\n                                浏览次数由小到大\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n            </Grid>\n            <Grid container spacing={24} className={classes.gird}>\n                {shareList.map((value) => (\n                    <Grid\n                        item\n                        xs={12}\n                        sm={4}\n                        key={value.id}\n                        className={classes.cardContainer}\n                    >\n                        <Card className={classes.card}>\n                            <CardHeader\n                                avatar={\n                                    <div>\n                                        {!value.is_dir && (\n                                            <TypeIcon\n                                                fileName={\n                                                    value.source\n                                                        ? value.source.name\n                                                        : \"\"\n                                                }\n                                                isUpload\n                                            />\n                                        )}{\" \"}\n                                        {value.is_dir && (\n                                            <Avatar\n                                                className={classes.avatarFolder}\n                                            >\n                                                <FolderIcon />\n                                            </Avatar>\n                                        )}\n                                    </div>\n                                }\n                                action={\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                history.push(\"/s/\" + value.key)\n                                            }\n                                        >\n                                            <OpenIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                }\n                                title={\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"\n                                        }\n                                    >\n                                        <Typography\n                                            noWrap\n                                            className={classes.shareTitle}\n                                        >\n                                            {value.source\n                                                ? value.source.name\n                                                : \"[原始对象不存在]\"}{\" \"}\n                                        </Typography>\n                                    </Tooltip>\n                                }\n                                subheader={\n                                    <span>\n                                        分享于{\" \"}\n                                        <TimeAgo\n                                            datetime={value.create_date}\n                                            locale=\"zh_CN\"\n                                        />\n                                    </span>\n                                }\n                            />\n                        </Card>\n                    </Grid>\n                ))}\n            </Grid>\n            <div className={classes.loadMore}>\n                <Pagination\n                    count={Math.ceil(total / 18)}\n                    onChange={handlePageChange}\n                    color=\"secondary\"\n                />\n            </div>{\" \"}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport OpenIcon from \"@material-ui/icons/OpenInNew\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport UnlockIcon from \"@material-ui/icons/LockOpen\";\nimport EyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport {\n    withStyles,\n    Tooltip,\n    Card,\n    Avatar,\n    CardHeader,\n    CardActions,\n    Typography,\n    Grid,\n    IconButton,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Button,\n    TextField,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { VisibilityOff, VpnKey } from \"@material-ui/icons\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { withRouter } from \"react-router-dom\";\nimport ToggleIcon from \"material-ui-toggle-icon\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    cardContainer: {\n        padding: theme.spacing(1),\n    },\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    loadMore: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n        marginBottom: \"40px\",\n    },\n    badge: {\n        marginLeft: theme.spacing(1),\n        height: 17,\n    },\n    orderSelect: {\n        textAlign: \"right\",\n        marginTop: 5,\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass MyShareCompoment extends Component {\n    state = {\n        page: 1,\n        total: 0,\n        shareList: [],\n        showPwd: null,\n        orderBy: \"created_at DESC\",\n    };\n\n    componentDidMount = () => {\n        this.loadList(1, this.state.orderBy);\n    };\n\n    showPwd = (pwd) => {\n        this.setState({ showPwd: pwd });\n    };\n\n    handleClose = () => {\n        this.setState({ showPwd: null });\n    };\n\n    removeShare = (id) => {\n        API.delete(\"/share/\" + id)\n            .then(() => {\n                let oldList = this.state.shareList;\n                oldList = oldList.filter((value) => {\n                    return value.key !== id;\n                });\n                this.setState({\n                    shareList: oldList,\n                    total: this.state.total - 1,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"分享已取消\",\n                    \"success\"\n                );\n                if (oldList.length === 0) {\n                    this.loadList(1, this.state.orderBy);\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changePermission = (id) => {\n        const newPwd = Math.random().toString(36).substr(2).slice(2, 8);\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex((value) => {\n            return value.key === id;\n        });\n        API.patch(\"/share/\" + id, {\n            prop: \"password\",\n            value: oldList[shareIndex].password === \"\" ? newPwd : \"\",\n        })\n            .then((response) => {\n                oldList[shareIndex].password = response.data;\n                this.setState({\n                    shareList: oldList,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changePreviewOption = (id) => {\n        const oldList = this.state.shareList;\n        const shareIndex = oldList.findIndex((value) => {\n            return value.key === id;\n        });\n        API.patch(\"/share/\" + id, {\n            prop: \"preview_enabled\",\n            value: oldList[shareIndex].preview ? \"false\" : \"true\",\n        })\n            .then((response) => {\n                oldList[shareIndex].preview = response.data;\n                this.setState({\n                    shareList: oldList,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadList = (page, orderBy) => {\n        const order = orderBy.split(\" \");\n        API.get(\n            \"/share?page=\" +\n                page +\n                \"&order_by=\" +\n                order[0] +\n                \"&order=\" +\n                order[1]\n        )\n            .then((response) => {\n                if (response.data.items.length === 0) {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"没有更多了\",\n                        \"info\"\n                    );\n                }\n                this.setState({\n                    total: response.data.total,\n                    shareList: response.data.items,\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n            });\n    };\n\n    handlePageChange = (event, value) => {\n        this.setState({\n            page: value,\n        });\n        this.loadList(value, this.state.orderBy);\n    };\n\n    handleOrderChange = (event) => {\n        this.setState({\n            orderBy: event.target.value,\n        });\n        this.loadList(this.state.page, event.target.value);\n    };\n\n    isExpired = (share) => {\n        return share.expire < -1 || share.remain_downloads === 0;\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Grid container>\n                    <Grid sm={6} xs={6}>\n                        <Typography color=\"textSecondary\" variant=\"h4\">\n                            我的分享\n                        </Typography>\n                    </Grid>\n                    <Grid sm={6} xs={6} className={classes.orderSelect}>\n                        <FormControl>\n                            <Select\n                                color={\"secondary\"}\n                                onChange={this.handleOrderChange}\n                                value={this.state.orderBy}\n                            >\n                                <MenuItem value={\"created_at DESC\"}>\n                                    创建日期由晚到早\n                                </MenuItem>\n                                <MenuItem value={\"created_at ASC\"}>\n                                    创建日期由早到晚\n                                </MenuItem>\n                                <MenuItem value={\"downloads DESC\"}>\n                                    下载次数由大到小\n                                </MenuItem>\n                                <MenuItem value={\"downloads ASC\"}>\n                                    下载次数由小到大\n                                </MenuItem>\n                                <MenuItem value={\"views DESC\"}>\n                                    浏览次数由大到小\n                                </MenuItem>\n                                <MenuItem value={\"views ASC\"}>\n                                    浏览次数由小到大\n                                </MenuItem>\n                            </Select>\n                        </FormControl>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={24} className={classes.gird}>\n                    {this.state.shareList.map((value) => (\n                        <Grid\n                            item\n                            xs={12}\n                            sm={4}\n                            key={value.id}\n                            className={classes.cardContainer}\n                        >\n                            <Card className={classes.card}>\n                                <CardHeader\n                                    avatar={\n                                        <div>\n                                            {!value.is_dir && (\n                                                <TypeIcon\n                                                    fileName={\n                                                        value.source\n                                                            ? value.source.name\n                                                            : \"\"\n                                                    }\n                                                    isUpload\n                                                />\n                                            )}{\" \"}\n                                            {value.is_dir && (\n                                                <Avatar\n                                                    className={\n                                                        classes.avatarFolder\n                                                    }\n                                                >\n                                                    <FolderIcon />\n                                                </Avatar>\n                                            )}\n                                        </div>\n                                    }\n                                    title={\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title={\n                                                value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"\n                                            }\n                                        >\n                                            <Typography\n                                                noWrap\n                                                className={classes.shareTitle}\n                                            >\n                                                {value.source\n                                                    ? value.source.name\n                                                    : \"[原始对象不存在]\"}{\" \"}\n                                            </Typography>\n                                        </Tooltip>\n                                    }\n                                    subheader={\n                                        <span>\n                                            {formatLocalTime(\n                                                value.create_date,\n                                                \"YYYY-MM-DD H:mm:ss\"\n                                            )}\n                                            {this.isExpired(value) && (\n                                                <Chip\n                                                    size=\"small\"\n                                                    className={classes.badge}\n                                                    label=\"已失效\"\n                                                />\n                                            )}\n                                        </span>\n                                    }\n                                />\n                                <Divider />\n                                <CardActions\n                                    disableActionSpacing\n                                    style={{\n                                        display: \"block\",\n                                        textAlign: \"right\",\n                                    }}\n                                >\n                                    <Tooltip placement=\"top\" title=\"打开\">\n                                        <IconButton\n                                            onClick={() =>\n                                                this.props.history.push(\n                                                    \"/s/\" +\n                                                        value.key +\n                                                        (value.password === \"\"\n                                                            ? \"\"\n                                                            : \"?password=\" +\n                                                              value.password)\n                                                )\n                                            }\n                                        >\n                                            <OpenIcon fontSize={\"small\"} />\n                                        </IconButton>\n                                    </Tooltip>{\" \"}\n                                    {value.password !== \"\" && (\n                                        <>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"变更为公开分享\"\n                                                onClick={() =>\n                                                    this.changePermission(\n                                                        value.key\n                                                    )\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <LockIcon\n                                                        fontSize={\"small\"}\n                                                    />\n                                                </IconButton>\n                                            </Tooltip>\n                                            <Tooltip\n                                                placement=\"top\"\n                                                title=\"查看密码\"\n                                                onClick={() =>\n                                                    this.showPwd(value.password)\n                                                }\n                                            >\n                                                <IconButton>\n                                                    <VpnKey\n                                                        fontSize={\"small\"}\n                                                    />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </>\n                                    )}\n                                    {value.password === \"\" && (\n                                        <Tooltip\n                                            placement=\"top\"\n                                            title=\"变更为私密分享\"\n                                            onClick={() =>\n                                                this.changePermission(value.key)\n                                            }\n                                        >\n                                            <IconButton>\n                                                <UnlockIcon\n                                                    fontSize={\"small\"}\n                                                />\n                                            </IconButton>\n                                        </Tooltip>\n                                    )}\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title={\n                                            value.preview\n                                                ? \"禁止预览\"\n                                                : \"允许预览\"\n                                        }\n                                        onClick={() =>\n                                            this.changePreviewOption(value.key)\n                                        }\n                                    >\n                                        <IconButton>\n                                            <ToggleIcon\n                                                on={value.preview}\n                                                onIcon={\n                                                    <EyeIcon\n                                                        fontSize={\"small\"}\n                                                    />\n                                                }\n                                                offIcon={\n                                                    <VisibilityOff\n                                                        fontSize={\"small\"}\n                                                    />\n                                                }\n                                            />\n                                        </IconButton>\n                                    </Tooltip>\n                                    <Tooltip\n                                        placement=\"top\"\n                                        title=\"取消分享\"\n                                        onClick={() =>\n                                            this.removeShare(value.key)\n                                        }\n                                    >\n                                        <IconButton>\n                                            <DeleteIcon fontSize={\"small\"} />\n                                        </IconButton>\n                                    </Tooltip>\n                                </CardActions>\n                            </Card>\n                        </Grid>\n                    ))}\n                </Grid>\n                <div className={classes.loadMore}>\n                    <Pagination\n                        count={Math.ceil(this.state.total / 18)}\n                        onChange={this.handlePageChange}\n                        color=\"secondary\"\n                    />\n                </div>{\" \"}\n                <Dialog\n                    open={this.state.showPwd !== null}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle> 分享密码 </DialogTitle>{\" \"}\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            value={this.state.showPwd}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>{\" \"}\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭{\" \"}\n                        </Button>{\" \"}\n                    </DialogActions>{\" \"}\n                </Dialog>{\" \"}\n            </div>\n        );\n    }\n}\n\nconst MyShare = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(MyShareCompoment)));\n\nexport default MyShare;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n    contentFix: {\n        padding: \"10px 24px 0px 24px\",\n    },\n    wrapper: {\n        margin: theme.spacing(1),\n        position: \"relative\",\n    },\n    buttonProgress: {\n        color: theme.palette.secondary.light,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    content: {\n        padding: 0,\n    },\n}));\n\nexport default function SelectFileDialog(props) {\n    const [files, setFiles] = useState(props.files);\n\n    useEffect(() => {\n        setFiles(props.files);\n    }, [props.files]);\n\n    const handleChange = (index) => (event) => {\n        const filesCopy = [...files];\n        // eslint-disable-next-line\n        filesCopy.map((v, k) => {\n            if (v.index === index) {\n                filesCopy[k] = {\n                    ...filesCopy[k],\n                    selected: event.target.checked ? \"true\" : \"false\",\n                };\n            }\n        });\n        setFiles(filesCopy);\n    };\n\n    const submit = () => {\n        const index = [];\n        // eslint-disable-next-line\n        files.map((v) => {\n            if (v.selected === \"true\") {\n                index.push(parseInt(v.index));\n            }\n        });\n        props.onSubmit(index);\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">选择要下载的文件</DialogTitle>\n            <DialogContent dividers={\"paper\"} className={classes.content}>\n                {files.map((v, k) => {\n                    return (\n                        <MenuItem key={k}>\n                            <FormGroup row>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            onChange={handleChange(v.index)}\n                                            checked={v.selected === \"true\"}\n                                            value=\"checkedA\"\n                                        />\n                                    }\n                                    label={v.path}\n                                />\n                            </FormGroup>\n                        </MenuItem>\n                    );\n                })}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        color=\"primary\"\n                        onClick={submit}\n                        disabled={props.modalsLoading}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect } from \"react\";\nimport {\n    Card,\n    CardContent,\n    darken,\n    IconButton,\n    lighten,\n    LinearProgress,\n    makeStyles,\n    Typography,\n    useTheme,\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { hex2bin, sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore, HighlightOff } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport API from \"../../middleware/Api\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TimeAgo from \"timeago-react\";\nimport SelectFileDialog from \"../Modals/SelectFile\";\nimport { useHistory } from \"react-router\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {},\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\",\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\",\n        },\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    iconBig: {\n        fontSize: \"30px\",\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\",\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4,\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\",\n    },\n    expanded: {\n        transform: \"rotate(180deg)\",\n    },\n    subFileName: {\n        display: \"flex\",\n    },\n    subFileIcon: {\n        marginRight: \"20px\",\n    },\n    scroll: {\n        overflowY: \"auto\",\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\",\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1),\n    },\n    info: {\n        padding: theme.spacing(2),\n    },\n    infoTitle: {\n        fontWeight: 700,\n    },\n    infoValue: {\n        color: theme.palette.text.secondary,\n    },\n    bitmap: {\n        width: \"100%\",\n        height: \"50px\",\n        backgroundColor: theme.palette.background.default,\n    },\n}));\n\nexport default function DownloadingCard(props) {\n    const canvasRef = React.createRef();\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n\n    const [expanded, setExpanded] = React.useState(\"\");\n    const [task, setTask] = React.useState(props.task);\n    const [loading, setLoading] = React.useState(false);\n    const [selectDialogOpen, setSelectDialogOpen] = React.useState(false);\n    const [selectFileOption, setSelectFileOption] = React.useState([]);\n\n    const handleChange = (panel) => (event, newExpanded) => {\n        setExpanded(newExpanded ? panel : false);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setTask(props.task);\n    }, [props.task]);\n\n    useEffect(() => {\n        if (task.info.bitfield === \"\") {\n            return;\n        }\n        let result = \"\";\n        task.info.bitfield.match(/.{1,2}/g).forEach((str) => {\n            result += hex2bin(str);\n        });\n        const canvas = canvasRef.current;\n        const context = canvas.getContext(\"2d\");\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        context.strokeStyle = theme.palette.primary.main;\n        for (let i = 0; i < canvas.width; i++) {\n            let bit =\n                result[\n                    Math.round(((i + 1) / canvas.width) * task.info.numPieces)\n                ];\n            bit = bit ? bit : result.slice(-1);\n            if (bit === \"1\") {\n                context.beginPath();\n                context.moveTo(i, 0);\n                context.lineTo(i, canvas.height);\n                context.stroke();\n            }\n        }\n        // eslint-disable-next-line\n    }, [task.info.bitfield, task.info.numPieces, theme]);\n\n    const getPercent = (completed, total) => {\n        if (total === 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n    const activeFiles = useCallback(() => {\n        return task.info.files.filter((v) => v.selected === \"true\");\n    }, [task.info.files]);\n\n    const deleteFile = (index) => {\n        setLoading(true);\n        const current = activeFiles();\n        const newIndex = [];\n        const newFiles = [];\n        // eslint-disable-next-line\n        current.map((v) => {\n            if (v.index !== index && v.selected) {\n                newIndex.push(parseInt(v.index));\n                newFiles.push({\n                    ...v,\n                    selected: \"true\",\n                });\n            } else {\n                newFiles.push({\n                    ...v,\n                    selected: \"false\",\n                });\n            }\n        });\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: newIndex,\n        })\n            .then(() => {\n                setTask({\n                    ...task,\n                    info: {\n                        ...task.info,\n                        files: newFiles,\n                    },\n                });\n                ToggleSnackbar(\"top\", \"right\", \"文件已删除\", \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const getDownloadName = useCallback(() => {\n        if (task.info.bittorrent.info.name !== \"\") {\n            return task.info.bittorrent.info.name;\n        }\n        return task.name === \".\" ? \"[未知]\" : task.name;\n    }, [task]);\n\n    const getIcon = useCallback(() => {\n        if (task.info.bittorrent.mode === \"multi\") {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(task)}\n                />\n            );\n        }\n        // eslint-disable-next-line\n    }, [task, classes]);\n\n    const cancel = () => {\n        setLoading(true);\n        API.delete(\"/aria2/task/\" + task.info.gid)\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"任务已取消，状态会在稍后更新\",\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const changeSelectedFile = (fileIndex) => {\n        setLoading(true);\n        API.put(\"/aria2/select/\" + task.info.gid, {\n            indexes: fileIndex,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"操作成功，状态会在稍后更新\",\n                    \"success\"\n                );\n                setSelectDialogOpen(false);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Card className={classes.card}>\n            <SelectFileDialog\n                open={selectDialogOpen}\n                onClose={() => setSelectDialogOpen(false)}\n                modalsLoading={loading}\n                files={selectFileOption}\n                onSubmit={changeSelectedFile}\n            />\n            <ExpansionPanel\n                square\n                expanded={expanded === task.info.gid}\n                onChange={handleChange(task.info.gid)}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        <LinearProgress\n                            color=\"secondary\"\n                            variant=\"determinate\"\n                            className={classes.progress}\n                            value={getPercent(task.downloaded, task.total)}\n                        />\n                        <Typography\n                            variant=\"body2\"\n                            color=\"textSecondary\"\n                            noWrap\n                        >\n                            {task.total > 0 && (\n                                <span>\n                                    {getPercent(\n                                        task.downloaded,\n                                        task.total\n                                    ).toFixed(2)}\n                                    % -{\" \"}\n                                    {task.downloaded === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.downloaded)}\n                                    /\n                                    {task.total === 0\n                                        ? \"0Bytes\"\n                                        : sizeToString(task.total)}{\" \"}\n                                    -{\" \"}\n                                    {task.speed === \"0\"\n                                        ? \"0B/s\"\n                                        : sizeToString(task.speed) + \"/s\"}\n                                </span>\n                            )}\n                            {task.total === 0 && <span> - </span>}\n                        </Typography>\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]:\n                                            expanded === task.info.gid,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {task.info.bittorrent.mode === \"multi\" && (\n                        <div className={classes.scroll}>\n                            <Table size=\"small\">\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow\n                                                key={value.index}\n                                                style={{\n                                                    background:\n                                                        \"linear-gradient(to right, \" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.4\n                                                              )\n                                                            : lighten(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.85\n                                                              )) +\n                                                        \" 0%,\" +\n                                                        (theme.palette.type ===\n                                                        \"dark\"\n                                                            ? darken(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.4\n                                                              )\n                                                            : lighten(\n                                                                  theme.palette\n                                                                      .primary\n                                                                      .main,\n                                                                  0.85\n                                                              )) +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" \" +\n                                                        getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(0) +\n                                                        \"%,\" +\n                                                        theme.palette.background\n                                                            .paper +\n                                                        \" 100%)\",\n                                                }}\n                                            >\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={\n                                                                value.path\n                                                            }\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(\n                                                            value.length\n                                                        )}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Tooltip title=\"删除此文件\">\n                                                        <IconButton\n                                                            onClick={() =>\n                                                                deleteFile(\n                                                                    value.index\n                                                                )\n                                                            }\n                                                            disabled={loading}\n                                                            size={\"small\"}\n                                                        >\n                                                            <HighlightOff />\n                                                        </IconButton>\n                                                    </Tooltip>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    )}\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() =>\n                                history.push(\n                                    \"/#/home?path=\" +\n                                        encodeURIComponent(task.dst)\n                                )\n                            }\n                        >\n                            打开存放目录\n                        </Button>\n                        {task.info.bittorrent.mode === \"multi\" && (\n                            <Button\n                                className={classes.actionButton}\n                                variant=\"outlined\"\n                                color=\"secondary\"\n                                disabled={loading}\n                                onClick={() => {\n                                    setSelectDialogOpen(true);\n                                    setSelectFileOption([\n                                        ...props.task.info.files,\n                                    ]);\n                                }}\n                            >\n                                选择要下载的文件\n                            </Button>\n                        )}\n                        <Button\n                            className={classes.actionButton}\n                            onClick={cancel}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            disabled={loading}\n                        >\n                            取消任务\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        {task.info.bitfield !== \"\" && (\n                            <canvas\n                                width={\"700\"}\n                                height={\"100\"}\n                                ref={canvasRef}\n                                className={classes.bitmap}\n                            />\n                        )}\n\n                        <Grid container>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    更新于：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    <TimeAgo\n                                        datetime={task.update}\n                                        locale=\"zh_CN\"\n                                    />\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    上传速度：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.uploadSpeed)} / s\n                                </Grid>\n                            </Grid>\n                            {task.info.bittorrent.mode !== \"\" && (\n                                <>\n                                    <Grid container xs={12} sm={8}>\n                                        <Grid\n                                            item\n                                            sm={2}\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            InfoHash：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            sm={10}\n                                            xs={8}\n                                            style={{\n                                                wordBreak: \"break-all\",\n                                            }}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.infoHash}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种者：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.numSeeders}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container xs={12} sm={4}>\n                                        <Grid\n                                            item\n                                            xs={4}\n                                            className={classes.infoTitle}\n                                        >\n                                            做种中：\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={8}\n                                            className={classes.infoValue}\n                                        >\n                                            {task.info.seeder === \"true\"\n                                                ? \"是\"\n                                                : \"否\"}\n                                        </Grid>\n                                    </Grid>\n                                </>\n                            )}\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片大小：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {sizeToString(task.info.pieceLength)}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={4}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    分片数量：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {task.info.numPieces}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport {\n    Card,\n    CardContent,\n    IconButton,\n    makeStyles,\n    Typography,\n    useTheme,\n} from \"@material-ui/core\";\nimport { sizeToString } from \"../../utils\";\nimport PermMediaIcon from \"@material-ui/icons/PermMedia\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { ExpandMore } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Table from \"@material-ui/core/Table\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { useHistory } from \"react-router\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": {},\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 56,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"flex\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst useStyles = makeStyles((theme) => ({\n    card: {\n        marginTop: \"20px\",\n        justifyContent: \"space-between\",\n    },\n    iconContainer: {\n        width: \"90px\",\n        height: \"96px\",\n        padding: \" 35px 29px 29px 29px\",\n        paddingLeft: \"35px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    content: {\n        width: \"100%\",\n        minWidth: 0,\n        [theme.breakpoints.up(\"sm\")]: {\n            borderInlineStart: \"1px \" + theme.palette.divider + \" solid\",\n        },\n        textAlign: \"left\",\n    },\n    contentSide: {\n        minWidth: 0,\n        paddingTop: \"24px\",\n        paddingRight: \"28px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"none\",\n        },\n    },\n    iconBig: {\n        fontSize: \"30px\",\n    },\n    iconMultiple: {\n        fontSize: \"30px\",\n        color: \"#607D8B\",\n    },\n    progress: {\n        marginTop: 8,\n        marginBottom: 4,\n    },\n    expand: {\n        transition: \".15s transform ease-in-out\",\n    },\n    expanded: {\n        transform: \"rotate(180deg)\",\n    },\n    subFileName: {\n        display: \"flex\",\n    },\n    subFileIcon: {\n        marginRight: \"20px\",\n    },\n    scroll: {\n        overflowY: \"auto\",\n    },\n    action: {\n        padding: theme.spacing(2),\n        textAlign: \"right\",\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1),\n    },\n    info: {\n        padding: theme.spacing(2),\n    },\n    infoTitle: {\n        fontWeight: 700,\n    },\n    infoValue: {\n        color: theme.palette.text.secondary,\n    },\n}));\n\nexport default function FinishedCard(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n\n    const [expanded, setExpanded] = React.useState(false);\n    const [loading, setLoading] = React.useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = () => (event, newExpanded) => {\n        setExpanded(!!newExpanded);\n    };\n\n    const cancel = () => {\n        setLoading(true);\n        API.delete(\"/aria2/task/\" + props.task.gid)\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"删除成功\", \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                window.location.reload();\n            });\n    };\n\n    const getPercent = (completed, total) => {\n        if (total == 0) {\n            return 0;\n        }\n        return (completed / total) * 100;\n    };\n\n    const getDownloadName = useCallback(() => {\n        return props.task.name === \".\" ? \"[未知]\" : props.task.name;\n    }, [props.task.name]);\n\n    const activeFiles = useCallback(() => {\n        return props.task.files.filter((v) => v.selected === \"true\");\n    }, [props.task.files]);\n\n    const getIcon = useCallback(() => {\n        if (props.task.files.length > 1) {\n            return (\n                <Badge badgeContent={activeFiles().length} color=\"secondary\">\n                    <PermMediaIcon className={classes.iconMultiple} />\n                </Badge>\n            );\n        } else {\n            return (\n                <TypeIcon\n                    className={classes.iconBig}\n                    fileName={getDownloadName(props.task)}\n                />\n            );\n        }\n    }, [props.task, classes]);\n\n    const getTaskError = (error) => {\n        try {\n            const res = JSON.parse(error);\n            return res.msg + \"：\" + res.error;\n        } catch (e) {\n            return \"文件转存失败\";\n        }\n    };\n\n    return (\n        <Card className={classes.card}>\n            <ExpansionPanel\n                square\n                expanded={expanded}\n                onChange={handleChange(\"\")}\n            >\n                <ExpansionPanelSummary\n                    aria-controls=\"panel1d-content\"\n                    id=\"panel1d-header\"\n                >\n                    <div className={classes.iconContainer}>{getIcon()}</div>\n                    <CardContent className={classes.content}>\n                        <Typography color=\"primary\" noWrap>\n                            <Tooltip title={getDownloadName()}>\n                                <span>{getDownloadName()}</span>\n                            </Tooltip>\n                        </Typography>\n                        {props.task.status === 3 && (\n                            <Tooltip title={props.task.error}>\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"error\"\n                                    noWrap\n                                >\n                                    下载出错：{props.task.error}\n                                </Typography>\n                            </Tooltip>\n                        )}\n                        {props.task.status === 5 && (\n                            <Typography\n                                variant=\"body2\"\n                                color=\"textSecondary\"\n                                noWrap\n                            >\n                                已取消\n                                {props.task.error !== \"\" && (\n                                    <span>：{props.task.error}</span>\n                                )}\n                            </Typography>\n                        )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 4 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.main,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 0 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.light,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成，转存排队中\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 1 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    style={{\n                                        color: theme.palette.success.light,\n                                    }}\n                                    noWrap\n                                >\n                                    已完成，转存处理中\n                                </Typography>\n                            )}\n                        {props.task.status === 4 &&\n                            props.task.task_status === 2 && (\n                                <Typography\n                                    variant=\"body2\"\n                                    color={\"error\"}\n                                    noWrap\n                                >\n                                    {getTaskError(props.task.task_error)}\n                                </Typography>\n                            )}\n                    </CardContent>\n                    <CardContent className={classes.contentSide}>\n                        <IconButton>\n                            <ExpandMore\n                                className={classNames(\n                                    {\n                                        [classes.expanded]: expanded,\n                                    },\n                                    classes.expand\n                                )}\n                            />\n                        </IconButton>\n                    </CardContent>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Divider />\n                    {props.task.files.length > 1 && (\n                        <div className={classes.scroll}>\n                            <Table>\n                                <TableBody>\n                                    {activeFiles().map((value) => {\n                                        return (\n                                            <TableRow key={value.index}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography\n                                                        className={\n                                                            classes.subFileName\n                                                        }\n                                                    >\n                                                        <TypeIcon\n                                                            className={\n                                                                classes.subFileIcon\n                                                            }\n                                                            fileName={\n                                                                value.path\n                                                            }\n                                                        />\n                                                        {value.path}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {\" \"}\n                                                        {sizeToString(\n                                                            value.length\n                                                        )}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    <Typography noWrap>\n                                                        {getPercent(\n                                                            value.completedLength,\n                                                            value.length\n                                                        ).toFixed(2)}\n                                                        %\n                                                    </Typography>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    )}\n\n                    <div className={classes.action}>\n                        <Button\n                            className={classes.actionButton}\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={() =>\n                                history.push(\n                                    \"/home?path=\" +\n                                        encodeURIComponent(props.task.dst)\n                                )\n                            }\n                        >\n                            打开存放目录\n                        </Button>\n                        <Button\n                            className={classes.actionButton}\n                            onClick={cancel}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            disabled={loading}\n                        >\n                            删除记录\n                        </Button>\n                    </div>\n                    <Divider />\n                    <div className={classes.info}>\n                        <Grid container>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    创建日期：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {formatLocalTime(\n                                        props.task.create,\n                                        \"YYYY-MM-DD H:mm:ss\"\n                                    )}\n                                </Grid>\n                            </Grid>\n                            <Grid container xs={12} sm={6}>\n                                <Grid item xs={4} className={classes.infoTitle}>\n                                    最后更新：\n                                </Grid>\n                                <Grid item xs={8} className={classes.infoValue}>\n                                    {formatLocalTime(\n                                        props.task.update,\n                                        \"YYYY-MM-DD H:mm:ss\"\n                                    )}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </div>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Card>\n    );\n}\n","import React, { useCallback } from \"react\";\nimport { openRemoteDownloadDialog } from \"../../actions\";\nimport { useDispatch } from \"react-redux\";\nimport AutoHidden from \"./AutoHidden\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { Add } from \"@material-ui/icons\";\nimport Modals from \"../FileManager/Modals\";\n\nconst useStyles = makeStyles(() => ({\n    fab: {\n        margin: 0,\n        top: \"auto\",\n        right: 20,\n        bottom: 20,\n        left: \"auto\",\n        zIndex: 5,\n        position: \"fixed\",\n    },\n}));\n\nexport default function RemoteDownloadButton() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const OpenRemoteDownloadDialog = useCallback(\n        () => dispatch(openRemoteDownloadDialog()),\n        [dispatch]\n    );\n\n    return (\n        <>\n            <Modals />\n            <AutoHidden enable>\n                <Fab\n                    className={classes.fab}\n                    color=\"secondary\"\n                    onClick={() => OpenRemoteDownloadDialog()}\n                >\n                    <Add />\n                </Fab>\n            </AutoHidden>\n        </>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\nimport { withStyles, Typography, Button, IconButton } from \"@material-ui/core\";\nimport DownloadingCard from \"./DownloadingCard\";\nimport FinishedCard from \"./FinishedCard\";\nimport RemoteDownloadButton from \"../Dial/Aria2\";\nimport Auth from \"../../middleware/Auth\";\n\nconst styles = (theme) => ({\n    actions: {\n        display: \"flex\",\n    },\n    title: {\n        marginTop: \"20px\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"30px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    shareTitle: {\n        maxWidth: \"200px\",\n    },\n    avatarFile: {\n        backgroundColor: theme.palette.primary.light,\n    },\n    avatarFolder: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    gird: {\n        marginTop: \"30px\",\n    },\n    hide: {\n        display: \"none\",\n    },\n    loadingAnimation: {\n        borderRadius: \"6px 6px 0 0\",\n    },\n    shareFix: {\n        marginLeft: \"20px\",\n    },\n    loadMore: {\n        textAlign: \"center\",\n        marginTop: \"20px\",\n        marginBottom: \"20px\",\n    },\n    margin: {\n        marginTop: theme.spacing(2),\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass DownloadComponent extends Component {\n    page = 0;\n    interval = 0;\n    previousDownloading = -1;\n\n    state = {\n        downloading: [],\n        loading: false,\n        finishedList: [],\n        continue: true,\n    };\n\n    componentDidMount = () => {\n        this.loadDownloading();\n    };\n\n    componentWillUnmount() {\n        clearTimeout(this.interval);\n    }\n\n    loadDownloading = () => {\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/aria2/downloading\")\n            .then((response) => {\n                this.setState({\n                    downloading: response.data,\n                    loading: false,\n                });\n                // 设定自动更新\n                clearTimeout(this.interval);\n                if (response.data.length > 0) {\n                    this.interval = setTimeout(\n                        this.loadDownloading,\n                        1000 *\n                            response.data.reduce(function (prev, current) {\n                                return prev.interval < current.interval\n                                    ? prev\n                                    : current;\n                            }).interval\n                    );\n                }\n\n                // 下载中条目变更时刷新已完成列表\n                if (response.data.length !== this.previousDownloading) {\n                    this.page = 0;\n                    this.setState({\n                        finishedList: [],\n                        continue: true,\n                    });\n                    this.loadMore();\n                }\n                this.previousDownloading = response.data.length;\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadMore = () => {\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/aria2/finished?page=\" + ++this.page)\n            .then((response) => {\n                this.setState({\n                    finishedList: [\n                        ...this.state.finishedList,\n                        ...response.data,\n                    ],\n                    loading: false,\n                    continue: response.data.length >= 10,\n                });\n            })\n            .catch(() => {\n                this.props.toggleSnackbar(\"top\", \"right\", \"加载失败\", \"error\");\n                this.setState({\n                    loading: false,\n                });\n            });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n\n        return (\n            <div className={classes.layout}>\n                {user.group.allowRemoteDownload && <RemoteDownloadButton />}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    进行中\n                    <IconButton\n                        disabled={this.state.loading}\n                        onClick={this.loadDownloading}\n                    >\n                        <RefreshIcon />\n                    </IconButton>\n                </Typography>\n                {this.state.downloading.map((value, k) => (\n                    <DownloadingCard key={k} task={value} />\n                ))}\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    已完成\n                </Typography>\n                <div className={classes.loadMore}>\n                    {this.state.finishedList.map((value, k) => {\n                        if (value.files) {\n                            return <FinishedCard key={k} task={value} />;\n                        }\n                        return null;\n                    })}\n                    <Button\n                        size=\"large\"\n                        className={classes.margin}\n                        disabled={!this.state.continue}\n                        onClick={this.loadMore}\n                    >\n                        加载更多\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst Download = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(DownloadComponent));\n\nexport default Download;\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    Button,\n    Card,\n    Divider,\n    CardHeader,\n    CardContent,\n    CardActions,\n    TextField,\n    Avatar,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\",\n    },\n    actions: {\n        display: \"flex\",\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    continue: {\n        marginLeft: \"auto\",\n        marginRight: \"10px\",\n        marginRottom: \"10px\",\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass LockedFileCompoment extends Component {\n    constructor(props) {\n        super(props);\n        const query = new URLSearchParams(this.props.location.search);\n        this.state = {\n            pwd: query.get(\"password\"),\n        };\n    }\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    submit = (e) => {\n        e.preventDefault();\n        if (this.state.pwd === \"\") {\n            return;\n        }\n        this.props.setPassowrd(this.state.pwd);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Card className={classes.card}>\n                    <CardHeader\n                        avatar={\n                            <Avatar\n                                aria-label=\"Recipe\"\n                                src={\n                                    \"/api/v3/user/avatar/\" +\n                                    this.props.share.creator.key +\n                                    \"/l\"\n                                }\n                            />\n                        }\n                        title={this.props.share.creator.nick + \" 的加密分享\"}\n                        subheader={formatLocalTime(\n                            this.props.share.create_date,\n                            \"YYYY-MM-DD H:mm:ss\"\n                        )}\n                    />\n                    <Divider />\n                    <CardContent>\n                        <form onSubmit={this.submit}>\n                            <TextField\n                                id=\"pwd\"\n                                label=\"输入分享密码\"\n                                value={this.state.pwd}\n                                onChange={this.handleChange(\"pwd\")}\n                                margin=\"normal\"\n                                type=\"password\"\n                                autoFocus\n                                fullWidth\n                                color=\"secondary\"\n                            />\n                        </form>\n                    </CardContent>\n                    <CardActions\n                        className={classes.actions}\n                        disableActionSpacing\n                    >\n                        <Button\n                            onClick={this.submit}\n                            color=\"secondary\"\n                            className={classes.continue}\n                            variant=\"contained\"\n                            disabled={\n                                this.state.pwd === \"\" || this.props.loading\n                            }\n                        >\n                            继续\n                        </Button>\n                    </CardActions>\n                </Card>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst LockedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(LockedFileCompoment)));\n\nexport default LockedFile;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport Link from \"@material-ui/core/Link\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst useStyles = makeStyles((theme) => ({\n    boxHeader: {\n        textAlign: \"center\",\n        padding: 24,\n    },\n    avatar: {\n        backgroundColor: theme.palette.secondary.main,\n        margin: \"0 auto\",\n        width: 50,\n        height: 50,\n        cursor: \"pointer\",\n    },\n    shareDes: {\n        marginTop: 12,\n    },\n    shareInfo: {\n        color: theme.palette.text.disabled,\n        fontSize: 14,\n    },\n}));\n\nexport default function Creator(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const getSecondDes = () => {\n        if (props.share.expire > 0) {\n            if (props.share.expire >= 24 * 3600) {\n                return (\n                    Math.round(props.share.expire / (24 * 3600)) + \" 天后到期\"\n                );\n            }\n            return Math.round(props.share.expire / 3600) + \" 小时后到期\";\n        }\n        return formatLocalTime(props.share.create_date, \"YYYY-MM-DD H:mm:ss\");\n    };\n\n    const userProfile = () => {\n        history.push(\"/profile/\" + props.share.creator.key);\n        props.onClose && props.onClose();\n    };\n\n    return (\n        <div className={classes.boxHeader}>\n            <Avatar\n                className={classes.avatar}\n                alt={props.share.creator.nick}\n                src={\"/api/v3/user/avatar/\" + props.share.creator.key + \"/l\"}\n                onClick={() => userProfile()}\n            />\n            <Typography variant=\"h6\" className={classes.shareDes}>\n                {props.isFolder && (\n                    <>\n                        此分享由{\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        创建\n                    </>\n                )}\n                {!props.isFolder && (\n                    <>\n                        {\" \"}\n                        <Link\n                            onClick={() => userProfile()}\n                            href={\"javascript:void(0)\"}\n                            color=\"inherit\"\n                        >\n                            {props.share.creator.nick}\n                        </Link>{\" \"}\n                        向您分享了 1 个文件\n                    </>\n                )}\n            </Typography>\n            <Typography className={classes.shareInfo}>\n                {props.share.views} 次浏览 • {props.share.downloads} 次下载 •{\" \"}\n                {getSecondDes()}\n            </Typography>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport { sizeToString, vhCheck } from \"../../utils\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    showImgPreivew,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { isPreviewable } from \"../../config\";\nimport { withStyles, Button, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TypeIcon from \"../FileManager/TypeIcon\";\nimport Auth from \"../../middleware/Auth\";\nimport PurchaseShareDialog from \"../Modals/PurchaseShare\";\nimport API from \"../../middleware/Api\";\nimport { withRouter } from \"react-router-dom\";\nimport Creator from \"./Creator\";\nimport pathHelper from \"../../utils/page\";\nimport Report from \"../Modals/Report\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\n\nvhCheck();\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"90px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginTop: \"90px\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: 0,\n            marginLeft: 0,\n            marginRight: 0,\n        },\n        justifyContent: \"center\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n    },\n    player: {\n        borderRadius: \"4px\",\n    },\n    fileCotainer: {\n        width: \"200px\",\n        margin: \"0 auto\",\n    },\n    buttonCotainer: {\n        width: \"400px\",\n        margin: \"0 auto\",\n        textAlign: \"center\",\n        marginTop: \"20px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n    },\n    icon: {\n        borderRadius: \"10%\",\n        marginTop: 2,\n    },\n\n    box: {\n        width: \"100%\",\n        maxWidth: 440,\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: 12,\n        boxShadow: \"0 8px 16px rgba(29,39,55,.25)\",\n        [theme.breakpoints.down(\"sm\")]: {\n            /*height: \"calc(var(--vh, 100vh) - 56px)\",*/\n            borderRadius: 0,\n            maxWidth: 1000,\n        },\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    boxContent: {\n        padding: 24,\n        display: \"flex\",\n        flex: \"1\",\n    },\n    fileName: {\n        marginLeft: 20,\n    },\n    fileSize: {\n        color: theme.palette.text.disabled,\n        fontSize: 14,\n    },\n    boxFooter: {\n        display: \"flex\",\n        padding: \"20px 16px\",\n        justifyContent: \"space-between\",\n    },\n    downloadButton: {\n        marginLeft: 8,\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: (key) => {\n            dispatch(openResaveDialog(key));\n        },\n    };\n};\n\nconst Modals = React.lazy(() => import(\"../FileManager/Modals\"));\nconst ImgPreview = React.lazy(() => import(\"../FileManager/ImgPreview\"));\n\nclass SharedFileCompoment extends Component {\n    state = {\n        anchorEl: null,\n        open: false,\n        purchaseCallback: null,\n        loading: false,\n        openReport: false,\n    };\n\n    downloaded = false;\n\n    // TODO merge into react thunk\n    preview = () => {\n        if (pathHelper.isSharePage(this.props.location.pathname)) {\n            if (!Auth.Check()) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                return;\n            }\n            const user = Auth.GetUser();\n            if (!Auth.Check() && user && !user.group.shareDownload) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"请先登录\",\n                    \"warning\"\n                );\n                return;\n            }\n        }\n\n        switch (isPreviewable(this.props.share.source.name)) {\n            case \"img\":\n                this.props.showImgPreivew({\n                    key: this.props.share.key,\n                    name: this.props.share.source.name,\n                });\n                return;\n            case \"msDoc\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/doc?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"audio\":\n                this.props.setSelectedTarget([\n                    {\n                        key: this.props.share.key,\n                        type: \"share\",\n                    },\n                ]);\n                this.props.openMusicDialog();\n                return;\n            case \"video\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/video?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"edit\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/text?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"pdf\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/pdf?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            case \"code\":\n                this.props.history.push(\n                    this.props.share.key +\n                        \"/code?name=\" +\n                        encodeURIComponent(this.props.share.source.name)\n                );\n                return;\n            default:\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"此文件无法预览\",\n                    \"warning\"\n                );\n                return;\n        }\n    };\n\n    componentWillUnmount() {\n        this.props.setSelectedTarget([]);\n    }\n\n    scoreHandle = (callback) => (event) => {\n        if (this.props.share.score > 0) {\n            if (!Auth.Check()) {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"登录后才能继续操作\",\n                    \"warning\"\n                );\n                return;\n            }\n            if (!Auth.GetUser().group.shareFree && !this.downloaded) {\n                this.setState({\n                    purchaseCallback: () => {\n                        this.setState({\n                            purchaseCallback: null,\n                        });\n                        callback(event);\n                    },\n                });\n                return;\n            }\n        }\n        callback(event);\n    };\n\n    download = () => {\n        this.setState({ loading: true });\n        API.put(\"/share/download/\" + this.props.share.key)\n            .then((response) => {\n                this.downloaded = true;\n                window.location.assign(response.data);\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n                this.props.history.push(\"/buy?tab=2\");\n            })\n            .then(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    rewards = () => {\n        if (!Auth.Check()) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"登录后才能继续操作\",\n                \"warning\"\n            );\n            return;\n        }\n        window.opensendgift(this.props.share.key);\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const isLogin = Auth.Check();\n\n        return (\n            <div className={classes.layout}>\n                <Modals />\n                <ImgPreview />\n                <PurchaseShareDialog\n                    callback={this.state.purchaseCallback}\n                    score={this.props.share.score}\n                    onClose={() => this.setState({ purchaseCallback: null })}\n                />\n                <Report\n                    open={this.state.openReport}\n                    share={this.props.share}\n                    onClose={() => this.setState({ openReport: false })}\n                />\n                <div className={classes.box}>\n                    <Creator share={this.props.share} />\n                    <Divider />\n                    <div className={classes.boxContent}>\n                        <TypeIcon\n                            className={classes.icon}\n                            isUpload\n                            fileName={this.props.share.source.name}\n                        />\n                        <div className={classes.fileName}>\n                            <Typography style={{ wordBreak: \"break-all\" }}>\n                                {this.props.share.source.name}\n                            </Typography>\n                            <Typography className={classes.fileSize}>\n                                {sizeToString(this.props.share.source.size)}(不能下载，下载设置中取消“下载加速”)\n                            </Typography>\n                        </div>\n                    </div>\n                    <Divider />\n                    <div className={classes.boxFooter}>\n                        <div className={classes.actionLeft}>\n                            <Button\n                                onClick={() =>\n                                    this.props.openResave(this.props.share.key)\n                                }\n                                color=\"secondary\"\n                            >\n                                保存文件\n                            </Button>\n                            <Button\n                                onClick={() =>\n                                    this.setState({ openReport: true })\n                                }\n                                color=\"secondary\"\n                            >\n                                举报\n                            </Button>\n                        </div>\n                        <div className={classes.actions}>\n                            <IconButton color=\"secondary\" style={{ padding:'unset',paddingRight:'12px'}} title=\"打赏\" aria-label=\"to reward\" onClick={() => this.rewards()}>\n                              <MonetizationOnIcon />\n                            </IconButton>\n                            {this.props.share.preview && (\n                                <Button\n                                    variant=\"outlined\"\n                                    color=\"secondary\"\n                                    onClick={this.scoreHandle(this.preview)}\n                                    disabled={this.state.loading}\n                                >\n                                    预览\n                                </Button>\n                            )}\n                            <Button\n                                variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.downloadButton}\n                                onClick={this.scoreHandle(this.download)}\n                                disabled={this.state.loading}\n                            >\n                                下载\n                                {this.props.share.score > 0 &&\n                                    (!isLogin || !user.group.shareFree) &&\n                                    \" (\" + this.props.share.score + \"积分)\"}\n                                {this.props.share.score > 0 &&\n                                    isLogin &&\n                                    user.group.shareFree &&\n                                    \" (免积分)\"}\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst SharedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFileCompoment)));\n\nexport default SharedFile;\n","import React, { Component } from \"react\";\nimport AdSense from 'react-adsense';\nimport { connect } from \"react-redux\";\nimport {\n    openMusicDialog,\n    openResaveDialog,\n    setSelectedTarget,\n    setShareUserPopover,\n    showImgPreivew,\n    toggleSnackbar,\n} from \"../../actions\";\nimport { withStyles, Typography } from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport FileManager from \"../FileManager/FileManager\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Creator from \"./Creator\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport pathHelper from \"../../utils/page\";\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: 30,\n        marginBottom: 30,\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: theme.spacing(2),\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n        },\n    },\n    managerContainer: {\n        overflowY: \"auto\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"28rem\"\n        },\n\n    },\n    ads:{\n        width: '100%',\n        height: 90,\n        maxHeight: 90,\n        textAlign: \"center\",\n        marginTop: \"1.5rem\"\n    }\n});\n\nconst ReadMe = React.lazy(() => import(\"./ReadMe\"));\n\nconst mapStateToProps = (state) => {\n    return {\n        anchorEl: state.viewUpdate.shareUserPopoverAnchorEl,\n        fileList: state.explorer.fileList,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        openMusicDialog: () => {\n            dispatch(openMusicDialog());\n        },\n        setSelectedTarget: (targets) => {\n            dispatch(setSelectedTarget(targets));\n        },\n        showImgPreivew: (first) => {\n            dispatch(showImgPreivew(first));\n        },\n        openResave: (key) => {\n            dispatch(openResaveDialog(key));\n        },\n        setShareUserPopover: (e) => {\n            dispatch(setShareUserPopover(e));\n        },\n    };\n};\n\nclass SharedFolderComponent extends Component {\n    state = {};\n\n    UNSAFE_componentWillMount() {\n        window.shareInfo = this.props.share;\n    }\n\n    componentWillUnmount() {\n        window.shareInfo = null;\n        this.props.setSelectedTarget([]);\n    }\n\n    handleClickAway = () => {\n        if (!pathHelper.isMobile()) {\n            this.props.setSelectedTarget([]);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        let readmeShowed = false;\n        const id = this.props.anchorEl !== null ? \"simple-popover\" : undefined;\n\n        return (\n            <div className={classes.layout}>\n                <ClickAwayListener onClickAway={this.handleClickAway}>\n                    <Paper className={classes.managerContainer}>\n                        <FileManager isShare share={this.props.share} />\n                    </Paper>\n                </ClickAwayListener>\n                {/* eslint-disable-next-line */}\n                {this.props.fileList.map((value) => {\n                    if (\n                        (value.name.toLowerCase() === \"readme.md\" ||\n                            value.name.toLowerCase() === \"readme.txt\") &&\n                        !readmeShowed\n                    ) {\n                        readmeShowed = true;\n                        return <ReadMe share={this.props.share} file={value} />;\n                    }\n                })}\n                <Popover\n                    id={id}\n                    open={this.props.anchorEl !== null}\n                    anchorEl={this.props.anchorEl}\n                    onClose={() => this.props.setShareUserPopover(null)}\n                    anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\",\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\",\n                    }}\n                >\n                    <Typography>\n                        <Creator\n                            isFolder\n                            onClose={() => this.props.setShareUserPopover(null)}\n                            share={this.props.share}\n                        />\n                    </Typography>\n                </Popover>\n                <div className={classes.ads}>\n                    <AdSense.Google\n                        style={{ display:'inline-block',minWidth:320,maxWidth:970,width:'100%',height:90 }}\n                        client='ca-pub-7329474538416487'\n                        slot='8294203043'\n                        format=''\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst SharedFolder = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(SharedFolderComponent)));\n\nexport default SharedFolder;\n","import React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport PageLoading from \"../Placeholder/PageLoading\";\nimport { useParams } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport { useDispatch } from \"react-redux\";\nimport Notice from \"./NotFound\";\nimport LockedFile from \"./LockedFile\";\nimport SharedFile from \"./SharedFile\";\nimport SharedFolder from \"./SharedFolder\";\n\nexport default function SharePreload() {\n    const dispatch = useDispatch();\n    const { id } = useParams();\n\n    const [share, setShare] = useState(undefined);\n    const [loading, setLoading] = useState(false);\n    const [password, setPassword] = useState(\"\");\n\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (share) {\n            if (share.locked) {\n                SetSubTitle(share.creator.nick + \"的加密分享\");\n                if (password !== \"\") {\n                    ToggleSnackbar(\"top\", \"right\", \"密码不正确\", \"warning\");\n                }\n            } else {\n                SetSubTitle(share.source.name);\n            }\n        } else {\n            SetSubTitle();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [share, SetSubTitle, ToggleSnackbar]);\n\n    useEffect(() => {\n        return () => {\n            SetSubTitle();\n        };\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        setLoading(true);\n        let withPassword = \"\";\n        if (password !== \"\") {\n            withPassword = \"?password=\" + password;\n        }\n        API.get(\"/share/info/\" + id + withPassword)\n            .then((response) => {\n                setShare(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                setLoading(false);\n                if (error.code === 404) {\n                    setShare(null);\n                } else {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                }\n            });\n    }, [id, password, ToggleSnackbar]);\n\n    return (\n        <Suspense fallback={<PageLoading />}>\n            {share === undefined && <PageLoading />}\n            {share === null && <Notice msg={\"分享不存在或已过期\"} />}\n            {share && share.locked && (\n                <LockedFile\n                    loading={loading}\n                    setPassowrd={setPassword}\n                    share={share}\n                />\n            )}\n            {share && !share.locked && !share.is_dir && (\n                <SharedFile share={share} />\n            )}\n            {share && !share.locked && share.is_dir && (\n                <SharedFolder share={share} />\n            )}\n        </Suspense>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(() => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"-48px\",\n    },\n\n    container: {\n        border: \"none\",\n        width: \"100%\",\n        height: \"calc(100vh - 18px)\",\n        marginBottom: -3,\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function DocViewer() {\n    const [url, setURL] = useState(\"\");\n    const math = useRouteMatch();\n    const location = useLocation();\n    const query = useQuery();\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (!pathHelper.isSharePage(location.pathname)) {\n            const path = query.get(\"p\").split(\"/\");\n            SetSubTitle(path[path.length - 1]);\n        } else {\n            SetSubTitle(query.get(\"name\"));\n        }\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    useEffect(() => {\n        let requestURL = \"/file/doc/\" + query.get(\"id\");\n        if (pathHelper.isSharePage(location.pathname)) {\n            requestURL = \"/share/doc/\" + id;\n            if (query.get(\"share_path\") !== \"\") {\n                requestURL +=\n                    \"?path=\" + encodeURIComponent(query.get(\"share_path\"));\n            }\n        }\n        API.get(requestURL)\n            .then((response) => {\n                setURL(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, [math.params[0], location]);\n\n    const classes = useStyles();\n    return (\n        <div className={classes.layout}>\n            {url !== \"\" && (\n                <iframe title={\"ms\"} className={classes.container} src={url} />\n            )}\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Typography,\n    Paper,\n    Button,\n    Grid,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from \"@material-ui/core\";\nimport { sizeToString } from \"../../utils\";\nimport { withRouter } from \"react-router\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n\n    gird: {\n        marginTop: \"30px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary,\n    },\n    data: {\n        fontSize: \"25px\",\n        color: theme.palette.primary.main,\n    },\n    proBar: {\n        height: \"10px\",\n    },\n    r1: {\n        backgroundColor: \"#f0ad4e\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r2: {\n        backgroundColor: \"#4caf50\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    r3: {\n        backgroundColor: \"#5bc0de\",\n        transition: \"width .6s ease\",\n        height: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        float: \"left\",\n    },\n    note_block: {\n        width: \"10px\",\n        height: \"10px\",\n        display: \"inline-block\",\n        position: \"relative\",\n        marginLeft: \"10px\",\n        marginRight: \"3px\",\n    },\n    r1_block: {\n        backgroundColor: \"#f0ad4e\",\n    },\n    r2_block: {\n        backgroundColor: \"#4caf50\",\n    },\n    r3_block: {\n        backgroundColor: \"#5bc0de\",\n    },\n    title: {\n        marginTop: \"30px\",\n        marginBottom: \"30px\",\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    table: {\n        overflowX: \"auto\",\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass QuotaCompoment extends Component {\n    state = {\n        data: {\n            basic: 0,\n            used: 0,\n            total: 0,\n            pack: 0,\n            r1: 0,\n            r2: 0,\n            r3: 0,\n        },\n        packs: [],\n    };\n\n    firstLoad = true;\n\n    componentDidMount() {\n        if (this.firstLoad) {\n            this.firstLoad = !this.firstLoad;\n            API.get(\"/vas/pack\")\n                .then((response) => {\n                    let usedR,\n                        baseR,\n                        packR = 0;\n                    if (response.data.used > response.data.base) {\n                        usedR = response.data.used / response.data.total;\n                        baseR = 0;\n                        packR = 1 - usedR;\n                    } else {\n                        usedR = response.data.used / response.data.total;\n                        baseR =\n                            (response.data.base - response.data.used) /\n                            response.data.total;\n                        packR = 1 - usedR - baseR;\n                    }\n\n                    this.setState({\n                        data: {\n                            used: response.data.used,\n                            pack: response.data.pack,\n                            total: response.data.total,\n                            basic: response.data.base,\n                            r1: usedR > 1 ? 100 : usedR * 100,\n                            r2: usedR > 1 ? 0 : baseR * 100,\n                            r3: usedR > 1 ? 0 : packR * 100,\n                        },\n                        packs: response.data.packs,\n                    });\n                })\n                .catch((error) => {\n                    this.setState({\n                        loading: false,\n                    });\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        error.message,\n                        \"error\"\n                    );\n                });\n        }\n    }\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Typography color=\"textSecondary\" variant=\"h4\">\n                    容量配额\n                </Typography>\n                <Grid container className={classes.gird} spacing={2}>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.basic)}\n                            </Typography>\n                            <Typography>用户组基础容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.pack)}\n                            </Typography>\n                            <Typography>有效容量包附加附加容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.used)}\n                            </Typography>\n                            <Typography>已使用容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12} sm={3}>\n                        <Paper className={classes.paper}>\n                            <Typography className={classes.data}>\n                                {sizeToString(this.state.data.total)}\n                            </Typography>\n                            <Typography>总容量</Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paper}>\n                            <div className={classes.proBar}>\n                                <div\n                                    className={classes.r1}\n                                    style={{ width: this.state.data.r1 + \"%\" }}\n                                />\n                                <div\n                                    className={classes.r2}\n                                    style={{ width: this.state.data.r2 + \"%\" }}\n                                />\n                                <div\n                                    className={classes.r3}\n                                    style={{ width: this.state.data.r3 + \"%\" }}\n                                />\n                            </div>\n                            <div style={{ textAlign: \"right\" }}>\n                                <span\n                                    className={classNames(\n                                        classes.r1_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                已用容量\n                                <span\n                                    className={classNames(\n                                        classes.r2_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                用户组基础容量\n                                <span\n                                    className={classNames(\n                                        classes.r3_block,\n                                        classes.note_block\n                                    )}\n                                />\n                                有效容量包附加附加容量\n                            </div>\n                        </Paper>\n                    </Grid>\n                </Grid>\n                <Typography\n                    color=\"textSecondary\"\n                    variant=\"h4\"\n                    className={classes.title}\n                >\n                    可用容量包\n                </Typography>\n                <Paper className={classes.paper}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.button}\n                        onClick={() => this.props.history.push(\"/buy\")}\n                    >\n                        购买容量包\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        className={classes.button}\n                        onClick={() => this.props.history.push(\"/buy?tab=3\")}\n                    >\n                        使用激活码兑换\n                    </Button>\n                    <div className={classes.table}>\n                        <Table>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell align=\"left\">\n                                        容量包名称\n                                    </TableCell>\n                                    <TableCell align=\"center\">大小</TableCell>\n                                    <TableCell align=\"center\">\n                                        激活日期\n                                    </TableCell>\n                                    <TableCell align=\"center\">有效期</TableCell>\n                                    <TableCell align=\"center\">\n                                        过期日期\n                                    </TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {this.state.packs.map((row, id) => (\n                                    <TableRow key={id}>\n                                        <TableCell component=\"th\" scope=\"row\">\n                                            {row.name}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {sizeToString(row.size)}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {formatLocalTime(\n                                                row.activate_date,\n                                                \"YYYY-MM-DD H:mm:ss\"\n                                            )}\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {Math.round(row.expiration / 86400)}\n                                            天\n                                        </TableCell>\n                                        <TableCell align=\"center\">\n                                            {formatLocalTime(\n                                                row.expiration_date,\n                                                \"YYYY-MM-DD H:mm:ss\"\n                                            )}\n                                        </TableCell>\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                        </Table>\n                    </div>\n                </Paper>\n            </div>\n        );\n    }\n}\n\nconst Quota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(QuotaCompoment)));\n\nexport default Quota;\n","import React, { Component } from \"react\";\nimport classNames from \"classnames\";\nimport { withStyles, ButtonBase, Typography } from \"@material-ui/core\";\nconst styles = (theme) => ({\n    container: {\n        boxShadow: \"0 0 0 1px #e6e9eb\",\n        borderRadius: \"4px\",\n        transition: \"box-shadow .5s\",\n        width: \"100%\",\n        display: \"block\",\n    },\n    active: {\n        boxShadow: \"0 0 0 3px \" + theme.palette.primary.main,\n    },\n    boxHead: {\n        textAlign: \"center\",\n        padding: \"10px 10px 10px\",\n        borderBottom: \"1px solid #e6e9eb\",\n        color: theme.palette.text.main,\n        width: \"100%\",\n    },\n    price: {\n        fontSize: \"33px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color: theme.palette.primary.main,\n    },\n    priceWithScore: {\n        fontSize: \"23px\",\n        fontWeight: \"500\",\n        lineHeight: \"40px\",\n        color: theme.palette.primary.main,\n    },\n    packName: {\n        marginTop: \"5px\",\n        marginBottom: \"5px\",\n    },\n    boxBottom: {\n        color: theme.palette.text.main,\n        textAlign: \"center\",\n        padding: \"5px\",\n    },\n});\n\nclass PackSelect extends Component {\n    render() {\n        const { classes, pack } = this.props;\n        return (\n            <ButtonBase\n                className={classNames(classes.container, {\n                    [classes.active]: this.props.active,\n                })}\n                onClick={this.props.onSelect}\n            >\n                <div className={classes.boxHead}>\n                    <Typography\n                        variant=\"subtitle1\"\n                        className={classes.packName}\n                    >\n                        {pack.name}\n                    </Typography>\n                    {pack.score === 0 && (\n                        <Typography className={classes.price}>\n                            ￥{(pack.price / 100).toFixed(2)}\n                        </Typography>\n                    )}\n                    {pack.score !== 0 && (\n                        <Typography className={classes.priceWithScore}>\n                            ￥{(pack.price / 100).toFixed(2)} / {pack.score}{\" \"}\n                            积分\n                        </Typography>\n                    )}\n                </div>\n                <div className={classes.boxBottom}>\n                    <Typography>\n                        有效期：{Math.ceil(pack.time / 86400)}天\n                    </Typography>\n                </div>\n            </ButtonBase>\n        );\n    }\n}\n\nexport default withStyles(styles)(PackSelect);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport SdStorage from \"@material-ui/icons/SdStorage\";\nimport ShopIcon from \"@material-ui/icons/ShoppingCart\";\nimport PackSelect from \"./PackSelect\";\nimport SupervisedUserCircle from \"@material-ui/icons/SupervisedUserCircle\";\nimport StarIcon from \"@material-ui/icons/StarBorder\";\nimport LocalPlay from \"@material-ui/icons/LocalPlay\";\nimport API from \"../../middleware/Api\";\nimport QRCode from \"qrcode-react\";\n\nimport {\n    withStyles,\n    AppBar,\n    Tabs,\n    Tab,\n    Typography,\n    Paper,\n    Button,\n    TextField,\n    Grid,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n} from \"@material-ui/core\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { AccountBalanceWallet } from \"@material-ui/icons\";\nimport pathHelper from \"../../utils/page\";\nimport { withRouter } from \"react-router\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n\n    gird: {\n        marginTop: \"30px\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        color: theme.palette.text.secondary,\n    },\n    title: {\n        marginTop: \"30px\",\n        marginBottom: \"30px\",\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    action: {\n        textAlign: \"right\",\n        marginTop: \"20px\",\n    },\n    textField: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        width: 70,\n        textAlign: \"center!important\",\n    },\n    priceShow: {\n        color: theme.palette.secondary.main,\n        fontSize: \"30px\",\n    },\n    codeContainer: {\n        textAlign: \"center\",\n        marginTop: \"20px\",\n    },\n    cardHeader: {\n        backgroundColor:\n            theme.palette.type === \"dark\"\n                ? theme.palette.background.default\n                : theme.palette.grey[200],\n    },\n    cardPricing: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"baseline\",\n        marginBottom: theme.spacing(2),\n    },\n    cardActions: {\n        [theme.breakpoints.up(\"sm\")]: {\n            paddingBottom: theme.spacing(2),\n        },\n    },\n    redeemContainer: {\n        [theme.breakpoints.up(\"sm\")]: {\n            marginLeft: \"50px\",\n            marginRight: \"50px\",\n            width: \"auto\",\n        },\n        marginTop: \"50px\",\n        marginBottom: \"50px\",\n    },\n    doRedeem: {\n        textAlign: \"right\",\n    },\n    payMethod: {\n        marginTop: theme.spacing(4),\n        padding: theme.spacing(2),\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass BuyQuotaCompoment extends Component {\n    IntervalId = null;\n    constructor(props) {\n        super(props);\n\n        const tab = new URLSearchParams(this.props.location.search);\n        const index = tab.get(\"tab\");\n\n        this.state = {\n            value: index ? parseInt(index) : 0,\n            selectedPack: -1,\n            selectedGroup: -1,\n            times: 1,\n            scoreNum: 1,\n            loading: false,\n            redeemCode: \"\",\n            dialog: null,\n            payment: {\n                type: \"\",\n                img: \"\",\n            },\n            scorePrice: 0,\n            redeemInfo: null,\n            packs: [],\n            groups: [],\n            alipay: false,\n            payjs: false,\n            wechat: false,\n            packPayMethod: null,\n        };\n    }\n\n    componentWillUnmount() {\n        window.clearInterval(this.IntervalId);\n    }\n\n    componentDidMount() {\n        API.get(\"/vas/product\")\n            .then((response) => {\n                this.setState({\n                    packs: response.data.packs,\n                    groups: response.data.groups,\n                    alipay: response.data.alipay,\n                    payjs: response.data.payjs,\n                    wechat: response.data.wechat,\n                    scorePrice: response.data.score_price,\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    }\n\n    confirmRedeem = () => {\n        this.setState({\n            loading: true,\n        });\n        API.post(\"/vas/redeem/\" + this.state.redeemCode)\n            .then(() => {\n                this.setState({\n                    loading: false,\n                    dialog: \"success\",\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doRedeem = () => {\n        if (this.state.redeemCode === \"\") {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请输入激活码\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true,\n        });\n        API.get(\"/vas/redeem/\" + this.state.redeemCode)\n            .then((response) => {\n                this.setState({\n                    loading: false,\n                    dialog: \"redeem\",\n                    redeemInfo: response.data,\n                });\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    buyPack = (packType) => {\n        if (packType === \"pack\" && this.state.selectedPack === -1) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"请先选择一个容量包\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: true,\n        });\n        API.post(\"/vas/order\", {\n            action: packType,\n            method: this.state.packPayMethod,\n            id:\n                packType === \"score\"\n                    ? 1\n                    : packType === \"pack\"\n                    ? this.state.packs[this.state.selectedPack].id\n                    : this.state.groups[this.state.selectedGroup].id,\n            num:\n                packType === \"score\"\n                    ? parseInt(this.state.scoreNum)\n                    : parseInt(this.state.times),\n        })\n            .then((response) => {\n                if (!response.data.payment) {\n                    this.setState({\n                        loading: false,\n                        dialog: \"success\",\n                    });\n                    return;\n                }\n                if (response.data.qr_code) {\n                    this.setState({\n                        loading: false,\n                        dialog: \"qr\",\n                        payment: {\n                            type: this.state.packPayMethod,\n                            img: response.data.qr_code,\n                        },\n                    });\n                    this.IntervalId = window.setInterval(() => {\n                        this.querryLoop(response.data.id);\n                    }, 3000);\n                }\n            })\n            .catch((error) => {\n                this.setState({\n                    loading: false,\n                });\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    querryLoop = (id) => {\n        API.get(\"/vas/order/\" + id)\n            .then((response) => {\n                if (response.data === 1) {\n                    this.setState({\n                        dialog: \"success\",\n                    });\n                    window.clearInterval(this.IntervalId);\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"错误：\" + error.message,\n                    \"error\"\n                );\n                window.clearInterval(this.IntervalId);\n            });\n    };\n\n    handleChange = (event, value) => {\n        this.setState({\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n        this.setState({ value });\n    };\n\n    handleChangeIndex = (index) => {\n        this.setState({ value: index });\n    };\n\n    handleClose = () => {\n        window.clearInterval(this.IntervalId);\n        this.setState({\n            dialog: null,\n        });\n    };\n\n    handleTexyChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    selectPack = (id) => {\n        this.setState({\n            selectedPack: id,\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n    };\n\n    selectGroup = (id) => {\n        this.setState({\n            selectedGroup: id,\n            dialog: \"buyGroup\",\n            packPayMethod:\n                this.state.packPayMethod === \"score\"\n                    ? null\n                    : this.state.packPayMethod,\n        });\n    };\n\n    selectPackPayMethod = (event) => {\n        this.setState({\n            packPayMethod: event.target.value,\n        });\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        const methodSelect = (\n            <div>\n                <FormLabel>选择支付方式：</FormLabel>\n                <RadioGroup\n                    name=\"spacing\"\n                    aria-label=\"spacing\"\n                    value={this.state.packPayMethod}\n                    onChange={this.selectPackPayMethod}\n                    row\n                >\n                    {!this.state.alipay &&\n                        !this.state.payjs &&\n                        this.state.value === 0 &&\n                        (this.state.selectedPack === -1 ||\n                            this.state.packs[this.state.selectedPack].score ===\n                                0) &&\n                        this.state.value === 1 &&\n                        (this.state.selectedGroup === -1 ||\n                            this.state.groups[this.state.selectedGroup]\n                                .score === 0) && (\n                            <Typography>无可用支付方式</Typography>\n                        )}\n                    {this.state.alipay && (\n                        <FormControlLabel\n                            value={\"alipay\"}\n                            control={<Radio />}\n                            label={\"支付宝扫码\"}\n                        />\n                    )}\n                    {this.state.payjs && (\n                        <FormControlLabel\n                            value={\"payjs\"}\n                            control={<Radio />}\n                            label={\"微信扫码\"}\n                        />\n                    )}\n                    {this.state.wechat && (\n                        <FormControlLabel\n                            value={\"wechat\"}\n                            control={<Radio />}\n                            label={\"微信扫码\"}\n                        />\n                    )}\n                    {this.state.value === 0 &&\n                        this.state.selectedPack !== -1 &&\n                        this.state.packs[this.state.selectedPack].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                    {this.state.value === 1 &&\n                        this.state.selectedGroup !== -1 &&\n                        this.state.groups[this.state.selectedGroup].score !==\n                            0 && (\n                            <FormControlLabel\n                                value={\"score\"}\n                                control={<Radio />}\n                                label={\"积分支付\"}\n                            />\n                        )}\n                </RadioGroup>\n                <div>\n                    {this.state.value !== 2 && (\n                        <FormLabel>购买时长倍数：</FormLabel>\n                    )}\n                    {this.state.value === 2 && (\n                        <FormLabel>充值积分数量：</FormLabel>\n                    )}\n                </div>\n                {this.state.value !== 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            max: \"99\",\n                            step: \"1\",\n                        }}\n                        value={this.state.times}\n                        onChange={this.handleTexyChange(\"times\")}\n                    />\n                )}\n                {this.state.value === 2 && (\n                    <TextField\n                        className={classes.textField}\n                        type=\"number\"\n                        inputProps={{\n                            min: \"1\",\n                            step: \"1\",\n                            max: \"9999999\",\n                        }}\n                        value={this.state.scoreNum}\n                        onChange={this.handleTexyChange(\"scoreNum\")}\n                    />\n                )}\n            </div>\n        );\n\n        return (\n            <div className={classes.layout}>\n                <Typography\n                    color=\"textSecondary\"\n                    className={classes.title}\n                    variant=\"h3\"\n                >\n                    购买\n                </Typography>\n                <AppBar position=\"static\">\n                    <Tabs\n                        value={this.state.value}\n                        onChange={this.handleChange}\n                        variant=\"fullWidth\"\n                    >\n                        <Tab label=\"容量包\" icon={<SdStorage />} />\n                        <Tab label=\"会员\" icon={<SupervisedUserCircle />} />\n                        {this.state.scorePrice > 0 && (\n                            <Tab\n                                label=\"积分充值\"\n                                icon={<AccountBalanceWallet />}\n                            />\n                        )}\n                        <Tab label=\"使用激活码\" icon={<LocalPlay />} />\n                    </Tabs>\n                </AppBar>\n                {this.state.value === 0 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={3}>\n                            {this.state.packs.map((value, id) => (\n                                <Grid item xs={12} md={3} key={id}>\n                                    <PackSelect\n                                        pack={value}\n                                        onSelect={() => this.selectPack(id)}\n                                        active={this.state.selectedPack === id}\n                                    />\n                                </Grid>\n                            ))}\n                        </Grid>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {(\n                                                                (this.state\n                                                                    .packs[\n                                                                    this.state\n                                                                        .selectedPack\n                                                                ].price /\n                                                                    100) *\n                                                                this.state.times\n                                                            ).toFixed(2)}\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                        {this.state.packPayMethod ===\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                {this.state.selectedPack ===\n                                                    -1 && <span>--</span>}\n                                                {this.state.selectedPack !==\n                                                    -1 &&\n                                                    this.state.times <= 99 &&\n                                                    this.state.times >= 1 && (\n                                                        <span>\n                                                            {this.state.packs[\n                                                                this.state\n                                                                    .selectedPack\n                                                            ].score *\n                                                                this.state\n                                                                    .times}{\" \"}\n                                                            积分\n                                                        </span>\n                                                    )}\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() => this.buyPack(\"pack\")}\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n                {this.state.value === 1 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid container spacing={5} alignItems=\"flex-end\">\n                            {this.state.groups.map((tier, id) => (\n                                // Enterprise card is full width at sm breakpoint\n                                <Grid item key={id} xs={12} sm={6} md={4}>\n                                    <Card>\n                                        <CardHeader\n                                            title={tier.name}\n                                            subheader={\n                                                tier.highlight ? \"推荐\" : null\n                                            }\n                                            titleTypographyProps={{\n                                                align: \"center\",\n                                            }}\n                                            subheaderTypographyProps={{\n                                                align: \"center\",\n                                            }}\n                                            action={\n                                                tier.highlight ? (\n                                                    <StarIcon />\n                                                ) : null\n                                            }\n                                            className={classes.cardHeader}\n                                        />\n                                        <CardContent>\n                                            <div\n                                                className={classes.cardPricing}\n                                            >\n                                                <Typography\n                                                    component=\"h2\"\n                                                    variant=\"h3\"\n                                                    color=\"textPrimary\"\n                                                >\n                                                    ￥{tier.price / 100}\n                                                </Typography>\n                                                <Typography\n                                                    variant=\"h6\"\n                                                    color=\"textSecondary\"\n                                                >\n                                                    /\n                                                    {Math.ceil(\n                                                        tier.time / 86400\n                                                    )}\n                                                    天\n                                                </Typography>\n                                            </div>\n                                            {tier.des.map((line) => (\n                                                <Typography\n                                                    variant=\"subtitle1\"\n                                                    align=\"center\"\n                                                    key={line}\n                                                >\n                                                    {line}\n                                                </Typography>\n                                            ))}\n                                        </CardContent>\n                                        <CardActions\n                                            className={classes.cardActions}\n                                        >\n                                            <Button\n                                                fullWidth\n                                                variant={\n                                                    tier.highlight\n                                                        ? \"contained\"\n                                                        : \"outlined\"\n                                                }\n                                                color=\"primary\"\n                                                onClick={() =>\n                                                    this.selectGroup(id)\n                                                }\n                                            >\n                                                立即购买\n                                            </Button>\n                                        </CardActions>\n                                    </Card>\n                                </Grid>\n                            ))}\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 2 && (\n                    <Paper className={classes.paper} square={true}>\n                        <Grid\n                            container\n                            className={classes.payMethod}\n                            spacing={1}\n                        >\n                            <Grid sm={6} xs={12}>\n                                {methodSelect}\n                            </Grid>\n                            <Grid sm={6} xs={12}>\n                                <div className={classes.action}>\n                                    <div>\n                                        当前费用：\n                                        {this.state.packPayMethod !==\n                                            \"score\" && (\n                                            <span className={classes.priceShow}>\n                                                ￥\n                                                <span>\n                                                    {(\n                                                        (this.state.scorePrice /\n                                                            100) *\n                                                        this.state.scoreNum\n                                                    ).toFixed(2)}\n                                                </span>\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            size=\"large\"\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            className={classes.button}\n                                            disabled={\n                                                this.state.loading ||\n                                                this.state.packPayMethod ===\n                                                    null\n                                            }\n                                            onClick={() =>\n                                                this.buyPack(\"score\")\n                                            }\n                                        >\n                                            <ShopIcon /> 立即购买\n                                        </Button>\n                                    </div>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                )}\n\n                {this.state.value === 3 && (\n                    <Paper className={classes.paper} square={true}>\n                        <div className={classes.redeemContainer}>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"输入激活码\"\n                                value={this.state.redeemCode}\n                                onChange={this.handleTexyChange(\"redeemCode\")}\n                                margin=\"normal\"\n                                inputProps={{\n                                    style: { textTransform: \"uppercase\" },\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.doRedeem}>\n                                <Button\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    className={classes.button}\n                                    disabled={this.state.loading}\n                                    onClick={this.doRedeem}\n                                >\n                                    下一步\n                                </Button>\n                            </div>\n                        </div>\n                    </Paper>\n                )}\n                <Dialog\n                    open={this.state.dialog === \"qr\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            请使用\n                            {this.state.payment.type === \"alipay\" && (\n                                <span>支付宝</span>\n                            )}\n                            {this.state.payment.type === \"payjs\" && (\n                                <span>微信</span>\n                            )}\n                            扫描下方二维码完成付款，付款完成后本页面会自动刷新。\n                        </DialogContentText>\n                        <div className={classes.codeContainer}>\n                            <QRCode value={this.state.payment.img} />,\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"success\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">支付完成</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            您所购买的商品已到账。\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"redeem\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">确认兑换</DialogTitle>\n                    <DialogContent>\n                        {this.state.redeemInfo !== null && (\n                            <DialogContentText id=\"alert-dialog-description\">\n                                <Typography variant=\"subtitle1\">\n                                    商品名称：\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.name}\n                                </Typography>\n                                <Typography variant=\"subtitle1\">\n                                    {this.state.redeemInfo.type === 2\n                                        ? \"数量：\"\n                                        : \"时长：\"}\n                                </Typography>\n                                <Typography>\n                                    {this.state.redeemInfo.type === 2 && (\n                                        <>{this.state.redeemInfo.num}</>\n                                    )}\n                                    {this.state.redeemInfo.type !== 2 && (\n                                        <>\n                                            {Math.ceil(\n                                                this.state.redeemInfo.time /\n                                                    86400\n                                            ) * this.state.redeemInfo.num}\n                                            天\n                                        </>\n                                    )}\n                                </Typography>\n                            </DialogContentText>\n                        )}\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose}>取消</Button>\n                        <Button\n                            onClick={this.confirmRedeem}\n                            color=\"primary\"\n                            disabled={this.state.loading}\n                        >\n                            确认兑换\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n                <Dialog\n                    open={this.state.dialog === \"buyGroup\"}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">\n                        购买用户组\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            已选：\n                            {this.state.selectedGroup !== -1 &&\n                                this.state.groups[this.state.selectedGroup]\n                                    .name}\n                        </DialogContentText>\n                        {methodSelect}\n                        <div>\n                            当前费用：\n                            {this.state.packPayMethod !== \"score\" && (\n                                <span className={classes.priceShow}>\n                                    ￥\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {(\n                                                    (this.state.groups[\n                                                        this.state.selectedGroup\n                                                    ].price /\n                                                        100) *\n                                                    this.state.times\n                                                ).toFixed(2)}\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                            {this.state.packPayMethod === \"score\" && (\n                                <span className={classes.priceShow}>\n                                    {this.state.selectedGroup === -1 && (\n                                        <span>--</span>\n                                    )}\n                                    {this.state.selectedGroup !== -1 &&\n                                        this.state.times <= 99 &&\n                                        this.state.times >= 1 && (\n                                            <span>\n                                                {this.state.groups[\n                                                    this.state.selectedGroup\n                                                ].score * this.state.times}{\" \"}\n                                                积分\n                                            </span>\n                                        )}\n                                </span>\n                            )}\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button\n                            onClick={this.handleClose}\n                            disabled={this.state.loading}\n                        >\n                            取消\n                        </Button>\n                        <Button\n                            disabled={\n                                this.state.loading ||\n                                this.state.packPayMethod === null\n                            }\n                            onClick={() => this.buyPack(\"group\")}\n                            color=\"primary\"\n                        >\n                            购买\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst BuyQuota = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(BuyQuotaCompoment)));\n\nexport default BuyQuota;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { FolderOpenOutlined, LabelOutlined } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1),\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color: theme.palette.text.secondary,\n    },\n    input: {\n        width: 250,\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24,\n    },\n    button: {\n        marginTop: 8,\n    },\n}));\n\nexport default function CreateWebDAVAccount(props) {\n    const [value, setValue] = useState({\n        name: \"\",\n        path: \"/\",\n    });\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n    const classes = useStyles();\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = (name) => (e) => {\n        setValue({\n            ...value,\n            [name]: e.target.value,\n        });\n    };\n\n    const selectPath = () => {\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath,\n        });\n        setPathSelectDialog(false);\n    };\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    selected={[]}\n                    onSelect={setMoveTarget}\n                />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button\n                        onClick={selectPath}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\"}\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <LabelOutlined />\n                        </div>\n\n                        <TextField\n                            className={classes.input}\n                            value={value.name}\n                            onChange={handleInputChange(\"name\")}\n                            label=\"备注名\"\n                        />\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"相对根目录\"\n                            />\n                            <br />\n                            <Button\n                                className={classes.button}\n                                color=\"primary\"\n                                onClick={() => setPathSelectDialog(true)}\n                            >\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    disabled={value.path === \"\" || value.name === \"\"}\n                    color=\"primary\"\n                    onClick={() => props.callback(value)}\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Dialog } from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { FolderOpenOutlined, Storage } from \"@material-ui/icons\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { toggleSnackbar } from \"../../actions\";\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        display: \"flex\",\n        marginTop: theme.spacing(1),\n    },\n    formIcon: {\n        marginTop: 21,\n        marginRight: 19,\n        color: theme.palette.text.secondary,\n    },\n    input: {\n        width: 250,\n    },\n    dialogContent: {\n        paddingTop: 24,\n        paddingRight: 24,\n        paddingBottom: 8,\n        paddingLeft: 24,\n    },\n    button: {\n        marginTop: 8,\n    },\n}));\n\nexport default function CreateWebDAVMount(props) {\n    const [value, setValue] = useState({\n        policy: \"\",\n        path: \"/\",\n    });\n    const [policies, setPolicies] = useState([]);\n    const [pathSelectDialog, setPathSelectDialog] = React.useState(false);\n    const [selectedPath, setSelectedPath] = useState(\"\");\n    // eslint-disable-next-line\n    const [selectedPathName, setSelectedPathName] = useState(\"\");\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const setMoveTarget = (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setSelectedPath(path);\n        setSelectedPathName(folder.name);\n    };\n\n    const handleInputChange = (name) => (e) => {\n        setValue({\n            ...value,\n            [name]: e.target.value,\n        });\n    };\n\n    const selectPath = () => {\n        setValue({\n            ...value,\n            path: selectedPath === \"//\" ? \"/\" : selectedPath,\n        });\n        setPathSelectDialog(false);\n    };\n\n    useEffect(() => {\n        API.get(\"/user/setting/policies\")\n            .then((response) => {\n                setPolicies(response.data.options);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <Dialog\n                open={pathSelectDialog}\n                onClose={() => setPathSelectDialog(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    selected={[]}\n                    onSelect={setMoveTarget}\n                />\n\n                <DialogActions>\n                    <Button onClick={() => setPathSelectDialog(false)}>\n                        取消\n                    </Button>\n                    <Button\n                        onClick={selectPath}\n                        color=\"primary\"\n                        disabled={selectedPath === \"\"}\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <div className={classes.dialogContent}>\n                <div className={classes.formContainer}>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <Storage />\n                        </div>\n                        <FormControl className={classes.formControl}>\n                            <InputLabel id=\"demo-simple-select-label\">\n                                存储策略\n                            </InputLabel>\n                            <Select\n                                className={classes.input}\n                                labelId=\"demo-simple-select-label\"\n                                value={value.policy}\n                                onChange={handleInputChange(\"policy\")}\n                            >\n                                {policies.map((v, k) => (\n                                    <MenuItem key={k} value={v.id}>\n                                        {v.name}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div className={classes.formGroup}>\n                        <div className={classes.formIcon}>\n                            <FolderOpenOutlined />\n                        </div>\n                        <div>\n                            <TextField\n                                value={value.path}\n                                onChange={handleInputChange(\"path\")}\n                                className={classes.input}\n                                label=\"目录\"\n                            />\n                            <br />\n                            <Button\n                                className={classes.button}\n                                color=\"primary\"\n                                onClick={() => setPathSelectDialog(true)}\n                            >\n                                选择目录\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <Button\n                    disabled={value.path === \"\" || value.policy === \"\"}\n                    color=\"primary\"\n                    onClick={() => props.callback(value)}\n                >\n                    确定\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Button from \"@material-ui/core/Button\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Auth from \"../../middleware/Auth\";\nimport API from \"../../middleware/Api\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Delete } from \"@material-ui/icons\";\nimport CreateWebDAVAccount from \"../Modals/CreateWebDAVAccount\";\nimport TimeAgo from \"timeago-react\";\nimport CreateWebDAVMount from \"../Modals/CreateWebDAVMount\";\nimport Link from \"@material-ui/core/Link\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n    content: {\n        marginTop: theme.spacing(4),\n    },\n    cardContent: {\n        padding: theme.spacing(2),\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n    create: {\n        marginTop: theme.spacing(2),\n    },\n    copy: {\n        marginLeft: 10,\n    },\n}));\n\nexport default function WebDAV() {\n    const [tab, setTab] = useState(0);\n    const [create, setCreate] = useState(false);\n    const [mount, setMount] = useState(false);\n    const [accounts, setAccounts] = useState([]);\n    const [folders, setFolders] = useState([]);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const copyToClipboard = (text) => {\n        navigator.clipboard.writeText(text);\n        ToggleSnackbar(\"top\", \"center\", \"已复制到剪切板\", \"success\");\n    };\n\n    const loadList = () => {\n        API.get(\"/webdav/accounts\")\n            .then((response) => {\n                setAccounts(response.data.accounts);\n                setFolders(response.data.folders);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n    useEffect(() => {\n        loadList();\n        // eslint-disable-next-line\n    }, []);\n\n    const deleteAccount = (id) => {\n        const account = accounts[id];\n        API.delete(\"/webdav/accounts/\" + account.ID)\n            .then(() => {\n                let accountCopy = [...accounts];\n                accountCopy = accountCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setAccounts(accountCopy);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const deleteMount = (id) => {\n        const folder = folders[id];\n        API.delete(\"/webdav/mount/\" + folder.id)\n            .then(() => {\n                let folderCopy = [...folders];\n                folderCopy = folderCopy.filter((v, i) => {\n                    return i !== id;\n                });\n                setFolders(folderCopy);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addAccount = (account) => {\n        setCreate(false);\n        API.post(\"/webdav/accounts\", {\n            path: account.path,\n            name: account.name,\n        })\n            .then((response) => {\n                setAccounts([\n                    {\n                        ID: response.data.id,\n                        Password: response.data.password,\n                        CreatedAt: response.data.created_at,\n                        Name: account.name,\n                        Root: account.path,\n                    },\n                    ...accounts,\n                ]);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const addMount = (mountInfo) => {\n        setMount(false);\n        API.post(\"/webdav/mount\", {\n            path: mountInfo.path,\n            policy: mountInfo.policy,\n        })\n            .then(() => {\n                loadList();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const classes = useStyles();\n    const user = Auth.GetUser();\n\n    return (\n        <div className={classes.layout}>\n            <CreateWebDAVAccount\n                callback={addAccount}\n                open={create}\n                onClose={() => setCreate(false)}\n            />\n            <CreateWebDAVMount\n                callback={addMount}\n                open={mount}\n                onClose={() => setMount(false)}\n            />\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                WebDAV\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Tabs\n                    value={tab}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    onChange={(event, newValue) => setTab(newValue)}\n                    aria-label=\"disabled tabs example\"\n                >\n                    <Tab label=\"账号管理\" />\n                    <Tab label=\"存储策略挂载\" />\n                </Tabs>\n                <div className={classes.cardContent}>\n                    {tab === 0 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                WebDAV的地址为：\n                                {window.location.origin + \"/dav\"}\n                                ；登陆用户名统一为：{user.user_name}{\" \"}\n                                ；密码为所创建账号的密码。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>备注名</TableCell>\n                                            <TableCell>密码</TableCell>\n                                            <TableCell align=\"right\">\n                                                根目录\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                创建日期\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {accounts.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.Name}\n                                                </TableCell>\n                                                <TableCell>\n                                                    {row.Password}\n                                                    <Link\n                                                        className={classes.copy}\n                                                        onClick={() =>\n                                                            copyToClipboard(\n                                                                row.Password\n                                                            )\n                                                        }\n                                                        href={\"javascript:void\"}\n                                                    >\n                                                        复制\n                                                    </Link>\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.Root}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <TimeAgo\n                                                        datetime={row.CreatedAt}\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteAccount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setCreate(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                创建新账号\n                            </Button>\n                        </div>\n                    )}\n                    {tab === 1 && (\n                        <div>\n                            <Alert severity=\"info\">\n                                为目录挂载存储策略后，在 WebDAV\n                                中上传至此目录的新文件将会使用挂载的存储策略存储。复制、移动到此目录不会应用挂载的存储策略；挂载设置不会被子目录继承。\n                            </Alert>\n                            <TableContainer className={classes.tableContainer}>\n                                <Table\n                                    size=\"small\"\n                                    className={classes.table}\n                                    aria-label=\"simple table\"\n                                >\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>目录名</TableCell>\n                                            <TableCell align=\"right\">\n                                                挂载存储策略\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                操作\n                                            </TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {folders.map((row, id) => (\n                                            <TableRow key={id}>\n                                                <TableCell\n                                                    component=\"th\"\n                                                    scope=\"row\"\n                                                >\n                                                    {row.name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    {row.policy_name}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size={\"small\"}\n                                                        onClick={() =>\n                                                            deleteMount(id)\n                                                        }\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                            <Button\n                                onClick={() => setMount(true)}\n                                className={classes.create}\n                                variant=\"contained\"\n                                color=\"secondary\"\n                            >\n                                挂载新目录\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport API from \"../../middleware/Api\";\nimport { getTaskProgress, getTaskStatus, getTaskType } from \"../../config\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: \"50px\",\n    },\n    content: {\n        marginTop: theme.spacing(4),\n        overflowX: \"auto\",\n    },\n    cardContent: {\n        padding: theme.spacing(2),\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n    create: {\n        marginTop: theme.spacing(2),\n    },\n    noWrap: {\n        wordBreak: \"keepAll\",\n    },\n    footer: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function Tasks() {\n    const [tasks, setTasks] = useState([]);\n    const [total, setTotal] = useState(0);\n    const [page, setPage] = useState(1);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = (page) => {\n        API.get(\"/user/setting/tasks?page=\" + page)\n            .then((response) => {\n                setTasks(response.data.tasks);\n                setTotal(response.data.total);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList(page);\n        // eslint-disable-next-line\n    }, [page]);\n\n    const getError = (error) => {\n        if (error === \"\") {\n            return \"-\";\n        }\n        try {\n            const res = JSON.parse(error);\n            return res.msg;\n        } catch (e) {\n            return \"未知\";\n        }\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Typography color=\"textSecondary\" variant=\"h4\">\n                任务队列\n            </Typography>\n            <Paper elevation={3} className={classes.content}>\n                <Table className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell nowrap=\"nowrap\">创建于</TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                任务类型\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                状态\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\" align=\"right\">\n                                最后进度\n                            </TableCell>\n                            <TableCell nowrap=\"nowrap\">错误信息</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {tasks.map((row, id) => (\n                            <TableRow key={id}>\n                                <TableCell\n                                    nowrap=\"nowrap\"\n                                    component=\"th\"\n                                    scope=\"row\"\n                                >\n                                    {formatLocalTime(\n                                        row.create_date,\n                                        \"YYYY-MM-DD H:mm:ss\"\n                                    )}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskType(row.type)}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskStatus(row.status)}\n                                </TableCell>\n                                <TableCell nowrap=\"nowrap\" align=\"right\">\n                                    {getTaskProgress(row.type, row.progress)}\n                                </TableCell>\n                                <TableCell className={classes.noWrap}>\n                                    {getError(row.error)}\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n                <div className={classes.footer}>\n                    <Pagination\n                        count={Math.ceil(total / 10)}\n                        onChange={(e, v) => setPage(v)}\n                        color=\"secondary\"\n                    />\n                </div>\n            </Paper>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\r\nimport { useParams } from \"react-router\";\n\nexport default function Ifm() {\r\n    const params = useParams(\"action\");\r\n\tlet iFrameHeight = '500px';\r\n\tlet iframe = null;\r\n\r\n    const getCookie =(name)=> {\r\n        const strcookie = document.cookie;//获取cookie字符串\r\n            const arrcookie = strcookie.split(\"; \");//分割\r\n            //遍历匹配\r\n            for ( let i = 0; i < arrcookie.length; i++) {\r\n                const arr = arrcookie[i].split(\"=\");\r\n                if (arr[0] == name){\r\n                    return unescape(arr[1]);\r\n                }\r\n            }\r\n        return null;\r\n    }\r\n\t\r\n    const ifmUrl = ()=>{\r\n        return \"/app/index.php?\" + params.action + \"&token=\" + getCookie(\"token\");\r\n    }\n     return (\n        <iframe \n                style={{width:'100%', overflow:'visible'}}\n                onLoad={() => {\r\n\t\t\t\t\tiFrameHeight = (document.documentElement.clientHeight - (document.documentElement.clientHeight * 0.075)) + 'px';\r\n\t\t\t\t\tiframe.height = iFrameHeight;\r\n                }} \r\n\t\t\t\tref={(c) => { iframe = c; }}\n                src={ifmUrl()} \n                width=\"100%\" \n                height={iFrameHeight} \n                frameBorder=\"0\"\n\t\t\t\tscrolling=\"auto\"\n            />\n     );\n}","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\n\nimport {\n    withStyles,\n    Paper,\n    Avatar,\n    Typography,\n    Tabs,\n    Tab,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    Grid,\n} from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport { formatLocalTime } from \"../../utils/datetime\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"50px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        marginBottom: \"30px\",\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    userNav: {\n        height: \"270px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage:\n            \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\" +\n            theme.palette.primary.light.replace(\"#\", \"%23\") +\n            \"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.dark.replace(\"#\", \"%23\") +\n            \"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.primary.main.replace(\"#\", \"%23\") +\n            \"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.light.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.main.replace(\"#\", \"%23\") +\n            \"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\" +\n            theme.palette.secondary.dark.replace(\"#\", \"%23\") +\n            \"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"bottom\",\n    },\n    avatarContainer: {\n        height: \"80px\",\n        width: \"80px\",\n        borderRaidus: \"50%\",\n        margin: \"auto\",\n        marginTop: \"50px\",\n        boxShadow:\n            \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n        border: \"2px solid #fff\",\n    },\n    nickName: {\n        width: \"200px\",\n        margin: \"auto\",\n        textAlign: \"center\",\n        marginTop: \"1px\",\n        fontSize: \"25px\",\n        color: \"#ffffff\",\n        opacity: \"0.81\",\n    },\n    th: {\n        minWidth: \"106px\",\n    },\n    mobileHide: {\n        [theme.breakpoints.down(\"md\")]: {\n            display: \"none\",\n        },\n    },\n    tableLink: {\n        cursor: \"pointer\",\n    },\n    navigator: {\n        padding: theme.spacing(2),\n    },\n    pageInfo: {\n        marginTop: \"14px\",\n        marginLeft: \"23px\",\n    },\n    infoItem: {\n        paddingLeft: \"46px!important\",\n        paddingBottom: \"20px!important\",\n    },\n    infoContainer: {\n        marginTop: \"30px\",\n    },\n    tableContainer: {\n        overflowX: \"auto\",\n    },\n});\nconst mapStateToProps = () => {\n    return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nclass ProfileCompoment extends Component {\n    state = {\n        listType: 0,\n        shareList: [],\n        page: 1,\n        user: null,\n        total: 0,\n    };\n\n    handleChange = (event, listType) => {\n        this.setState({ listType });\n        if (listType === 1) {\n            this.loadList(1, \"hot\");\n        } else if (listType === 0) {\n            this.loadList(1, \"default\");\n        }\n    };\n\n    componentDidMount = () => {\n        this.loadList(1, \"default\");\n    };\n\n    loadList = (page, order) => {\n        API.get(\n            \"/user/profile/\" +\n                this.props.match.params.id +\n                \"?page=\" +\n                page +\n                \"&type=\" +\n                order\n        )\n            .then((response) => {\n                this.setState({\n                    shareList: response.data.items,\n                    user: response.data.user,\n                    total: response.data.total,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    loadNext = () => {\n        this.loadList(\n            this.state.page + 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    loadPrev = () => {\n        this.loadList(\n            this.state.page - 1,\n            this.state.listType === 0 ? \"default\" : \"hot\"\n        );\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                {this.state.user === null && <div></div>}\n                {this.state.user !== null && (\n                    <Paper square>\n                        <div className={classes.userNav}>\n                            <div>\n                                <Avatar\n                                    className={classes.avatarContainer}\n                                    src={\n                                        \"/api/v3/user/avatar/\" +\n                                        this.state.user.id +\n                                        \"/l\"\n                                    }\n                                />\n                            </div>\n                            <div>\n                                <Typography className={classes.nickName} noWrap>\n                                    {this.state.user.nick}\n                                </Typography>\n                            </div>\n                        </div>\n                        <Tabs\n                            value={this.state.listType}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            onChange={this.handleChange}\n                            centered\n                        >\n                            <Tab label=\"全部分享\" />\n                            <Tab label=\"热门分享\" />\n                            <Tab label=\"个人资料\" />\n                        </Tabs>\n                        {this.state.listType === 2 && (\n                            <div className={classes.infoContainer}>\n                                <Grid container spacing={24}>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            UID\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.id}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            昵称\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.nick}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            用户组\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.group}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            分享总数\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.total}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid\n                                        item\n                                        md={4}\n                                        xs={12}\n                                        className={classes.infoItem}\n                                    >\n                                        <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"h6\"\n                                        >\n                                            注册日期\n                                        </Typography>\n                                        <Typography>\n                                            {this.state.user.date}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        )}\n                        {(this.state.listType === 0 ||\n                            this.state.listType === 1) && (\n                            <div>\n                                <div className={classes.tableContainer}>\n                                    <Table className={classes.table}>\n                                        <TableHead>\n                                            <TableRow>\n                                                <TableCell>文件名</TableCell>\n                                                <TableCell\n                                                    className={\n                                                        classes.mobileHide\n                                                    }\n                                                >\n                                                    分享日期\n                                                </TableCell>\n                                                <TableCell\n                                                    className={[\n                                                        classes.th,\n                                                        classes.mobileHide,\n                                                    ]}\n                                                >\n                                                    下载次数\n                                                </TableCell>\n                                                <TableCell\n                                                    className={[\n                                                        classes.th,\n                                                        classes.mobileHide,\n                                                    ]}\n                                                >\n                                                    浏览次数\n                                                </TableCell>\n                                            </TableRow>\n                                        </TableHead>\n                                        <TableBody>\n                                            {this.state.shareList.map(\n                                                (row, id) => (\n                                                    <TableRow\n                                                        key={id}\n                                                        className={\n                                                            classes.tableLink\n                                                        }\n                                                        onClick={() =>\n                                                            this.props.history.push(\n                                                                \"/s/\" + row.key\n                                                            )\n                                                        }\n                                                    >\n                                                        <TableCell>\n                                                            <Typography>\n                                                                {row.source\n                                                                    ? row.source\n                                                                          .name\n                                                                    : \"[已失效]\"}\n                                                            </Typography>\n                                                        </TableCell>\n                                                        <TableCell\n                                                            nowrap={\"nowrap\"}\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {formatLocalTime(\n                                                                row.create_date,\n                                                                \"YYYY-MM-DD H:mm:ss\"\n                                                            )}\n                                                        </TableCell>\n                                                        <TableCell\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.downloads}\n                                                        </TableCell>\n                                                        <TableCell\n                                                            className={\n                                                                classes.mobileHide\n                                                            }\n                                                        >\n                                                            {row.views}\n                                                        </TableCell>\n                                                    </TableRow>\n                                                )\n                                            )}\n                                        </TableBody>\n                                    </Table>\n                                </div>\n                                {this.state.shareList.length !== 0 &&\n                                    this.state.listType === 0 && (\n                                        <div className={classes.navigator}>\n                                            <Pagination\n                                                count={Math.ceil(\n                                                    this.state.total / 10\n                                                )}\n                                                onChange={(e, v) =>\n                                                    this.loadList(\n                                                        v,\n                                                        this.state.listType ===\n                                                            0\n                                                            ? \"default\"\n                                                            : \"hot\"\n                                                    )\n                                                }\n                                                color=\"secondary\"\n                                            />\n                                        </div>\n                                    )}\n                            </div>\n                        )}\n                    </Paper>\n                )}\n            </div>\n        );\n    }\n}\n\nconst Profile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(ProfileCompoment)));\n\nexport default Profile;\n","import React, { useState, useCallback } from \"react\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport { Add, Fingerprint, HighlightOff } from \"@material-ui/icons\";\nimport API from \"../../middleware/Api\";\nimport { bufferDecode, bufferEncode } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\",\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40,\n    },\n    flexContainer: {\n        display: \"flex\",\n    },\n}));\n\nexport default function Authn(props) {\n    const [selected, setSelected] = useState(\"\");\n    const [confirm, setConfirm] = useState(false);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const deleteCredential = (id) => {\n        API.patch(\"/user/setting/authn\", {\n            id: id,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"凭证已删除\", \"success\");\n                props.remove(id);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setConfirm(false);\n            });\n    };\n\n    const classes = useStyles();\n\n    const addCredential = () => {\n        if (!navigator.credentials) {\n            ToggleSnackbar(\"top\", \"right\", \"当前浏览器或环境不支持\", \"warning\");\n\n            return;\n        }\n        API.put(\"/user/authn\", {})\n            .then((response) => {\n                const credentialCreationOptions = response.data;\n                credentialCreationOptions.publicKey.challenge = bufferDecode(\n                    credentialCreationOptions.publicKey.challenge\n                );\n                credentialCreationOptions.publicKey.user.id = bufferDecode(\n                    credentialCreationOptions.publicKey.user.id\n                );\n                if (credentialCreationOptions.publicKey.excludeCredentials) {\n                    for (\n                        let i = 0;\n                        i <\n                        credentialCreationOptions.publicKey.excludeCredentials\n                            .length;\n                        i++\n                    ) {\n                        credentialCreationOptions.publicKey.excludeCredentials[\n                            i\n                        ].id = bufferDecode(\n                            credentialCreationOptions.publicKey\n                                .excludeCredentials[i].id\n                        );\n                    }\n                }\n\n                return navigator.credentials.create({\n                    publicKey: credentialCreationOptions.publicKey,\n                });\n            })\n            .then((credential) => {\n                const attestationObject = credential.response.attestationObject;\n                const clientDataJSON = credential.response.clientDataJSON;\n                const rawId = credential.rawId;\n                return API.put(\n                    \"/user/authn/finish\",\n                    JSON.stringify({\n                        id: credential.id,\n                        rawId: bufferEncode(rawId),\n                        type: credential.type,\n                        response: {\n                            attestationObject: bufferEncode(attestationObject),\n                            clientDataJSON: bufferEncode(clientDataJSON),\n                        },\n                    })\n                );\n            })\n            .then((response) => {\n                props.add(response.data);\n                ToggleSnackbar(\"top\", \"right\", \"验证器已添加\", \"success\");\n                return;\n            })\n            .catch((error) => {\n                console.log(error);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <div>\n            <Dialog open={confirm} onClose={() => setConfirm(false)}>\n                <DialogTitle>删除凭证</DialogTitle>\n                <DialogContent>确定要吊销这个凭证吗？</DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setConfirm(false)} color=\"default\">\n                        取消\n                    </Button>\n                    <Button\n                        onClick={() => deleteCredential(selected)}\n                        color=\"primary\"\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <Typography className={classes.sectionTitle} variant=\"subtitle2\">\n                外部认证器\n            </Typography>\n            <Paper>\n                <List className={classes.desenList}>\n                    {props.list.map((v) => (\n                        <>\n                            <ListItem\n                                button\n                                style={{\n                                    paddingRight: 60,\n                                }}\n                                onClick={() => {\n                                    setConfirm(true);\n                                    setSelected(v.id);\n                                }}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Fingerprint />\n                                </ListItemIcon>\n                                <ListItemText primary={v.fingerprint} />\n\n                                <ListItemSecondaryAction\n                                    onClick={() => deleteCredential(v.id)}\n                                    className={classes.flexContainer}\n                                >\n                                    <HighlightOff\n                                        className={classes.rightIcon}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                        </>\n                    ))}\n                    <ListItem button onClick={() => addCredential()}>\n                        <ListItemIcon className={classes.iconFix}>\n                            <Add />\n                        </ListItemIcon>\n                        <ListItemText primary=\"添加新验证器\" />\n\n                        <ListItemSecondaryAction\n                            className={classes.flexContainer}\n                        >\n                            <RightIcon className={classes.rightIcon} />\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                </List>\n            </Paper>\n        </div>\n    );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport { FormLabel, makeStyles } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    DialogContentText,\n    CircularProgress,\n} from \"@material-ui/core\";\nimport { toggleSnackbar, setModalsLoading } from \"../../actions/index\";\nimport PathSelector from \"../FileManager/PathSelector\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {\n    refreshTimeZone,\n    timeZone,\n    validateTimeZone,\n} from \"../../utils/datetime\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Auth from \"../../middleware/Auth\";\n\nconst useStyles = makeStyles((theme) => ({}));\n\nexport default function TimeZoneDialog(props) {\n    const [timeZoneValue, setTimeZoneValue] = useState(timeZone);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const saveZoneInfo = () => {\n        if (!validateTimeZone(timeZoneValue)) {\n            ToggleSnackbar(\"top\", \"right\", \"无效的时区名称\", \"warning\");\n            return;\n        }\n        Auth.SetPreference(\"timeZone\", timeZoneValue);\n        refreshTimeZone();\n        props.onClose();\n    };\n\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">更改时区</DialogTitle>\n\n            <DialogContent>\n                <FormControl>\n                    <TextField\n                        label={\"IANA 时区名称标识\"}\n                        value={timeZoneValue}\n                        onChange={(e) => setTimeZoneValue(e.target.value)}\n                    />\n                </FormControl>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={props.onClose}>取消</Button>\n                <div className={classes.wrapper}>\n                    <Button\n                        color=\"primary\"\n                        disabled={timeZoneValue === \"\"}\n                        onClick={() => saveZoneInfo()}\n                    >\n                        确定\n                        {props.modalsLoading && (\n                            <CircularProgress\n                                size={24}\n                                className={classes.buttonProgress}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PhotoIcon from \"@material-ui/icons/InsertPhoto\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport DateIcon from \"@material-ui/icons/DateRange\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport LinkIcon from \"@material-ui/icons/Phonelink\";\nimport AlarmOff from \"@material-ui/icons/AlarmOff\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport SecurityIcon from \"@material-ui/icons/Security\";\nimport NickIcon from \"@material-ui/icons/PermContactCalendar\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport VerifyIcon from \"@material-ui/icons/VpnKey\";\nimport ColorIcon from \"@material-ui/icons/Palette\";\nimport {\n    applyThemes,\n    changeViewMethod,\n    toggleDaylightMode,\n    toggleSnackbar,\n} from \"../../actions\";\nimport axios from \"axios\";\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport {\n    ListItemIcon,\n    withStyles,\n    Button,\n    Divider,\n    TextField,\n    Avatar,\n    Paper,\n    Typography,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    ListItemAvatar,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Switch,\n} from \"@material-ui/core\";\nimport Backup from \"@material-ui/icons/Backup\";\nimport SettingsInputHdmi from \"@material-ui/icons/SettingsInputHdmi\";\nimport { blue, green, yellow } from \"@material-ui/core/colors\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { withRouter } from \"react-router\";\nimport TimeAgo from \"timeago-react\";\nimport QRCode from \"qrcode-react\";\nimport {\n    Brightness3,\n    Check,\n    ConfirmationNumber,\n    ListAlt,\n    PermContactCalendar,\n    Schedule,\n} from \"@material-ui/icons\";\nimport { transformTime } from \"../../utils\";\nimport Authn from \"./Authn\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { formatLocalTime, timeZone } from \"../../utils/datetime\";\nimport TimeZoneDialog from \"../Modals/TimeZone\";\n\nconst styles = (theme) => ({\n    layout: {\n        width: \"auto\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 700,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n    },\n    sectionTitle: {\n        paddingBottom: \"10px\",\n        paddingTop: \"30px\",\n    },\n    rightIcon: {\n        marginTop: \"4px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    uploadFromFile: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    userGravatar: {\n        backgroundColor: yellow[100],\n        color: yellow[800],\n    },\n    policySelected: {\n        backgroundColor: green[100],\n        color: green[800],\n    },\n    infoText: {\n        marginRight: \"17px\",\n    },\n    infoTextWithIcon: {\n        marginRight: \"17px\",\n        marginTop: \"1px\",\n    },\n    rightIconWithText: {\n        marginTop: \"0px\",\n        marginRight: \"10px\",\n        color: theme.palette.text.secondary,\n    },\n    iconFix: {\n        marginRight: \"11px\",\n        marginLeft: \"7px\",\n        minWidth: 40,\n    },\n    flexContainer: {\n        display: \"flex\",\n    },\n    desenList: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    flexContainerResponse: {\n        display: \"flex\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"initial\",\n        },\n    },\n    desText: {\n        marginTop: \"10px\",\n    },\n    secondColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.secondary.main,\n        borderRadius: \"50%\",\n        marginRight: \"17px\",\n    },\n    firstColor: {\n        height: \"20px\",\n        width: \"20px\",\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: \"50%\",\n        marginRight: \"6px\",\n    },\n    themeBlock: {\n        height: \"20px\",\n        width: \"20px\",\n    },\n    paddingBottom: {\n        marginBottom: \"30px\",\n    },\n    paddingText: {\n        paddingRight: theme.spacing(2),\n    },\n    qrcode: {\n        width: 128,\n        marginTop: 16,\n        marginRight: 16,\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        title: state.siteConfig.title,\n        authn: state.siteConfig.authn,\n        viewMethod: state.viewUpdate.explorerViewMethod,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n        applyThemes: (color) => {\n            dispatch(applyThemes(color));\n        },\n        toggleDaylightMode: () => {\n            dispatch(toggleDaylightMode());\n        },\n        changeView: (method) => {\n            dispatch(changeViewMethod(method));\n        },\n    };\n};\n\nclass UserSettingCompoment extends Component {\n    constructor(props) {\n        super(props);\n        this.fileInput = React.createRef();\n    }\n\n    state = {\n        avatarModal: false,\n        nickModal: false,\n        changePassword: false,\n        loading: \"\",\n        oldPwd: \"\",\n        newPwd: \"\",\n        webdavPwd: \"\",\n        newPwdRepeat: \"\",\n        twoFactor: false,\n        authCode: \"\",\n        changeTheme: false,\n        chosenTheme: null,\n        showWebDavUrl: false,\n        showWebDavUserName: false,\n        changeWebDavPwd: false,\n        groupBackModal: false,\n        changePolicy: false,\n        changeTimeZone: false,\n        settings: {\n            uid: 0,\n            group_expires: 0,\n            policy: {\n                current: {\n                    name: \"-\",\n                    id: \"\",\n                },\n                options: [],\n            },\n            qq: \"\",\n            homepage: true,\n            two_factor: \"\",\n            two_fa_secret: \"\",\n            prefer_theme: \"\",\n            themes: {},\n            authn: [],\n        },\n    };\n\n    handleClose = () => {\n        this.setState({\n            avatarModal: false,\n            nickModal: false,\n            changePassword: false,\n            loading: \"\",\n            twoFactor: false,\n            changeTheme: false,\n            showWebDavUrl: false,\n            showWebDavUserName: false,\n            changeWebDavPwd: false,\n            groupBackModal: false,\n            changePolicy: false,\n        });\n    };\n\n    componentDidMount() {\n        this.loadSetting();\n    }\n\n    toggleViewMethod = () => {\n        const newMethod =\n            this.props.viewMethod === \"icon\"\n                ? \"list\"\n                : this.props.viewMethod === \"list\"\n                ? \"smallIcon\"\n                : \"icon\";\n        Auth.SetPreference(\"view_method\", newMethod);\n        this.props.changeView(newMethod);\n    };\n\n    loadSetting = () => {\n        API.get(\"/user/setting\")\n            .then((response) => {\n                const theme = JSON.parse(response.data.themes);\n                response.data.themes = theme;\n                this.setState({\n                    settings: response.data,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    doChangeGroup = () => {\n        API.patch(\"/user/setting/vip\", {})\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"解约成功，更改会在数分钟后生效\",\n                    \"success\"\n                );\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    useGravatar = () => {\n        this.setState({\n            loading: \"gravatar\",\n        });\n        API.put(\"/user/setting/avatar\")\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changePolicy = (id) => {\n        API.patch(\"/user/setting/policy\", {\n            id: id,\n        })\n            .then(() => {\n                window.location.reload();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changeNick = () => {\n        this.setState({\n            loading: \"nick\",\n        });\n        API.patch(\"/user/setting/nick\", {\n            nick: this.state.nick,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"昵称已更改，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    bindQQ = () => {\n        this.setState({\n            loading: \"nick\",\n        });\n        API.patch(\"/user/setting/qq\", {})\n            .then((response) => {\n                if (response.data === \"\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        \"已解除与QQ账户的关联\",\n                        \"success\"\n                    );\n                    this.setState({\n                        settings: {\n                            ...this.state.settings,\n                            qq: false,\n                        },\n                    });\n                } else {\n                    window.location.href = response.data;\n                }\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            })\n            .then(() => {\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    uploadAvatar = () => {\n        this.setState({\n            loading: \"avatar\",\n        });\n        const formData = new FormData();\n        formData.append(\"avatar\", this.fileInput.current.files[0]);\n        API.post(\"/user/setting/avatar\", formData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n            },\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"头像已更新，刷新后生效\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    handleToggle = () => {\n        API.patch(\"/user/setting/homepage\", {\n            status: !this.state.settings.homepage,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设置已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    settings: {\n                        ...this.state.settings,\n                        homepage: !this.state.settings.homepage,\n                    },\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    changhePwd = () => {\n        if (this.state.newPwd !== this.state.newPwdRepeat) {\n            this.props.toggleSnackbar(\n                \"top\",\n                \"right\",\n                \"两次密码输入不一致\",\n                \"warning\"\n            );\n            return;\n        }\n        this.setState({\n            loading: \"changePassword\",\n        });\n        API.patch(\"/user/setting/password\", {\n            old: this.state.oldPwd,\n            new: this.state.newPwd,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"密码已更新\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changeTheme = () => {\n        this.setState({\n            loading: \"changeTheme\",\n        });\n        API.patch(\"/user/setting/theme\", {\n            theme: this.state.chosenTheme,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"主题配色已更换\",\n                    \"success\"\n                );\n                this.props.applyThemes(this.state.chosenTheme);\n                this.setState({\n                    loading: \"\",\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    changheWebdavPwd = () => {\n        this.setState({\n            loading: \"changheWebdavPwd\",\n        });\n        axios\n            .post(\"/Member/setWebdavPwd\", {\n                pwd: this.state.webdavPwd,\n            })\n            .then((response) => {\n                if (response.data.error === \"1\") {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"error\"\n                    );\n                    this.setState({\n                        loading: \"\",\n                    });\n                } else {\n                    this.props.toggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        response.data.msg,\n                        \"success\"\n                    );\n                    this.setState({\n                        loading: \"\",\n                        changeWebDavPwd: false,\n                    });\n                }\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    init2FA = () => {\n        if (this.state.settings.two_factor) {\n            this.setState({ twoFactor: true });\n            return;\n        }\n        API.get(\"/user/setting/2fa\")\n            .then((response) => {\n                this.setState({\n                    two_fa_secret: response.data,\n                    twoFactor: true,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n            });\n    };\n\n    twoFactor = () => {\n        this.setState({\n            loading: \"twoFactor\",\n        });\n        API.patch(\"/user/setting/2fa\", {\n            code: this.state.authCode,\n        })\n            .then(() => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"设定已保存\",\n                    \"success\"\n                );\n                this.setState({\n                    loading: \"\",\n                    settings: {\n                        ...this.state.settings,\n                        two_factor: !this.state.settings.two_factor,\n                    },\n                });\n                this.handleClose();\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"error\"\n                );\n                this.setState({\n                    loading: \"\",\n                });\n            });\n    };\n\n    handleChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    handleAlignment = (event, chosenTheme) => this.setState({ chosenTheme });\n\n    toggleThemeMode = (current) => {\n        if (current !== null) {\n            this.props.toggleDaylightMode();\n            Auth.SetPreference(\"theme_mode\", null);\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const user = Auth.GetUser();\n        const dark = Auth.GetPreference(\"theme_mode\");\n\n        return (\n            <div>\n                <div className={classes.layout}>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个人资料\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ avatarModal: true })\n                                }\n                            >\n                                <ListItemAvatar>\n                                    <Avatar\n                                        src={\n                                            \"/api/v3/user/avatar/\" +\n                                            user.id +\n                                            \"/l\"\n                                        }\n                                    />\n                                </ListItemAvatar>\n                                <ListItemText primary=\"头像\" />\n                                <ListItemSecondaryAction>\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <PermContactCalendar />\n                                </ListItemIcon>\n                                <ListItemText primary=\"UID\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.uid}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ nickModal: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <NickIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"昵称\" />\n\n                                <ListItemSecondaryAction\n                                    onClick={() =>\n                                        this.setState({ nickModal: true })\n                                    }\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.nickname}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <EmailIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Email\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.user_name}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.props.history.push(\"/buy?tab=1\")\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <GroupIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"用户组\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.group.name}\n                                        {this.state.settings.group_expires && (\n                                            <span>\n                                                {\" \"}\n                                                <Tooltip\n                                                    title={formatLocalTime(\n                                                        this.state.settings\n                                                            .group_expires,\n                                                        \"YYYY-MM-DD H:mm:ss\"\n                                                    )}\n                                                >\n                                                    <TimeAgo\n                                                        datetime={\n                                                            this.state.settings\n                                                                .group_expires\n                                                        }\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </Tooltip>{\" \"}\n                                                过期\n                                            </span>\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            {this.state.settings.group_expires && (\n                                <div>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                groupBackModal: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <AlarmOff />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"手动解约当前用户组\" />\n\n                                        <ListItemSecondaryAction>\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </div>\n                            )}\n                            <Divider />\n                            <ListItem button onClick={() => this.bindQQ()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <SettingsInputHdmi />\n                                </ListItemIcon>\n                                <ListItemText primary=\"QQ账号\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.state.settings.qq\n                                            ? \"解除绑定\"\n                                            : \"绑定\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePolicy: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Backup />\n                                </ListItemIcon>\n                                <ListItemText primary=\"存储策略\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {\n                                            this.state.settings.policy.current\n                                                .name\n                                        }\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ConfirmationNumber />\n                                </ListItemIcon>\n                                <ListItemText primary=\"积分\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {user.score}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <DateIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"注册时间\" />\n\n                                <ListItemSecondaryAction>\n                                    <Typography\n                                        className={classes.infoText}\n                                        color=\"textSecondary\"\n                                    >\n                                        {formatLocalTime(\n                                            user.created_at,\n                                            \"YYYY-MM-DD H:mm:ss\"\n                                        )}\n                                    </Typography>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        安全隐私\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem button>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <HomeIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"个人主页\" />\n\n                                <ListItemSecondaryAction>\n                                    <Switch\n                                        onChange={this.handleToggle}\n                                        checked={this.state.settings.homepage}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changePassword: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <LockIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"登录密码\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <RightIcon className={classes.rightIcon} />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button onClick={() => this.init2FA()}>\n                                <ListItemIcon className={classes.iconFix}>\n                                    <VerifyIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"二步验证\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {!this.state.settings.two_factor\n                                            ? \"未开启\"\n                                            : \"已开启\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n\n                    <Authn\n                        list={this.state.settings.authn}\n                        add={(credential) => {\n                            this.setState({\n                                settings: {\n                                    ...this.state.settings,\n                                    authn: [\n                                        ...this.state.settings.authn,\n                                        credential,\n                                    ],\n                                },\n                            });\n                        }}\n                        remove={(id) => {\n                            let credentials = [...this.state.settings.authn];\n                            credentials = credentials.filter((v) => {\n                                return v.id !== id;\n                            });\n                            this.setState({\n                                settings: {\n                                    ...this.state.settings,\n                                    authn: credentials,\n                                },\n                            });\n                        }}\n                    />\n\n                    <Typography\n                        className={classes.sectionTitle}\n                        variant=\"subtitle2\"\n                    >\n                        个性化\n                    </Typography>\n                    <Paper>\n                        <List className={classes.desenList}>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    this.setState({ changeTheme: true })\n                                }\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ColorIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"主题配色\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <div className={classes.firstColor}></div>\n                                    <div className={classes.secondColor}></div>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() => this.toggleThemeMode(dark)}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Brightness3 />\n                                </ListItemIcon>\n                                <ListItemText primary=\"黑暗模式\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {dark &&\n                                            (dark === \"dark\"\n                                                ? \"偏好开启\"\n                                                : \"偏好关闭\")}\n                                        {dark === null && \"跟随系统\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                button\n                                onClick={() => this.toggleViewMethod()}\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <ListAlt />\n                                </ListItemIcon>\n                                <ListItemText primary=\"文件列表\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {this.props.viewMethod === \"icon\" &&\n                                            \"大图标\"}\n                                        {this.props.viewMethod === \"list\" &&\n                                            \"列表\"}\n                                        {this.props.viewMethod ===\n                                            \"smallIcon\" && \"小图标\"}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                            <Divider />\n                            <ListItem\n                                onClick={() =>\n                                    this.setState({ changeTimeZone: true })\n                                }\n                                button\n                            >\n                                <ListItemIcon className={classes.iconFix}>\n                                    <Schedule />\n                                </ListItemIcon>\n                                <ListItemText primary=\"时区\" />\n\n                                <ListItemSecondaryAction\n                                    className={classes.flexContainer}\n                                >\n                                    <Typography\n                                        className={classes.infoTextWithIcon}\n                                        color=\"textSecondary\"\n                                    >\n                                        {timeZone}\n                                    </Typography>\n                                    <RightIcon\n                                        className={classes.rightIconWithText}\n                                    />\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    </Paper>\n                    {user.group.webdav && (\n                        <div>\n                            <Typography\n                                className={classes.sectionTitle}\n                                variant=\"subtitle2\"\n                            >\n                                WebDAV\n                            </Typography>\n                            <Paper>\n                                <List className={classes.desenList}>\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUrl: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <LinkIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"连接地址\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.setState({\n                                                showWebDavUserName: true,\n                                            })\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <InputIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"用户名\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                    <Divider />\n                                    <ListItem\n                                        button\n                                        onClick={() =>\n                                            this.props.history.push(\"/webdav?\")\n                                        }\n                                    >\n                                        <ListItemIcon\n                                            className={classes.iconFix}\n                                        >\n                                            <SecurityIcon />\n                                        </ListItemIcon>\n                                        <ListItemText primary=\"账号管理\" />\n\n                                        <ListItemSecondaryAction\n                                            className={classes.flexContainer}\n                                        >\n                                            <RightIcon\n                                                className={classes.rightIcon}\n                                            />\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            </Paper>\n                        </div>\n                    )}\n                    <div className={classes.paddingBottom}></div>\n                </div>\n                <TimeZoneDialog\n                    onClose={() => this.setState({ changeTimeZone: false })}\n                    open={this.state.changeTimeZone}\n                />\n                <Dialog\n                    open={this.state.changePolicy}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>切换存储策略</DialogTitle>\n                    <List>\n                        {this.state.settings.policy.options.map(\n                            (value, index) => (\n                                <ListItem\n                                    button\n                                    component=\"label\"\n                                    key={index}\n                                    onClick={() => this.changePolicy(value.id)}\n                                >\n                                    <ListItemAvatar>\n                                        {value.id ===\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.policySelected\n                                                }\n                                            >\n                                                <Check />\n                                            </Avatar>\n                                        )}\n                                        {value.id !==\n                                            this.state.settings.policy.current\n                                                .id && (\n                                            <Avatar\n                                                className={\n                                                    classes.uploadFromFile\n                                                }\n                                            >\n                                                <Backup />\n                                            </Avatar>\n                                        )}\n                                    </ListItemAvatar>\n                                    <ListItemText primary={value.name} />\n                                </ListItem>\n                            )\n                        )}\n                    </List>\n                </Dialog>\n                <Dialog\n                    open={this.state.avatarModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改头像</DialogTitle>\n                    <List>\n                        <ListItem\n                            button\n                            component=\"label\"\n                            disabled={this.state.loading === \"avatar\"}\n                        >\n                            <input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                style={{ display: \"none\" }}\n                                ref={this.fileInput}\n                                onChange={this.uploadAvatar}\n                            />\n                            <ListItemAvatar>\n                                <Avatar className={classes.uploadFromFile}>\n                                    <PhotoIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText primary=\"从文件上传\" />\n                        </ListItem>\n                        <ListItem\n                            button\n                            onClick={this.useGravatar}\n                            disabled={this.state.loading === \"gravatar\"}\n                        >\n                            <ListItemAvatar>\n                                <Avatar className={classes.userGravatar}>\n                                    <FingerprintIcon />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                className={classes.paddingText}\n                                primary=\"使用 Gravatar 头像 \"\n                            />\n                        </ListItem>\n                    </List>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            取消\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.nickModal} onClose={this.handleClose}>\n                    <DialogTitle>修改昵称</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            label=\"昵称\"\n                            className={classes.textField}\n                            value={this.state.nick}\n                            onChange={this.handleChange(\"nick\")}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeNick}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"nick\" ||\n                                this.state.nick === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.groupBackModal}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>解约用户组</DialogTitle>\n                    <DialogContent>\n                        将要退回到初始用户组，且所支付金额无法退还，确定要继续吗？\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button onClick={this.doChangeGroup} color=\"primary\">\n                            确定\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changePassword}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>修改登录密码</DialogTitle>\n                    <DialogContent>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"原密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.oldPwd}\n                                onChange={this.handleChange(\"oldPwd\")}\n                                margin=\"normal\"\n                                autoFocus\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwd}\n                                onChange={this.handleChange(\"newPwd\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                        <div>\n                            <TextField\n                                id=\"standard-name\"\n                                label=\"确认新密码\"\n                                type=\"password\"\n                                className={classes.textField}\n                                value={this.state.newPwdRepeat}\n                                onChange={this.handleChange(\"newPwdRepeat\")}\n                                margin=\"normal\"\n                            />\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changhePwd}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changePassword\" ||\n                                this.state.oldPwd === \"\" ||\n                                this.state.newPwdRepeat === \"\" ||\n                                this.state.newPwd === \"\"\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog open={this.state.twoFactor} onClose={this.handleClose}>\n                    <DialogTitle>\n                        {this.state.settings.two_factor ? \"关闭\" : \"启用\"}\n                        二步验证\n                    </DialogTitle>\n                    <DialogContent>\n                        <div className={classes.flexContainerResponse}>\n                            {!this.state.settings.two_factor && (\n                                <div className={classes.qrcode}>\n                                    <QRCode\n                                        value={\n                                            \"otpauth://totp/\" +\n                                            this.props.title +\n                                            \"?secret=\" +\n                                            this.state.two_fa_secret\n                                        }\n                                    />\n                                </div>\n                            )}\n\n                            <div className={classes.desText}>\n                                {!this.state.settings.two_factor && (\n                                    <Typography>\n                                        请使用任意二步验证APP或者支持二步验证的密码管理软件扫描左侧二维码添加本站。扫描完成后请填写二步验证APP给出的6位验证码以开启二步验证。\n                                    </Typography>\n                                )}\n                                {this.state.settings.two_factor && (\n                                    <Typography>\n                                        请验证当前二步验证代码。\n                                    </Typography>\n                                )}\n                                <TextField\n                                    id=\"standard-name\"\n                                    label=\"6位验证码\"\n                                    type=\"number\"\n                                    className={classes.textField}\n                                    value={this.state.authCode}\n                                    onChange={this.handleChange(\"authCode\")}\n                                    margin=\"normal\"\n                                    autoFocus\n                                    fullWidth\n                                />\n                            </div>\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.twoFactor}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"twoFactor\" ||\n                                this.state.authCode === \"\"\n                            }\n                        >\n                            {this.state.settings.two_factor ? \"关闭\" : \"启用\"}\n                            二步验证\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.changeTheme}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>更改主题配色</DialogTitle>\n                    <DialogContent>\n                        <ToggleButtonGroup\n                            value={this.state.chosenTheme}\n                            exclusive\n                            onChange={this.handleAlignment}\n                        >\n                            {Object.keys(this.state.settings.themes).map(\n                                (value, key) => (\n                                    <ToggleButton value={value} key={key}>\n                                        <div\n                                            className={classes.themeBlock}\n                                            style={{ backgroundColor: value }}\n                                        />\n                                    </ToggleButton>\n                                )\n                            )}\n                        </ToggleButtonGroup>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            取消\n                        </Button>\n                        <Button\n                            onClick={this.changeTheme}\n                            color=\"primary\"\n                            disabled={\n                                this.state.loading === \"changeTheme\" ||\n                                this.state.chosenTheme === null\n                            }\n                        >\n                            保存\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUrl}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV连接地址</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={window.location.origin + \"/dav\"}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n                <Dialog\n                    open={this.state.showWebDavUserName}\n                    onClose={this.handleClose}\n                >\n                    <DialogTitle>WebDAV用户名</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            id=\"standard-name\"\n                            className={classes.textField}\n                            value={user.user_name}\n                            margin=\"normal\"\n                            autoFocus\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">\n                            关闭\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst UserSetting = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(UserSettingCompoment)));\n\nexport default UserSetting;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { applyThemes, setSessionStatus, toggleSnackbar } from \"../../actions\";\nimport Notice from \"../Share/NotFound\";\nimport { useHistory, useLocation } from \"react-router\";\nimport API from \"../../middleware/Api\";\nimport Auth from \"../../middleware/Auth\";\nimport { enableUploaderLoad } from \"../../middleware/Init\";\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function QQCallback() {\n    const query = useQuery();\n    const location = useLocation();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const ApplyThemes = useCallback((theme) => dispatch(applyThemes(theme)), [\n        dispatch,\n    ]);\n    const SetSessionStatus = useCallback(\n        (status) => dispatch(setSessionStatus(status)),\n        [dispatch]\n    );\n\n    const [msg, setMsg] = useState(\"\");\n\n    const getCookie =(name)=> {\n        const strcookie = document.cookie;//获取cookie字符串\n            const arrcookie = strcookie.split(\"; \");//分割\n            //遍历匹配\n            for ( let i = 0; i < arrcookie.length; i++) {\n                const arr = arrcookie[i].split(\"=\");\n                if (arr[0] == name){\n                    return unescape(arr[1]);\n                }\n            }\n        return null;\n    }\n\n    const GetQueryString =(name)=> {\n        const reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\",\"i\"); \n        const r = window.location.search.substr(1).match(reg); \n        if (r!=null) return (r[2]); return \"\"; \n    }\n    \n    const afterLogin = (data) => {\n        Auth.authenticate(data);\n\n        // 设置用户主题色\n        if (data[\"preferred_theme\"] !== \"\") {\n            ApplyThemes(data[\"preferred_theme\"]);\n        }\n        enableUploaderLoad();\n\n        // 设置登录状态\n        SetSessionStatus(true);\n        const backurl = GetQueryString(\"backurl\");\n        if (backurl==\"\"){\n            history.push(\"/home\");\n        }else{\n            const backurl_path = backurl.split(\".\");\n            if (backurl_path[1]!=\"bilnn\"){\n                history.push(\"/home\");\n            }else{\n                window.location.href = decodeURIComponent(backurl)+\"?token=\"+getCookie(\"token\");\n            } \n        }\n        ToggleSnackbar(\"top\", \"right\", \"登录成功\", \"success\");\n\n        localStorage.removeItem(\"siteConfigCache\");\n    };\n\n    useEffect(() => {\n        if (query.get(\"error_description\")) {\n            setMsg(query.get(\"error_description\"));\n            return;\n        }\n        if (query.get(\"code\") === null) {\n            return;\n        }\n        API.post(\"/callback/qq\", {\n            code: query.get(\"code\"),\n            state: query.get(\"state\"),\n        })\n            .then((response) => {\n                if (response.rawData.code === 203) {\n                    afterLogin(response.data);\n                } else {\n                    history.push(response.data);\n                }\n            })\n            .catch((error) => {\n                setMsg(error.message);\n            });\n        // eslint-disable-next-line\n    }, [location]);\n\n    return <>{msg !== \"\" && <Notice msg={msg} />}</>;\n}\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport RegIcon from \"@material-ui/icons/AssignmentIndOutlined\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            display: \"block\",\n        },\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    buttonContainer: {\n        display: \"flex\",\n    },\n    authnLink: {\n        textAlign: \"center\",\n        marginTop: 16,\n    },\n    avatarSuccess: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nfunction Register() {\n    const [input, setInput] = useState({\n        email: \"\",\n        password: \"\",\n        password_repeat: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const [emailActive, setEmailActive] = useState(false);\n\n    const title = useSelector((state) => state.siteConfig.title);\n    const regCaptcha = useSelector((state) => state.siteConfig.regCaptcha);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n    const classes = useStyles();\n\n    const register = (e) => {\n        e.preventDefault();\n\n        if (input.password !== input.password_repeat) {\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return;\n        }\n\n        setLoading(true);\n        if (!isValidate.current.isValidate && regCaptcha) {\n            validate(() => register(e), setLoading);\n            return;\n        }\n        API.post(\"/user\", {\n            userName: input.email,\n            Password: input.password,\n            ...captchaParamsRef.current,\n        })\n            .then((response) => {\n                setLoading(false);\n                if (response.rawData.code === 203) {\n                    setEmailActive(true);\n                } else {\n                    history.push(\"/login?username=\" + input.email);\n                    ToggleSnackbar(\"top\", \"right\", \"注册成功\", \"success\");\n                }\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    return (\n        <div className={classes.layout}>\n            <>\n                {!emailActive && (\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatar}>\n                            <RegIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            注册 {title}\n                        </Typography>\n\n                        <form className={classes.form} onSubmit={register}>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"email\">\n                                    电子邮箱\n                                </InputLabel>\n                                <Input\n                                    id=\"email\"\n                                    type=\"email\"\n                                    name=\"email\"\n                                    onChange={handleInputChange(\"email\")}\n                                    autoComplete\n                                    value={input.email}\n                                    autoFocus\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"password\">密码</InputLabel>\n                                <Input\n                                    name=\"password\"\n                                    onChange={handleInputChange(\"password\")}\n                                    type=\"password\"\n                                    id=\"password\"\n                                    value={input.password}\n                                    autoComplete\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"password\">\n                                    确认密码\n                                </InputLabel>\n                                <Input\n                                    name=\"pwdRepeat\"\n                                    onChange={handleInputChange(\n                                        \"password_repeat\"\n                                    )}\n                                    type=\"password\"\n                                    id=\"pwdRepeat\"\n                                    value={input.password_repeat}\n                                    autoComplete\n                                />\n                            </FormControl>\n                            {regCaptcha && <CaptchaRender />}\n\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                disabled={\n                                    loading ||\n                                    (regCaptcha ? captchaLoading : false)\n                                }\n                                className={classes.submit}\n                            >\n                                注册账号\n                            </Button>\n                        </form>\n\n                        <Divider />\n                        <div className={classes.link}>\n                            <div>\n                                <Link href={\"/login\"}>返回登录</Link>\n                            </div>\n                            <div>\n                                <Link href={\"https://support.qq.com/products/261676/blog/480523\"} target=\"_blank\">注册协议</Link>\n                            </div>\n                        </div>\n                    </Paper>\n                )}\n                {emailActive && (\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatarSuccess}>\n                            <EmailIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            邮件激活\n                        </Typography>\n                        <Typography style={{ marginTop: \"10px\" }}>\n                            一封激活邮件已经发送至您的邮箱，请访问邮件中的链接以继续完成注册。\n                        </Typography>\n                    </Paper>\n                )}\n            </>\n        </div>\n    );\n}\n\nexport default Register;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Apps() {\n\n    const JumpUrl = () =>{\n        const history = useHistory();\n        const Days = 365;\n        const exp = new Date(); \n        exp.setTime(exp.getTime() + Days*24*60*60*1000);\n        document.cookie = \"thisapp=ok; expires=\"+exp.toGMTString()+\"; path=/\";\n        history.push(\"/home\");\n    }\n\n    return (\n        <div>{JumpUrl()}</div>\n    );\n}\n\nexport default Apps;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport { Button, Paper, Avatar, Typography } from \"@material-ui/core\";\nimport EmailIcon from \"@material-ui/icons/EmailOutlined\";\nimport { useLocation } from \"react-router\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction Activation() {\n    const query = useQuery();\n    const location = useLocation();\n\n    const [success, setSuccess] = useState(false);\n    const [email, setEmail] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        API.get(\n            \"/user/activate/\" + query.get(\"id\") + \"?sign=\" + query.get(\"sign\")\n        )\n            .then((response) => {\n                setEmail(response.data);\n                setSuccess(true);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                history.push(\"/login\");\n            });\n        // eslint-disable-next-line\n    }, [location]);\n\n    return (\n        <div className={classes.layout}>\n            {success && (\n                <Paper className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <EmailIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        激活成功\n                    </Typography>\n                    <Typography style={{ marginTop: \"20px\" }}>\n                        您的账号已被成功激活。\n                    </Typography>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={() => history.push(\"/login?username=\" + email)}\n                    >\n                        返回登录\n                    </Button>\n                </Paper>\n            )}\n        </div>\n    );\n}\n\nexport default Activation;\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useHistory } from \"react-router-dom\";\nimport API from \"../../middleware/Api\";\nimport {\n    Button,\n    FormControl,\n    Divider,\n    Link,\n    Input,\n    InputLabel,\n    Paper,\n    Avatar,\n    Typography,\n} from \"@material-ui/core\";\nimport { useLocation } from \"react-router\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n}));\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction ResetForm() {\n    const query = useQuery();\n    const [input, setInput] = useState({\n        password: \"\",\n        password_repeat: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const history = useHistory();\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (input.password !== input.password_repeat) {\n            ToggleSnackbar(\"top\", \"right\", \"两次密码输入不一致\", \"warning\");\n            return;\n        }\n        setLoading(true);\n        API.patch(\"/user/reset\", {\n            secret: query.get(\"sign\"),\n            id: query.get(\"id\"),\n            Password: input.password,\n        })\n            .then(() => {\n                setLoading(false);\n                history.push(\"/login\");\n                ToggleSnackbar(\"top\", \"right\", \"密码已重设\", \"success\");\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">新密码</InputLabel>\n                        <Input\n                            id=\"pwd\"\n                            type=\"password\"\n                            name=\"pwd\"\n                            onChange={handleInputChange(\"password\")}\n                            autoComplete\n                            value={input.password}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">重复新密码</InputLabel>\n                        <Input\n                            id=\"pwdRepeat\"\n                            type=\"password\"\n                            name=\"pwdRepeat\"\n                            onChange={handleInputChange(\"password_repeat\")}\n                            autoComplete\n                            value={input.password_repeat}\n                            autoFocus\n                        />\n                    </FormControl>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={loading}\n                        className={classes.submit}\n                    >\n                        重设密码\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default ResetForm;\n","import React, { useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    Avatar,\n    Button,\n    Divider,\n    FormControl,\n    Input,\n    InputLabel,\n    Link,\n    makeStyles,\n    Paper,\n    Typography,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport API from \"../../middleware/Api\";\nimport KeyIcon from \"@material-ui/icons/VpnKeyOutlined\";\nimport { useCaptcha } from \"../../hooks/useCaptcha\";\n\nconst useStyles = makeStyles((theme) => ({\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(\"sm\")]: {\n            width: 400,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        marginBottom: 110,\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(\n            3\n        )}px`,\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n    captchaContainer: {\n        display: \"flex\",\n        marginTop: \"10px\",\n    },\n    captchaPlaceholder: {\n        width: 200,\n    },\n    link: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n    },\n}));\n\nfunction Reset() {\n    const [input, setInput] = useState({\n        email: \"\",\n    });\n    const [loading, setLoading] = useState(false);\n    const forgetCaptcha = useSelector(\n        (state) => state.siteConfig.forgetCaptcha\n    );\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const handleInputChange = (name) => (e) => {\n        setInput({\n            ...input,\n            [name]: e.target.value,\n        });\n    };\n\n    const {\n        captchaLoading,\n        isValidate,\n        validate,\n        CaptchaRender,\n        captchaRefreshRef,\n        captchaParamsRef,\n    } = useCaptcha();\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        if (!isValidate.current.isValidate && forgetCaptcha) {\n            validate(() => submit(e), setLoading);\n            return;\n        }\n        API.post(\"/user/reset\", {\n            userName: input.email,\n            ...captchaParamsRef.current,\n        })\n            .then(() => {\n                setLoading(false);\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"密码重置邮件已发送，请注意查收\",\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"warning\");\n                captchaRefreshRef.current();\n            });\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.layout}>\n            <Paper className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <KeyIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    找回密码\n                </Typography>\n                <form className={classes.form} onSubmit={submit}>\n                    <FormControl margin=\"normal\" required fullWidth>\n                        <InputLabel htmlFor=\"email\">注册邮箱</InputLabel>\n                        <Input\n                            id=\"email\"\n                            type=\"email\"\n                            name=\"email\"\n                            onChange={handleInputChange(\"email\")}\n                            autoComplete\n                            value={input.email}\n                            autoFocus\n                        />\n                    </FormControl>\n                    {forgetCaptcha && <CaptchaRender />}\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={\n                            loading || (forgetCaptcha ? captchaLoading : false)\n                        }\n                        className={classes.submit}\n                    >\n                        发送密码重置邮件\n                    </Button>{\" \"}\n                </form>{\" \"}\n                <Divider />\n                <div className={classes.link}>\n                    <div>\n                        <Link href={\"/login\"}>返回登录</Link>\n                    </div>\n                    <div>\n                        <Link href={\"/signup\"}>注册账号</Link>\n                    </div>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default Reset;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { FormControl, makeStyles, TextField } from \"@material-ui/core\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n} from \"@material-ui/core\";\nimport { toggleSnackbar } from \"../../actions/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport API from \"../../middleware/Api\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { reportReasons } from \"../../config\";\nimport Auth from \"../../middleware/Auth\";\n\nconst useStyles = makeStyles((theme) => ({\n    widthAnimation: {},\n    content: {\n        overflowWrap: \"break-word\",\n    },\n}));\n\nexport default function SiteNotice() {\n    const content = useSelector((state) => state.siteConfig.site_notice);\n    const classes = useStyles();\n    const [show, setShow] = useState(false);\n    const setRead = () => {\n        setShow(false);\n        Auth.SetPreference(\"notice_read\", content);\n    };\n    useEffect(() => {\n        const newNotice = Auth.GetPreference(\"notice_read\");\n        if (content !== \"\" && newNotice !== content) {\n            setShow(true);\n        }\n    }, [content]);\n    return (\n        <Dialog\n            open={show}\n            onClose={() => setShow(false)}\n            aria-labelledby=\"form-dialog-title\"\n            maxWidth=\"sm\"\n            fullWidth\n        >\n            <DialogTitle id=\"form-dialog-title\">公告</DialogTitle>\n            <DialogContent\n                className={classes.content}\n                dangerouslySetInnerHTML={{ __html: content }}\n            />\n\n            <DialogActions>\n                <Button onClick={() => setRead()} color=\"primary\">\n                    不再显示\n                </Button>\n                <Button onClick={() => setShow(false)}>关闭</Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import {\n    Button, Dialog,\n    DialogActions,\n    DialogContent, DialogTitle, withStyles\n} from \"@material-ui/core\";\nimport IconButton from '@material-ui/core/IconButton';\nimport {Slider,List,Grid} from '@material-ui/core';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MusicNote from '@material-ui/icons/MusicNote';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport PlayNext from '@material-ui/icons/SkipNext';\nimport PlayPrev from '@material-ui/icons/SkipPrevious';\nimport Pause from '@material-ui/icons/Pause';\nimport {Repeat, RepeatOne, Shuffle} from '@material-ui/icons';\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { showAudioPreview ,audioPreviewSetIsOpen, audioPreviewSetPlaying} from \"../../actions/index\";\nimport { audioPreviewSuffix } from \"../../config\";\nimport { baseURL } from \"../../middleware/Api\";\nimport * as explorer from \"../../redux/explorer/reducer\";\nimport pathHelper from \"../../utils/page\";\n\n\n\nconst styles = (theme) => ({  \n    list: {\n        //maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n        position: 'relative',\n        overflow: 'auto',\n        maxHeight: 300,\n    },\n    slider_root:{\n        \"vertical-align\": \"middle\",\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        first: state.explorer.audioPreview.first,\n        other: state.explorer.audioPreview.other,\n        isOpen:state.explorer.audioPreview.isOpen,\n        playingName:state.explorer.audioPreview.playingName,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showAudioPreview: (first) => {\n            dispatch(showAudioPreview(first));\n        },\n        audioPreviewSetIsOpen: (first) => {\n            dispatch(audioPreviewSetIsOpen(first));\n        },\n        audioPreviewSetPlaying: (playingName,paused) => {\n            dispatch(audioPreviewSetPlaying(playingName,paused));\n        },\n    };\n};\n\nclass MusicPlayerComponent extends Component {\n    state = {\n        items: [],\n        currentIndex: 0,\n        //isOpen: false,\n        //isPlay:false,\n        currentTime:0,\n        duration:0,\n        progressText:'00:00/00:00',\n        looptype:0,\n    };\n    myAudioRef = React.createRef();  \n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        const items = [];\n        let firstOne = 0;\n        if (nextProps.first.id !== \"\") {\n            if (\n                pathHelper.isSharePage(this.props.location.pathname) &&\n                !nextProps.first.path\n            ) {\n                const newItem = {\n                    intro: nextProps.first.name,\n                    src: baseURL + \"/share/preview/\" + nextProps.first.key,\n                };\n                firstOne = 0;\n                items.push(newItem);\n                this.setState({\n                    currentIndex: firstOne,\n                    items: items,\n                    //isOpen: true,\n                });\n                this.props.audioPreviewSetIsOpen(true);\n                return;\n            }\n            // eslint-disable-next-line\n            nextProps.other.map((value) => {\n                const fileType = value.name.split(\".\").pop().toLowerCase();\n                if (audioPreviewSuffix.indexOf(fileType) !== -1) {\n                    let src = \"\";\n                    if (pathHelper.isSharePage(this.props.location.pathname)) {\n                        src = baseURL + \"/share/preview/\" + value.key;\n                        src =\n                            src +\n                            \"?path=\" +\n                            encodeURIComponent(\n                                value.path === \"/\"\n                                    ? value.path + value.name\n                                    : value.path + \"/\" + value.name\n                            );\n                    } else {\n                        src = baseURL + \"/file/preview/\" + value.id;\n                    }\n                    const newItem = {\n                        intro: value.name,\n                        src: src,\n                    };\n                    if (\n                        value.path === nextProps.first.path &&\n                        value.name === nextProps.first.name\n                    ) {\n                        firstOne = items.length;\n                    }\n                    items.push(newItem);\n                }\n            });\n            this.setState({\n                currentIndex: firstOne,\n                items: items,\n                //isOpen: true,\n            });\n            this.props.audioPreviewSetIsOpen(true);\n            this.props.showAudioPreview(explorer.initState.audioPreview.first);\n        }        \n    };\n\n    handleItemClick = (currentIndex) => () => {\n        this.setState({\n            currentIndex: currentIndex,\n        });\n    };\n    \n\n    handleClose = () => {\n        /*this.setState({\n            isOpen: false,\n        });*/\n        this.setState({\n            currentIndex: -1,\n        });\n        this.pause();\n        this.props.audioPreviewSetPlaying(null,false);\n        this.props.audioPreviewSetIsOpen(false);\n    };\n    backgroundPlay = () => {        \n        this.props.audioPreviewSetIsOpen(false);\n    };\n\n    componentDidMount() {\n        if(this.myAudioRef.current){\n            this.bindEvents(this.myAudioRef.current);\n        }\n    }\n    componentDidUpdate() {\n        if(this.myAudioRef.current){\n            this.bindEvents(this.myAudioRef.current);\n        }\n    }    \n    componentWillUnmount() {\n        this.unbindEvents(this.myAudioRef.current)\n    }\n\n    bindEvents=(ele)=>{\n        if(ele){\n            ele.addEventListener('canplay', this.readyPlay)\n            ele.addEventListener('ended', this.loopnext)\n            ele.addEventListener('timeupdate', this.timeUpdate)\n        }\n    };\n\n    unbindEvents=(ele)=> {\n        if(ele){\n            ele.removeEventListener('canplay', this.readyPlay)\n            ele.removeEventListener('ended', this.loopnext)\n            ele.removeEventListener('timeupdate', this.timeUpdate)\n        }\n    };\n\n    readyPlay = () => {\n        this.play();\n    };\n\n    formatTime = s => {\n        if(isNaN(s))return \"00:00\";\n        const minute = Math.floor(s / 60);\n        const second = Math.floor(s % 60);\n        return `${minute}`.padStart(2,'0')+':'+`${second}`.padStart(2,'0');\n    }\n\n    timeUpdate = () => {\n        const currentTime=Math.floor(this.myAudioRef.current.currentTime);//this.myAudioRef.current.currentTime;//\n        this.setState({\n            currentTime: currentTime,\n            duration: this.myAudioRef.current.duration,\n            progressText: this.formatTime(currentTime)+'/'+this.formatTime(this.myAudioRef.current.duration)\n        });\n    }\n\n    play = () => {\n       this.myAudioRef.current.play();\n       /*this.setState({\n            isPlay: true\n        });*/\n        this.props.audioPreviewSetPlaying(this.state.items[this.state.currentIndex].intro,false);\n    };\n\n    pause = () => {\n        if(this.myAudioRef.current){\n            this.myAudioRef.current.pause();\n        }\n        /*this.setState({\n            isPlay: false\n        })*/\n        this.props.audioPreviewSetPlaying(this.state.items[this.state.currentIndex]?.intro,true);\n    };\n\n    playOrPaues = () => {\n        if (this.state.isPlay) {\n            this.pause()\n        } else {\n            this.play()\n        }\n    };\n    changeLoopType=()=>{\n        let lt=this.state.looptype+1;\n        if(lt>=3){\n            lt=0;\n        }\n        this.setState({\n            looptype: lt,\n        });\n    };\n    loopnext=()=>{\n        let index = this.state.currentIndex;\n        if(this.state.looptype==0){//all\n            index=index+1;\n            if (index >= this.state.items.length) {\n                index =  0;\n            }\n        }else if(this.state.looptype==1){//single\n            //index=index;\n        }else if(this.state.looptype==2){//random\n            if(this.state.items.length<=2){\n                index=index+1;\n                if (index >= this.state.items.length) {\n                    index =  0;\n                }\n            }else{\n                while(index==this.state.currentIndex){\n                    index=Math.floor(Math.random()*this.state.items.length);\n                }\n            }\n        }\n        if(this.state.currentIndex==index){\n            this.myAudioRef.current.currentTime=0;\n            this.play();\n        }\n        this.setState({\n            currentIndex: index,\n        });\n    }\n\n    prev = () => {\n        let index = this.state.currentIndex - 1\n        if (index < 0) {\n            index = this.state.items.length - 1\n        }\n        this.setState({\n            currentIndex: index,\n        });\n    };\n    \n    next = () => {\n        let index = this.state.currentIndex + 1\n        if (index >= this.state.items.length) {\n            index =  0;\n        }\n        this.setState({\n            currentIndex: index,\n        });\n    };\n\n    handleProgress = (e, newValue) => {\n        this.myAudioRef.current.currentTime=newValue;\n    }\n      \n\n    render() {\n        const { currentIndex, items } = this.state;\n        const { isOpen,classes } = this.props;\n        return (            \n            <Dialog\n                open={isOpen}\n                onClose={this.backgroundPlay}\n                aria-labelledby=\"form-dialog-title\"\n                maxWidth=\"xs\"\n                fullWidth\n                keepMounted\n            >\n                <DialogTitle id=\"form-dialog-title\">音频播放</DialogTitle>\n                <DialogContent>\n                    <List className={classes.list} dense>\n                        {items.map((value,idx) => {\n                            const labelId = `label-${value.intro}`;\n                            return (\n                                <ListItem key={value.src} dense button onClick={this.handleItemClick(idx)}\n                                    selected={idx==currentIndex}>\n                                    <ListItemIcon>\n                                        {\n                                            idx==currentIndex?(<PlayArrow/>):(<MusicNote/>)\n                                        }\n                                    </ListItemIcon>\n                                    <ListItemText id={labelId} primary={`${value.intro}`} />\n                                </ListItem>\n                            );\n                        })}\n                    </List>\n                    <audio ref={this.myAudioRef}                                 \n                        src={items[currentIndex]?.src}\n                        />\n                    <div style={{\"padding-top\":8}}></div>\n                    <Grid container spacing={2} alignItems=\"center\">\n                        <Grid item xs>\n                        <Slider classes={{\"root\":classes.slider_root}}\n                            value={this.state.currentTime}\n                            onChange={this.handleProgress}\n                            step={1}\n                            min={0}\n                            max={this.state.duration}\n                            aria-labelledby=\"continuous-slider\" />\n                        </Grid>\n                        <Grid item>\n                            {this.state.progressText}\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={2} justifyContent=\"center\" justify=\"center\">\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.changeLoopType}>\n                                {\n                                    this.state.looptype==0?(<Repeat/>):(this.state.looptype==1?(<RepeatOne/>):(<Shuffle />))\n                                }\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.prev}>\n                                <PlayPrev />\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.pause}>\n                                <Pause />\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.play}>\n                                <PlayArrow />\n                            </IconButton>\n                        </Grid>\n                        <Grid item>\n                            <IconButton edge=\"end\" aria-label=\"\" onClick={this.next}>\n                                <PlayNext />\n                            </IconButton>\n                        </Grid>                                \n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleClose}>退出播放</Button>\n                    <Button onClick={this.backgroundPlay}>后台播放</Button>\n                </DialogActions>\n            </Dialog>\n            \n        );\n    }\n}\n\nMusicPlayerComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst MusicPlayer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(MusicPlayerComponent)));\n\nexport default MusicPlayer;\n","import React, { Suspense } from \"react\";\nimport AuthRoute from \"./middleware/AuthRoute\";\nimport Navbar from \"./component/Navbar/Navbar.js\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport AlertBar from \"./component/Common/Snackbar\";\nimport { createMuiTheme, lighten } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Auth from \"./middleware/Auth\";\nimport { CssBaseline, makeStyles, ThemeProvider } from \"@material-ui/core\";\nimport PageLoading from \"./component/Placeholder/PageLoading.js\";\nimport { changeThemeColor } from \"./utils\";\nimport NotFound from \"./component/Share/NotFound\";\n// Lazy loads\nimport LoginForm from \"./component/Login/LoginForm\";\nimport FileManager from \"./component/FileManager/FileManager.js\";\nimport VideoPreview from \"./component/Viewer/Video.js\";\nimport SearchResult from \"./component/Share/SearchResult\";\nimport MyShare from \"./component/Share/MyShare\";\nimport Download from \"./component/Download/Download\";\nimport SharePreload from \"./component/Share/SharePreload\";\nimport DocViewer from \"./component/Viewer/Doc\";\nimport TextViewer from \"./component/Viewer/Text\";\nimport Quota from \"./component/VAS/Quota\";\nimport BuyQuota from \"./component/VAS/BuyQuota\";\nimport WebDAV from \"./component/Setting/WebDAV\";\nimport Tasks from \"./component/Setting/Tasks\";\nimport Ifm from \"./component/Setting/Ifm\";\nimport Profile from \"./component/Setting/Profile\";\nimport UserSetting from \"./component/Setting/UserSetting\";\nimport QQCallback from \"./component/Login/QQ\";\nimport Register from \"./component/Login/Register\";\nimport Apps from \"./component/Login/Apps\";\nimport Activation from \"./component/Login/Activication\";\nimport ResetForm from \"./component/Login/ResetForm\";\nimport Reset from \"./component/Login/Reset\";\nimport CodeViewer from \"./component/Viewer/Code\";\nimport SiteNotice from \"./component/Modals/SiteNotice\";\nimport MusicPlayer from \"./component/FileManager/MusicPlayer\";\n\n\nconst PDFViewer = React.lazy(() =>\n    import(/* webpackChunkName: \"pdf\" */ \"./component/Viewer/PDF\")\n);\n\nexport default function App() {\n    const themeConfig = useSelector((state) => state.siteConfig.theme);\n    const isLogin = useSelector((state) => state.viewUpdate.isLogin);\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n    const theme = React.useMemo(() => {\n        themeConfig.palette.type = prefersDarkMode ? \"dark\" : \"light\";\n        const prefer = Auth.GetPreference(\"theme_mode\");\n        if (prefer) {\n            themeConfig.palette.type = prefer;\n        }\n        const theme = createMuiTheme({\n            ...themeConfig,\n            palette: {\n                ...themeConfig.palette,\n                primary: {\n                    ...themeConfig.palette.primary,\n                    main:\n                        themeConfig.palette.type === \"dark\"\n                            ? lighten(themeConfig.palette.primary.main, 0.3)\n                            : themeConfig.palette.primary.main,\n                },\n            },\n        });\n        changeThemeColor(\n            themeConfig.palette.type === \"dark\"\n                ? theme.palette.background.default\n                : theme.palette.primary.main\n        );\n        return theme;\n    }, [prefersDarkMode, themeConfig]);\n\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            display: \"flex\",\n        },\n        content: {\n            flexGrow: 1,\n            padding: theme.spacing(0),\n            minWidth: 0,\n        },\n        toolbar: theme.mixins.toolbar,\n    }));\n\n    const classes = useStyles();\n\n    const { path } = useRouteMatch();\n    return (\n        <React.Fragment>\n            <ThemeProvider theme={theme}>\n                <div className={classes.root} id=\"container\">\n                    <CssBaseline />\n                    <AlertBar />\n                    <Navbar />\n                    <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Switch>\n                            <AuthRoute exact path={path} isLogin={isLogin}>\n                                <Redirect\n                                    to={{\n                                        pathname: \"/home\",\n                                    }}\n                                />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}home`} isLogin={isLogin}>\n                                <>\n                                    <SiteNotice />\n                                    <FileManager />\n                                </>\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}video`} isLogin={isLogin}>\n                                <VideoPreview />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}text`} isLogin={isLogin}>\n                                <TextViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}doc`} isLogin={isLogin}>\n                                <DocViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}pdf`} isLogin={isLogin}>\n                                <Suspense fallback={<PageLoading />}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}code`} isLogin={isLogin}>\n                                <CodeViewer />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}aria2`} isLogin={isLogin}>\n                                <Download />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}shares`} isLogin={isLogin}>\n                                <MyShare />\n                            </AuthRoute>\n\n                            <Route path={`${path}search`} isLogin={isLogin}>\n                                <SearchResult />\n                            </Route>\n\n                            <AuthRoute path={`${path}quota`} isLogin={isLogin}>\n                                <Quota />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}buy`} isLogin={isLogin}>\n                                <BuyQuota />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}setting`}\n                                isLogin={isLogin}\n                            >\n                                <UserSetting />\n                            </AuthRoute>\n\n                            <AuthRoute\n                                path={`${path}profile/:id`}\n                                isLogin={isLogin}\n                            >\n                                <Profile />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}webdav`} isLogin={isLogin}>\n                                <WebDAV />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}tasks`} isLogin={isLogin}>\n                                <Tasks />\n                            </AuthRoute>\n\n                            <AuthRoute path={`${path}ifm/:action`} isLogin={isLogin}>\n                                <Ifm />\n                            </AuthRoute>\n\n                            <Route path={`${path}apps`} exact>\n                                <Apps />\n                            </Route>\n\n                            <Route path={`${path}login`} exact>\n                                <LoginForm />\n                            </Route>\n\n                            <Route path={`${path}signup`} exact>\n                                <Register />\n                            </Route>\n\n                            <Route path={`${path}activate`} exact>\n                                <Activation />\n                            </Route>\n\n                            <Route path={`${path}reset`} exact>\n                                <ResetForm />\n                            </Route>\n\n                            <Route path={`${path}forget`} exact>\n                                <Reset />\n                            </Route>\n\n                            <Route path={`${path}login/qq`}>\n                                <QQCallback />\n                            </Route>\n\n                            <Route exact path={`${path}s/:id`}>\n                                <SharePreload />\n                            </Route>\n\n                            <Route path={`${path}s/:id/video(/)*`}>\n                                <VideoPreview />\n                            </Route>\n\n                            <Route path={`${path}s/:id/doc(/)*`}>\n                                <DocViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/text(/)*`}>\n                                <TextViewer />\n                            </Route>\n\n                            <Route path={`${path}s/:id/pdf(/)*`}>\n                                <Suspense fallback={<PageLoading />}>\n                                    <PDFViewer />\n                                </Suspense>\n                            </Route>\n\n                            <Route path={`${path}s/:id/code(/)*`}>\n                                <CodeViewer />\n                            </Route>\n\n                            <Route path=\"*\">\n                                <NotFound msg={\"页面不存在\"} />\n                            </Route>\n                        </Switch>\n                    </main>\n                    <MusicPlayer/>\n                </div>\n            </ThemeProvider>\n        </React.Fragment>\n    );\n}\n","import { AnyAction } from \"redux\";\nimport Auth from \"../../middleware/Auth\";\n\ndeclare global {\n    interface Window {\n        shareKey: any;\n    }\n}\n\nexport interface ViewUpdateState {\n    isLogin: boolean;\n    loadUploader: boolean;\n    open: boolean;\n    explorerViewMethod: string;\n    sortMethod:\n        | \"sizePos\"\n        | \"sizeRes\"\n        | \"namePos\"\n        | \"nameRev\"\n        | \"timePos\"\n        | \"timeRev\";\n    subTitle: string | null;\n    contextType: string;\n    contextOpen: boolean;\n    menuOpen: boolean;\n    navigatorLoading: boolean;\n    navigatorError: boolean;\n    navigatorErrorMsg: string | null;\n    modalsLoading: boolean;\n    storageRefresh: boolean;\n    userPopoverAnchorEl: any;\n    shareUserPopoverAnchorEl: any;\n    modals: {\n        createNewFolder: boolean;\n        createNewFile: boolean;\n        rename: boolean;\n        move: boolean;\n        remove: boolean;\n        share: boolean;\n        music: boolean;\n        remoteDownload: boolean;\n        torrentDownload: boolean;\n        getSource: boolean;\n        copy: boolean;\n        resave: boolean;\n        compress: boolean;\n        decompress: boolean;\n        relocate: boolean;\n        loading: boolean;\n        loadingText: string;\n    };\n    snackbar: {\n        toggle: boolean;\n        vertical: string;\n        horizontal: string;\n        msg: string;\n        color: string;\n    };\n}\nexport const initState: ViewUpdateState = {\n    // 是否登录\n    isLogin: Auth.Check(),\n    loadUploader: false,\n    open: false,\n    explorerViewMethod: \"icon\",\n    sortMethod: \"timePos\",\n    subTitle: null,\n    contextType: \"none\",\n    contextOpen: false,\n    menuOpen: false,\n    navigatorLoading: true,\n    navigatorError: false,\n    navigatorErrorMsg: null,\n    modalsLoading: false,\n    storageRefresh: false,\n    userPopoverAnchorEl: null,\n    shareUserPopoverAnchorEl: null,\n    modals: {\n        createNewFolder: false,\n        createNewFile: false,\n        rename: false,\n        move: false,\n        remove: false,\n        share: false,\n        music: false,\n        remoteDownload: false,\n        torrentDownload: false,\n        getSource: false,\n        copy: false,\n        resave: false,\n        compress: false,\n        relocate: false,\n        decompress: false,\n        loading: false,\n        loadingText: \"\",\n    },\n    snackbar: {\n        toggle: false,\n        vertical: \"top\",\n        horizontal: \"center\",\n        msg: \"\",\n        color: \"\",\n    },\n};\nconst viewUpdate = (state: ViewUpdateState = initState, action: AnyAction) => {\n    switch (action.type) {\n        case \"DRAWER_TOGGLE\":\n            return Object.assign({}, state, {\n                open: action.open,\n            });\n        case \"CHANGE_VIEW_METHOD\":\n            return Object.assign({}, state, {\n                explorerViewMethod: action.method,\n            });\n        case \"SET_NAVIGATOR_LOADING_STATUE\":\n            return Object.assign({}, state, {\n                navigatorLoading: action.status,\n            });\n        case \"SET_NAVIGATOR_ERROR\":\n            return Object.assign({}, state, {\n                navigatorError: action.status,\n                navigatorErrorMsg: action.msg,\n            });\n        case \"OPEN_CREATE_FOLDER_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFolder: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_CREATE_FILE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFile: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RENAME_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    rename: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_REMOVE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    remove: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_MOVE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    move: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RESAVE_DIALOG\":\n            window.shareKey = action.key;\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    resave: true,\n                }),\n                contextOpen: false,\n            });\n        case \"SET_USER_POPOVER\":\n            return Object.assign({}, state, {\n                userPopoverAnchorEl: action.anchor,\n            });\n        case \"SET_SHARE_USER_POPOVER\":\n            return Object.assign({}, state, {\n                shareUserPopoverAnchorEl: action.anchor,\n            });\n        case \"OPEN_SHARE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    share: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_MUSIC_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    music: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_REMOTE_DOWNLOAD_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    remoteDownload: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_TORRENT_DOWNLOAD_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    torrentDownload: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_DECOMPRESS_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    decompress: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_COMPRESS_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    compress: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_GET_SOURCE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    getSource: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_RELOCATE_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    relocate: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_COPY_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    copy: true,\n                }),\n                contextOpen: false,\n            });\n        case \"OPEN_LOADING_DIALOG\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    loading: true,\n                    loadingText: action.text,\n                }),\n                contextOpen: false,\n            });\n        case \"CLOSE_CONTEXT_MENU\":\n            return Object.assign({}, state, {\n                contextOpen: false,\n            });\n        case \"CLOSE_ALL_MODALS\":\n            return Object.assign({}, state, {\n                modals: Object.assign({}, state.modals, {\n                    createNewFolder: false,\n                    createNewFile: false,\n                    rename: false,\n                    move: false,\n                    remove: false,\n                    share: false,\n                    music: false,\n                    remoteDownload: false,\n                    torrentDownload: false,\n                    getSource: false,\n                    resave: false,\n                    copy: false,\n                    loading: false,\n                    relocate: false,\n                    compress: false,\n                    decompress: false,\n                }),\n            });\n        case \"TOGGLE_SNACKBAR\":\n            return Object.assign({}, state, {\n                snackbar: {\n                    toggle: !state.snackbar.toggle,\n                    vertical: action.vertical,\n                    horizontal: action.horizontal,\n                    msg: action.msg,\n                    color: action.color,\n                },\n            });\n        case \"SET_MODALS_LOADING\":\n            return Object.assign({}, state, {\n                modalsLoading: action.status,\n            });\n        case \"SET_SESSION_STATUS\":\n            return {\n                ...state,\n                isLogin: action.status,\n            };\n        case \"ENABLE_LOAD_UPLOADER\":\n            return Object.assign({}, state, {\n                loadUploader: true,\n            });\n        case \"REFRESH_STORAGE\":\n            return Object.assign({}, state, {\n                storageRefresh: !state.storageRefresh,\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                contextOpen: false,\n                navigatorError: false,\n                navigatorLoading: true,\n            });\n        case \"CHANGE_CONTEXT_MENU\":\n            if (state.contextOpen && action.open) {\n                return Object.assign({}, state);\n            }\n            return Object.assign({}, state, {\n                contextOpen: action.open,\n                contextType: action.menuType,\n            });\n        case \"SET_SUBTITLE\":\n            return Object.assign({}, state, {\n                subTitle: action.title,\n            });\n        case \"SET_SORT_METHOD\":\n            return {\n                ...state,\n                sortMethod: action.method,\n            };\n        case \"SET_NAVIGATOR\":\n            return {\n                ...state,\n                contextOpen: false,\n                navigatorError: false,\n                navigatorLoading: action.navigatorLoading,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default viewUpdate;\n","import { InitSiteConfig } from \"../middleware/Init\";\nimport { combineReducers } from \"../redux/combineReducers\";\nimport viewUpdate from \"../redux/viewUpdate/reducer\";\nimport explorer from \"../redux/explorer/reducer\";\nimport { connectRouter } from \"connected-react-router\";\n\nconst doNavigate = (path, state) => {\n    window.currntPath = path;\n    return Object.assign({}, state, {\n        navigator: Object.assign({}, state.navigator, {\n            path: path,\n        }),\n    });\n};\n\nexport const initState = {\n    siteConfig: {\n        title: window.subTitle,\n        siteICPId: \"\",\n        loginCaptcha: false,\n        regCaptcha: false,\n        forgetCaptcha: false,\n        emailActive: false,\n        QQLogin: false,\n        themes: null,\n        authn: false,\n        theme: {\n            palette: {\n                common: { black: \"#000\", white: \"#fff\" },\n                background: { paper: \"#fff\", default: \"#fafafa\" },\n                primary: {\n                    light: \"#7986cb\",\n                    main: \"#3f51b5\",\n                    dark: \"#303f9f\",\n                    contrastText: \"#fff\",\n                },\n                secondary: {\n                    light: \"#ff4081\",\n                    main: \"#f50057\",\n                    dark: \"#c51162\",\n                    contrastText: \"#fff\",\n                },\n                error: {\n                    light: \"#e57373\",\n                    main: \"#f44336\",\n                    dark: \"#d32f2f\",\n                    contrastText: \"#fff\",\n                },\n                text: {\n                    primary: \"rgba(0, 0, 0, 0.87)\",\n                    secondary: \"rgba(0, 0, 0, 0.54)\",\n                    disabled: \"rgba(0, 0, 0, 0.38)\",\n                    hint: \"rgba(0, 0, 0, 0.38)\",\n                },\n                explorer: {\n                    filename: \"#474849\",\n                    icon: \"#8f8f8f\",\n                    bgSelected: \"#D5DAF0\",\n                    emptyIcon: \"#e8e8e8\",\n                },\n            },\n        },\n        captcha_ReCaptchaKey: \"defaultKey\",\n        site_notice: \"\",\n        captcha_type: \"normal\",\n        tcaptcha_captcha_app_id: \"\",\n    },\n    navigator: {\n        path: \"/\",\n        refresh: true,\n    },\n};\n\nconst defaultStatus = InitSiteConfig(initState);\n\n// TODO: 将cloureveApp切分成小的reducer\nconst cloudreveApp = (state = defaultStatus, action) => {\n    switch (action.type) {\n        case \"SET_NAVIGATOR\":\n            return doNavigate(action.path, state);\n        case \"TOGGLE_DAYLIGHT_MODE\": {\n            const copy = Object.assign({}, state);\n            if (\n                copy.siteConfig.theme.palette.type === undefined ||\n                copy.siteConfig.theme.palette.type === \"light\"\n            ) {\n                return {\n                    ...state,\n                    siteConfig: {\n                        ...state.siteConfig,\n                        theme: {\n                            ...state.siteConfig.theme,\n                            palette: {\n                                ...state.siteConfig.theme.palette,\n                                type: \"dark\",\n                            },\n                        },\n                    },\n                };\n            }\n            return {\n                ...state,\n                siteConfig: {\n                    ...state.siteConfig,\n                    theme: {\n                        ...state.siteConfig.theme,\n                        palette: {\n                            ...state.siteConfig.theme.palette,\n                            type: \"light\",\n                        },\n                    },\n                },\n            };\n        }\n        case \"APPLY_THEME\":\n            if (state.siteConfig.themes !== null) {\n                const themes = JSON.parse(state.siteConfig.themes);\n                if (themes[action.theme] === undefined) {\n                    return state;\n                }\n                return Object.assign({}, state, {\n                    siteConfig: Object.assign({}, state.siteConfig, {\n                        theme: themes[action.theme],\n                    }),\n                });\n            }\n            break;\n        case \"NAVIGATOR_UP\":\n            return doNavigate(action.path, state);\n        case \"SET_SITE_CONFIG\":\n            return Object.assign({}, state, {\n                siteConfig: action.config,\n            });\n\n        case \"REFRESH_FILE_LIST\":\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    refresh: !state.navigator.refresh,\n                }),\n            });\n        case \"SEARCH_MY_FILE\":\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    path: \"/搜索结果\",\n                    refresh:\n                        state.explorer.keywords === \"\"\n                            ? state.navigator.refresh\n                            : !state.navigator.refresh,\n                }),\n            });\n        default:\n            return state;\n    }\n};\n\nexport default (history) => (state, action) => {\n    const { viewUpdate: viewUpdateState, explorer: explorerState } =\n        state || {};\n    const appState = cloudreveApp(state, action);\n    const combinedState = combineReducers({\n        viewUpdate,\n        explorer,\n        router: connectRouter(history),\n    })({ viewUpdate: viewUpdateState, explorer: explorerState }, action);\n    return {\n        ...appState,\n        ...combinedState,\n    };\n};\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\n\nconst styles = {\n    h1: {\n        color: \"#a4a4a4\",\n        margin: \"5px 0px\",\n    },\n    h2: {\n        margin: \"15px 0px\",\n    },\n};\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false, error: null, errorInfo: null };\n    }\n\n    static getDerivedStateFromError() {\n        // 更新 state 使下一次渲染能够显示降级后的 UI\n        return { hasError: true };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo,\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        if (this.state.hasError) {\n            // 你可以自定义降级后的 UI 并渲染\n            return (\n                <>\n                    <h1 className={classes.h1}>:(</h1>\n                    <h2 className={classes.h2}>\n                        页面渲染出现错误，请尝试刷新此页面。\n                    </h2>\n                    {this.state.error &&\n                        this.state.errorInfo &&\n                        this.state.errorInfo.componentStack && (\n                            <details>\n                                <summary>错误详情</summary>\n                                <pre>\n                                    <code>{this.state.error.toString()}</code>\n                                </pre>\n                                <pre>\n                                    <code>\n                                        {this.state.errorInfo.componentStack}\n                                    </code>\n                                </pre>\n                            </details>\n                        )}\n                </>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default withStyles(styles)(ErrorBoundary);\n","import 'babel-polyfill'\nimport 'url-search-params-polyfill'\nimport React, { Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport App from \"./App\";\nimport cloureveApp from \"./reducers\";\nimport { UpdateSiteConfig } from \"./middleware/Init\";\nimport ErrorBoundary from \"./component/Placeholder/ErrorBoundary\";\nimport { createBrowserHistory } from \"history\";\nimport { routerMiddleware } from \"connected-react-router\";\nimport { ConnectedRouter } from \"connected-react-router\";\nconst Admin = React.lazy(() => import(\"./Admin\"));\n\nif (window.location.hash !== \"\") {\n    window.location.href = window.location.hash.split(\"#\")[1];\n}\n\nserviceWorker.register();\nexport const history = createBrowserHistory();\nlet reduxEnhance = applyMiddleware(routerMiddleware(history), thunk);\nif (\n    process.env.NODE_ENV === \"development\" &&\n    window.__REDUX_DEVTOOLS_EXTENSION__\n) {\n    reduxEnhance = compose(reduxEnhance, window.__REDUX_DEVTOOLS_EXTENSION__());\n}\n\nconst store = createStore(cloureveApp(history), reduxEnhance);\nUpdateSiteConfig(store);\n\nReactDOM.render(\n    <ErrorBoundary>\n        <Provider store={store}>\n            <ConnectedRouter history={history}>\n                <Switch>\n                    <Route path=\"/admin\">\n                        <Suspense fallback={\"Loading...\"}>\n                            <Admin />\n                        </Suspense>\n                    </Route>\n                    <Route exact path=\"\">\n                        <App />\n                    </Route>\n                </Switch>\n            </ConnectedRouter>\n        </Provider>\n    </ErrorBoundary>,\n    document.getElementById(\"root\")\n);\n","import {\n    combineReducers as combine,\n    ReducersMapObject,\n    AnyAction,\n} from \"redux\";\nimport invariant from \"invariant\";\n\nexport const combineReducers = (reducers: ReducersMapObject) => {\n    const combinedReducer = combine(reducers);\n    // TODO: define state type\n    return (state: any, action: AnyAction) => {\n        if (\n            action.type &&\n            !action.type.startsWith(\"@@\") &&\n            action.type.split(\"/\").length > 1\n        ) {\n            const namespace = action.type.split(\"/\")[0];\n            const reducer = reducers[namespace];\n            invariant(!!reducer, `reducer ${namespace} doesn't exist`);\n            return reducer && reducer(state, action);\n        }\n        return combinedReducer(state, action);\n    };\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport UpIcon from \"@material-ui/icons/ArrowUpward\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { toggleSnackbar } from \"../../actions/index\";\n\nimport {\n    MenuList,\n    MenuItem,\n    IconButton,\n    ListItemIcon,\n    ListItemText,\n    withStyles,\n    ListItemSecondaryAction,\n} from \"@material-ui/core\";\nimport API from \"../../middleware/Api\";\n\nconst mapStateToProps = (state) => {\n    return {\n        keywords: state.explorer.keywords,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        },\n    };\n};\n\nconst styles = (theme) => ({\n    iconWhite: {\n        color: theme.palette.common.white,\n    },\n    selected: {\n        backgroundColor: theme.palette.primary.main + \"!important\",\n        \"& $primary, & $icon\": {\n            color: theme.palette.common.white,\n        },\n    },\n    primary: {},\n    icon: {},\n    buttonIcon: {},\n    selector: {\n        minWidth: \"300px\",\n    },\n    container: {\n        maxHeight: \"330px\",\n        overflowY: \" auto\",\n    },\n});\n\nclass PathSelectorCompoment extends Component {\n    state = {\n        presentPath: \"/\",\n        dirList: [],\n        selectedTarget: null,\n    };\n\n    componentDidMount = () => {\n        const toBeLoad = this.props.presentPath;\n        this.enterFolder(this.props.keywords === \"\" ? toBeLoad : \"/\");\n    };\n\n    back = () => {\n        const paths = this.state.presentPath.split(\"/\");\n        paths.pop();\n        const toBeLoad = paths.join(\"/\");\n        this.enterFolder(toBeLoad === \"\" ? \"/\" : toBeLoad);\n    };\n\n    enterFolder = (toBeLoad) => {\n        const thisurl = window.location.href;\n        const va = thisurl.split('/');\n        if (va[3]==\"s\") toBeLoad = \"/\";\n        API.get(\n            (this.props.api ? this.props.api : \"/directory\") +\n                encodeURIComponent(toBeLoad)\n        )\n            .then((response) => {\n                const dirList = response.data.objects.filter((x) => {\n                    return (\n                        x.type === \"dir\" &&\n                        this.props.selected.findIndex((value) => {\n                            return (\n                                value.name === x.name && value.path === x.path\n                            );\n                        }) === -1\n                    );\n                });\n                if (toBeLoad === \"/\") {\n                    dirList.unshift({ name: \"/\", path: \"\" });\n                }\n                this.setState({\n                    presentPath: toBeLoad,\n                    dirList: dirList,\n                    selectedTarget: null,\n                });\n            })\n            .catch((error) => {\n                this.props.toggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    error.message,\n                    \"warning\"\n                );\n            });\n    };\n\n    handleSelect = (index) => {\n        this.setState({ selectedTarget: index });\n        this.props.onSelect(this.state.dirList[index]);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.container}>\n                <MenuList className={classes.selector}>\n                    {this.state.presentPath !== \"/\" && (\n                        <MenuItem onClick={this.back}>\n                            <ListItemIcon>\n                                <UpIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"返回上一层\" />\n                        </MenuItem>\n                    )}\n                    {this.state.dirList.map((value, index) => (\n                        <MenuItem\n                            classes={{\n                                selected: classes.selected,\n                            }}\n                            key={index}\n                            selected={this.state.selectedTarget === index}\n                            onClick={() => this.handleSelect(index)}\n                        >\n                            <ListItemIcon className={classes.icon}>\n                                <FolderIcon />\n                            </ListItemIcon>\n                            <ListItemText\n                                classes={{ primary: classes.primary }}\n                                primary={value.name}\n                                primaryTypographyProps={{\n                                    style: { whiteSpace: \"normal\" },\n                                }}\n                            />\n                            {value.name !== \"/\" && (\n                                <ListItemSecondaryAction\n                                    className={classes.buttonIcon}\n                                >\n                                    <IconButton\n                                        className={classNames({\n                                            [classes.iconWhite]:\n                                                this.state.selectedTarget ===\n                                                index,\n                                        })}\n                                        onClick={() =>\n                                            this.enterFolder(\n                                                value.path === \"/\"\n                                                    ? value.path + value.name\n                                                    : value.path +\n                                                          \"/\" +\n                                                          value.name\n                                            )\n                                        }\n                                    >\n                                        <RightIcon />\n                                    </IconButton>\n                                </ListItemSecondaryAction>\n                            )}\n                        </MenuItem>\n                    ))}\n                </MenuList>\n            </div>\n        );\n    }\n}\n\nPathSelectorCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    presentPath: PropTypes.string.isRequired,\n    selected: PropTypes.array.isRequired,\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(PathSelectorCompoment));\n","import { ThunkAction } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nexport interface ActionSetSubtitle extends AnyAction {\n    type: \"SET_SUBTITLE\";\n    title: string;\n}\n\nexport const setSubtitle = (title: string): ActionSetSubtitle => {\n    return {\n        type: \"SET_SUBTITLE\",\n        title,\n    };\n};\n\nexport const closeContextMenu = () => {\n    return {\n        type: \"CLOSE_CONTEXT_MENU\",\n    };\n};\n\nexport const changeSubTitle = (\n    title: string\n): ThunkAction<any, any, any, any> => {\n    return (dispatch, getState) => {\n        const state = getState();\n        document.title =\n            title === null || title === undefined\n                ? state.siteConfig.title\n                : title + \" - \" + state.siteConfig.title;\n        dispatch(setSubtitle(title));\n    };\n};\n","import axios from \"axios\";\nimport Auth from \"./Auth\";\n\nexport const baseURL = \"/api/v3\";\n\nexport const getBaseURL = () => {\n    return baseURL;\n};\n\nconst instance = axios.create({\n    baseURL: getBaseURL(),\n    withCredentials: true,\n    crossDomain: true,\n});\n\nfunction AppError(message, code, error) {\n    this.code = code;\n    this.message = message || \"未知错误\";\n    this.message += error ? \" \" + error : \"\";\n    this.stack = new Error().stack;\n}\nAppError.prototype = Object.create(Error.prototype);\nAppError.prototype.constructor = AppError;\n\ninstance.interceptors.response.use(\n    function (response) {\n        response.rawData = response.data;\n        response.data = response.data.data;\n        if (\n            response.rawData.code !== undefined &&\n            response.rawData.code !== 0 &&\n            response.rawData.code !== 203\n        ) {\n            // 登录过期\n            if (response.rawData.code === 401) {\n                Auth.signout();\n                window.location.href = \"/login\";\n            }\n\n            // 非管理员\n            if (response.rawData.code === 40008) {\n                window.location.href = \"/home\";\n            }\n            throw new AppError(\n                response.rawData.msg,\n                response.rawData.code,\n                response.rawData.error\n            );\n        }\n        return response;\n    },\n    function (error) {\n        return Promise.reject(error);\n    }\n);\n\nexport default instance;\n"],"sourceRoot":""}